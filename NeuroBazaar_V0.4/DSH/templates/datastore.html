{% extends 'base.html' %}

{% block title %}datastore{% endblock title %}
{% block nav4%} d-none {% endblock nav4 %}
{% block body %}

<!-- Masthead-->
<header class="masthead" style="background: linear-gradient(90deg, #0000FF, #000080, #FFDB58, #0000FF);">
    <div class="container">
        <div class="masthead-heading">Set up your datastore</div>
    </div> 
</header>

<!-- Configuration Section -->
<section class="page-section bg-light">
    <div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase">Database Configuration</h2>
        </div>
        <form id="databaseForm">
            <div class="mb-3">
                <label for="database">Choose a database:</label>
                <select class="form-control" id="database" name="database" onchange="showForm()">
                    <option value="default">Select a Database</option>
                    <option value="sqlite">SQLite3</option>
                    <option value="postgresql">PostgreSQL</option>
                    <option value="mongodb">MongoDB</option>
                    <option value="redis">Redis</option>
                </select>
            </div>
        </form>

        <!-- Configuration Forms -->
        <div id="sqliteForm" class="hidden">
            <h4>SQLite Configuration</h4>
            <form method="post">
                <div class="mb-3">
                    <label for="engine_sqlite">Engine:</label>
                    <input type="text" class="form-control" id="engine_sqlite" name="engine_sqlite">
                </div>
                <div class="mb-3">
                    <label for="name_sqlite">Name:</label>
                    <input type="text" class="form-control" id="name_sqlite" name="name_sqlite">
                </div>
                <button type="submit" class="btn btn-primary">Submit SQLite</button>
            </form>
        </div>

        <div id="postgresqlForm" class="hidden">
            <h4>PostgreSQL Configuration</h4>
            <form method="post">
                <div class="mb-3">
                    <label for="engine_postgres">Engine:</label>
                    <input type="text" class="form-control" id="engine_postgres" name="engine_postgres">
                </div>
                <div class="mb-3">
                    <label for="name_postgres">Name:</label>
                    <input type="text" class="form-control" id="name_postgres" name="name_postgres">
                </div>
                <div class="mb-3">
                    <label for="user_postgres">User:</label>
                    <input type="text" class="form-control" id="user_postgres" name="user_postgres">
                </div>
                <div class="mb-3">
                    <label for="password_postgres">Password:</label>
                    <input type="password" class="form-control" id="password_postgres" name="password_postgres">
                </div>
                <div class="mb-3">
                    <label for="host_postgres">Host:</label>
                    <input type="text" class="form-control" id="host_postgres" name="host_postgres">
                </div>
                <div class="mb-3">
                    <label for="port_postgres">Port:</label>
                    <input type="text" class="form-control" id="port_postgres" name="port_postgres">
                </div>
                <button type="submit" class="btn btn-primary">Submit PostgreSQL</button>
            </form>
        </div>

        <div id="mongodbForm" class="hidden">
            <h4>MongoDB Configuration</h4>
            <form method="post">
                <div class="mb-3">
                    <label for="client_mongo">Client:</label>
                    <input type="text" class="form-control" id="client_mongo" name="client_mongo">
                </div>
                <div class="mb-3">
                    <label for="db_mongo">DB:</label>
                    <input type="text" class="form-control" id="db_mongo" name="db_mongo">
                </div>
                <div class="mb-3">
                    <label for="table_mongo">Table:</label>
                    <input type="text" class="form-control" id="table_mongo" name="table_mongo">
                </div>
                <button type="submit" class="btn btn-primary">Submit MongoDB</button>
            </form>
        </div>

        <div id="redisForm" class="hidden">
            <h4>Redis Configuration</h4>
            <form method="post">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="host_redis">Host:</label>
                    <input type="text" class="form-control" id="host_redis" name="host_redis">
                </div>
                <div class="mb-3">
                    <label for="port_redis">Port:</label>
                    <input type="text" class="form-control" id="port_redis" name="port_redis">
                </div>
                <div class="mb-3">
                    <label for="db_redis">DB:</label>
                    <input type="text" class="form-control" id="db_redis" name="db_redis">
                </div>
                <button type="submit" class="btn btn-primary">Submit Redis</button>
            </form>
        </div>
    </div>
</section>

<!-- Footer-->
<footer class="footer py-4" style="background-color: #0057B7; color: white;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-4 text-lg-start">Copyright &copy; Data Scientist Hub 2024</div>
            <div class="col-lg-4 my-3 my-lg-0">
                <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a class="btn btn-dark btn-social mx-2" href="#!" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a class="text-decoration-none me-3" href="#!" style="color: white !important;">Privacy Policy</a>
                <a class="text-decoration-none" href="#!" style="color: white !important;">Terms of Use</a>
            </div>
        </div>
    </div>
</footer>

<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f9;
        color: #333;
        margin: 0;
    }

    h2 {
        color: #0056b3;
    }

    .form-control {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    button {
        background-color: #0056b3;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
    }

    button:hover {
        background-color: #004494;
    }

    .hidden {
        display: none;
    }
</style>

<script>
    function showForm() {
        var database = document.getElementById('database').value;
        // Hide all forms
        document.getElementById('sqliteForm').classList.add('hidden');
        document.getElementById('postgresqlForm').classList.add('hidden');
        document.getElementById('mongodbForm').classList.add('hidden');
        document.getElementById('redisForm').classList.add('hidden');
        
        // Show the selected form
        if(database === 'sqlite') {
            document.getElementById('sqliteForm').classList.remove('hidden');
        } else if(database === 'postgresql') {
            document.getElementById('postgresqlForm').classList.remove('hidden');
        } else if(database === 'mongodb') {
            document.getElementById('mongodbForm').classList.remove('hidden');
        } else if(database === 'redis') {
            document.getElementById('redisForm').classList.remove('hidden');
        }
    }
</script>
{% endblock body %}
