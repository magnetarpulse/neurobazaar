var _T=Object.defineProperty,AT=Object.defineProperties;var ET=Object.getOwnPropertyDescriptors;var Ju=Object.getOwnPropertySymbols;var y2=Object.prototype.hasOwnProperty,b2=Object.prototype.propertyIsEnumerable;var _e=Math.pow,Ud=(t,e,n)=>e in t?_T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||(e={}))y2.call(e,n)&&Ud(t,n,e[n]);if(Ju)for(var n of Ju(e))b2.call(e,n)&&Ud(t,n,e[n]);return t},Oe=(t,e)=>AT(t,ET(e));var Ln=(t,e)=>{var n={};for(var r in t)y2.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ju)for(var r of Ju(t))e.indexOf(r)<0&&b2.call(t,r)&&(n[r]=t[r]);return n};var x2=(t,e,n)=>Ud(t,typeof e!="symbol"?e+"":e,n);var vt=(t,e,n)=>new Promise((r,o)=>{var i=u=>{try{s(n.next(u))}catch(l){o(l)}},a=u=>{try{s(n.throw(u))}catch(l){o(l)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(i,a);s((n=n.apply(t,e)).next())});/**
* @vue/shared v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function dr(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const ft={},rs=[],ln=()=>{},Qc=()=>!1,Ia=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Um=t=>t.startsWith("onUpdate:"),ht=Object.assign,Gm=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},DT=Object.prototype.hasOwnProperty,dt=(t,e)=>DT.call(t,e),De=Array.isArray,os=t=>zs(t)==="[object Map]",Pa=t=>zs(t)==="[object Set]",S2=t=>zs(t)==="[object Date]",IT=t=>zs(t)==="[object RegExp]",Ve=t=>typeof t=="function",He=t=>typeof t=="string",fr=t=>typeof t=="symbol",St=t=>t!==null&&typeof t=="object",zm=t=>(St(t)||Ve(t))&&Ve(t.then)&&Ve(t.catch),k5=Object.prototype.toString,zs=t=>k5.call(t),PT=t=>zs(t).slice(8,-1),L5=t=>zs(t)==="[object Object]",jm=t=>He(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,di=dr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),OT=dr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Lf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},NT=/-(\w)/g,It=Lf(t=>t.replace(NT,(e,n)=>n?n.toUpperCase():"")),RT=/\B([A-Z])/g,Kn=Lf(t=>t.replace(RT,"-$1").toLowerCase()),Uo=Lf(t=>t.charAt(0).toUpperCase()+t.slice(1)),is=Lf(t=>t?`on${Uo(t)}`:""),Un=(t,e)=>!Object.is(t,e),as=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},F5=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},D0=t=>{const e=parseFloat(t);return isNaN(e)?t:e},I0=t=>{const e=He(t)?Number(t):NaN;return isNaN(e)?t:e};let C2;const B5=()=>C2||(C2=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),MT="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",kT=dr(MT);function _u(t){if(De(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],o=He(r)?V5(r):_u(r);if(o)for(const i in o)e[i]=o[i]}return e}else if(He(t)||St(t))return t}const LT=/;(?![^(]*\))/g,FT=/:([^]+)/,BT=/\/\*[^]*?\*\//g;function V5(t){const e={};return t.replace(BT,"").split(LT).forEach(n=>{if(n){const r=n.split(FT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Au(t){let e="";if(He(t))e=t;else if(De(t))for(let n=0;n<t.length;n++){const r=Au(t[n]);r&&(e+=r+" ")}else if(St(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function VT(t){if(!t)return null;let{class:e,style:n}=t;return e&&!He(e)&&(t.class=Au(e)),n&&(t.style=_u(n)),t}const UT="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",GT="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",zT="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",jT="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",WT=dr(UT),HT=dr(GT),$T=dr(zT),KT=dr(jT),qT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",XT=dr(qT);function U5(t){return!!t||t===""}function YT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=mi(t[r],e[r]);return n}function mi(t,e){if(t===e)return!0;let n=S2(t),r=S2(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=fr(t),r=fr(e),n||r)return t===e;if(n=De(t),r=De(e),n||r)return n&&r?YT(t,e):!1;if(n=St(t),r=St(e),n||r){if(!n||!r)return!1;const o=Object.keys(t).length,i=Object.keys(e).length;if(o!==i)return!1;for(const a in t){const s=t.hasOwnProperty(a),u=e.hasOwnProperty(a);if(s&&!u||!s&&u||!mi(t[a],e[a]))return!1}}return String(t)===String(e)}function Ff(t,e){return t.findIndex(n=>mi(n,e))}const G5=t=>!!(t&&t.__v_isRef===!0),z5=t=>He(t)?t:t==null?"":De(t)||St(t)&&(t.toString===k5||!Ve(t.toString))?G5(t)?z5(t.value):JSON.stringify(t,j5,2):String(t),j5=(t,e)=>G5(e)?j5(t,e.value):os(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,o],i)=>(n[Gd(r,i)+" =>"]=o,n),{})}:Pa(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Gd(n))}:fr(e)?Gd(e):St(e)&&!De(e)&&!L5(e)?String(e):e,Gd=(t,e="")=>{var n;return fr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tr;class Wm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tr,!e&&tr&&(this.index=(tr.scopes||(tr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=tr;try{return tr=this,e()}finally{tr=n}}}on(){tr=this}off(){tr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Bf(t){return new Wm(t)}function W5(t,e=tr){e&&e.active&&e.effects.push(t)}function H5(){return tr}function jn(t){tr&&tr.cleanups.push(t)}let ia;class Ss{constructor(e,n,r,o){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,W5(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,_i();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(JT(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Ai()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=pi,n=ia;try{return pi=!0,ia=this,this._runnings++,w2(this),this.fn()}finally{T2(this),this._runnings--,ia=n,pi=e}}stop(){this.active&&(w2(this),T2(this),this.onStop&&this.onStop(),this.active=!1)}}function JT(t){return t.value}function w2(t){t._trackId++,t._depsLength=0}function T2(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)$5(t.deps[e],t);t.deps.length=t._depsLength}}function $5(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function ZT(t,e){t.effect instanceof Ss&&(t=t.effect.fn);const n=new Ss(t,ln,()=>{n.dirty&&n.run()});e&&(ht(n,e),e.scope&&W5(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function QT(t){t.effect.stop()}let pi=!0,oh=0;const K5=[];function _i(){K5.push(pi),pi=!1}function Ai(){const t=K5.pop();pi=t===void 0?!0:t}function Hm(){oh++}function $m(){for(oh--;!oh&&ih.length;)ih.shift()()}function q5(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&$5(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ih=[];function X5(t,e,n){Hm();for(const r of t.keys()){let o;r._dirtyLevel<e&&(o!=null?o:o=t.get(r)===r._trackId)&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(o!=null?o:o=t.get(r)===r._trackId)&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ih.push(r.scheduler)))}$m()}const Y5=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},P0=new WeakMap,aa=Symbol(""),ah=Symbol("");function Zn(t,e,n){if(pi&&ia){let r=P0.get(t);r||P0.set(t,r=new Map);let o=r.get(n);o||r.set(n,o=Y5(()=>r.delete(n))),q5(ia,o)}}function _o(t,e,n,r,o,i){const a=P0.get(t);if(!a)return;let s=[];if(e==="clear")s=[...a.values()];else if(n==="length"&&De(t)){const u=Number(r);a.forEach((l,f)=>{(f==="length"||!fr(f)&&f>=u)&&s.push(l)})}else switch(n!==void 0&&s.push(a.get(n)),e){case"add":De(t)?jm(n)&&s.push(a.get("length")):(s.push(a.get(aa)),os(t)&&s.push(a.get(ah)));break;case"delete":De(t)||(s.push(a.get(aa)),os(t)&&s.push(a.get(ah)));break;case"set":os(t)&&s.push(a.get(aa));break}Hm();for(const u of s)u&&X5(u,4);$m()}function e_(t,e){const n=P0.get(t);return n&&n.get(e)}const t_=dr("__proto__,__v_isRef,__isVue"),J5=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(fr)),_2=n_();function n_(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ue(this);for(let i=0,a=this.length;i<a;i++)Zn(r,"get",i+"");const o=r[e](...n);return o===-1||o===!1?r[e](...n.map(Ue)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_i(),Hm();const r=Ue(this)[e].apply(this,n);return $m(),Ai(),r}}),t}function r_(t){fr(t)||(t=String(t));const e=Ue(this);return Zn(e,"has",t),e.hasOwnProperty(t)}class Z5{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const o=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(o?i?o4:r4:i?n4:t4).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=De(e);if(!o){if(a&&dt(_2,n))return Reflect.get(_2,n,r);if(n==="hasOwnProperty")return r_}const s=Reflect.get(e,n,r);return(fr(n)?J5.has(n):t_(n))||(o||Zn(e,"get",n),i)?s:Ut(s)?a&&jm(n)?s:s.value:St(s)?o?js(s):$r(s):s}}class Q5 extends Z5{constructor(e=!1){super(!1,e)}set(e,n,r,o){let i=e[n];if(!this._isShallow){const u=gi(i);if(!ya(r)&&!gi(r)&&(i=Ue(i),r=Ue(r)),!De(e)&&Ut(i)&&!Ut(r))return u?!1:(i.value=r,!0)}const a=De(e)&&jm(n)?Number(n)<e.length:dt(e,n),s=Reflect.set(e,n,r,o);return e===Ue(o)&&(a?Un(r,i)&&_o(e,"set",n,r):_o(e,"add",n,r)),s}deleteProperty(e,n){const r=dt(e,n);e[n];const o=Reflect.deleteProperty(e,n);return o&&r&&_o(e,"delete",n,void 0),o}has(e,n){const r=Reflect.has(e,n);return(!fr(n)||!J5.has(n))&&Zn(e,"has",n),r}ownKeys(e){return Zn(e,"iterate",De(e)?"length":aa),Reflect.ownKeys(e)}}class e4 extends Z5{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const o_=new Q5,i_=new e4,a_=new Q5(!0),s_=new e4(!0),Km=t=>t,Vf=t=>Reflect.getPrototypeOf(t);function Zu(t,e,n=!1,r=!1){t=t.__v_raw;const o=Ue(t),i=Ue(e);n||(Un(e,i)&&Zn(o,"get",e),Zn(o,"get",i));const{has:a}=Vf(o),s=r?Km:n?Xm:$l;if(a.call(o,e))return s(t.get(e));if(a.call(o,i))return s(t.get(i));t!==o&&t.get(e)}function Qu(t,e=!1){const n=this.__v_raw,r=Ue(n),o=Ue(t);return e||(Un(t,o)&&Zn(r,"has",t),Zn(r,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function ec(t,e=!1){return t=t.__v_raw,!e&&Zn(Ue(t),"iterate",aa),Reflect.get(t,"size",t)}function A2(t,e=!1){!e&&!ya(t)&&!gi(t)&&(t=Ue(t));const n=Ue(this);return Vf(n).has.call(n,t)||(n.add(t),_o(n,"add",t,t)),this}function E2(t,e,n=!1){!n&&!ya(e)&&!gi(e)&&(e=Ue(e));const r=Ue(this),{has:o,get:i}=Vf(r);let a=o.call(r,t);a||(t=Ue(t),a=o.call(r,t));const s=i.call(r,t);return r.set(t,e),a?Un(e,s)&&_o(r,"set",t,e):_o(r,"add",t,e),this}function D2(t){const e=Ue(this),{has:n,get:r}=Vf(e);let o=n.call(e,t);o||(t=Ue(t),o=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return o&&_o(e,"delete",t,void 0),i}function I2(){const t=Ue(this),e=t.size!==0,n=t.clear();return e&&_o(t,"clear",void 0,void 0),n}function tc(t,e){return function(r,o){const i=this,a=i.__v_raw,s=Ue(a),u=e?Km:t?Xm:$l;return!t&&Zn(s,"iterate",aa),a.forEach((l,f)=>r.call(o,u(l),u(f),i))}}function nc(t,e,n){return function(...r){const o=this.__v_raw,i=Ue(o),a=os(i),s=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,l=o[t](...r),f=n?Km:e?Xm:$l;return!e&&Zn(i,"iterate",u?ah:aa),{next(){const{value:c,done:d}=l.next();return d?{value:c,done:d}:{value:s?[f(c[0]),f(c[1])]:f(c),done:d}},[Symbol.iterator](){return this}}}}function Ho(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function l_(){const t={get(i){return Zu(this,i)},get size(){return ec(this)},has:Qu,add:A2,set:E2,delete:D2,clear:I2,forEach:tc(!1,!1)},e={get(i){return Zu(this,i,!1,!0)},get size(){return ec(this)},has:Qu,add(i){return A2.call(this,i,!0)},set(i,a){return E2.call(this,i,a,!0)},delete:D2,clear:I2,forEach:tc(!1,!0)},n={get(i){return Zu(this,i,!0)},get size(){return ec(this,!0)},has(i){return Qu.call(this,i,!0)},add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear"),forEach:tc(!0,!1)},r={get(i){return Zu(this,i,!0,!0)},get size(){return ec(this,!0)},has(i){return Qu.call(this,i,!0)},add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear"),forEach:tc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=nc(i,!1,!1),n[i]=nc(i,!0,!1),e[i]=nc(i,!1,!0),r[i]=nc(i,!0,!0)}),[t,n,e,r]}const[u_,c_,f_,d_]=l_();function Uf(t,e){const n=e?t?d_:f_:t?c_:u_;return(r,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?r:Reflect.get(dt(n,o)&&o in r?n:r,o,i)}const p_={get:Uf(!1,!1)},h_={get:Uf(!1,!0)},m_={get:Uf(!0,!1)},g_={get:Uf(!0,!0)},t4=new WeakMap,n4=new WeakMap,r4=new WeakMap,o4=new WeakMap;function v_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function y_(t){return t.__v_skip||!Object.isExtensible(t)?0:v_(PT(t))}function $r(t){return gi(t)?t:Gf(t,!1,o_,p_,t4)}function i4(t){return Gf(t,!1,a_,h_,n4)}function js(t){return Gf(t,!0,i_,m_,r4)}function b_(t){return Gf(t,!0,s_,g_,o4)}function Gf(t,e,n,r,o){if(!St(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const a=y_(t);if(a===0)return t;const s=new Proxy(t,a===2?r:n);return o.set(t,s),s}function sa(t){return gi(t)?sa(t.__v_raw):!!(t&&t.__v_isReactive)}function gi(t){return!!(t&&t.__v_isReadonly)}function ya(t){return!!(t&&t.__v_isShallow)}function qm(t){return t?!!t.__v_raw:!1}function Ue(t){const e=t&&t.__v_raw;return e?Ue(e):t}function a4(t){return Object.isExtensible(t)&&F5(t,"__v_skip",!0),t}const $l=t=>St(t)?$r(t):t,Xm=t=>St(t)?js(t):t;class s4{constructor(e,n,r,o){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ss(()=>e(this._value),()=>ss(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=Ue(this);return(!e._cacheable||e.effect.dirty)&&Un(e._value,e._value=e.effect.run())&&ss(e,4),Ym(e),e.effect._dirtyLevel>=2&&ss(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function x_(t,e,n=!1){let r,o;const i=Ve(t);return i?(r=t,o=ln):(r=t.get,o=t.set),new s4(r,o,i||!o,n)}function Ym(t){var e;pi&&ia&&(t=Ue(t),q5(ia,(e=t.dep)!=null?e:t.dep=Y5(()=>t.dep=void 0,t instanceof s4?t:void 0)))}function ss(t,e=4,n,r){t=Ue(t);const o=t.dep;o&&X5(o,e)}function Ut(t){return!!(t&&t.__v_isRef===!0)}function Ae(t){return l4(t,!1)}function Ge(t){return l4(t,!0)}function l4(t,e){return Ut(t)?t:new S_(t,e)}class S_{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ue(e),this._value=n?e:$l(e)}get value(){return Ym(this),this._value}set value(e){const n=this.__v_isShallow||ya(e)||gi(e);e=n?e:Ue(e),Un(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:$l(e),ss(this,4))}}function C_(t){ss(t,4)}function wn(t){return Ut(t)?t.value:t}function w_(t){return Ve(t)?t():wn(t)}const T_={get:(t,e,n)=>wn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const o=t[e];return Ut(o)&&!Ut(n)?(o.value=n,!0):Reflect.set(t,e,n,r)}};function Jm(t){return sa(t)?t:new Proxy(t,T_)}class __{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>Ym(this),()=>ss(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function u4(t){return new __(t)}function Go(t){const e=De(t)?new Array(t.length):{};for(const n in t)e[n]=c4(t,n);return e}class A_{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return e_(Ue(this._object),this._key)}}class E_{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Me(t,e,n){return Ut(t)?t:Ve(t)?new E_(t):St(t)&&arguments.length>1?c4(t,e,n):Ae(t)}function c4(t,e,n){const r=t[e];return Ut(r)?r:new A_(t,e,n)}const D_={GET:"get",HAS:"has",ITERATE:"iterate"},I_={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function P_(t,e){}const O_={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE"},N_={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update"};function Ao(t,e,n,r){try{return r?t(...r):t()}catch(o){Oa(o,e,n)}}function ur(t,e,n,r){if(Ve(t)){const o=Ao(t,e,n,r);return o&&zm(o)&&o.catch(i=>{Oa(i,e,n)}),o}if(De(t)){const o=[];for(let i=0;i<t.length;i++)o.push(ur(t[i],e,n,r));return o}}function Oa(t,e,n,r=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const a=e.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const l=i.ec;if(l){for(let f=0;f<l.length;f++)if(l[f](t,a,s)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){_i(),Ao(u,null,10,[t,a,s]),Ai();return}}R_(t,n,o,r)}function R_(t,e,n,r=!0){console.error(t)}let Kl=!1,sh=!1;const Dn=[];let to=0;const ls=[];let ri=null,Hi=0;const f4=Promise.resolve();let Zm=null;function Gt(t){const e=Zm||f4;return t?e.then(this?t.bind(this):t):e}function M_(t){let e=to+1,n=Dn.length;for(;e<n;){const r=e+n>>>1,o=Dn[r],i=ql(o);i<t||i===t&&o.pre?e=r+1:n=r}return e}function zf(t){(!Dn.length||!Dn.includes(t,Kl&&t.allowRecurse?to+1:to))&&(t.id==null?Dn.push(t):Dn.splice(M_(t.id),0,t),d4())}function d4(){!Kl&&!sh&&(sh=!0,Zm=f4.then(p4))}function k_(t){const e=Dn.indexOf(t);e>to&&Dn.splice(e,1)}function O0(t){De(t)?ls.push(...t):(!ri||!ri.includes(t,t.allowRecurse?Hi+1:Hi))&&ls.push(t),d4()}function P2(t,e,n=Kl?to+1:0){for(;n<Dn.length;n++){const r=Dn[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Dn.splice(n,1),n--,r()}}}function N0(t){if(ls.length){const e=[...new Set(ls)].sort((n,r)=>ql(n)-ql(r));if(ls.length=0,ri){ri.push(...e);return}for(ri=e,Hi=0;Hi<ri.length;Hi++){const n=ri[Hi];n.active!==!1&&n()}ri=null,Hi=0}}const ql=t=>t.id==null?1/0:t.id,L_=(t,e)=>{const n=ql(t)-ql(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function p4(t){sh=!1,Kl=!0,Dn.sort(L_);try{for(to=0;to<Dn.length;to++){const e=Dn[to];e&&e.active!==!1&&Ao(e,e.i,e.i?15:14)}}finally{to=0,Dn.length=0,N0(),Kl=!1,Zm=null,(Dn.length||ls.length)&&p4()}}let Ka,rc=[];function h4(t,e){var n,r;Ka=t,Ka?(Ka.enabled=!0,rc.forEach(({event:o,args:i})=>Ka.emit(o,...i)),rc=[]):typeof window!="undefined"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{h4(i,e)}),setTimeout(()=>{Ka||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,rc=[])},3e3)):rc=[]}let un=null,jf=null;function Xl(t){const e=un;return un=t,jf=t&&t.type.__scopeId||null,e}function F_(t){jf=t}function B_(){jf=null}const V_=t=>Qm;function Qm(t,e=un,n){if(!e||t._n)return t;const r=(...o)=>{r._d&&gh(-1);const i=Xl(e);let a;try{a=t(...o)}finally{Xl(i),r._d&&gh(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Qn(t,e){if(un===null)return t;const n=Pu(un),r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,a,s,u=ft]=e[o];i&&(Ve(i)&&(i={mounted:i,updated:i}),i.deep&&si(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:s,modifiers:u}))}return t}function Zr(t,e,n,r){const o=t.dirs,i=e&&e.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let u=s.dir[r];u&&(_i(),ur(u,n,8,[t.el,s,t,e]),Ai())}}const oi=Symbol("_leaveCb"),oc=Symbol("_enterCb");function e1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cn(()=>{t.isMounted=!0}),Ht(()=>{t.isUnmounting=!0}),t}const yr=[Function,Array],t1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yr,onEnter:yr,onAfterEnter:yr,onEnterCancelled:yr,onBeforeLeave:yr,onLeave:yr,onAfterLeave:yr,onLeaveCancelled:yr,onBeforeAppear:yr,onAppear:yr,onAfterAppear:yr,onAppearCancelled:yr},m4=t=>{const e=t.subTree;return e.component?m4(e.component):e},U_={name:"BaseTransition",props:t1,setup(t,{slots:e}){const n=lo(),r=e1();return()=>{const o=e.default&&Wf(e.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1){for(const d of o)if(d.type!==an){i=d;break}}const a=Ue(t),{mode:s}=a;if(r.isLeaving)return zd(i);const u=O2(i);if(!u)return zd(i);let l=Cs(u,a,r,n,d=>l=d);vi(u,l);const f=n.subTree,c=f&&O2(f);if(c&&c.type!==an&&!Mr(u,c)&&m4(n).type!==an){const d=Cs(c,a,r,n);if(vi(c,d),s==="out-in"&&u.type!==an)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},zd(i);s==="in-out"&&u.type!==an&&(d.delayLeave=(p,h,m)=>{const y=v4(r,c);y[String(c.key)]=c,p[oi]=()=>{h(),p[oi]=void 0,delete l.delayedLeave},l.delayedLeave=m})}return i}}},g4=U_;function v4(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Cs(t,e,n,r,o){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:f,onEnterCancelled:c,onBeforeLeave:d,onLeave:p,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:y,onAppear:b,onAfterAppear:v,onAppearCancelled:g}=e,x=String(t.key),S=v4(n,t),C=(_,A)=>{_&&ur(_,r,9,A)},w=(_,A)=>{const E=A[1];C(_,A),De(_)?_.every(D=>D.length<=1)&&E():_.length<=1&&E()},T={mode:a,persisted:s,beforeEnter(_){let A=u;if(!n.isMounted)if(i)A=y||u;else return;_[oi]&&_[oi](!0);const E=S[x];E&&Mr(t,E)&&E.el[oi]&&E.el[oi](),C(A,[_])},enter(_){let A=l,E=f,D=c;if(!n.isMounted)if(i)A=b||l,E=v||f,D=g||c;else return;let O=!1;const P=_[oc]=k=>{O||(O=!0,k?C(D,[_]):C(E,[_]),T.delayedLeave&&T.delayedLeave(),_[oc]=void 0)};A?w(A,[_,P]):P()},leave(_,A){const E=String(t.key);if(_[oc]&&_[oc](!0),n.isUnmounting)return A();C(d,[_]);let D=!1;const O=_[oi]=P=>{D||(D=!0,A(),P?C(m,[_]):C(h,[_]),_[oi]=void 0,S[E]===t&&delete S[E])};S[E]=t,p?w(p,[_,O]):O()},clone(_){const A=Cs(_,e,n,r,o);return o&&o(A),A}};return T}function zd(t){if(Eu(t))return t=jr(t),t.children=null,t}function O2(t){if(!Eu(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ve(n.default))return n.default()}}function vi(t,e){t.shapeFlag&6&&t.component?vi(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Wf(t,e=!1,n){let r=[],o=0;for(let i=0;i<t.length;i++){let a=t[i];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===Je?(a.patchFlag&128&&o++,r=r.concat(Wf(a.children,e,s))):(e||a.type!==an)&&r.push(s!=null?jr(a,{key:s}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Hf(t,e){return Ve(t)?ht({name:t.name},e,{setup:t}):t}const la=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function G_(t){Ve(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:o=200,timeout:i,suspensible:a=!0,onError:s}=t;let u=null,l,f=0;const c=()=>(f++,u=null,d()),d=()=>{let p;return u||(p=u=e().catch(h=>{if(h=h instanceof Error?h:new Error(String(h)),s)return new Promise((m,y)=>{s(h,()=>m(c()),()=>y(h),f+1)});throw h}).then(h=>p!==u&&u?u:(h&&(h.__esModule||h[Symbol.toStringTag]==="Module")&&(h=h.default),l=h,h)))};return Hf({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return l},setup(){const p=sn;if(l)return()=>jd(l,p);const h=v=>{u=null,Oa(v,p,13,!r)};if(a&&p.suspense||Iu)return d().then(v=>()=>jd(v,p)).catch(v=>(h(v),()=>r?Q(r,{error:v}):null));const m=Ae(!1),y=Ae(),b=Ae(!!o);return o&&setTimeout(()=>{b.value=!1},o),i!=null&&setTimeout(()=>{if(!m.value&&!y.value){const v=new Error(`Async component timed out after ${i}ms.`);h(v),y.value=v}},i),d().then(()=>{m.value=!0,p.parent&&Eu(p.parent.vnode)&&(p.parent.effect.dirty=!0,zf(p.parent.update))}).catch(v=>{h(v),y.value=v}),()=>{if(m.value&&l)return jd(l,p);if(y.value&&r)return Q(r,{error:y.value});if(n&&!b.value)return Q(n)}}})}function jd(t,e){const{ref:n,props:r,children:o,ce:i}=e.vnode,a=Q(t,r,o);return a.ref=n,a.ce=i,delete e.vnode.ce,a}const Eu=t=>t.type.__isKeepAlive,z_={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=lo(),r=n.ctx;if(!r.renderer)return()=>{const v=e.default&&e.default();return v&&v.length===1?v[0]:v};const o=new Map,i=new Set;let a=null;const s=n.suspense,{renderer:{p:u,m:l,um:f,o:{createElement:c}}}=r,d=c("div");r.activate=(v,g,x,S,C)=>{const w=v.component;l(v,g,x,0,s),u(w.vnode,v,g,x,w,s,S,v.slotScopeIds,C),dn(()=>{w.isDeactivated=!1,w.a&&as(w.a);const T=v.props&&v.props.onVnodeMounted;T&&Hn(T,w.parent,v)},s)},r.deactivate=v=>{const g=v.component;k0(g.m),k0(g.a),l(v,d,null,1,s),dn(()=>{g.da&&as(g.da);const x=v.props&&v.props.onVnodeUnmounted;x&&Hn(x,g.parent,v),g.isDeactivated=!0},s)};function p(v){Wd(v),f(v,n,s,!0)}function h(v){o.forEach((g,x)=>{const S=Sh(g.type);S&&(!v||!v(S))&&m(x)})}function m(v){const g=o.get(v);!a||!Mr(g,a)?p(g):a&&Wd(a),o.delete(v),i.delete(v)}xe(()=>[t.include,t.exclude],([v,g])=>{v&&h(x=>Sl(v,x)),g&&h(x=>!Sl(g,x))},{flush:"post",deep:!0});let y=null;const b=()=>{y!=null&&(hh(n.subTree.type)?dn(()=>{o.set(y,ic(n.subTree))},n.subTree.suspense):o.set(y,ic(n.subTree)))};return cn(b),Ws(b),Ht(()=>{o.forEach(v=>{const{subTree:g,suspense:x}=n,S=ic(g);if(v.type===S.type&&v.key===S.key){Wd(S);const C=S.component.da;C&&dn(C,x);return}p(v)})}),()=>{if(y=null,!e.default)return null;const v=e.default(),g=v[0];if(v.length>1)return a=null,v;if(!No(g)||!(g.shapeFlag&4)&&!(g.shapeFlag&128))return a=null,g;let x=ic(g);const S=x.type,C=Sh(la(x)?x.type.__asyncResolved||{}:S),{include:w,exclude:T,max:_}=t;if(w&&(!C||!Sl(w,C))||T&&C&&Sl(T,C))return a=x,g;const A=x.key==null?S:x.key,E=o.get(A);return x.el&&(x=jr(x),g.shapeFlag&128&&(g.ssContent=x)),y=A,E?(x.el=E.el,x.component=E.component,x.transition&&vi(x,x.transition),x.shapeFlag|=512,i.delete(A),i.add(A)):(i.add(A),_&&i.size>parseInt(_,10)&&m(i.values().next().value)),x.shapeFlag|=256,a=x,hh(g.type)?g:x}}},j_=z_;function Sl(t,e){return De(t)?t.some(n=>Sl(n,e)):He(t)?t.split(",").includes(e):IT(t)?t.test(e):!1}function y4(t,e){x4(t,"a",e)}function b4(t,e){x4(t,"da",e)}function x4(t,e,n=sn){const r=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if($f(e,r,n),n){let o=n.parent;for(;o&&o.parent;)Eu(o.parent.vnode)&&W_(r,e,n,o),o=o.parent}}function W_(t,e,n,r){const o=$f(e,t,r,!0);qf(()=>{Gm(r[e],o)},n)}function Wd(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ic(t){return t.shapeFlag&128?t.ssContent:t}function $f(t,e,n=sn,r=!1){if(n){const o=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{_i();const s=xa(n),u=ur(e,n,t,a);return s(),Ai(),u});return r?o.unshift(i):o.push(i),i}}const zo=t=>(e,n=sn)=>{(!Iu||t==="sp")&&$f(t,(...r)=>e(...r),n)},Kf=zo("bm"),cn=zo("m"),S4=zo("bu"),Ws=zo("u"),Ht=zo("bum"),qf=zo("um"),C4=zo("sp"),w4=zo("rtg"),T4=zo("rtc");function _4(t,e=sn){$f("ec",t,e)}const n1="components",H_="directives";function A4(t,e){return r1(n1,t,!0,e)||t}const E4=Symbol.for("v-ndc");function D4(t){return He(t)?r1(n1,t,!1)||t:t||E4}function Ei(t){return r1(H_,t)}function r1(t,e,n=!0,r=!1){const o=un||sn;if(o){const i=o.type;if(t===n1){const s=Sh(i,!1);if(s&&(s===e||s===It(e)||s===Uo(It(e))))return i}const a=N2(o[t]||i[t],e)||N2(o.appContext[t],e);return!a&&r?i:a}}function N2(t,e){return t&&(t[e]||t[It(e)]||t[Uo(It(e))])}function $_(t,e,n,r){let o;const i=n&&n[r];if(De(t)||He(t)){o=new Array(t.length);for(let a=0,s=t.length;a<s;a++)o[a]=e(t[a],a,void 0,i&&i[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,i&&i[a])}else if(St(t))if(t[Symbol.iterator])o=Array.from(t,(a,s)=>e(a,s,void 0,i&&i[s]));else{const a=Object.keys(t);o=new Array(a.length);for(let s=0,u=a.length;s<u;s++){const l=a[s];o[s]=e(t[l],l,s,i&&i[s])}}else o=[];return n&&(n[r]=o),o}function K_(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(De(r))for(let o=0;o<r.length;o++)t[r[o].name]=r[o].fn;else r&&(t[r.name]=r.key?(...o)=>{const i=r.fn(...o);return i&&(i.key=r.key),i}:r.fn)}return t}function q_(t,e,n={},r,o){if(un.isCE||un.parent&&la(un.parent)&&un.parent.isCE)return e!=="default"&&(n.name=e),Q("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),ws();const a=i&&I4(i(n)),s=Yf(Je,{key:(n.key||a&&a.key||`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),i&&i._c&&(i._d=!0),s}function I4(t){return t.some(e=>No(e)?!(e.type===an||e.type===Je&&!I4(e.children)):!0)?t:null}function X_(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:is(r)]=t[r];return n}const lh=t=>t?db(t)?Pu(t):lh(t.parent):null,Ml=ht(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>lh(t.parent),$root:t=>lh(t.root),$emit:t=>t.emit,$options:t=>o1(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,zf(t.update)}),$nextTick:t=>t.n||(t.n=Gt.bind(t.proxy)),$watch:t=>OA.bind(t)}),Hd=(t,e)=>t!==ft&&!t.__isScriptSetup&&dt(t,e),uh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:i,accessCache:a,type:s,appContext:u}=t;let l;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return i[e]}else{if(Hd(r,e))return a[e]=1,r[e];if(o!==ft&&dt(o,e))return a[e]=2,o[e];if((l=t.propsOptions[0])&&dt(l,e))return a[e]=3,i[e];if(n!==ft&&dt(n,e))return a[e]=4,n[e];ch&&(a[e]=0)}}const f=Ml[e];let c,d;if(f)return e==="$attrs"&&Zn(t.attrs,"get",""),f(t);if((c=s.__cssModules)&&(c=c[e]))return c;if(n!==ft&&dt(n,e))return a[e]=4,n[e];if(d=u.config.globalProperties,dt(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:o,ctx:i}=t;return Hd(o,e)?(o[e]=n,!0):r!==ft&&dt(r,e)?(r[e]=n,!0):dt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:i}},a){let s;return!!n[a]||t!==ft&&dt(t,a)||Hd(e,a)||(s=i[0])&&dt(s,a)||dt(r,a)||dt(Ml,a)||dt(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:dt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Y_=ht({},uh,{get(t,e){if(e!==Symbol.unscopables)return uh.get(t,e,t)},has(t,e){return e[0]!=="_"&&!kT(e)}});function J_(){return null}function Z_(){return null}function Q_(t){}function eA(t){}function tA(){return null}function nA(){}function rA(t,e){return null}function oA(){return P4().slots}function iA(){return P4().attrs}function P4(){const t=lo();return t.setupContext||(t.setupContext=gb(t))}function Yl(t){return De(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function aA(t,e){const n=Yl(t);for(const r in e){if(r.startsWith("__skip"))continue;let o=n[r];o?De(o)||Ve(o)?o=n[r]={type:o,default:e[r]}:o.default=e[r]:o===null&&(o=n[r]={default:e[r]}),o&&e[`__skip_${r}`]&&(o.skipFactory=!0)}return n}function sA(t,e){return!t||!e?t||e:De(t)&&De(e)?t.concat(e):ht({},Yl(t),Yl(e))}function lA(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function uA(t){const e=lo();let n=t();return yh(),zm(n)&&(n=n.catch(r=>{throw xa(e),r})),[n,()=>xa(e)]}let ch=!0;function cA(t){const e=o1(t),n=t.proxy,r=t.ctx;ch=!1,e.beforeCreate&&R2(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:a,watch:s,provide:u,inject:l,created:f,beforeMount:c,mounted:d,beforeUpdate:p,updated:h,activated:m,deactivated:y,beforeDestroy:b,beforeUnmount:v,destroyed:g,unmounted:x,render:S,renderTracked:C,renderTriggered:w,errorCaptured:T,serverPrefetch:_,expose:A,inheritAttrs:E,components:D,directives:O,filters:P}=e;if(l&&fA(l,r,null),a)for(const H in a){const R=a[H];Ve(R)&&(r[H]=R.bind(n))}if(o){const H=o.call(n,n);St(H)&&(t.data=$r(H))}if(ch=!0,i)for(const H in i){const R=i[H],B=Ve(R)?R.bind(n,n):Ve(R.get)?R.get.bind(n,n):ln,M=!Ve(R)&&Ve(R.set)?R.set.bind(n):ln,z=re({get:B,set:M});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>z.value,set:$=>z.value=$})}if(s)for(const H in s)O4(s[H],r,n,H);if(u){const H=Ve(u)?u.call(n):u;Reflect.ownKeys(H).forEach(R=>{Pt(R,H[R])})}f&&R2(f,t,"c");function U(H,R){De(R)?R.forEach(B=>H(B.bind(n))):R&&H(R.bind(n))}if(U(Kf,c),U(cn,d),U(S4,p),U(Ws,h),U(y4,m),U(b4,y),U(_4,T),U(T4,C),U(w4,w),U(Ht,v),U(qf,x),U(C4,_),De(A))if(A.length){const H=t.exposed||(t.exposed={});A.forEach(R=>{Object.defineProperty(H,R,{get:()=>n[R],set:B=>n[R]=B})})}else t.exposed||(t.exposed={});S&&t.render===ln&&(t.render=S),E!=null&&(t.inheritAttrs=E),D&&(t.components=D),O&&(t.directives=O)}function fA(t,e,n=ln){De(t)&&(t=fh(t));for(const r in t){const o=t[r];let i;St(o)?"default"in o?i=We(o.from||r,o.default,!0):i=We(o.from||r):i=We(o),Ut(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[r]=i}}function R2(t,e,n){ur(De(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function O4(t,e,n,r){const o=r.includes(".")?eb(n,r):()=>n[r];if(He(t)){const i=e[t];Ve(i)&&xe(o,i)}else if(Ve(t))xe(o,t.bind(n));else if(St(t))if(De(t))t.forEach(i=>O4(i,e,n,r));else{const i=Ve(t.handler)?t.handler.bind(n):e[t.handler];Ve(i)&&xe(o,i,t)}}function o1(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,s=i.get(e);let u;return s?u=s:!o.length&&!n&&!r?u=e:(u={},o.length&&o.forEach(l=>R0(u,l,a,!0)),R0(u,e,a)),St(e)&&i.set(e,u),u}function R0(t,e,n,r=!1){const{mixins:o,extends:i}=e;i&&R0(t,i,n,!0),o&&o.forEach(a=>R0(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const s=dA[a]||n&&n[a];t[a]=s?s(t[a],e[a]):e[a]}return t}const dA={data:M2,props:k2,emits:k2,methods:Cl,computed:Cl,beforeCreate:Bn,created:Bn,beforeMount:Bn,mounted:Bn,beforeUpdate:Bn,updated:Bn,beforeDestroy:Bn,beforeUnmount:Bn,destroyed:Bn,unmounted:Bn,activated:Bn,deactivated:Bn,errorCaptured:Bn,serverPrefetch:Bn,components:Cl,directives:Cl,watch:hA,provide:M2,inject:pA};function M2(t,e){return e?t?function(){return ht(Ve(t)?t.call(this,this):t,Ve(e)?e.call(this,this):e)}:e:t}function pA(t,e){return Cl(fh(t),fh(e))}function fh(t){if(De(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Bn(t,e){return t?[...new Set([].concat(t,e))]:e}function Cl(t,e){return t?ht(Object.create(null),t,e):e}function k2(t,e){return t?De(t)&&De(e)?[...new Set([...t,...e])]:ht(Object.create(null),Yl(t),Yl(e!=null?e:{})):e}function hA(t,e){if(!t)return e;if(!e)return t;const n=ht(Object.create(null),t);for(const r in e)n[r]=Bn(t[r],e[r]);return n}function N4(){return{app:null,config:{isNativeTag:Qc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mA=0;function gA(t,e){return function(r,o=null){Ve(r)||(r=ht({},r)),o!=null&&!St(o)&&(o=null);const i=N4(),a=new WeakSet;let s=!1;const u=i.app={_uid:mA++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:yb,get config(){return i.config},set config(l){},use(l,...f){return a.has(l)||(l&&Ve(l.install)?(a.add(l),l.install(u,...f)):Ve(l)&&(a.add(l),l(u,...f))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,f){return f?(i.components[l]=f,u):i.components[l]},directive(l,f){return f?(i.directives[l]=f,u):i.directives[l]},mount(l,f,c){if(!s){const d=Q(r,o);return d.appContext=i,c===!0?c="svg":c===!1&&(c=void 0),f&&e?e(d,l):t(d,l,c),s=!0,u._container=l,l.__vue_app__=u,Pu(d.component)}},unmount(){s&&(t(null,u._container),delete u._container.__vue_app__)},provide(l,f){return i.provides[l]=f,u},runWithContext(l){const f=us;us=u;try{return l()}finally{us=f}}};return u}}let us=null;function Pt(t,e){if(sn){let n=sn.provides;const r=sn.parent&&sn.parent.provides;r===n&&(n=sn.provides=Object.create(r)),n[t]=e}}function We(t,e,n=!1){const r=sn||un;if(r||us){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:us._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Ve(e)?e.call(r&&r.proxy):e}}function vA(){return!!(sn||un||us)}const R4={},M4=()=>Object.create(R4),k4=t=>Object.getPrototypeOf(t)===R4;function yA(t,e,n,r=!1){const o={},i=M4();t.propsDefaults=Object.create(null),L4(t,e,o,i);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=r?o:i4(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function bA(t,e,n,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=t,s=Ue(o),[u]=t.propsOptions;let l=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let c=0;c<f.length;c++){let d=f[c];if(Xf(t.emitsOptions,d))continue;const p=e[d];if(u)if(dt(i,d))p!==i[d]&&(i[d]=p,l=!0);else{const h=It(d);o[h]=dh(u,s,h,p,t,!1)}else p!==i[d]&&(i[d]=p,l=!0)}}}else{L4(t,e,o,i)&&(l=!0);let f;for(const c in s)(!e||!dt(e,c)&&((f=Kn(c))===c||!dt(e,f)))&&(u?n&&(n[c]!==void 0||n[f]!==void 0)&&(o[c]=dh(u,s,c,void 0,t,!0)):delete o[c]);if(i!==s)for(const c in i)(!e||!dt(e,c))&&(delete i[c],l=!0)}l&&_o(t.attrs,"set","")}function L4(t,e,n,r){const[o,i]=t.propsOptions;let a=!1,s;if(e)for(let u in e){if(di(u))continue;const l=e[u];let f;o&&dt(o,f=It(u))?!i||!i.includes(f)?n[f]=l:(s||(s={}))[f]=l:Xf(t.emitsOptions,u)||(!(u in r)||l!==r[u])&&(r[u]=l,a=!0)}if(i){const u=Ue(n),l=s||ft;for(let f=0;f<i.length;f++){const c=i[f];n[c]=dh(o,u,c,l[c],t,!dt(l,c))}}return a}function dh(t,e,n,r,o,i){const a=t[n];if(a!=null){const s=dt(a,"default");if(s&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&Ve(u)){const{propsDefaults:l}=o;if(n in l)r=l[n];else{const f=xa(o);r=l[n]=u.call(null,e),f()}}else r=u}a[0]&&(i&&!s?r=!1:a[1]&&(r===""||r===Kn(n))&&(r=!0))}return r}const xA=new WeakMap;function F4(t,e,n=!1){const r=n?xA:e.propsCache,o=r.get(t);if(o)return o;const i=t.props,a={},s=[];let u=!1;if(!Ve(t)){const f=c=>{u=!0;const[d,p]=F4(c,e,!0);ht(a,d),p&&s.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!u)return St(t)&&r.set(t,rs),rs;if(De(i))for(let f=0;f<i.length;f++){const c=It(i[f]);L2(c)&&(a[c]=ft)}else if(i)for(const f in i){const c=It(f);if(L2(c)){const d=i[f],p=a[c]=De(d)||Ve(d)?{type:d}:ht({},d);if(p){const h=V2(Boolean,p.type),m=V2(String,p.type);p[0]=h>-1,p[1]=m<0||h<m,(h>-1||dt(p,"default"))&&s.push(c)}}}const l=[a,s];return St(t)&&r.set(t,l),l}function L2(t){return t[0]!=="$"&&!di(t)}function F2(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function B2(t,e){return F2(t)===F2(e)}function V2(t,e){return De(e)?e.findIndex(n=>B2(n,t)):Ve(e)&&B2(e,t)?0:-1}const B4=t=>t[0]==="_"||t==="$stable",i1=t=>De(t)?t.map($n):[$n(t)],SA=(t,e,n)=>{if(e._n)return e;const r=Qm((...o)=>i1(e(...o)),n);return r._c=!1,r},V4=(t,e,n)=>{const r=t._ctx;for(const o in t){if(B4(o))continue;const i=t[o];if(Ve(i))e[o]=SA(o,i,r);else if(i!=null){const a=i1(i);e[o]=()=>a}}},U4=(t,e)=>{const n=i1(e);t.slots.default=()=>n},G4=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},CA=(t,e,n)=>{const r=t.slots=M4();if(t.vnode.shapeFlag&32){const o=e._;o?(G4(r,e,n),n&&F5(r,"_",o,!0)):V4(e,r)}else e&&U4(t,e)},wA=(t,e,n)=>{const{vnode:r,slots:o}=t;let i=!0,a=ft;if(r.shapeFlag&32){const s=e._;s?n&&s===1?i=!1:G4(o,e,n):(i=!e.$stable,V4(e,o)),a=e}else e&&(U4(t,e),a={default:1});if(i)for(const s in o)!B4(s)&&a[s]==null&&delete o[s]};function M0(t,e,n,r,o=!1){if(De(t)){t.forEach((d,p)=>M0(d,e&&(De(e)?e[p]:e),n,r,o));return}if(la(r)&&!o)return;const i=r.shapeFlag&4?Pu(r.component):r.el,a=o?null:i,{i:s,r:u}=t,l=e&&e.r,f=s.refs===ft?s.refs={}:s.refs,c=s.setupState;if(l!=null&&l!==u&&(He(l)?(f[l]=null,dt(c,l)&&(c[l]=null)):Ut(l)&&(l.value=null)),Ve(u))Ao(u,s,12,[a,f]);else{const d=He(u),p=Ut(u);if(d||p){const h=()=>{if(t.f){const m=d?dt(c,u)?c[u]:f[u]:u.value;o?De(m)&&Gm(m,i):De(m)?m.includes(i)||m.push(i):d?(f[u]=[i],dt(c,u)&&(c[u]=f[u])):(u.value=[i],t.k&&(f[t.k]=u.value))}else d?(f[u]=a,dt(c,u)&&(c[u]=a)):p&&(u.value=a,t.k&&(f[t.k]=a))};a?(h.id=-1,dn(h,n)):h()}}}const z4=Symbol("_vte"),TA=t=>t.__isTeleport,kl=t=>t&&(t.disabled||t.disabled===""),U2=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,G2=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ph=(t,e)=>{const n=t&&t.to;return He(n)?e?e(n):null:n},_A={name:"Teleport",__isTeleport:!0,process(t,e,n,r,o,i,a,s,u,l){const{mc:f,pc:c,pbc:d,o:{insert:p,querySelector:h,createText:m,createComment:y}}=l,b=kl(e.props);let{shapeFlag:v,children:g,dynamicChildren:x}=e;if(t==null){const S=e.el=m(""),C=e.anchor=m(""),w=e.target=ph(e.props,h),T=e.targetStart=m(""),_=e.targetAnchor=m("");p(S,n,r),p(C,n,r),T[z4]=_,w&&(p(T,w),p(_,w),a==="svg"||U2(w)?a="svg":(a==="mathml"||G2(w))&&(a="mathml"));const A=(E,D)=>{v&16&&f(g,E,D,o,i,a,s,u)};b?A(n,C):w&&A(w,_)}else{e.el=t.el,e.targetStart=t.targetStart;const S=e.anchor=t.anchor,C=e.target=t.target,w=e.targetAnchor=t.targetAnchor,T=kl(t.props),_=T?n:C,A=T?S:w;if(a==="svg"||U2(C)?a="svg":(a==="mathml"||G2(C))&&(a="mathml"),x?(d(t.dynamicChildren,x,_,o,i,a,s),a1(t,e,!0)):u||c(t,e,_,A,o,i,a,s,!1),b)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ac(e,n,S,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const E=e.target=ph(e.props,h);E&&ac(e,E,null,l,0)}else T&&ac(e,C,w,l,1)}W4(e)},remove(t,e,n,{um:r,o:{remove:o}},i){const{shapeFlag:a,children:s,anchor:u,targetStart:l,targetAnchor:f,target:c,props:d}=t;if(c&&(o(l),o(f)),i&&o(u),a&16){const p=i||!kl(d);for(let h=0;h<s.length;h++){const m=s[h];r(m,e,n,p,!!m.dynamicChildren)}}},move:ac,hydrate:AA};function ac(t,e,n,{o:{insert:r},m:o},i=2){i===0&&r(t.targetAnchor,e,n);const{el:a,anchor:s,shapeFlag:u,children:l,props:f}=t,c=i===2;if(c&&r(a,e,n),(!c||kl(f))&&u&16)for(let d=0;d<l.length;d++)o(l[d],e,n,2);c&&r(s,e,n)}function AA(t,e,n,r,o,i,{o:{nextSibling:a,parentNode:s,querySelector:u}},l){const f=e.target=ph(e.props,u);if(f){const c=f._lpa||f.firstChild;if(e.shapeFlag&16)if(kl(e.props))e.anchor=l(a(t),e,s(t),n,r,o,i),e.targetAnchor=c;else{e.anchor=a(t);let d=c;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}l(c,e,f,n,r,o,i)}W4(e)}return e.anchor&&a(e.anchor)}const j4=_A;function W4(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}let z2=!1;const La=()=>{z2||(console.error("Hydration completed but contains mismatches."),z2=!0)},EA=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",DA=t=>t.namespaceURI.includes("MathML"),sc=t=>{if(EA(t))return"svg";if(DA(t))return"mathml"},lc=t=>t.nodeType===8;function IA(t){const{mt:e,p:n,o:{patchProp:r,createText:o,nextSibling:i,parentNode:a,remove:s,insert:u,createComment:l}}=t,f=(g,x)=>{if(!x.hasChildNodes()){n(null,g,x),N0(),x._vnode=g;return}c(x.firstChild,g,null,null,null),N0(),x._vnode=g},c=(g,x,S,C,w,T=!1)=>{T=T||!!x.dynamicChildren;const _=lc(g)&&g.data==="[",A=()=>m(g,x,S,C,w,_),{type:E,ref:D,shapeFlag:O,patchFlag:P}=x;let k=g.nodeType;x.el=g,P===-2&&(T=!1,x.dynamicChildren=null);let U=null;switch(E){case Eo:k!==3?x.children===""?(u(x.el=o(""),a(g),g),U=g):U=A():(g.data!==x.children&&(La(),g.data=x.children),U=i(g));break;case an:v(g)?(U=i(g),b(x.el=g.content.firstChild,g,S)):k!==8||_?U=A():U=i(g);break;case ua:if(_&&(g=i(g),k=g.nodeType),k===1||k===3){U=g;const H=!x.children.length;for(let R=0;R<x.staticCount;R++)H&&(x.children+=U.nodeType===1?U.outerHTML:U.data),R===x.staticCount-1&&(x.anchor=U),U=i(U);return _?i(U):U}else A();break;case Je:_?U=h(g,x,S,C,w,T):U=A();break;default:if(O&1)(k!==1||x.type.toLowerCase()!==g.tagName.toLowerCase())&&!v(g)?U=A():U=d(g,x,S,C,w,T);else if(O&6){x.slotScopeIds=w;const H=a(g);if(_?U=y(g):lc(g)&&g.data==="teleport start"?U=y(g,g.data,"teleport end"):U=i(g),e(x,H,null,S,C,sc(H),T),la(x)){let R;_?(R=Q(Je),R.anchor=U?U.previousSibling:H.lastChild):R=g.nodeType===3?Zf(""):Q("div"),R.el=g,x.component.subTree=R}}else O&64?k!==8?U=A():U=x.type.hydrate(g,x,S,C,w,T,t,p):O&128&&(U=x.type.hydrate(g,x,S,C,sc(a(g)),w,T,t,c))}return D!=null&&M0(D,null,C,x),U},d=(g,x,S,C,w,T)=>{T=T||!!x.dynamicChildren;const{type:_,props:A,patchFlag:E,shapeFlag:D,dirs:O,transition:P}=x,k=_==="input"||_==="option";if(k||E!==-1){O&&Zr(x,null,S,"created");let U=!1;if(v(g)){U=q4(C,P)&&S&&S.vnode.props&&S.vnode.props.appear;const R=g.content.firstChild;U&&P.beforeEnter(R),b(R,g,S),x.el=g=R}if(D&16&&!(A&&(A.innerHTML||A.textContent))){let R=p(g.firstChild,x,g,S,C,w,T);for(;R;){La();const B=R;R=R.nextSibling,s(B)}}else D&8&&g.textContent!==x.children&&(La(),g.textContent=x.children);if(A){if(k||!T||E&48)for(const R in A)(k&&(R.endsWith("value")||R==="indeterminate")||Ia(R)&&!di(R)||R[0]===".")&&r(g,R,null,A[R],void 0,S);else if(A.onClick)r(g,"onClick",null,A.onClick,void 0,S);else if(E&4&&sa(A.style))for(const R in A.style)A.style[R]}let H;(H=A&&A.onVnodeBeforeMount)&&Hn(H,S,x),O&&Zr(x,null,S,"beforeMount"),((H=A&&A.onVnodeMounted)||O||U)&&ob(()=>{H&&Hn(H,S,x),U&&P.enter(g),O&&Zr(x,null,S,"mounted")},C)}return g.nextSibling},p=(g,x,S,C,w,T,_)=>{_=_||!!x.dynamicChildren;const A=x.children,E=A.length;for(let D=0;D<E;D++){const O=_?A[D]:A[D]=$n(A[D]),P=O.type===Eo;if(g){if(P&&!_){let k=A[D+1];k&&(k=$n(k)).type===Eo&&(u(o(g.data.slice(O.children.length)),S,i(g)),g.data=O.children)}g=c(g,O,C,w,T,_)}else P&&!O.children?u(O.el=o(""),S):(La(),n(null,O,S,null,C,w,sc(S),T))}return g},h=(g,x,S,C,w,T)=>{const{slotScopeIds:_}=x;_&&(w=w?w.concat(_):_);const A=a(g),E=p(i(g),x,A,S,C,w,T);return E&&lc(E)&&E.data==="]"?i(x.anchor=E):(La(),u(x.anchor=l("]"),A,E),E)},m=(g,x,S,C,w,T)=>{if(La(),x.el=null,T){const E=y(g);for(;;){const D=i(g);if(D&&D!==E)s(D);else break}}const _=i(g),A=a(g);return s(g),n(null,x,A,_,S,C,sc(A),w),_},y=(g,x="[",S="]")=>{let C=0;for(;g;)if(g=i(g),g&&lc(g)&&(g.data===x&&C++,g.data===S)){if(C===0)return i(g);C--}return g},b=(g,x,S)=>{const C=x.parentNode;C&&C.replaceChild(g,x);let w=S;for(;w;)w.vnode.el===x&&(w.vnode.el=w.subTree.el=g),w=w.parent},v=g=>g.nodeType===1&&g.tagName.toLowerCase()==="template";return[f,c]}const dn=ob;function H4(t){return K4(t)}function $4(t){return K4(t,IA)}function K4(t,e){const n=B5();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:a,createText:s,createComment:u,setText:l,setElementText:f,parentNode:c,nextSibling:d,setScopeId:p=ln,insertStaticContent:h}=t,m=(N,L,G,W=null,Y=null,ee=null,oe=void 0,le=null,pe=!!L.dynamicChildren)=>{if(N===L)return;N&&!Mr(N,L)&&(W=ae(N),$(N,Y,ee,!0),N=null),L.patchFlag===-2&&(pe=!1,L.dynamicChildren=null);const{type:ce,ref:me,shapeFlag:ge}=L;switch(ce){case Eo:y(N,L,G,W);break;case an:b(N,L,G,W);break;case ua:N==null&&v(L,G,W,oe);break;case Je:D(N,L,G,W,Y,ee,oe,le,pe);break;default:ge&1?S(N,L,G,W,Y,ee,oe,le,pe):ge&6?O(N,L,G,W,Y,ee,oe,le,pe):(ge&64||ge&128)&&ce.process(N,L,G,W,Y,ee,oe,le,pe,F)}me!=null&&Y&&M0(me,N&&N.ref,ee,L||N,!L)},y=(N,L,G,W)=>{if(N==null)r(L.el=s(L.children),G,W);else{const Y=L.el=N.el;L.children!==N.children&&l(Y,L.children)}},b=(N,L,G,W)=>{N==null?r(L.el=u(L.children||""),G,W):L.el=N.el},v=(N,L,G,W)=>{[N.el,N.anchor]=h(N.children,L,G,W,N.el,N.anchor)},g=({el:N,anchor:L},G,W)=>{let Y;for(;N&&N!==L;)Y=d(N),r(N,G,W),N=Y;r(L,G,W)},x=({el:N,anchor:L})=>{let G;for(;N&&N!==L;)G=d(N),o(N),N=G;o(L)},S=(N,L,G,W,Y,ee,oe,le,pe)=>{L.type==="svg"?oe="svg":L.type==="math"&&(oe="mathml"),N==null?C(L,G,W,Y,ee,oe,le,pe):_(N,L,Y,ee,oe,le,pe)},C=(N,L,G,W,Y,ee,oe,le)=>{let pe,ce;const{props:me,shapeFlag:ge,transition:de,dirs:Ee}=N;if(pe=N.el=a(N.type,ee,me&&me.is,me),ge&8?f(pe,N.children):ge&16&&T(N.children,pe,null,W,Y,$d(N,ee),oe,le),Ee&&Zr(N,null,W,"created"),w(pe,N,N.scopeId,oe,W),me){for(const Te in me)Te!=="value"&&!di(Te)&&i(pe,Te,null,me[Te],ee,W);"value"in me&&i(pe,"value",null,me.value,ee),(ce=me.onVnodeBeforeMount)&&Hn(ce,W,N)}Ee&&Zr(N,null,W,"beforeMount");const K=q4(Y,de);K&&de.beforeEnter(pe),r(pe,L,G),((ce=me&&me.onVnodeMounted)||K||Ee)&&dn(()=>{ce&&Hn(ce,W,N),K&&de.enter(pe),Ee&&Zr(N,null,W,"mounted")},Y)},w=(N,L,G,W,Y)=>{if(G&&p(N,G),W)for(let ee=0;ee<W.length;ee++)p(N,W[ee]);if(Y){let ee=Y.subTree;if(L===ee){const oe=Y.vnode;w(N,oe,oe.scopeId,oe.slotScopeIds,Y.parent)}}},T=(N,L,G,W,Y,ee,oe,le,pe=0)=>{for(let ce=pe;ce<N.length;ce++){const me=N[ce]=le?ii(N[ce]):$n(N[ce]);m(null,me,L,G,W,Y,ee,oe,le)}},_=(N,L,G,W,Y,ee,oe)=>{const le=L.el=N.el;let{patchFlag:pe,dynamicChildren:ce,dirs:me}=L;pe|=N.patchFlag&16;const ge=N.props||ft,de=L.props||ft;let Ee;if(G&&Oi(G,!1),(Ee=de.onVnodeBeforeUpdate)&&Hn(Ee,G,L,N),me&&Zr(L,N,G,"beforeUpdate"),G&&Oi(G,!0),(ge.innerHTML&&de.innerHTML==null||ge.textContent&&de.textContent==null)&&f(le,""),ce?A(N.dynamicChildren,ce,le,G,W,$d(L,Y),ee):oe||R(N,L,le,null,G,W,$d(L,Y),ee,!1),pe>0){if(pe&16)E(le,ge,de,G,Y);else if(pe&2&&ge.class!==de.class&&i(le,"class",null,de.class,Y),pe&4&&i(le,"style",ge.style,de.style,Y),pe&8){const K=L.dynamicProps;for(let Te=0;Te<K.length;Te++){const we=K[Te],Se=ge[we],se=de[we];(se!==Se||we==="value")&&i(le,we,Se,se,Y,G)}}pe&1&&N.children!==L.children&&f(le,L.children)}else!oe&&ce==null&&E(le,ge,de,G,Y);((Ee=de.onVnodeUpdated)||me)&&dn(()=>{Ee&&Hn(Ee,G,L,N),me&&Zr(L,N,G,"updated")},W)},A=(N,L,G,W,Y,ee,oe)=>{for(let le=0;le<L.length;le++){const pe=N[le],ce=L[le],me=pe.el&&(pe.type===Je||!Mr(pe,ce)||pe.shapeFlag&70)?c(pe.el):G;m(pe,ce,me,null,W,Y,ee,oe,!0)}},E=(N,L,G,W,Y)=>{if(L!==G){if(L!==ft)for(const ee in L)!di(ee)&&!(ee in G)&&i(N,ee,L[ee],null,Y,W);for(const ee in G){if(di(ee))continue;const oe=G[ee],le=L[ee];oe!==le&&ee!=="value"&&i(N,ee,le,oe,Y,W)}"value"in G&&i(N,"value",L.value,G.value,Y)}},D=(N,L,G,W,Y,ee,oe,le,pe)=>{const ce=L.el=N?N.el:s(""),me=L.anchor=N?N.anchor:s("");let{patchFlag:ge,dynamicChildren:de,slotScopeIds:Ee}=L;Ee&&(le=le?le.concat(Ee):Ee),N==null?(r(ce,G,W),r(me,G,W),T(L.children||[],G,me,Y,ee,oe,le,pe)):ge>0&&ge&64&&de&&N.dynamicChildren?(A(N.dynamicChildren,de,G,Y,ee,oe,le),(L.key!=null||Y&&L===Y.subTree)&&a1(N,L,!0)):R(N,L,G,me,Y,ee,oe,le,pe)},O=(N,L,G,W,Y,ee,oe,le,pe)=>{L.slotScopeIds=le,N==null?L.shapeFlag&512?Y.ctx.activate(L,G,W,oe,pe):P(L,G,W,Y,ee,oe,pe):k(N,L,pe)},P=(N,L,G,W,Y,ee,oe)=>{const le=N.component=fb(N,W,Y);if(Eu(N)&&(le.ctx.renderer=F),pb(le,!1,oe),le.asyncDep){if(Y&&Y.registerDep(le,U,oe),!N.el){const pe=le.subTree=Q(an);b(null,pe,L,G)}}else U(le,N,L,G,Y,ee,oe)},k=(N,L,G)=>{const W=L.component=N.component;if(FA(N,L,G))if(W.asyncDep&&!W.asyncResolved){H(W,L,G);return}else W.next=L,k_(W.update),W.effect.dirty=!0,W.update();else L.el=N.el,W.vnode=L},U=(N,L,G,W,Y,ee,oe)=>{const le=()=>{if(N.isMounted){let{next:me,bu:ge,u:de,parent:Ee,vnode:K}=N;{const he=X4(N);if(he){me&&(me.el=K.el,H(N,me,oe)),he.asyncDep.then(()=>{N.isUnmounted||le()});return}}let Te=me,we;Oi(N,!1),me?(me.el=K.el,H(N,me,oe)):me=K,ge&&as(ge),(we=me.props&&me.props.onVnodeBeforeUpdate)&&Hn(we,Ee,me,K),Oi(N,!0);const Se=e0(N),se=N.subTree;N.subTree=Se,m(se,Se,c(se.el),ae(se),N,Y,ee),me.el=Se.el,Te===null&&s1(N,Se.el),de&&dn(de,Y),(we=me.props&&me.props.onVnodeUpdated)&&dn(()=>Hn(we,Ee,me,K),Y)}else{let me;const{el:ge,props:de}=L,{bm:Ee,m:K,parent:Te}=N,we=la(L);if(Oi(N,!1),Ee&&as(Ee),!we&&(me=de&&de.onVnodeBeforeMount)&&Hn(me,Te,L),Oi(N,!0),ge&&j){const Se=()=>{N.subTree=e0(N),j(ge,N.subTree,N,Y,null)};we?L.type.__asyncLoader().then(()=>!N.isUnmounted&&Se()):Se()}else{const Se=N.subTree=e0(N);m(null,Se,G,W,N,Y,ee),L.el=Se.el}if(K&&dn(K,Y),!we&&(me=de&&de.onVnodeMounted)){const Se=L;dn(()=>Hn(me,Te,Se),Y)}(L.shapeFlag&256||Te&&la(Te.vnode)&&Te.vnode.shapeFlag&256)&&N.a&&dn(N.a,Y),N.isMounted=!0,L=G=W=null}},pe=N.effect=new Ss(le,ln,()=>zf(ce),N.scope),ce=N.update=()=>{pe.dirty&&pe.run()};ce.i=N,ce.id=N.uid,Oi(N,!0),ce()},H=(N,L,G)=>{L.component=N;const W=N.vnode.props;N.vnode=L,N.next=null,bA(N,L.props,W,G),wA(N,L.children,G),_i(),P2(N),Ai()},R=(N,L,G,W,Y,ee,oe,le,pe=!1)=>{const ce=N&&N.children,me=N?N.shapeFlag:0,ge=L.children,{patchFlag:de,shapeFlag:Ee}=L;if(de>0){if(de&128){M(ce,ge,G,W,Y,ee,oe,le,pe);return}else if(de&256){B(ce,ge,G,W,Y,ee,oe,le,pe);return}}Ee&8?(me&16&&te(ce,Y,ee),ge!==ce&&f(G,ge)):me&16?Ee&16?M(ce,ge,G,W,Y,ee,oe,le,pe):te(ce,Y,ee,!0):(me&8&&f(G,""),Ee&16&&T(ge,G,W,Y,ee,oe,le,pe))},B=(N,L,G,W,Y,ee,oe,le,pe)=>{N=N||rs,L=L||rs;const ce=N.length,me=L.length,ge=Math.min(ce,me);let de;for(de=0;de<ge;de++){const Ee=L[de]=pe?ii(L[de]):$n(L[de]);m(N[de],Ee,G,null,Y,ee,oe,le,pe)}ce>me?te(N,Y,ee,!0,!1,ge):T(L,G,W,Y,ee,oe,le,pe,ge)},M=(N,L,G,W,Y,ee,oe,le,pe)=>{let ce=0;const me=L.length;let ge=N.length-1,de=me-1;for(;ce<=ge&&ce<=de;){const Ee=N[ce],K=L[ce]=pe?ii(L[ce]):$n(L[ce]);if(Mr(Ee,K))m(Ee,K,G,null,Y,ee,oe,le,pe);else break;ce++}for(;ce<=ge&&ce<=de;){const Ee=N[ge],K=L[de]=pe?ii(L[de]):$n(L[de]);if(Mr(Ee,K))m(Ee,K,G,null,Y,ee,oe,le,pe);else break;ge--,de--}if(ce>ge){if(ce<=de){const Ee=de+1,K=Ee<me?L[Ee].el:W;for(;ce<=de;)m(null,L[ce]=pe?ii(L[ce]):$n(L[ce]),G,K,Y,ee,oe,le,pe),ce++}}else if(ce>de)for(;ce<=ge;)$(N[ce],Y,ee,!0),ce++;else{const Ee=ce,K=ce,Te=new Map;for(ce=K;ce<=de;ce++){const ke=L[ce]=pe?ii(L[ce]):$n(L[ce]);ke.key!=null&&Te.set(ke.key,ce)}let we,Se=0;const se=de-K+1;let he=!1,be=0;const ye=new Array(se);for(ce=0;ce<se;ce++)ye[ce]=0;for(ce=Ee;ce<=ge;ce++){const ke=N[ce];if(Se>=se){$(ke,Y,ee,!0);continue}let Pe;if(ke.key!=null)Pe=Te.get(ke.key);else for(we=K;we<=de;we++)if(ye[we-K]===0&&Mr(ke,L[we])){Pe=we;break}Pe===void 0?$(ke,Y,ee,!0):(ye[Pe-K]=ce+1,Pe>=be?be=Pe:he=!0,m(ke,L[Pe],G,null,Y,ee,oe,le,pe),Se++)}const Ne=he?PA(ye):rs;for(we=Ne.length-1,ce=se-1;ce>=0;ce--){const ke=K+ce,Pe=L[ke],qe=ke+1<me?L[ke+1].el:W;ye[ce]===0?m(null,Pe,G,qe,Y,ee,oe,le,pe):he&&(we<0||ce!==Ne[we]?z(Pe,G,qe,2):we--)}}},z=(N,L,G,W,Y=null)=>{const{el:ee,type:oe,transition:le,children:pe,shapeFlag:ce}=N;if(ce&6){z(N.component.subTree,L,G,W);return}if(ce&128){N.suspense.move(L,G,W);return}if(ce&64){oe.move(N,L,G,F);return}if(oe===Je){r(ee,L,G);for(let ge=0;ge<pe.length;ge++)z(pe[ge],L,G,W);r(N.anchor,L,G);return}if(oe===ua){g(N,L,G);return}if(W!==2&&ce&1&&le)if(W===0)le.beforeEnter(ee),r(ee,L,G),dn(()=>le.enter(ee),Y);else{const{leave:ge,delayLeave:de,afterLeave:Ee}=le,K=()=>r(ee,L,G),Te=()=>{ge(ee,()=>{K(),Ee&&Ee()})};de?de(ee,K,Te):Te()}else r(ee,L,G)},$=(N,L,G,W=!1,Y=!1)=>{const{type:ee,props:oe,ref:le,children:pe,dynamicChildren:ce,shapeFlag:me,patchFlag:ge,dirs:de,cacheIndex:Ee}=N;if(ge===-2&&(Y=!1),le!=null&&M0(le,null,G,N,!0),Ee!=null&&(L.renderCache[Ee]=void 0),me&256){L.ctx.deactivate(N);return}const K=me&1&&de,Te=!la(N);let we;if(Te&&(we=oe&&oe.onVnodeBeforeUnmount)&&Hn(we,L,N),me&6)X(N.component,G,W);else{if(me&128){N.suspense.unmount(G,W);return}K&&Zr(N,null,L,"beforeUnmount"),me&64?N.type.remove(N,L,G,F,W):ce&&!ce.hasOnce&&(ee!==Je||ge>0&&ge&64)?te(ce,L,G,!1,!0):(ee===Je&&ge&384||!Y&&me&16)&&te(pe,L,G),W&&J(N)}(Te&&(we=oe&&oe.onVnodeUnmounted)||K)&&dn(()=>{we&&Hn(we,L,N),K&&Zr(N,null,L,"unmounted")},G)},J=N=>{const{type:L,el:G,anchor:W,transition:Y}=N;if(L===Je){Z(G,W);return}if(L===ua){x(N);return}const ee=()=>{o(G),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(N.shapeFlag&1&&Y&&!Y.persisted){const{leave:oe,delayLeave:le}=Y,pe=()=>oe(G,ee);le?le(N.el,ee,pe):pe()}else ee()},Z=(N,L)=>{let G;for(;N!==L;)G=d(N),o(N),N=G;o(L)},X=(N,L,G)=>{const{bum:W,scope:Y,update:ee,subTree:oe,um:le,m:pe,a:ce}=N;k0(pe),k0(ce),W&&as(W),Y.stop(),ee&&(ee.active=!1,$(oe,N,L,G)),le&&dn(le,L),dn(()=>{N.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},te=(N,L,G,W=!1,Y=!1,ee=0)=>{for(let oe=ee;oe<N.length;oe++)$(N[oe],L,G,W,Y)},ae=N=>{if(N.shapeFlag&6)return ae(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const L=d(N.anchor||N.el),G=L&&L[z4];return G?d(G):L};let ue=!1;const ie=(N,L,G)=>{N==null?L._vnode&&$(L._vnode,null,null,!0):m(L._vnode||null,N,L,null,null,null,G),ue||(ue=!0,P2(),N0(),ue=!1),L._vnode=N},F={p:m,um:$,m:z,r:J,mt:P,mc:T,pc:R,pbc:A,n:ae,o:t};let I,j;return e&&([I,j]=e(F)),{render:ie,hydrate:I,createApp:gA(ie,I)}}function $d({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Oi({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function q4(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function a1(t,e,n=!1){const r=t.children,o=e.children;if(De(r)&&De(o))for(let i=0;i<r.length;i++){const a=r[i];let s=o[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[i]=ii(o[i]),s.el=a.el),!n&&s.patchFlag!==-2&&a1(a,s)),s.type===Eo&&(s.el=a.el)}}function PA(t){const e=t.slice(),n=[0];let r,o,i,a,s;const u=t.length;for(r=0;r<u;r++){const l=t[r];if(l!==0){if(o=n[n.length-1],t[o]<l){e[r]=o,n.push(r);continue}for(i=0,a=n.length-1;i<a;)s=i+a>>1,t[n[s]]<l?i=s+1:a=s;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function X4(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:X4(e)}function k0(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const Y4=Symbol.for("v-scx"),J4=()=>We(Y4);function ao(t,e){return Du(t,null,e)}function Z4(t,e){return Du(t,null,{flush:"post"})}function Q4(t,e){return Du(t,null,{flush:"sync"})}const uc={};function xe(t,e,n){return Du(t,e,n)}function Du(t,e,{immediate:n,deep:r,flush:o,once:i,onTrack:a,onTrigger:s}=ft){if(e&&i){const C=e;e=(...w)=>{C(...w),S()}}const u=sn,l=C=>r===!0?C:si(C,r===!1?1:void 0);let f,c=!1,d=!1;if(Ut(t)?(f=()=>t.value,c=ya(t)):sa(t)?(f=()=>l(t),c=!0):De(t)?(d=!0,c=t.some(C=>sa(C)||ya(C)),f=()=>t.map(C=>{if(Ut(C))return C.value;if(sa(C))return l(C);if(Ve(C))return Ao(C,u,2)})):Ve(t)?e?f=()=>Ao(t,u,2):f=()=>(p&&p(),ur(t,u,3,[h])):f=ln,e&&r){const C=f;f=()=>si(C())}let p,h=C=>{p=g.onStop=()=>{Ao(C,u,4),p=g.onStop=void 0}},m;if(Iu)if(h=ln,e?n&&ur(e,u,3,[f(),d?[]:void 0,h]):f(),o==="sync"){const C=J4();m=C.__watcherHandles||(C.__watcherHandles=[])}else return ln;let y=d?new Array(t.length).fill(uc):uc;const b=()=>{if(!(!g.active||!g.dirty))if(e){const C=g.run();(r||c||(d?C.some((w,T)=>Un(w,y[T])):Un(C,y)))&&(p&&p(),ur(e,u,3,[C,y===uc?void 0:d&&y[0]===uc?[]:y,h]),y=C)}else g.run()};b.allowRecurse=!!e;let v;o==="sync"?v=b:o==="post"?v=()=>dn(b,u&&u.suspense):(b.pre=!0,u&&(b.id=u.uid),v=()=>zf(b));const g=new Ss(f,ln,v),x=H5(),S=()=>{g.stop(),x&&Gm(x.effects,g)};return e?n?b():y=g.run():o==="post"?dn(g.run.bind(g),u&&u.suspense):g.run(),m&&m.push(S),S}function OA(t,e,n){const r=this.proxy,o=He(t)?t.includes(".")?eb(r,t):()=>r[t]:t.bind(r,r);let i;Ve(e)?i=e:(i=e.handler,n=e);const a=xa(this),s=Du(o,i.bind(r),n);return a(),s}function eb(t,e){const n=e.split(".");return()=>{let r=t;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function si(t,e=1/0,n){if(e<=0||!St(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ut(t))si(t.value,e,n);else if(De(t))for(let r=0;r<t.length;r++)si(t[r],e,n);else if(Pa(t)||os(t))t.forEach(r=>{si(r,e,n)});else if(L5(t)){for(const r in t)si(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&si(t[r],e,n)}return t}function NA(t,e,n=ft){const r=lo(),o=It(e),i=Kn(e),a=tb(t,e),s=u4((u,l)=>{let f,c=ft,d;return Q4(()=>{const p=t[e];Un(f,p)&&(f=p,l())}),{get(){return u(),n.get?n.get(f):f},set(p){if(!Un(p,f)&&!(c!==ft&&Un(p,c)))return;const h=r.vnode.props;h&&(e in h||o in h||i in h)&&(`onUpdate:${e}`in h||`onUpdate:${o}`in h||`onUpdate:${i}`in h)||(f=p,l());const m=n.set?n.set(p):p;r.emit(`update:${e}`,m),Un(p,m)&&Un(p,c)&&!Un(m,d)&&l(),c=p,d=m}}});return s[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?a||ft:s,done:!1}:{done:!0}}}},s}const tb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${It(e)}Modifiers`]||t[`${Kn(e)}Modifiers`];function RA(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ft;let o=n;const i=e.startsWith("update:"),a=i&&tb(r,e.slice(7));a&&(a.trim&&(o=n.map(f=>He(f)?f.trim():f)),a.number&&(o=n.map(D0)));let s,u=r[s=is(e)]||r[s=is(It(e))];!u&&i&&(u=r[s=is(Kn(e))]),u&&ur(u,t,6,o);const l=r[s+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,ur(l,t,6,o)}}function nb(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(o!==void 0)return o;const i=t.emits;let a={},s=!1;if(!Ve(t)){const u=l=>{const f=nb(l,e,!0);f&&(s=!0,ht(a,f))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!s?(St(t)&&r.set(t,null),null):(De(i)?i.forEach(u=>a[u]=null):ht(a,i),St(t)&&r.set(t,a),a)}function Xf(t,e){return!t||!Ia(e)?!1:(e=e.slice(2).replace(/Once$/,""),dt(t,e[0].toLowerCase()+e.slice(1))||dt(t,Kn(e))||dt(t,e))}function e0(t){const{type:e,vnode:n,proxy:r,withProxy:o,propsOptions:[i],slots:a,attrs:s,emit:u,render:l,renderCache:f,props:c,data:d,setupState:p,ctx:h,inheritAttrs:m}=t,y=Xl(t);let b,v;try{if(n.shapeFlag&4){const x=o||r,S=x;b=$n(l.call(S,x,f,c,p,d,h)),v=s}else{const x=e;b=$n(x.length>1?x(c,{attrs:s,slots:a,emit:u}):x(c,null)),v=e.props?s:kA(s)}}catch(x){Ll.length=0,Oa(x,t,1),b=Q(an)}let g=b;if(v&&m!==!1){const x=Object.keys(v),{shapeFlag:S}=g;x.length&&S&7&&(i&&x.some(Um)&&(v=LA(v,i)),g=jr(g,v,!1,!0))}return n.dirs&&(g=jr(g,null,!1,!0),g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),b=g,Xl(y),b}function MA(t,e=!0){let n;for(let r=0;r<t.length;r++){const o=t[r];if(No(o)){if(o.type!==an||o.children==="v-if"){if(n)return;n=o}}else return}return n}const kA=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ia(n))&&((e||(e={}))[n]=t[n]);return e},LA=(t,e)=>{const n={};for(const r in t)(!Um(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function FA(t,e,n){const{props:r,children:o,component:i}=t,{props:a,children:s,patchFlag:u}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?j2(r,a,l):!!a;if(u&8){const f=e.dynamicProps;for(let c=0;c<f.length;c++){const d=f[c];if(a[d]!==r[d]&&!Xf(l,d))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?j2(r,a,l):!0:!!a;return!1}function j2(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(e[i]!==t[i]&&!Xf(n,i))return!0}return!1}function s1({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const hh=t=>t.__isSuspense;let mh=0;const BA={name:"Suspense",__isSuspense:!0,process(t,e,n,r,o,i,a,s,u,l){if(t==null)UA(e,n,r,o,i,a,s,u,l);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}GA(t,e,n,r,o,a,s,u,l)}},hydrate:zA,normalize:jA},VA=BA;function Jl(t,e){const n=t.props&&t.props[e];Ve(n)&&n()}function UA(t,e,n,r,o,i,a,s,u){const{p:l,o:{createElement:f}}=u,c=f("div"),d=t.suspense=rb(t,o,r,e,c,n,i,a,s,u);l(null,d.pendingBranch=t.ssContent,c,null,r,d,i,a),d.deps>0?(Jl(t,"onPending"),Jl(t,"onFallback"),l(null,t.ssFallback,e,n,r,null,i,a),cs(d,t.ssFallback)):d.resolve(!1,!0)}function GA(t,e,n,r,o,i,a,s,{p:u,um:l,o:{createElement:f}}){const c=e.suspense=t.suspense;c.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:h,pendingBranch:m,isInFallback:y,isHydrating:b}=c;if(m)c.pendingBranch=d,Mr(d,m)?(u(m,d,c.hiddenContainer,null,o,c,i,a,s),c.deps<=0?c.resolve():y&&(b||(u(h,p,n,r,o,null,i,a,s),cs(c,p)))):(c.pendingId=mh++,b?(c.isHydrating=!1,c.activeBranch=m):l(m,o,c),c.deps=0,c.effects.length=0,c.hiddenContainer=f("div"),y?(u(null,d,c.hiddenContainer,null,o,c,i,a,s),c.deps<=0?c.resolve():(u(h,p,n,r,o,null,i,a,s),cs(c,p))):h&&Mr(d,h)?(u(h,d,n,r,o,c,i,a,s),c.resolve(!0)):(u(null,d,c.hiddenContainer,null,o,c,i,a,s),c.deps<=0&&c.resolve()));else if(h&&Mr(d,h))u(h,d,n,r,o,c,i,a,s),cs(c,d);else if(Jl(e,"onPending"),c.pendingBranch=d,d.shapeFlag&512?c.pendingId=d.component.suspenseId:c.pendingId=mh++,u(null,d,c.hiddenContainer,null,o,c,i,a,s),c.deps<=0)c.resolve();else{const{timeout:v,pendingId:g}=c;v>0?setTimeout(()=>{c.pendingId===g&&c.fallback(p)},v):v===0&&c.fallback(p)}}function rb(t,e,n,r,o,i,a,s,u,l,f=!1){const{p:c,m:d,um:p,n:h,o:{parentNode:m,remove:y}}=l;let b;const v=WA(t);v&&e&&e.pendingBranch&&(b=e.pendingId,e.deps++);const g=t.props?I0(t.props.timeout):void 0,x=i,S={vnode:t,parent:e,parentComponent:n,namespace:a,container:r,hiddenContainer:o,deps:0,pendingId:mh++,timeout:typeof g=="number"?g:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(C=!1,w=!1){const{vnode:T,activeBranch:_,pendingBranch:A,pendingId:E,effects:D,parentComponent:O,container:P}=S;let k=!1;S.isHydrating?S.isHydrating=!1:C||(k=_&&A.transition&&A.transition.mode==="out-in",k&&(_.transition.afterLeave=()=>{E===S.pendingId&&(d(A,P,i===x?h(_):i,0),O0(D))}),_&&(m(_.el)!==S.hiddenContainer&&(i=h(_)),p(_,O,S,!0)),k||d(A,P,i,0)),cs(S,A),S.pendingBranch=null,S.isInFallback=!1;let U=S.parent,H=!1;for(;U;){if(U.pendingBranch){U.effects.push(...D),H=!0;break}U=U.parent}!H&&!k&&O0(D),S.effects=[],v&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!w&&e.resolve()),Jl(T,"onResolve")},fallback(C){if(!S.pendingBranch)return;const{vnode:w,activeBranch:T,parentComponent:_,container:A,namespace:E}=S;Jl(w,"onFallback");const D=h(T),O=()=>{S.isInFallback&&(c(null,C,A,D,_,null,E,s,u),cs(S,C))},P=C.transition&&C.transition.mode==="out-in";P&&(T.transition.afterLeave=O),S.isInFallback=!0,p(T,_,null,!0),P||O()},move(C,w,T){S.activeBranch&&d(S.activeBranch,C,w,T),S.container=C},next(){return S.activeBranch&&h(S.activeBranch)},registerDep(C,w,T){const _=!!S.pendingBranch;_&&S.deps++;const A=C.vnode.el;C.asyncDep.catch(E=>{Oa(E,C,0)}).then(E=>{if(C.isUnmounted||S.isUnmounted||S.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:D}=C;bh(C,E,!1),A&&(D.el=A);const O=!A&&C.subTree.el;w(C,D,m(A||C.subTree.el),A?null:h(C.subTree),S,a,T),O&&y(O),s1(C,D.el),_&&--S.deps===0&&S.resolve()})},unmount(C,w){S.isUnmounted=!0,S.activeBranch&&p(S.activeBranch,n,C,w),S.pendingBranch&&p(S.pendingBranch,n,C,w)}};return S}function zA(t,e,n,r,o,i,a,s,u){const l=e.suspense=rb(e,r,n,t.parentNode,document.createElement("div"),null,o,i,a,s,!0),f=u(t,l.pendingBranch=e.ssContent,n,l,i,a);return l.deps===0&&l.resolve(!1,!0),f}function jA(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=W2(r?n.default:n),t.ssFallback=r?W2(n.fallback):Q(an)}function W2(t){let e;if(Ve(t)){const n=ba&&t._c;n&&(t._d=!1,ws()),t=t(),n&&(t._d=!0,e=On,ib())}return De(t)&&(t=MA(t)),t=$n(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function ob(t,e){e&&e.pendingBranch?De(t)?e.effects.push(...t):e.effects.push(t):O0(t)}function cs(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let o=e.el;for(;!o&&e.component;)e=e.component.subTree,o=e.el;n.el=o,r&&r.subTree===n&&(r.vnode.el=o,s1(r,o))}function WA(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Je=Symbol.for("v-fgt"),Eo=Symbol.for("v-txt"),an=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),Ll=[];let On=null;function ws(t=!1){Ll.push(On=t?null:[])}function ib(){Ll.pop(),On=Ll[Ll.length-1]||null}let ba=1;function gh(t){ba+=t,t<0&&On&&(On.hasOnce=!0)}function ab(t){return t.dynamicChildren=ba>0?On||rs:null,ib(),ba>0&&On&&On.push(t),t}function sb(t,e,n,r,o,i){return ab(Jf(t,e,n,r,o,i,!0))}function Yf(t,e,n,r,o){return ab(Q(t,e,n,r,o,!0))}function No(t){return t?t.__v_isVNode===!0:!1}function Mr(t,e){return t.type===e.type&&t.key===e.key}function HA(t){}const lb=({key:t})=>t!=null?t:null,t0=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?He(t)||Ut(t)||Ve(t)?{i:un,r:t,k:e,f:!!n}:t:null);function Jf(t,e=null,n=null,r=0,o=null,i=t===Je?0:1,a=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&lb(e),ref:e&&t0(e),scopeId:jf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:un};return s?(l1(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=He(n)?8:16),ba>0&&!a&&On&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&On.push(u),u}const Q=$A;function $A(t,e=null,n=null,r=0,o=null,i=!1){if((!t||t===E4)&&(t=an),No(t)){const s=jr(t,e,!0);return n&&l1(s,n),ba>0&&!i&&On&&(s.shapeFlag&6?On[On.indexOf(t)]=s:On.push(s)),s.patchFlag=-2,s}if(QA(t)&&(t=t.__vccOpts),e){e=ub(e);let{class:s,style:u}=e;s&&!He(s)&&(e.class=Au(s)),St(u)&&(qm(u)&&!De(u)&&(u=ht({},u)),e.style=_u(u))}const a=He(t)?1:hh(t)?128:TA(t)?64:St(t)?4:Ve(t)?2:0;return Jf(t,e,n,r,o,a,i,!0)}function ub(t){return t?qm(t)||k4(t)?ht({},t):t:null}function jr(t,e,n=!1,r=!1){const{props:o,ref:i,patchFlag:a,children:s,transition:u}=t,l=e?tt(o||{},e):o,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&lb(l),ref:e&&e.ref?n&&i?De(i)?i.concat(t0(e)):[i,t0(e)]:t0(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Je?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jr(t.ssContent),ssFallback:t.ssFallback&&jr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&vi(f,u.clone(f)),f}function Zf(t=" ",e=0){return Q(Eo,null,t,e)}function KA(t,e){const n=Q(ua,null,t);return n.staticCount=e,n}function cb(t="",e=!1){return e?(ws(),Yf(an,null,t)):Q(an,null,t)}function $n(t){return t==null||typeof t=="boolean"?Q(an):De(t)?Q(Je,null,t.slice()):typeof t=="object"?ii(t):Q(Eo,null,String(t))}function ii(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jr(t)}function l1(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(De(e))n=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),l1(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!k4(e)?e._ctx=un:o===3&&un&&(un.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ve(e)?(e={default:e,_ctx:un},n=32):(e=String(e),r&64?(n=16,e=[Zf(e)]):n=8);t.children=e,t.shapeFlag|=n}function tt(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=Au([e.class,r.class]));else if(o==="style")e.style=_u([e.style,r.style]);else if(Ia(o)){const i=e[o],a=r[o];a&&i!==a&&!(De(i)&&i.includes(a))&&(e[o]=i?[].concat(i,a):a)}else o!==""&&(e[o]=r[o])}return e}function Hn(t,e,n,r=null){ur(t,e,7,[n,r])}const qA=N4();let XA=0;function fb(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||qA,i={uid:XA++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:F4(r,o),emitsOptions:nb(r,o),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:r.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=RA.bind(null,i),t.ce&&t.ce(i),i}let sn=null;const lo=()=>sn||un;let L0,vh;{const t=B5(),e=(n,r)=>{let o;return(o=t[n])||(o=t[n]=[]),o.push(r),i=>{o.length>1?o.forEach(a=>a(i)):o[0](i)}};L0=e("__VUE_INSTANCE_SETTERS__",n=>sn=n),vh=e("__VUE_SSR_SETTERS__",n=>Iu=n)}const xa=t=>{const e=sn;return L0(t),t.scope.on(),()=>{t.scope.off(),L0(e)}},yh=()=>{sn&&sn.scope.off(),L0(null)};function db(t){return t.vnode.shapeFlag&4}let Iu=!1;function pb(t,e=!1,n=!1){e&&vh(e);const{props:r,children:o}=t.vnode,i=db(t);yA(t,r,i,e),CA(t,o,n);const a=i?YA(t,e):void 0;return e&&vh(!1),a}function YA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,uh);const{setup:r}=n;if(r){const o=t.setupContext=r.length>1?gb(t):null,i=xa(t);_i();const a=Ao(r,t,0,[t.props,o]);if(Ai(),i(),zm(a)){if(a.then(yh,yh),e)return a.then(s=>{bh(t,s,e)}).catch(s=>{Oa(s,t,0)});t.asyncDep=a}else bh(t,a,e)}else mb(t,e)}function bh(t,e,n){Ve(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:St(e)&&(t.setupState=Jm(e)),mb(t,n)}let F0,xh;function hb(t){F0=t,xh=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Y_))}}const JA=()=>!F0;function mb(t,e,n){const r=t.type;if(!t.render){if(!e&&F0&&!r.render){const o=r.template||o1(t).template;if(o){const{isCustomElement:i,compilerOptions:a}=t.appContext.config,{delimiters:s,compilerOptions:u}=r,l=ht(ht({isCustomElement:i,delimiters:s},a),u);r.render=F0(o,l)}}t.render=r.render||ln,xh&&xh(t)}{const o=xa(t);_i();try{cA(t)}finally{Ai(),o()}}}const ZA={get(t,e){return Zn(t,"get",""),t[e]}};function gb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ZA),slots:t.slots,emit:t.emit,expose:e}}function Pu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Jm(a4(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ml)return Ml[n](t)},has(e,n){return n in e||n in Ml}})):t.proxy}function Sh(t,e=!0){return Ve(t)?t.displayName||t.name:t.name||e&&t.__name}function QA(t){return Ve(t)&&"__vccOpts"in t}const re=(t,e)=>x_(t,e,Iu);function Na(t,e,n){const r=arguments.length;return r===2?St(e)&&!De(e)?No(e)?Q(t,null,[e]):Q(t,e):Q(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&No(n)&&(n=[n]),Q(t,e,n))}function eE(){}function tE(t,e,n,r){const o=n[r];if(o&&vb(o,t))return o;const i=e();return i.memo=t.slice(),i.cacheIndex=r,n[r]=i}function vb(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Un(n[r],e[r]))return!1;return ba>0&&On&&On.push(t),!0}const yb="3.4.34",nE=ln,rE=N_,oE=Ka,iE=h4,aE={createComponentInstance:fb,setupComponent:pb,renderComponentRoot:e0,setCurrentRenderingInstance:Xl,isVNode:No,normalizeVNode:$n,getComponentPublicInstance:Pu},sE=aE,lE=null,uE=null,cE=null;/**
* @vue/runtime-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fE="http://www.w3.org/2000/svg",dE="http://www.w3.org/1998/Math/MathML",bo=typeof document!="undefined"?document:null,H2=bo&&bo.createElement("template"),pE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const o=e==="svg"?bo.createElementNS(fE,t):e==="mathml"?bo.createElementNS(dE,t):n?bo.createElement(t,{is:n}):bo.createElement(t);return t==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:t=>bo.createTextNode(t),createComment:t=>bo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,o,i){const a=n?n.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{H2.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const s=H2.content;if(r==="svg"||r==="mathml"){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$o="transition",il="animation",Ts=Symbol("_vtc"),so=(t,{slots:e})=>Na(g4,xb(t),e);so.displayName="Transition";const bb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hE=so.props=ht({},t1,bb),Ni=(t,e=[])=>{De(t)?t.forEach(n=>n(...e)):t&&t(...e)},$2=t=>t?De(t)?t.some(e=>e.length>1):t.length>1:!1;function xb(t){const e={};for(const D in t)D in bb||(e[D]=t[D]);if(t.css===!1)return e;const{name:n="v",type:r,duration:o,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:l=a,appearToClass:f=s,leaveFromClass:c=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,h=mE(o),m=h&&h[0],y=h&&h[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:g,onLeave:x,onLeaveCancelled:S,onBeforeAppear:C=b,onAppear:w=v,onAppearCancelled:T=g}=e,_=(D,O,P)=>{Jo(D,O?f:s),Jo(D,O?l:a),P&&P()},A=(D,O)=>{D._isLeaving=!1,Jo(D,c),Jo(D,p),Jo(D,d),O&&O()},E=D=>(O,P)=>{const k=D?w:v,U=()=>_(O,D,P);Ni(k,[O,U]),K2(()=>{Jo(O,D?u:i),go(O,D?f:s),$2(k)||q2(O,r,m,U)})};return ht(e,{onBeforeEnter(D){Ni(b,[D]),go(D,i),go(D,a)},onBeforeAppear(D){Ni(C,[D]),go(D,u),go(D,l)},onEnter:E(!1),onAppear:E(!0),onLeave(D,O){D._isLeaving=!0;const P=()=>A(D,O);go(D,c),go(D,d),Cb(),K2(()=>{D._isLeaving&&(Jo(D,c),go(D,p),$2(x)||q2(D,r,y,P))}),Ni(x,[D,P])},onEnterCancelled(D){_(D,!1),Ni(g,[D])},onAppearCancelled(D){_(D,!0),Ni(T,[D])},onLeaveCancelled(D){A(D),Ni(S,[D])}})}function mE(t){if(t==null)return null;if(St(t))return[Kd(t.enter),Kd(t.leave)];{const e=Kd(t);return[e,e]}}function Kd(t){return I0(t)}function go(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ts]||(t[Ts]=new Set)).add(e)}function Jo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Ts];n&&(n.delete(e),n.size||(t[Ts]=void 0))}function K2(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let gE=0;function q2(t,e,n,r){const o=t._endId=++gE,i=()=>{o===t._endId&&r()};if(n)return setTimeout(i,n);const{type:a,timeout:s,propCount:u}=Sb(t,e);if(!a)return r();const l=a+"end";let f=0;const c=()=>{t.removeEventListener(l,d),i()},d=p=>{p.target===t&&++f>=u&&c()};setTimeout(()=>{f<u&&c()},s+1),t.addEventListener(l,d)}function Sb(t,e){const n=window.getComputedStyle(t),r=h=>(n[h]||"").split(", "),o=r(`${$o}Delay`),i=r(`${$o}Duration`),a=X2(o,i),s=r(`${il}Delay`),u=r(`${il}Duration`),l=X2(s,u);let f=null,c=0,d=0;e===$o?a>0&&(f=$o,c=a,d=i.length):e===il?l>0&&(f=il,c=l,d=u.length):(c=Math.max(a,l),f=c>0?a>l?$o:il:null,d=f?f===$o?i.length:u.length:0);const p=f===$o&&/\b(transform|all)(,|$)/.test(r(`${$o}Property`).toString());return{type:f,timeout:c,propCount:d,hasTransform:p}}function X2(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Y2(n)+Y2(t[r])))}function Y2(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Cb(){return document.body.offsetHeight}function vE(t,e,n){const r=t[Ts];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const B0=Symbol("_vod"),wb=Symbol("_vsh"),jo={beforeMount(t,{value:e},{transition:n}){t[B0]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):al(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),al(t,!0),r.enter(t)):r.leave(t,()=>{al(t,!1)}):al(t,e))},beforeUnmount(t,{value:e}){al(t,e)}};function al(t,e){t.style.display=e?t[B0]:"none",t[wb]=!e}function yE(){jo.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Tb=Symbol("");function bE(t){const e=lo();if(!e)return;const n=e.ut=(o=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>wh(i,o))},r=()=>{const o=t(e.proxy);Ch(e.subTree,o),n(o)};cn(()=>{Z4(r);const o=new MutationObserver(r);o.observe(e.subTree.el.parentNode,{childList:!0}),qf(()=>o.disconnect())})}function Ch(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Ch(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)wh(t.el,e);else if(t.type===Je)t.children.forEach(n=>Ch(n,e));else if(t.type===ua){let{el:n,anchor:r}=t;for(;n&&(wh(n,e),n!==r);)n=n.nextSibling}}function wh(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const o in e)n.setProperty(`--${o}`,e[o]),r+=`--${o}: ${e[o]};`;n[Tb]=r}}const xE=/(^|;)\s*display\s*:/;function SE(t,e,n){const r=t.style,o=He(n);let i=!1;if(n&&!o){if(e)if(He(e))for(const a of e.split(";")){const s=a.slice(0,a.indexOf(":")).trim();n[s]==null&&n0(r,s,"")}else for(const a in e)n[a]==null&&n0(r,a,"");for(const a in n)a==="display"&&(i=!0),n0(r,a,n[a])}else if(o){if(e!==n){const a=r[Tb];a&&(n+=";"+a),r.cssText=n,i=xE.test(n)}}else e&&t.removeAttribute("style");B0 in t&&(t[B0]=i?r.display:"",t[wb]&&(r.display="none"))}const J2=/\s*!important$/;function n0(t,e,n){if(De(n))n.forEach(r=>n0(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=CE(t,e);J2.test(n)?t.setProperty(Kn(r),n.replace(J2,""),"important"):t[r]=n}}const Z2=["Webkit","Moz","ms"],qd={};function CE(t,e){const n=qd[e];if(n)return n;let r=It(e);if(r!=="filter"&&r in t)return qd[e]=r;r=Uo(r);for(let o=0;o<Z2.length;o++){const i=Z2[o]+r;if(i in t)return qd[e]=i}return e}const Q2="http://www.w3.org/1999/xlink";function ev(t,e,n,r,o,i=XT(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Q2,e.slice(6,e.length)):t.setAttributeNS(Q2,e,n):n==null||i&&!U5(n)?t.removeAttribute(e):t.setAttribute(e,i?"":fr(n)?String(n):n)}function wE(t,e,n,r){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,s=n==null?"":String(n);(a!==s||!("_value"in t))&&(t.value=s),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=U5(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{t[e]=n}catch(a){}i&&t.removeAttribute(e)}function So(t,e,n,r){t.addEventListener(e,n,r)}function TE(t,e,n,r){t.removeEventListener(e,n,r)}const tv=Symbol("_vei");function _E(t,e,n,r,o=null){const i=t[tv]||(t[tv]={}),a=i[e];if(r&&a)a.value=r;else{const[s,u]=AE(e);if(r){const l=i[e]=IE(r,o);So(t,s,l,u)}else a&&(TE(t,s,a,u),i[e]=void 0)}}const nv=/(?:Once|Passive|Capture)$/;function AE(t){let e;if(nv.test(t)){e={};let r;for(;r=t.match(nv);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kn(t.slice(2)),e]}let Xd=0;const EE=Promise.resolve(),DE=()=>Xd||(EE.then(()=>Xd=0),Xd=Date.now());function IE(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ur(PE(r,n.value),e,5,[r])};return n.value=t,n.attached=DE(),n}function PE(t,e){if(De(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const rv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,OE=(t,e,n,r,o,i)=>{const a=o==="svg";e==="class"?vE(t,r,a):e==="style"?SE(t,n,r):Ia(e)?Um(e)||_E(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):NE(t,e,r,a))?(wE(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ev(t,e,r,a,i,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ev(t,e,r,a))};function NE(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&rv(e)&&Ve(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return rv(e)&&He(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function _b(t,e,n){const r=Hf(t,e);class o extends Qf{constructor(a){super(r,a,n)}}return o.def=r,o}/*! #__NO_SIDE_EFFECTS__ */const RE=(t,e)=>_b(t,e,Lb),ME=typeof HTMLElement!="undefined"?HTMLElement:class{};class Qf extends ME{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Gt(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),Th(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,o=!1)=>{const{props:i,styles:a}=r;let s;if(i&&!De(i))for(const u in i){const l=i[u];(l===Number||l&&l.type===Number)&&(u in this._props&&(this._props[u]=I0(this._props[u])),(s||(s=Object.create(null)))[It(u)]=!0)}this._numberProps=s,o&&this._resolveProps(r),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=De(n)?n:Object.keys(n||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(It))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(i){this._setProp(o,i)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const r=It(e);this._numberProps&&this._numberProps[r]&&(n=I0(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,o=!0){n!==this._props[e]&&(this._props[e]=n,o&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Kn(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Kn(e),n+""):n||this.removeAttribute(Kn(e))))}_update(){Th(this._createVNode(),this.shadowRoot)}_createVNode(){const e=Q(this._def,ht({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(i,a)=>{this.dispatchEvent(new CustomEvent(i,{detail:a}))};n.emit=(i,...a)=>{r(i,a),Kn(i)!==i&&r(Kn(i),a)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof Qf){n.parent=o._instance,n.provides=o._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function kE(t="$style"){{const e=lo();if(!e)return ft;const n=e.type.__cssModules;if(!n)return ft;const r=n[t];return r||ft}}const Ab=new WeakMap,Eb=new WeakMap,V0=Symbol("_moveCb"),ov=Symbol("_enterCb"),Db={name:"TransitionGroup",props:ht({},hE,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=lo(),r=e1();let o,i;return Ws(()=>{if(!o.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!UE(o[0].el,n.vnode.el,a))return;o.forEach(FE),o.forEach(BE);const s=o.filter(VE);Cb(),s.forEach(u=>{const l=u.el,f=l.style;go(l,a),f.transform=f.webkitTransform=f.transitionDuration="";const c=l[V0]=d=>{d&&d.target!==l||(!d||/transform$/.test(d.propertyName))&&(l.removeEventListener("transitionend",c),l[V0]=null,Jo(l,a))};l.addEventListener("transitionend",c)})}),()=>{const a=Ue(t),s=xb(a);let u=a.tag||Je;if(o=[],i)for(let l=0;l<i.length;l++){const f=i[l];f.el&&f.el instanceof Element&&(o.push(f),vi(f,Cs(f,s,r,n)),Ab.set(f,f.el.getBoundingClientRect()))}i=e.default?Wf(e.default()):[];for(let l=0;l<i.length;l++){const f=i[l];f.key!=null&&vi(f,Cs(f,s,r,n))}return Q(u,null,i)}}},LE=t=>delete t.mode;Db.props;const ed=Db;function FE(t){const e=t.el;e[V0]&&e[V0](),e[ov]&&e[ov]()}function BE(t){Eb.set(t,t.el.getBoundingClientRect())}function VE(t){const e=Ab.get(t),n=Eb.get(t),r=e.left-n.left,o=e.top-n.top;if(r||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",t}}function UE(t,e,n){const r=t.cloneNode(),o=t[Ts];o&&o.forEach(s=>{s.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:a}=Sb(r);return i.removeChild(r),a}const yi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return De(e)?n=>as(e,n):e};function GE(t){t.target.composing=!0}function iv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const wr=Symbol("_assign"),U0={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t[wr]=yi(o);const i=r||o.props&&o.props.type==="number";So(t,e?"change":"input",a=>{if(a.target.composing)return;let s=t.value;n&&(s=s.trim()),i&&(s=D0(s)),t[wr](s)}),n&&So(t,"change",()=>{t.value=t.value.trim()}),e||(So(t,"compositionstart",GE),So(t,"compositionend",iv),So(t,"change",iv))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:o,number:i}},a){if(t[wr]=yi(a),t.composing)return;const s=(i||t.type==="number")&&!/^0\d/.test(t.value)?D0(t.value):t.value,u=e==null?"":e;s!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||o&&t.value.trim()===u)||(t.value=u))}},u1={deep:!0,created(t,e,n){t[wr]=yi(n),So(t,"change",()=>{const r=t._modelValue,o=_s(t),i=t.checked,a=t[wr];if(De(r)){const s=Ff(r,o),u=s!==-1;if(i&&!u)a(r.concat(o));else if(!i&&u){const l=[...r];l.splice(s,1),a(l)}}else if(Pa(r)){const s=new Set(r);i?s.add(o):s.delete(o),a(s)}else a(Pb(t,i))})},mounted:av,beforeUpdate(t,e,n){t[wr]=yi(n),av(t,e,n)}};function av(t,{value:e,oldValue:n},r){t._modelValue=e,De(e)?t.checked=Ff(e,r.props.value)>-1:Pa(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=mi(e,Pb(t,!0)))}const c1={created(t,{value:e},n){t.checked=mi(e,n.props.value),t[wr]=yi(n),So(t,"change",()=>{t[wr](_s(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[wr]=yi(r),e!==n&&(t.checked=mi(e,r.props.value))}},Ib={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const o=Pa(e);So(t,"change",()=>{const i=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?D0(_s(a)):_s(a));t[wr](t.multiple?o?new Set(i):i:i[0]),t._assigning=!0,Gt(()=>{t._assigning=!1})}),t[wr]=yi(r)},mounted(t,{value:e,modifiers:{number:n}}){sv(t,e)},beforeUpdate(t,e,n){t[wr]=yi(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||sv(t,e)}};function sv(t,e,n){const r=t.multiple,o=De(e);if(!(r&&!o&&!Pa(e))){for(let i=0,a=t.options.length;i<a;i++){const s=t.options[i],u=_s(s);if(r)if(o){const l=typeof u;l==="string"||l==="number"?s.selected=e.some(f=>String(f)===String(u)):s.selected=Ff(e,u)>-1}else s.selected=e.has(u);else if(mi(_s(s),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function _s(t){return"_value"in t?t._value:t.value}function Pb(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Ob={created(t,e,n){cc(t,e,n,null,"created")},mounted(t,e,n){cc(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){cc(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){cc(t,e,n,r,"updated")}};function Nb(t,e){switch(t){case"SELECT":return Ib;case"TEXTAREA":return U0;default:switch(e){case"checkbox":return u1;case"radio":return c1;default:return U0}}}function cc(t,e,n,r,o){const a=Nb(t.tagName,n.props&&n.props.type)[o];a&&a(t,e,n,r)}function zE(){U0.getSSRProps=({value:t})=>({value:t}),c1.getSSRProps=({value:t},e)=>{if(e.props&&mi(e.props.value,t))return{checked:!0}},u1.getSSRProps=({value:t},e)=>{if(De(t)){if(e.props&&Ff(t,e.props.value)>-1)return{checked:!0}}else if(Pa(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Ob.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Nb(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const jE=["ctrl","shift","alt","meta"],WE={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>jE.some(n=>t[`${n}Key`]&&!e.includes(n))},HE=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(o,...i)=>{for(let a=0;a<e.length;a++){const s=WE[e[a]];if(s&&s(o,e))return}return t(o,...i)})},$E={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},KE=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=o=>{if(!("key"in o))return;const i=Kn(o.key);if(e.some(a=>a===i||$E[a]===i))return t(o)})},Rb=ht({patchProp:OE},pE);let Fl,lv=!1;function Mb(){return Fl||(Fl=H4(Rb))}function kb(){return Fl=lv?Fl:$4(Rb),lv=!0,Fl}const Th=(...t)=>{Mb().render(...t)},Lb=(...t)=>{kb().hydrate(...t)},Fb=(...t)=>{const e=Mb().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=Vb(r);if(!o)return;const i=e._component;!Ve(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,Bb(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e},qE=(...t)=>{const e=kb().createApp(...t),{mount:n}=e;return e.mount=r=>{const o=Vb(r);if(o)return n(o,!0,Bb(o))},e};function Bb(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Vb(t){return He(t)?document.querySelector(t):t}let uv=!1;const XE=()=>{uv||(uv=!0,zE(),yE())},YE=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:g4,BaseTransitionPropsValidators:t1,Comment:an,DeprecationTypes:cE,EffectScope:Wm,ErrorCodes:O_,ErrorTypeStrings:rE,Fragment:Je,KeepAlive:j_,ReactiveEffect:Ss,Static:ua,Suspense:VA,Teleport:j4,Text:Eo,TrackOpTypes:D_,Transition:so,TransitionGroup:ed,TriggerOpTypes:I_,VueElement:Qf,assertNumber:P_,callWithAsyncErrorHandling:ur,callWithErrorHandling:Ao,camelize:It,capitalize:Uo,cloneVNode:jr,compatUtils:uE,computed:re,createApp:Fb,createBlock:Yf,createCommentVNode:cb,createElementBlock:sb,createElementVNode:Jf,createHydrationRenderer:$4,createPropsRestProxy:lA,createRenderer:H4,createSSRApp:qE,createSlots:K_,createStaticVNode:KA,createTextVNode:Zf,createVNode:Q,customRef:u4,defineAsyncComponent:G_,defineComponent:Hf,defineCustomElement:_b,defineEmits:Z_,defineExpose:Q_,defineModel:nA,defineOptions:eA,defineProps:J_,defineSSRCustomElement:RE,defineSlots:tA,devtools:oE,effect:ZT,effectScope:Bf,getCurrentInstance:lo,getCurrentScope:H5,getTransitionRawChildren:Wf,guardReactiveProps:ub,h:Na,handleError:Oa,hasInjectionContext:vA,hydrate:Lb,initCustomFormatter:eE,initDirectivesForSSR:XE,inject:We,isMemoSame:vb,isProxy:qm,isReactive:sa,isReadonly:gi,isRef:Ut,isRuntimeOnly:JA,isShallow:ya,isVNode:No,markRaw:a4,mergeDefaults:aA,mergeModels:sA,mergeProps:tt,nextTick:Gt,normalizeClass:Au,normalizeProps:VT,normalizeStyle:_u,onActivated:y4,onBeforeMount:Kf,onBeforeUnmount:Ht,onBeforeUpdate:S4,onDeactivated:b4,onErrorCaptured:_4,onMounted:cn,onRenderTracked:T4,onRenderTriggered:w4,onScopeDispose:jn,onServerPrefetch:C4,onUnmounted:qf,onUpdated:Ws,openBlock:ws,popScopeId:B_,provide:Pt,proxyRefs:Jm,pushScopeId:F_,queuePostFlushCb:O0,reactive:$r,readonly:js,ref:Ae,registerRuntimeCompiler:hb,render:Th,renderList:$_,renderSlot:q_,resolveComponent:A4,resolveDirective:Ei,resolveDynamicComponent:D4,resolveFilter:lE,resolveTransitionHooks:Cs,setBlockTracking:gh,setDevtoolsHook:iE,setTransitionHooks:vi,shallowReactive:i4,shallowReadonly:b_,shallowRef:Ge,ssrContextKey:Y4,ssrUtils:sE,stop:QT,toDisplayString:z5,toHandlerKey:is,toHandlers:X_,toRaw:Ue,toRef:Me,toRefs:Go,toValue:w_,transformVNodeArgs:HA,triggerRef:C_,unref:wn,useAttrs:iA,useCssModule:kE,useCssVars:bE,useModel:NA,useSSRContext:J4,useSlots:oA,useTransitionState:e1,vModelCheckbox:u1,vModelDynamic:Ob,vModelRadio:c1,vModelSelect:Ib,vModelText:U0,vShow:jo,version:yb,warn:nE,watch:xe,watchEffect:ao,watchPostEffect:Z4,watchSyncEffect:Q4,withAsyncContext:uA,withCtx:Qm,withDefaults:rA,withDirectives:Qn,withKeys:KE,withMemo:tE,withModifiers:HE,withScopeId:V_},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Zl=Symbol(""),Bl=Symbol(""),f1=Symbol(""),G0=Symbol(""),Ub=Symbol(""),Sa=Symbol(""),Gb=Symbol(""),zb=Symbol(""),d1=Symbol(""),p1=Symbol(""),Ou=Symbol(""),h1=Symbol(""),jb=Symbol(""),m1=Symbol(""),g1=Symbol(""),v1=Symbol(""),y1=Symbol(""),b1=Symbol(""),x1=Symbol(""),Wb=Symbol(""),Hb=Symbol(""),td=Symbol(""),z0=Symbol(""),S1=Symbol(""),C1=Symbol(""),Ql=Symbol(""),Nu=Symbol(""),w1=Symbol(""),_h=Symbol(""),JE=Symbol(""),Ah=Symbol(""),j0=Symbol(""),ZE=Symbol(""),QE=Symbol(""),T1=Symbol(""),eD=Symbol(""),tD=Symbol(""),_1=Symbol(""),$b=Symbol(""),As={[Zl]:"Fragment",[Bl]:"Teleport",[f1]:"Suspense",[G0]:"KeepAlive",[Ub]:"BaseTransition",[Sa]:"openBlock",[Gb]:"createBlock",[zb]:"createElementBlock",[d1]:"createVNode",[p1]:"createElementVNode",[Ou]:"createCommentVNode",[h1]:"createTextVNode",[jb]:"createStaticVNode",[m1]:"resolveComponent",[g1]:"resolveDynamicComponent",[v1]:"resolveDirective",[y1]:"resolveFilter",[b1]:"withDirectives",[x1]:"renderList",[Wb]:"renderSlot",[Hb]:"createSlots",[td]:"toDisplayString",[z0]:"mergeProps",[S1]:"normalizeClass",[C1]:"normalizeStyle",[Ql]:"normalizeProps",[Nu]:"guardReactiveProps",[w1]:"toHandlers",[_h]:"camelize",[JE]:"capitalize",[Ah]:"toHandlerKey",[j0]:"setBlockTracking",[ZE]:"pushScopeId",[QE]:"popScopeId",[T1]:"withCtx",[eD]:"unref",[tD]:"isRef",[_1]:"withMemo",[$b]:"isMemoSame"};function nD(t){Object.getOwnPropertySymbols(t).forEach(e=>{As[e]=t[e]})}const pr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function rD(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:pr}}function eu(t,e,n,r,o,i,a,s=!1,u=!1,l=!1,f=pr){return t&&(s?(t.helper(Sa),t.helper(Is(t.inSSR,l))):t.helper(Ds(t.inSSR,l)),a&&t.helper(b1)),{type:13,tag:e,props:n,children:r,patchFlag:o,dynamicProps:i,directives:a,isBlock:s,disableTracking:u,isComponent:l,loc:f}}function Ru(t,e=pr){return{type:17,loc:e,elements:t}}function Sr(t,e=pr){return{type:15,loc:e,properties:t}}function qt(t,e){return{type:16,loc:pr,key:He(t)?Ze(t,!0):t,value:e}}function Ze(t,e=!1,n=pr,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function Vr(t,e=pr){return{type:8,loc:e,children:t}}function on(t,e=[],n=pr){return{type:14,loc:n,callee:t,arguments:e}}function Es(t,e=void 0,n=!1,r=!1,o=pr){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:o}}function Eh(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:pr}}function oD(t,e,n=!1){return{type:20,index:t,value:e,isVOnce:n,loc:pr}}function iD(t){return{type:21,body:t,loc:pr}}function Ds(t,e){return t||e?d1:p1}function Is(t,e){return t||e?Gb:zb}function A1(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(Ds(r,t.isComponent)),e(Sa),e(Is(r,t.isComponent)))}const cv=new Uint8Array([123,123]),fv=new Uint8Array([125,125]);function dv(t){return t>=97&&t<=122||t>=65&&t<=90}function rr(t){return t===32||t===10||t===9||t===12||t===13}function Ko(t){return t===47||t===62||rr(t)}function W0(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const An={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class aD{constructor(e,n){this.stack=e,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=cv,this.delimiterClose=fv,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=cv,this.delimiterClose=fv}getPos(e){let n=1,r=e+1;for(let o=this.newlines.length-1;o>=0;o--){const i=this.newlines[o];if(e>i){n=o+2,r=e-i;break}}return{column:r,line:n,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Ko(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||rr(e)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const r=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=r}this.sectionStart=n+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===An.TitleEnd||this.currentSequence===An.TextareaEnd&&!this.inSFCRoot?e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===An.Cdata[this.sequenceIndex]?++this.sequenceIndex===An.Cdata.length&&(this.state=28,this.currentSequence=An.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===An.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,n){this.enterRCDATA(e,n),this.state=31}enterRCDATA(e,n){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=n}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):dv(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ko(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ko(e)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(W0("</"+n),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){rr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=dv(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||rr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):rr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):rr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ko(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ko(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ko(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ko(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ko(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):rr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):rr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,n){(e===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){rr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=An.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===An.ScriptEnd[3]?this.startSpecial(An.ScriptEnd,4):e===An.StyleEnd[3]?this.startSpecial(An.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===An.TitleEnd[3]?this.startSpecial(An.TitleEnd,4):e===An.TextareaEnd[3]?this.startSpecial(An.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===An.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,n){}}function pv(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function ca(t,e){const n=pv("MODE",e),r=pv(t,e);return n===3?r===!0:r!==!1}function tu(t,e,n,...r){return ca(t,e)}function E1(t){throw t}function Kb(t){}function Lt(t,e,n,r){const o=`https://vuejs.org/error-reference/#compiler-${t}`,i=new SyntaxError(String(o));return i.code=t,i.loc=e,i}const qn=t=>t.type===4&&t.isStatic;function qb(t){switch(t){case"Teleport":case"teleport":return Bl;case"Suspense":case"suspense":return f1;case"KeepAlive":case"keep-alive":return G0;case"BaseTransition":case"base-transition":return Ub}}const sD=/^\d|[^\$\w\xA0-\uFFFF]/,D1=t=>!sD.test(t),lD=/[A-Za-z_$\xA0-\uFFFF]/,uD=/[\.\?\w$\xA0-\uFFFF]/,cD=/\s+[.[]\s*|\s*[.[]\s+/g,fD=t=>{t=t.trim().replace(cD,a=>a.trim());let e=0,n=[],r=0,o=0,i=null;for(let a=0;a<t.length;a++){const s=t.charAt(a);switch(e){case 0:if(s==="[")n.push(e),e=1,r++;else if(s==="(")n.push(e),e=2,o++;else if(!(a===0?lD:uD).test(s))return!1;break;case 1:s==="'"||s==='"'||s==="`"?(n.push(e),e=3,i=s):s==="["?r++:s==="]"&&(--r||(e=n.pop()));break;case 2:if(s==="'"||s==='"'||s==="`")n.push(e),e=3,i=s;else if(s==="(")o++;else if(s===")"){if(a===t.length-1)return!1;--o||(e=n.pop())}break;case 3:s===i&&(e=n.pop(),i=null);break}}return!r&&!o},Xb=fD;function Pr(t,e,n=!1){for(let r=0;r<t.props.length;r++){const o=t.props[r];if(o.type===7&&(n||o.exp)&&(He(e)?o.name===e:e.test(o.name)))return o}}function nd(t,e,n=!1,r=!1){for(let o=0;o<t.props.length;o++){const i=t.props[o];if(i.type===6){if(n)continue;if(i.name===e&&(i.value||r))return i}else if(i.name==="bind"&&(i.exp||r)&&Zi(i.arg,e))return i}}function Zi(t,e){return!!(t&&qn(t)&&t.content===e)}function dD(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Yd(t){return t.type===5||t.type===2}function pD(t){return t.type===7&&t.name==="slot"}function H0(t){return t.type===1&&t.tagType===3}function $0(t){return t.type===1&&t.tagType===2}const hD=new Set([Ql,Nu]);function Yb(t,e=[]){if(t&&!He(t)&&t.type===14){const n=t.callee;if(!He(n)&&hD.has(n))return Yb(t.arguments[0],e.concat(t))}return[t,e]}function K0(t,e,n){let r,o=t.type===13?t.props:t.arguments[2],i=[],a;if(o&&!He(o)&&o.type===14){const s=Yb(o);o=s[0],i=s[1],a=i[i.length-1]}if(o==null||He(o))r=Sr([e]);else if(o.type===14){const s=o.arguments[0];!He(s)&&s.type===15?hv(e,s)||s.properties.unshift(e):o.callee===w1?r=on(n.helper(z0),[Sr([e]),o]):o.arguments.unshift(Sr([e])),!r&&(r=o)}else o.type===15?(hv(e,o)||o.properties.unshift(e),r=o):(r=on(n.helper(z0),[Sr([e]),o]),a&&a.callee===Nu&&(a=i[i.length-2]));t.type===13?a?a.arguments[0]=r:t.props=r:a?a.arguments[0]=r:t.arguments[2]=r}function hv(t,e){let n=!1;if(t.key.type===4){const r=t.key.content;n=e.properties.some(o=>o.key.type===4&&o.key.content===r)}return n}function nu(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function mD(t){return t.type===14&&t.callee===_1?t.arguments[1].returns:t}const gD=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Jb={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Qc,isPreTag:Qc,isCustomElement:Qc,onError:E1,onWarn:Kb,comments:!1,prefixIdentifiers:!1};let gt=Jb,ru=null,Do="",En=null,ut=null,Wn="",vo=-1,zi=-1,q0=0,ai=!1,Dh=null;const kt=[],jt=new aD(kt,{onerr:fo,ontext(t,e){fc(Sn(t,e),t,e)},ontextentity(t,e,n){fc(t,e,n)},oninterpolation(t,e){if(ai)return fc(Sn(t,e),t,e);let n=t+jt.delimiterOpen.length,r=e-jt.delimiterClose.length;for(;rr(Do.charCodeAt(n));)n++;for(;rr(Do.charCodeAt(r-1));)r--;let o=Sn(n,r);o.includes("&")&&(o=gt.decodeEntities(o,!1)),Ih({type:5,content:o0(o,!1,nn(n,r)),loc:nn(t,e)})},onopentagname(t,e){const n=Sn(t,e);En={type:1,tag:n,ns:gt.getNamespace(n,kt[0],gt.ns),tagType:0,props:[],children:[],loc:nn(t-1,e),codegenNode:void 0}},onopentagend(t){gv(t)},onclosetag(t,e){const n=Sn(t,e);if(!gt.isVoidTag(n)){let r=!1;for(let o=0;o<kt.length;o++)if(kt[o].tag.toLowerCase()===n.toLowerCase()){r=!0,o>0&&fo(24,kt[0].loc.start.offset);for(let a=0;a<=o;a++){const s=kt.shift();r0(s,e,a<o)}break}r||fo(23,Zb(t,60))}},onselfclosingtag(t){const e=En.tag;En.isSelfClosing=!0,gv(t),kt[0]&&kt[0].tag===e&&r0(kt.shift(),t)},onattribname(t,e){ut={type:6,name:Sn(t,e),nameLoc:nn(t,e),value:void 0,loc:nn(t)}},ondirname(t,e){const n=Sn(t,e),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!ai&&r===""&&fo(26,t),ai||r==="")ut={type:6,name:n,nameLoc:nn(t,e),value:void 0,loc:nn(t)};else if(ut={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?["prop"]:[],loc:nn(t)},r==="pre"){ai=jt.inVPre=!0,Dh=En;const o=En.props;for(let i=0;i<o.length;i++)o[i].type===7&&(o[i]=AD(o[i]))}},ondirarg(t,e){if(t===e)return;const n=Sn(t,e);if(ai)ut.name+=n,Qi(ut.nameLoc,e);else{const r=n[0]!=="[";ut.arg=o0(r?n:n.slice(1,-1),r,nn(t,e),r?3:0)}},ondirmodifier(t,e){const n=Sn(t,e);if(ai)ut.name+="."+n,Qi(ut.nameLoc,e);else if(ut.name==="slot"){const r=ut.arg;r&&(r.content+="."+n,Qi(r.loc,e))}else ut.modifiers.push(n)},onattribdata(t,e){Wn+=Sn(t,e),vo<0&&(vo=t),zi=e},onattribentity(t,e,n){Wn+=t,vo<0&&(vo=e),zi=n},onattribnameend(t){const e=ut.loc.start.offset,n=Sn(e,t);ut.type===7&&(ut.rawName=n),En.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&fo(2,e)},onattribend(t,e){if(En&&ut){if(Qi(ut.loc,e),t!==0)if(Wn.includes("&")&&(Wn=gt.decodeEntities(Wn,!0)),ut.type===6)ut.name==="class"&&(Wn=e6(Wn).trim()),t===1&&!Wn&&fo(13,e),ut.value={type:2,content:Wn,loc:t===1?nn(vo,zi):nn(vo-1,zi+1)},jt.inSFCRoot&&En.tag==="template"&&ut.name==="lang"&&Wn&&Wn!=="html"&&jt.enterRCDATA(W0("</template"),0);else{let n=0;ut.exp=o0(Wn,!1,nn(vo,zi),0,n),ut.name==="for"&&(ut.forParseResult=yD(ut.exp));let r=-1;ut.name==="bind"&&(r=ut.modifiers.indexOf("sync"))>-1&&tu("COMPILER_V_BIND_SYNC",gt,ut.loc,ut.rawName)&&(ut.name="model",ut.modifiers.splice(r,1))}(ut.type!==7||ut.name!=="pre")&&En.props.push(ut)}Wn="",vo=zi=-1},oncomment(t,e){gt.comments&&Ih({type:3,content:Sn(t,e),loc:nn(t-4,e+3)})},onend(){const t=Do.length;for(let e=0;e<kt.length;e++)r0(kt[e],t-1),fo(24,kt[e].loc.start.offset)},oncdata(t,e){kt[0].ns!==0?fc(Sn(t,e),t,e):fo(1,t-9)},onprocessinginstruction(t){(kt[0]?kt[0].ns:gt.ns)===0&&fo(21,t-1)}}),mv=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,vD=/^\(|\)$/g;function yD(t){const e=t.loc,n=t.content,r=n.match(gD);if(!r)return;const[,o,i]=r,a=(c,d,p=!1)=>{const h=e.start.offset+d,m=h+c.length;return o0(c,!1,nn(h,m),0,p?1:0)},s={source:a(i.trim(),n.indexOf(i,o.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let u=o.trim().replace(vD,"").trim();const l=o.indexOf(u),f=u.match(mv);if(f){u=u.replace(mv,"").trim();const c=f[1].trim();let d;if(c&&(d=n.indexOf(c,l+u.length),s.key=a(c,d,!0)),f[2]){const p=f[2].trim();p&&(s.index=a(p,n.indexOf(p,s.key?d+c.length:l+u.length),!0))}}return u&&(s.value=a(u,l,!0)),s}function Sn(t,e){return Do.slice(t,e)}function gv(t){jt.inSFCRoot&&(En.innerLoc=nn(t+1,t+1)),Ih(En);const{tag:e,ns:n}=En;n===0&&gt.isPreTag(e)&&q0++,gt.isVoidTag(e)?r0(En,t):(kt.unshift(En),(n===1||n===2)&&(jt.inXML=!0)),En=null}function fc(t,e,n){{const i=kt[0]&&kt[0].tag;i!=="script"&&i!=="style"&&t.includes("&")&&(t=gt.decodeEntities(t,!1))}const r=kt[0]||ru,o=r.children[r.children.length-1];o&&o.type===2?(o.content+=t,Qi(o.loc,n)):r.children.push({type:2,content:t,loc:nn(e,n)})}function r0(t,e,n=!1){n?Qi(t.loc,Zb(e,60)):Qi(t.loc,bD(e,62)+1),jt.inSFCRoot&&(t.children.length?t.innerLoc.end=ht({},t.children[t.children.length-1].loc.end):t.innerLoc.end=ht({},t.innerLoc.start),t.innerLoc.source=Sn(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:r,ns:o}=t;ai||(r==="slot"?t.tagType=2:vv(t)?t.tagType=3:SD(t)&&(t.tagType=1)),jt.inRCDATA||(t.children=Qb(t.children,t.tag)),o===0&&gt.isPreTag(r)&&q0--,Dh===t&&(ai=jt.inVPre=!1,Dh=null),jt.inXML&&(kt[0]?kt[0].ns:gt.ns)===0&&(jt.inXML=!1);{const i=t.props;if(!jt.inSFCRoot&&ca("COMPILER_NATIVE_TEMPLATE",gt)&&t.tag==="template"&&!vv(t)){const s=kt[0]||ru,u=s.children.indexOf(t);s.children.splice(u,1,...t.children)}const a=i.find(s=>s.type===6&&s.name==="inline-template");a&&tu("COMPILER_INLINE_TEMPLATE",gt,a.loc)&&t.children.length&&(a.value={type:2,content:Sn(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function bD(t,e){let n=t;for(;Do.charCodeAt(n)!==e&&n<Do.length-1;)n++;return n}function Zb(t,e){let n=t;for(;Do.charCodeAt(n)!==e&&n>=0;)n--;return n}const xD=new Set(["if","else","else-if","for","slot"]);function vv({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&xD.has(e[n].name))return!0}return!1}function SD({tag:t,props:e}){if(gt.isCustomElement(t))return!1;if(t==="component"||CD(t.charCodeAt(0))||qb(t)||gt.isBuiltInComponent&&gt.isBuiltInComponent(t)||gt.isNativeTag&&!gt.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const r=e[n];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(tu("COMPILER_IS_ON_ELEMENT",gt,r.loc))return!0}}else if(r.name==="bind"&&Zi(r.arg,"is")&&tu("COMPILER_IS_ON_ELEMENT",gt,r.loc))return!0}return!1}function CD(t){return t>64&&t<91}const wD=/\r\n/g;function Qb(t,e){const n=gt.whitespace!=="preserve";let r=!1;for(let o=0;o<t.length;o++){const i=t[o];if(i.type===2)if(q0)i.content=i.content.replace(wD,`
`);else if(TD(i.content)){const a=t[o-1]&&t[o-1].type,s=t[o+1]&&t[o+1].type;!a||!s||n&&(a===3&&(s===3||s===1)||a===1&&(s===3||s===1&&_D(i.content)))?(r=!0,t[o]=null):i.content=" "}else n&&(i.content=e6(i.content))}if(q0&&e&&gt.isPreTag(e)){const o=t[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}return r?t.filter(Boolean):t}function TD(t){for(let e=0;e<t.length;e++)if(!rr(t.charCodeAt(e)))return!1;return!0}function _D(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function e6(t){let e="",n=!1;for(let r=0;r<t.length;r++)rr(t.charCodeAt(r))?n||(e+=" ",n=!0):(e+=t[r],n=!1);return e}function Ih(t){(kt[0]||ru).children.push(t)}function nn(t,e){return{start:jt.getPos(t),end:e==null?e:jt.getPos(e),source:e==null?e:Sn(t,e)}}function Qi(t,e){t.end=jt.getPos(e),t.source=Sn(t.start.offset,e)}function AD(t){const e={type:6,name:t.rawName,nameLoc:nn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function o0(t,e=!1,n,r=0,o=0){return Ze(t,e,n,r)}function fo(t,e,n){gt.onError(Lt(t,nn(e,e)))}function ED(){jt.reset(),En=null,ut=null,Wn="",vo=-1,zi=-1,kt.length=0}function DD(t,e){if(ED(),Do=t,gt=ht({},Jb),e){let o;for(o in e)e[o]!=null&&(gt[o]=e[o])}jt.mode=gt.parseMode==="html"?1:gt.parseMode==="sfc"?2:0,jt.inXML=gt.ns===1||gt.ns===2;const n=e&&e.delimiters;n&&(jt.delimiterOpen=W0(n[0]),jt.delimiterClose=W0(n[1]));const r=ru=rD([],t);return jt.parse(Do),r.loc=nn(0,t.length),r.children=Qb(r.children),ru=null,r}function ID(t,e){i0(t,e,t6(t,t.children[0]))}function t6(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!$0(e)}function i0(t,e,n=!1){const{children:r}=t,o=r.length;let i=0;for(let a=0;a<r.length;a++){const s=r[a];if(s.type===1&&s.tagType===0){const u=n?0:Cr(s,e);if(u>0){if(u>=2){s.codegenNode.patchFlag=-1,s.codegenNode=e.hoist(s.codegenNode),i++;continue}}else{const l=s.codegenNode;if(l.type===13){const f=l.patchFlag;if((f===void 0||f===512||f===1)&&r6(s,e)>=2){const c=o6(s);c&&(l.props=e.hoist(c))}l.dynamicProps&&(l.dynamicProps=e.hoist(l.dynamicProps))}}}if(s.type===1){const u=s.tagType===1;u&&e.scopes.vSlot++,i0(s,e),u&&e.scopes.vSlot--}else if(s.type===11)i0(s,e,s.children.length===1);else if(s.type===9)for(let u=0;u<s.branches.length;u++)i0(s.branches[u],e,s.branches[u].children.length===1)}if(i&&e.transformHoist&&e.transformHoist(r,e,t),i&&i===o&&t.type===1&&t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&De(t.codegenNode.children)){const a=e.hoist(Ru(t.codegenNode.children));e.hmr&&(a.content=`[...${a.content}]`),t.codegenNode.children=a}}function Cr(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const o=t.codegenNode;if(o.type!==13||o.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(o.patchFlag===void 0){let a=3;const s=r6(t,e);if(s===0)return n.set(t,0),0;s<a&&(a=s);for(let u=0;u<t.children.length;u++){const l=Cr(t.children[u],e);if(l===0)return n.set(t,0),0;l<a&&(a=l)}if(a>1)for(let u=0;u<t.props.length;u++){const l=t.props[u];if(l.type===7&&l.name==="bind"&&l.exp){const f=Cr(l.exp,e);if(f===0)return n.set(t,0),0;f<a&&(a=f)}}if(o.isBlock){for(let u=0;u<t.props.length;u++)if(t.props[u].type===7)return n.set(t,0),0;e.removeHelper(Sa),e.removeHelper(Is(e.inSSR,o.isComponent)),o.isBlock=!1,e.helper(Ds(e.inSSR,o.isComponent))}return n.set(t,a),a}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Cr(t.content,e);case 4:return t.constType;case 8:let i=3;for(let a=0;a<t.children.length;a++){const s=t.children[a];if(He(s)||fr(s))continue;const u=Cr(s,e);if(u===0)return 0;u<i&&(i=u)}return i;default:return 0}}const PD=new Set([S1,C1,Ql,Nu]);function n6(t,e){if(t.type===14&&!He(t.callee)&&PD.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Cr(n,e);if(n.type===14)return n6(n,e)}return 0}function r6(t,e){let n=3;const r=o6(t);if(r&&r.type===15){const{properties:o}=r;for(let i=0;i<o.length;i++){const{key:a,value:s}=o[i],u=Cr(a,e);if(u===0)return u;u<n&&(n=u);let l;if(s.type===4?l=Cr(s,e):s.type===14?l=n6(s,e):l=0,l===0)return l;l<n&&(n=l)}}return n}function o6(t){const e=t.codegenNode;if(e.type===13)return e.props}function OD(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:o=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:s={},transformHoist:u=null,isBuiltInComponent:l=ln,isCustomElement:f=ln,expressionPlugins:c=[],scopeId:d=null,slotted:p=!0,ssr:h=!1,inSSR:m=!1,ssrCssVars:y="",bindingMetadata:b=ft,inline:v=!1,isTS:g=!1,onError:x=E1,onWarn:S=Kb,compatConfig:C}){const w=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={filename:e,selfName:w&&Uo(It(w[1])),prefixIdentifiers:n,hoistStatic:r,hmr:o,cacheHandlers:i,nodeTransforms:a,directiveTransforms:s,transformHoist:u,isBuiltInComponent:l,isCustomElement:f,expressionPlugins:c,scopeId:d,slotted:p,ssr:h,inSSR:m,ssrCssVars:y,bindingMetadata:b,inline:v,isTS:g,onError:x,onWarn:S,compatConfig:C,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new WeakMap,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(_){const A=T.helpers.get(_)||0;return T.helpers.set(_,A+1),_},removeHelper(_){const A=T.helpers.get(_);if(A){const E=A-1;E?T.helpers.set(_,E):T.helpers.delete(_)}},helperString(_){return`_${As[T.helper(_)]}`},replaceNode(_){T.parent.children[T.childIndex]=T.currentNode=_},removeNode(_){const A=T.parent.children,E=_?A.indexOf(_):T.currentNode?T.childIndex:-1;!_||_===T.currentNode?(T.currentNode=null,T.onNodeRemoved()):T.childIndex>E&&(T.childIndex--,T.onNodeRemoved()),T.parent.children.splice(E,1)},onNodeRemoved:ln,addIdentifiers(_){},removeIdentifiers(_){},hoist(_){He(_)&&(_=Ze(_)),T.hoists.push(_);const A=Ze(`_hoisted_${T.hoists.length}`,!1,_.loc,2);return A.hoisted=_,A},cache(_,A=!1){return oD(T.cached++,_,A)}};return T.filters=new Set,T}function ND(t,e){const n=OD(t,e);rd(t,n),e.hoistStatic&&ID(t,n),e.ssr||RD(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function RD(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const o=r[0];if(t6(t,o)&&o.codegenNode){const i=o.codegenNode;i.type===13&&A1(i,e),t.codegenNode=i}else t.codegenNode=o}else if(r.length>1){let o=64;t.codegenNode=eu(e,n(Zl),void 0,t.children,o,void 0,void 0,!0,void 0,!1)}}function MD(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const o=t.children[n];He(o)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=r,rd(o,e))}}function rd(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let i=0;i<n.length;i++){const a=n[i](t,e);if(a&&(De(a)?r.push(...a):r.push(a)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Ou);break;case 5:e.ssr||e.helper(td);break;case 9:for(let i=0;i<t.branches.length;i++)rd(t.branches[i],e);break;case 10:case 11:case 1:case 0:MD(t,e);break}e.currentNode=t;let o=r.length;for(;o--;)r[o]()}function i6(t,e){const n=He(t)?r=>r===t:r=>t.test(r);return(r,o)=>{if(r.type===1){const{props:i}=r;if(r.tagType===3&&i.some(pD))return;const a=[];for(let s=0;s<i.length;s++){const u=i[s];if(u.type===7&&n(u.name)){i.splice(s,1),s--;const l=e(r,u,o);l&&a.push(l)}}return a}}}const od="/*#__PURE__*/",a6=t=>`${As[t]}: _${As[t]}`;function kD(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:i=null,optimizeImports:a=!1,runtimeGlobalName:s="Vue",runtimeModuleName:u="vue",ssrRuntimeModuleName:l="vue/server-renderer",ssr:f=!1,isTS:c=!1,inSSR:d=!1}){const p={mode:e,prefixIdentifiers:n,sourceMap:r,filename:o,scopeId:i,optimizeImports:a,runtimeGlobalName:s,runtimeModuleName:u,ssrRuntimeModuleName:l,ssr:f,isTS:c,inSSR:d,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(m){return`_${As[m]}`},push(m,y=-2,b){p.code+=m},indent(){h(++p.indentLevel)},deindent(m=!1){m?--p.indentLevel:h(--p.indentLevel)},newline(){h(p.indentLevel)}};function h(m){p.push(`
`+"  ".repeat(m),0)}return p}function LD(t,e={}){const n=kD(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:o,prefixIdentifiers:i,indent:a,deindent:s,newline:u,scopeId:l,ssr:f}=n,c=Array.from(t.helpers),d=c.length>0,p=!i&&r!=="module";FD(t,n);const m=f?"ssrRender":"render",b=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${m}(${b}) {`),a(),p&&(o("with (_ctx) {"),a(),d&&(o(`const { ${c.map(a6).join(", ")} } = _Vue
`,-1),u())),t.components.length&&(Jd(t.components,"component",n),(t.directives.length||t.temps>0)&&u()),t.directives.length&&(Jd(t.directives,"directive",n),t.temps>0&&u()),t.filters&&t.filters.length&&(u(),Jd(t.filters,"filter",n),u()),t.temps>0){o("let ");for(let v=0;v<t.temps;v++)o(`${v>0?", ":""}_temp${v}`)}return(t.components.length||t.directives.length||t.temps)&&(o(`
`,0),u()),f||o("return "),t.codegenNode?Rn(t.codegenNode,n):o("null"),p&&(s(),o("}")),s(),o("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function FD(t,e){const{ssr:n,prefixIdentifiers:r,push:o,newline:i,runtimeModuleName:a,runtimeGlobalName:s,ssrRuntimeModuleName:u}=e,l=s,f=Array.from(t.helpers);if(f.length>0&&(o(`const _Vue = ${l}
`,-1),t.hoists.length)){const c=[d1,p1,Ou,h1,jb].filter(d=>f.includes(d)).map(a6).join(", ");o(`const { ${c} } = _Vue
`,-1)}BD(t.hoists,e),i(),o("return ")}function Jd(t,e,{helper:n,push:r,newline:o,isTS:i}){const a=n(e==="filter"?y1:e==="component"?m1:v1);for(let s=0;s<t.length;s++){let u=t[s];const l=u.endsWith("__self");l&&(u=u.slice(0,-6)),r(`const ${nu(u,e)} = ${a}(${JSON.stringify(u)}${l?", true":""})${i?"!":""}`),s<t.length-1&&o()}}function BD(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r,helper:o,scopeId:i,mode:a}=e;r();for(let s=0;s<t.length;s++){const u=t[s];u&&(n(`const _hoisted_${s+1} = `),Rn(u,e),r())}e.pure=!1}function I1(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),Mu(t,e,n),n&&e.deindent(),e.push("]")}function Mu(t,e,n=!1,r=!0){const{push:o,newline:i}=e;for(let a=0;a<t.length;a++){const s=t[a];He(s)?o(s,-3):De(s)?I1(s,e):Rn(s,e),a<t.length-1&&(n?(r&&o(","),i()):r&&o(", "))}}function Rn(t,e){if(He(t)){e.push(t,-3);return}if(fr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Rn(t.codegenNode,e);break;case 2:VD(t,e);break;case 4:s6(t,e);break;case 5:UD(t,e);break;case 12:Rn(t.codegenNode,e);break;case 8:l6(t,e);break;case 3:zD(t,e);break;case 13:jD(t,e);break;case 14:HD(t,e);break;case 15:$D(t,e);break;case 17:KD(t,e);break;case 18:qD(t,e);break;case 19:XD(t,e);break;case 20:YD(t,e);break;case 21:Mu(t.body,e,!0,!1);break}}function VD(t,e){e.push(JSON.stringify(t.content),-3,t)}function s6(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,-3,t)}function UD(t,e){const{push:n,helper:r,pure:o}=e;o&&n(od),n(`${r(td)}(`),Rn(t.content,e),n(")")}function l6(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];He(r)?e.push(r,-3):Rn(r,e)}}function GD(t,e){const{push:n}=e;if(t.type===8)n("["),l6(t,e),n("]");else if(t.isStatic){const r=D1(t.content)?t.content:JSON.stringify(t.content);n(r,-2,t)}else n(`[${t.content}]`,-3,t)}function zD(t,e){const{push:n,helper:r,pure:o}=e;o&&n(od),n(`${r(Ou)}(${JSON.stringify(t.content)})`,-3,t)}function jD(t,e){const{push:n,helper:r,pure:o}=e,{tag:i,props:a,children:s,patchFlag:u,dynamicProps:l,directives:f,isBlock:c,disableTracking:d,isComponent:p}=t;let h;u&&(h=String(u)),f&&n(r(b1)+"("),c&&n(`(${r(Sa)}(${d?"true":""}), `),o&&n(od);const m=c?Is(e.inSSR,p):Ds(e.inSSR,p);n(r(m)+"(",-2,t),Mu(WD([i,a,s,h,l]),e),n(")"),c&&n(")"),f&&(n(", "),Rn(f,e),n(")"))}function WD(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function HD(t,e){const{push:n,helper:r,pure:o}=e,i=He(t.callee)?t.callee:r(t.callee);o&&n(od),n(i+"(",-2,t),Mu(t.arguments,e),n(")")}function $D(t,e){const{push:n,indent:r,deindent:o,newline:i}=e,{properties:a}=t;if(!a.length){n("{}",-2,t);return}const s=a.length>1||!1;n(s?"{":"{ "),s&&r();for(let u=0;u<a.length;u++){const{key:l,value:f}=a[u];GD(l,e),n(": "),Rn(f,e),u<a.length-1&&(n(","),i())}s&&o(),n(s?"}":" }")}function KD(t,e){I1(t.elements,e)}function qD(t,e){const{push:n,indent:r,deindent:o}=e,{params:i,returns:a,body:s,newline:u,isSlot:l}=t;l&&n(`_${As[T1]}(`),n("(",-2,t),De(i)?Mu(i,e):i&&Rn(i,e),n(") => "),(u||s)&&(n("{"),r()),a?(u&&n("return "),De(a)?I1(a,e):Rn(a,e)):s&&Rn(s,e),(u||s)&&(o(),n("}")),l&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function XD(t,e){const{test:n,consequent:r,alternate:o,newline:i}=t,{push:a,indent:s,deindent:u,newline:l}=e;if(n.type===4){const c=!D1(n.content);c&&a("("),s6(n,e),c&&a(")")}else a("("),Rn(n,e),a(")");i&&s(),e.indentLevel++,i||a(" "),a("? "),Rn(r,e),e.indentLevel--,i&&l(),i||a(" "),a(": ");const f=o.type===19;f||e.indentLevel++,Rn(o,e),f||e.indentLevel--,i&&u(!0)}function YD(t,e){const{push:n,helper:r,indent:o,deindent:i,newline:a}=e;n(`_cache[${t.index}] || (`),t.isVOnce&&(o(),n(`${r(j0)}(-1),`),a(),n("(")),n(`_cache[${t.index}] = `),Rn(t.value,e),t.isVOnce&&(n(`).cacheIndex = ${t.index},`),a(),n(`${r(j0)}(1),`),a(),n(`_cache[${t.index}]`),i()),n(")")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const JD=i6(/^(if|else|else-if)$/,(t,e,n)=>ZD(t,e,n,(r,o,i)=>{const a=n.parent.children;let s=a.indexOf(r),u=0;for(;s-->=0;){const l=a[s];l&&l.type===9&&(u+=l.branches.length)}return()=>{if(i)r.codegenNode=bv(o,u,n);else{const l=QD(r.codegenNode);l.alternate=bv(o,u+r.branches.length-1,n)}}}));function ZD(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const o=e.exp?e.exp.loc:t.loc;n.onError(Lt(28,e.loc)),e.exp=Ze("true",!1,o)}if(e.name==="if"){const o=yv(t,e),i={type:9,loc:t.loc,branches:[o]};if(n.replaceNode(i),r)return r(i,o,!0)}else{const o=n.parent.children;let i=o.indexOf(t);for(;i-->=-1;){const a=o[i];if(a&&a.type===3){n.removeNode(a);continue}if(a&&a.type===2&&!a.content.trim().length){n.removeNode(a);continue}if(a&&a.type===9){e.name==="else-if"&&a.branches[a.branches.length-1].condition===void 0&&n.onError(Lt(30,t.loc)),n.removeNode();const s=yv(t,e);a.branches.push(s);const u=r&&r(a,s,!1);rd(s,n),u&&u(),n.currentNode=null}else n.onError(Lt(30,t.loc));break}}}function yv(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!Pr(t,"for")?t.children:[t],userKey:nd(t,"key"),isTemplateIf:n}}function bv(t,e,n){return t.condition?Eh(t.condition,xv(t,e,n),on(n.helper(Ou),['""',"true"])):xv(t,e,n)}function xv(t,e,n){const{helper:r}=n,o=qt("key",Ze(`${e}`,!1,pr,2)),{children:i}=t,a=i[0];if(i.length!==1||a.type!==1)if(i.length===1&&a.type===11){const u=a.codegenNode;return K0(u,o,n),u}else return eu(n,r(Zl),Sr([o]),i,64,void 0,void 0,!0,!1,!1,t.loc);else{const u=a.codegenNode,l=mD(u);return l.type===13&&A1(l,n),K0(l,o,n),u}}function QD(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const eI=(t,e,n)=>{const{modifiers:r,loc:o}=t,i=t.arg;let{exp:a}=t;if(a&&a.type===4&&!a.content.trim()&&(a=void 0),!a){if(i.type!==4||!i.isStatic)return n.onError(Lt(52,i.loc)),{props:[qt(i,Ze("",!0,o))]};u6(t),a=t.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),r.includes("camel")&&(i.type===4?i.isStatic?i.content=It(i.content):i.content=`${n.helperString(_h)}(${i.content})`:(i.children.unshift(`${n.helperString(_h)}(`),i.children.push(")"))),n.inSSR||(r.includes("prop")&&Sv(i,"."),r.includes("attr")&&Sv(i,"^")),{props:[qt(i,a)]}},u6=(t,e)=>{const n=t.arg,r=It(n.content);t.exp=Ze(r,!1,n.loc)},Sv=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},tI=i6("for",(t,e,n)=>{const{helper:r,removeHelper:o}=n;return nI(t,e,n,i=>{const a=on(r(x1),[i.source]),s=H0(t),u=Pr(t,"memo"),l=nd(t,"key",!1,!0);l&&l.type===7&&!l.exp&&u6(l);const f=l&&(l.type===6?l.value?Ze(l.value.content,!0):void 0:l.exp),c=l&&f?qt("key",f):null,d=i.source.type===4&&i.source.constType>0,p=d?64:l?128:256;return i.codegenNode=eu(n,r(Zl),void 0,a,p,void 0,void 0,!0,!d,!1,t.loc),()=>{let h;const{children:m}=i,y=m.length!==1||m[0].type!==1,b=$0(t)?t:s&&t.children.length===1&&$0(t.children[0])?t.children[0]:null;if(b?(h=b.codegenNode,s&&c&&K0(h,c,n)):y?h=eu(n,r(Zl),c?Sr([c]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(h=m[0].codegenNode,s&&c&&K0(h,c,n),h.isBlock!==!d&&(h.isBlock?(o(Sa),o(Is(n.inSSR,h.isComponent))):o(Ds(n.inSSR,h.isComponent))),h.isBlock=!d,h.isBlock?(r(Sa),r(Is(n.inSSR,h.isComponent))):r(Ds(n.inSSR,h.isComponent))),u){const v=Es(Ph(i.parseResult,[Ze("_cached")]));v.body=iD([Vr(["const _memo = (",u.exp,")"]),Vr(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${n.helperString($b)}(_cached, _memo)) return _cached`]),Vr(["const _item = ",h]),Ze("_item.memo = _memo"),Ze("return _item")]),a.arguments.push(v,Ze("_cache"),Ze(String(n.cached++)))}else a.arguments.push(Es(Ph(i.parseResult),h,!0))}})});function nI(t,e,n,r){if(!e.exp){n.onError(Lt(31,e.loc));return}const o=e.forParseResult;if(!o){n.onError(Lt(32,e.loc));return}c6(o);const{addIdentifiers:i,removeIdentifiers:a,scopes:s}=n,{source:u,value:l,key:f,index:c}=o,d={type:11,loc:e.loc,source:u,valueAlias:l,keyAlias:f,objectIndexAlias:c,parseResult:o,children:H0(t)?t.children:[t]};n.replaceNode(d),s.vFor++;const p=r&&r(d);return()=>{s.vFor--,p&&p()}}function c6(t,e){t.finalized||(t.finalized=!0)}function Ph({value:t,key:e,index:n},r=[]){return rI([t,e,n,...r])}function rI(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||Ze("_".repeat(r+1),!1))}const Cv=Ze("undefined",!1),oI=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=Pr(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},iI=(t,e,n,r)=>Es(t,n,!1,!0,n.length?n[0].loc:r);function aI(t,e,n=iI){e.helper(T1);const{children:r,loc:o}=t,i=[],a=[];let s=e.scopes.vSlot>0||e.scopes.vFor>0;const u=Pr(t,"slot",!0);if(u){const{arg:y,exp:b}=u;y&&!qn(y)&&(s=!0),i.push(qt(y||Ze("default",!0),n(b,void 0,r,o)))}let l=!1,f=!1;const c=[],d=new Set;let p=0;for(let y=0;y<r.length;y++){const b=r[y];let v;if(!H0(b)||!(v=Pr(b,"slot",!0))){b.type!==3&&c.push(b);continue}if(u){e.onError(Lt(37,v.loc));break}l=!0;const{children:g,loc:x}=b,{arg:S=Ze("default",!0),exp:C,loc:w}=v;let T;qn(S)?T=S?S.content:"default":s=!0;const _=Pr(b,"for"),A=n(C,_,g,x);let E,D;if(E=Pr(b,"if"))s=!0,a.push(Eh(E.exp,dc(S,A,p++),Cv));else if(D=Pr(b,/^else(-if)?$/,!0)){let O=y,P;for(;O--&&(P=r[O],P.type===3););if(P&&H0(P)&&Pr(P,/^(else-)?if$/)){let k=a[a.length-1];for(;k.alternate.type===19;)k=k.alternate;k.alternate=D.exp?Eh(D.exp,dc(S,A,p++),Cv):dc(S,A,p++)}else e.onError(Lt(30,D.loc))}else if(_){s=!0;const O=_.forParseResult;O?(c6(O),a.push(on(e.helper(x1),[O.source,Es(Ph(O),dc(S,A),!0)]))):e.onError(Lt(32,_.loc))}else{if(T){if(d.has(T)){e.onError(Lt(38,w));continue}d.add(T),T==="default"&&(f=!0)}i.push(qt(S,A))}}if(!u){const y=(b,v)=>{const g=n(b,void 0,v,o);return e.compatConfig&&(g.isNonScopedSlot=!0),qt("default",g)};l?c.length&&c.some(b=>f6(b))&&(f?e.onError(Lt(39,c[0].loc)):i.push(y(void 0,c))):i.push(y(void 0,r))}const h=s?2:a0(t.children)?3:1;let m=Sr(i.concat(qt("_",Ze(h+"",!1))),o);return a.length&&(m=on(e.helper(Hb),[m,Ru(a)])),{slots:m,hasDynamicSlots:s}}function dc(t,e,n){const r=[qt("name",t),qt("fn",e)];return n!=null&&r.push(qt("key",Ze(String(n),!0))),Sr(r)}function a0(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||a0(n.children))return!0;break;case 9:if(a0(n.branches))return!0;break;case 10:case 11:if(a0(n.children))return!0;break}}return!1}function f6(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():f6(t.content)}const d6=new WeakMap,sI=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:r,props:o}=t,i=t.tagType===1;let a=i?lI(t,e):`"${r}"`;const s=St(a)&&a.callee===g1;let u,l,f=0,c,d,p,h=s||a===Bl||a===f1||!i&&(r==="svg"||r==="foreignObject"||r==="math");if(o.length>0){const m=p6(t,e,void 0,i,s);u=m.props,f=m.patchFlag,d=m.dynamicPropNames;const y=m.directives;p=y&&y.length?Ru(y.map(b=>cI(b,e))):void 0,m.shouldUseBlock&&(h=!0)}if(t.children.length>0)if(a===G0&&(h=!0,f|=1024),i&&a!==Bl&&a!==G0){const{slots:y,hasDynamicSlots:b}=aI(t,e);l=y,b&&(f|=1024)}else if(t.children.length===1&&a!==Bl){const y=t.children[0],b=y.type,v=b===5||b===8;v&&Cr(y,e)===0&&(f|=1),v||b===2?l=y:l=t.children}else l=t.children;d&&d.length&&(c=fI(d)),t.codegenNode=eu(e,a,u,l,f===0?void 0:f,c,p,!!h,!1,i,t.loc)};function lI(t,e,n=!1){let{tag:r}=t;const o=Oh(r),i=nd(t,"is",!1,!0);if(i)if(o||ca("COMPILER_IS_ON_ELEMENT",e)){let s;if(i.type===6?s=i.value&&Ze(i.value.content,!0):(s=i.exp,s||(s=Ze("is",!1,i.loc))),s)return on(e.helper(g1),[s])}else i.type===6&&i.value.content.startsWith("vue:")&&(r=i.value.content.slice(4));const a=qb(r)||e.isBuiltInComponent(r);return a?(n||e.helper(a),a):(e.helper(m1),e.components.add(r),nu(r,"component"))}function p6(t,e,n=t.props,r,o,i=!1){const{tag:a,loc:s,children:u}=t;let l=[];const f=[],c=[],d=u.length>0;let p=!1,h=0,m=!1,y=!1,b=!1,v=!1,g=!1,x=!1;const S=[],C=A=>{l.length&&(f.push(Sr(wv(l),s)),l=[]),A&&f.push(A)},w=()=>{e.scopes.vFor>0&&l.push(qt(Ze("ref_for",!0),Ze("true")))},T=({key:A,value:E})=>{if(qn(A)){const D=A.content,O=Ia(D);if(O&&(!r||o)&&D.toLowerCase()!=="onclick"&&D!=="onUpdate:modelValue"&&!di(D)&&(v=!0),O&&di(D)&&(x=!0),O&&E.type===14&&(E=E.arguments[0]),E.type===20||(E.type===4||E.type===8)&&Cr(E,e)>0)return;D==="ref"?m=!0:D==="class"?y=!0:D==="style"?b=!0:D!=="key"&&!S.includes(D)&&S.push(D),r&&(D==="class"||D==="style")&&!S.includes(D)&&S.push(D)}else g=!0};for(let A=0;A<n.length;A++){const E=n[A];if(E.type===6){const{loc:D,name:O,nameLoc:P,value:k}=E;let U=!0;if(O==="ref"&&(m=!0,w()),O==="is"&&(Oh(a)||k&&k.content.startsWith("vue:")||ca("COMPILER_IS_ON_ELEMENT",e)))continue;l.push(qt(Ze(O,!0,P),Ze(k?k.content:"",U,k?k.loc:D)))}else{const{name:D,arg:O,exp:P,loc:k,modifiers:U}=E,H=D==="bind",R=D==="on";if(D==="slot"){r||e.onError(Lt(40,k));continue}if(D==="once"||D==="memo"||D==="is"||H&&Zi(O,"is")&&(Oh(a)||ca("COMPILER_IS_ON_ELEMENT",e))||R&&i)continue;if((H&&Zi(O,"key")||R&&d&&Zi(O,"vue:before-update"))&&(p=!0),H&&Zi(O,"ref")&&w(),!O&&(H||R)){if(g=!0,P)if(H){if(w(),C(),ca("COMPILER_V_BIND_OBJECT_ORDER",e)){f.unshift(P);continue}f.push(P)}else C({type:14,loc:k,callee:e.helper(w1),arguments:r?[P]:[P,"true"]});else e.onError(Lt(H?34:35,k));continue}H&&U.includes("prop")&&(h|=32);const B=e.directiveTransforms[D];if(B){const{props:M,needRuntime:z}=B(E,t,e);!i&&M.forEach(T),R&&O&&!qn(O)?C(Sr(M,s)):l.push(...M),z&&(c.push(E),fr(z)&&d6.set(E,z))}else OT(D)||(c.push(E),d&&(p=!0))}}let _;if(f.length?(C(),f.length>1?_=on(e.helper(z0),f,s):_=f[0]):l.length&&(_=Sr(wv(l),s)),g?h|=16:(y&&!r&&(h|=2),b&&!r&&(h|=4),S.length&&(h|=8),v&&(h|=32)),!p&&(h===0||h===32)&&(m||x||c.length>0)&&(h|=512),!e.inSSR&&_)switch(_.type){case 15:let A=-1,E=-1,D=!1;for(let k=0;k<_.properties.length;k++){const U=_.properties[k].key;qn(U)?U.content==="class"?A=k:U.content==="style"&&(E=k):U.isHandlerKey||(D=!0)}const O=_.properties[A],P=_.properties[E];D?_=on(e.helper(Ql),[_]):(O&&!qn(O.value)&&(O.value=on(e.helper(S1),[O.value])),P&&(b||P.value.type===4&&P.value.content.trim()[0]==="["||P.value.type===17)&&(P.value=on(e.helper(C1),[P.value])));break;case 14:break;default:_=on(e.helper(Ql),[on(e.helper(Nu),[_])]);break}return{props:_,directives:c,patchFlag:h,dynamicPropNames:S,shouldUseBlock:p}}function wv(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const o=t[r];if(o.key.type===8||!o.key.isStatic){n.push(o);continue}const i=o.key.content,a=e.get(i);a?(i==="style"||i==="class"||Ia(i))&&uI(a,o):(e.set(i,o),n.push(o))}return n}function uI(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Ru([t.value,e.value],t.loc)}function cI(t,e){const n=[],r=d6.get(t);r?n.push(e.helperString(r)):(e.helper(v1),e.directives.add(t.name),n.push(nu(t.name,"directive")));const{loc:o}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const i=Ze("true",!1,o);n.push(Sr(t.modifiers.map(a=>qt(a,i)),o))}return Ru(n,t.loc)}function fI(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function Oh(t){return t==="component"||t==="Component"}const dI=(t,e)=>{if($0(t)){const{children:n,loc:r}=t,{slotName:o,slotProps:i}=pI(t,e),a=[e.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let s=2;i&&(a[2]=i,s=3),n.length&&(a[3]=Es([],n,!1,!1,r),s=4),e.scopeId&&!e.slotted&&(s=5),a.splice(s),t.codegenNode=on(e.helper(Wb),a,r)}};function pI(t,e){let n='"default"',r;const o=[];for(let i=0;i<t.props.length;i++){const a=t.props[i];if(a.type===6)a.value&&(a.name==="name"?n=JSON.stringify(a.value.content):(a.name=It(a.name),o.push(a)));else if(a.name==="bind"&&Zi(a.arg,"name")){if(a.exp)n=a.exp;else if(a.arg&&a.arg.type===4){const s=It(a.arg.content);n=a.exp=Ze(s,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&qn(a.arg)&&(a.arg.content=It(a.arg.content)),o.push(a)}if(o.length>0){const{props:i,directives:a}=p6(t,e,o,!1,!1);r=i,a.length&&e.onError(Lt(36,a[0].loc))}return{slotName:n,slotProps:r}}const hI=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,h6=(t,e,n,r)=>{const{loc:o,modifiers:i,arg:a}=t;!t.exp&&!i.length&&n.onError(Lt(35,o));let s;if(a.type===4)if(a.isStatic){let c=a.content;c.startsWith("vue:")&&(c=`vnode-${c.slice(4)}`);const d=e.tagType!==0||c.startsWith("vnode")||!/[A-Z]/.test(c)?is(It(c)):`on:${c}`;s=Ze(d,!0,a.loc)}else s=Vr([`${n.helperString(Ah)}(`,a,")"]);else s=a,s.children.unshift(`${n.helperString(Ah)}(`),s.children.push(")");let u=t.exp;u&&!u.content.trim()&&(u=void 0);let l=n.cacheHandlers&&!u&&!n.inVOnce;if(u){const c=Xb(u.content),d=!(c||hI.test(u.content)),p=u.content.includes(";");(d||l&&c)&&(u=Vr([`${d?"$event":"(...args)"} => ${p?"{":"("}`,u,p?"}":")"]))}let f={props:[qt(s,u||Ze("() => {}",!1,o))]};return r&&(f=r(f)),l&&(f.props[0].value=n.cache(f.props[0].value)),f.props.forEach(c=>c.key.isHandlerKey=!0),f},mI=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,o=!1;for(let i=0;i<n.length;i++){const a=n[i];if(Yd(a)){o=!0;for(let s=i+1;s<n.length;s++){const u=n[s];if(Yd(u))r||(r=n[i]=Vr([a],a.loc)),r.children.push(" + ",u),n.splice(s,1),s--;else{r=void 0;break}}}}if(!(!o||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(i=>i.type===7&&!e.directiveTransforms[i.name])&&t.tag!=="template")))for(let i=0;i<n.length;i++){const a=n[i];if(Yd(a)||a.type===8){const s=[];(a.type!==2||a.content!==" ")&&s.push(a),!e.ssr&&Cr(a,e)===0&&s.push("1"),n[i]={type:12,content:a,loc:a.loc,codegenNode:on(e.helper(h1),s)}}}}},Tv=new WeakSet,gI=(t,e)=>{if(t.type===1&&Pr(t,"once",!0))return Tv.has(t)||e.inVOnce||e.inSSR?void 0:(Tv.add(t),e.inVOnce=!0,e.helper(j0),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},m6=(t,e,n)=>{const{exp:r,arg:o}=t;if(!r)return n.onError(Lt(41,t.loc)),pc();const i=r.loc.source,a=r.type===4?r.content:i,s=n.bindingMetadata[i];if(s==="props"||s==="props-aliased")return n.onError(Lt(44,r.loc)),pc();if(!a.trim()||!Xb(a)&&!!1)return n.onError(Lt(42,r.loc)),pc();const l=o||Ze("modelValue",!0),f=o?qn(o)?`onUpdate:${It(o.content)}`:Vr(['"onUpdate:" + ',o]):"onUpdate:modelValue";let c;const d=n.isTS?"($event: any)":"$event";c=Vr([`${d} => ((`,r,") = $event)"]);const p=[qt(l,t.exp),qt(f,c)];if(t.modifiers.length&&e.tagType===1){const h=t.modifiers.map(y=>(D1(y)?y:JSON.stringify(y))+": true").join(", "),m=o?qn(o)?`${o.content}Modifiers`:Vr([o,' + "Modifiers"']):"modelModifiers";p.push(qt(m,Ze(`{ ${h} }`,!1,t.loc,2)))}return pc(p)};function pc(t=[]){return{props:t}}const vI=/[\w).+\-_$\]]/,yI=(t,e)=>{ca("COMPILER_FILTERS",e)&&(t.type===5?X0(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&X0(n.exp,e)}))};function X0(t,e){if(t.type===4)_v(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?_v(r,e):r.type===8?X0(t,e):r.type===5&&X0(r.content,e))}}function _v(t,e){const n=t.content;let r=!1,o=!1,i=!1,a=!1,s=0,u=0,l=0,f=0,c,d,p,h,m=[];for(p=0;p<n.length;p++)if(d=c,c=n.charCodeAt(p),r)c===39&&d!==92&&(r=!1);else if(o)c===34&&d!==92&&(o=!1);else if(i)c===96&&d!==92&&(i=!1);else if(a)c===47&&d!==92&&(a=!1);else if(c===124&&n.charCodeAt(p+1)!==124&&n.charCodeAt(p-1)!==124&&!s&&!u&&!l)h===void 0?(f=p+1,h=n.slice(0,p).trim()):y();else{switch(c){case 34:o=!0;break;case 39:r=!0;break;case 96:i=!0;break;case 40:l++;break;case 41:l--;break;case 91:u++;break;case 93:u--;break;case 123:s++;break;case 125:s--;break}if(c===47){let b=p-1,v;for(;b>=0&&(v=n.charAt(b),v===" ");b--);(!v||!vI.test(v))&&(a=!0)}}h===void 0?h=n.slice(0,p).trim():f!==0&&y();function y(){m.push(n.slice(f,p).trim()),f=p+1}if(m.length){for(p=0;p<m.length;p++)h=bI(h,m[p],e);t.content=h,t.ast=void 0}}function bI(t,e,n){n.helper(y1);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${nu(e,"filter")}(${t})`;{const o=e.slice(0,r),i=e.slice(r+1);return n.filters.add(o),`${nu(o,"filter")}(${t}${i!==")"?","+i:i}`}}const Av=new WeakSet,xI=(t,e)=>{if(t.type===1){const n=Pr(t,"memo");return!n||Av.has(t)?void 0:(Av.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&A1(r,e),t.codegenNode=on(e.helper(_1),[n.exp,Es(void 0,r),"_cache",String(e.cached++)]))})}};function SI(t){return[[gI,JD,xI,tI,yI,dI,sI,oI,mI],{on:h6,bind:eI,model:m6}]}function CI(t,e={}){const n=e.onError||E1,r=e.mode==="module";e.prefixIdentifiers===!0?n(Lt(47)):r&&n(Lt(48));const o=!1;e.cacheHandlers&&n(Lt(49)),e.scopeId&&!r&&n(Lt(50));const i=ht({},e,{prefixIdentifiers:o}),a=He(t)?DD(t,i):t,[s,u]=SI();return ND(a,ht({},i,{nodeTransforms:[...s,...e.nodeTransforms||[]],directiveTransforms:ht({},u,e.directiveTransforms||{})})),LD(a,i)}const wI=()=>({props:[]});/**
* @vue/compiler-dom v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const g6=Symbol(""),v6=Symbol(""),y6=Symbol(""),b6=Symbol(""),Nh=Symbol(""),x6=Symbol(""),S6=Symbol(""),C6=Symbol(""),w6=Symbol(""),T6=Symbol("");nD({[g6]:"vModelRadio",[v6]:"vModelCheckbox",[y6]:"vModelText",[b6]:"vModelSelect",[Nh]:"vModelDynamic",[x6]:"withModifiers",[S6]:"withKeys",[C6]:"vShow",[w6]:"Transition",[T6]:"TransitionGroup"});let Fa;function TI(t,e=!1){return Fa||(Fa=document.createElement("div")),e?(Fa.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Fa.children[0].getAttribute("foo")):(Fa.innerHTML=t,Fa.textContent)}const _I={parseMode:"html",isVoidTag:KT,isNativeTag:t=>WT(t)||HT(t)||$T(t),isPreTag:t=>t==="pre",decodeEntities:TI,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return w6;if(t==="TransitionGroup"||t==="transition-group")return T6},getNamespace(t,e,n){let r=e?e.ns:n;if(e&&r===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(o=>o.type===6&&o.name==="encoding"&&o.value!=null&&(o.value.content==="text/html"||o.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(r=0);else e&&r===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(r=0);if(r===0){if(t==="svg")return 1;if(t==="math")return 2}return r}},AI=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Ze("style",!0,e.loc),exp:EI(e.value.content,e.loc),modifiers:[],loc:e.loc})})},EI=(t,e)=>{const n=V5(t);return Ze(JSON.stringify(n),!1,e,3)};function hi(t,e){return Lt(t,e)}const DI=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(hi(53,o)),e.children.length&&(n.onError(hi(54,o)),e.children.length=0),{props:[qt(Ze("innerHTML",!0,o),r||Ze("",!0))]}},II=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(hi(55,o)),e.children.length&&(n.onError(hi(56,o)),e.children.length=0),{props:[qt(Ze("textContent",!0),r?Cr(r,n)>0?r:on(n.helperString(td),[r],o):Ze("",!0))]}},PI=(t,e,n)=>{const r=m6(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(hi(58,t.arg.loc));const{tag:o}=e,i=n.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||i){let a=y6,s=!1;if(o==="input"||i){const u=nd(e,"type");if(u){if(u.type===7)a=Nh;else if(u.value)switch(u.value.content){case"radio":a=g6;break;case"checkbox":a=v6;break;case"file":s=!0,n.onError(hi(59,t.loc));break}}else dD(e)&&(a=Nh)}else o==="select"&&(a=b6);s||(r.needRuntime=n.helper(a))}else n.onError(hi(57,t.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},OI=dr("passive,once,capture"),NI=dr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),RI=dr("left,right"),_6=dr("onkeyup,onkeydown,onkeypress",!0),MI=(t,e,n,r)=>{const o=[],i=[],a=[];for(let s=0;s<e.length;s++){const u=e[s];u==="native"&&tu("COMPILER_V_ON_NATIVE",n)||OI(u)?a.push(u):RI(u)?qn(t)?_6(t.content)?o.push(u):i.push(u):(o.push(u),i.push(u)):NI(u)?i.push(u):o.push(u)}return{keyModifiers:o,nonKeyModifiers:i,eventOptionModifiers:a}},Ev=(t,e)=>qn(t)&&t.content.toLowerCase()==="onclick"?Ze(e,!0):t.type!==4?Vr(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,kI=(t,e,n)=>h6(t,e,n,r=>{const{modifiers:o}=t;if(!o.length)return r;let{key:i,value:a}=r.props[0];const{keyModifiers:s,nonKeyModifiers:u,eventOptionModifiers:l}=MI(i,o,n,t.loc);if(u.includes("right")&&(i=Ev(i,"onContextmenu")),u.includes("middle")&&(i=Ev(i,"onMouseup")),u.length&&(a=on(n.helper(x6),[a,JSON.stringify(u)])),s.length&&(!qn(i)||_6(i.content))&&(a=on(n.helper(S6),[a,JSON.stringify(s)])),l.length){const f=l.map(Uo).join("");i=qn(i)?Ze(`${i.content}${f}`,!0):Vr(["(",i,`) + "${f}"`])}return{props:[qt(i,a)]}}),LI=(t,e,n)=>{const{exp:r,loc:o}=t;return r||n.onError(hi(61,o)),{props:[],needRuntime:n.helper(C6)}},FI=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},BI=[AI],VI={cloak:wI,html:DI,text:II,model:PI,on:kI,show:LI};function UI(t,e={}){return CI(t,ht({},_I,e,{nodeTransforms:[FI,...BI,...e.nodeTransforms||[]],directiveTransforms:ht({},VI,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.4.34
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Dv=new WeakMap;function GI(t){let e=Dv.get(t!=null?t:ft);return e||(e=Object.create(null),Dv.set(t!=null?t:ft,e)),e}function zI(t,e){if(!He(t))if(t.nodeType)t=t.innerHTML;else return ln;const n=t,r=GI(e),o=r[n];if(o)return o;if(t[0]==="#"){const u=document.querySelector(t);t=u?u.innerHTML:""}const i=ht({hoistStatic:!0,onError:void 0,onWarn:ln},e);!i.isCustomElement&&typeof customElements!="undefined"&&(i.isCustomElement=u=>!!customElements.get(u));const{code:a}=UI(t,i),s=new Function("Vue",a)(YE);return s._rc=!0,r[n]=s}hb(zI);function Ca(t,e){let n;function r(){n=Bf(),n.run(()=>e.length?e(()=>{n==null||n.stop(),r()}):e())}xe(t,o=>{o&&!n?r():o||(n==null||n.stop(),n=void 0)},{immediate:!0}),jn(()=>{n==null||n.stop()})}const wt=typeof window!="undefined",P1=wt&&"IntersectionObserver"in window,jI=wt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function A6(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let o=0;o<r;o++){if(t==null)return n;t=t[e[o]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function Hs(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>Hs(t[r],e[r]))}function Rh(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),A6(t,e.split("."),n))}function Co(t,e,n){if(e===!0)return t===void 0?n:t;if(e==null||typeof e=="boolean")return n;if(t!==Object(t)){if(typeof e!="function")return n;const o=e(t,n);return typeof o=="undefined"?n:o}if(typeof e=="string")return Rh(t,e,n);if(Array.isArray(e))return A6(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r=="undefined"?n:r}function O1(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function je(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Mh(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function E6(t){if(t&&"$el"in t){const e=t.$el;return(e==null?void 0:e.nodeType)===Node.TEXT_NODE?e.nextElementSibling:e}return t}const Iv=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),WI=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Zd(t,e){return e.every(n=>t.hasOwnProperty(n))}function D6(t,e){const n={},r=new Set(Object.keys(t));for(const o of e)r.has(o)&&(n[o]=t[o]);return n}function Pv(t,e,n){const r=Object.create(null),o=Object.create(null);for(const i in t)e.some(a=>a instanceof RegExp?a.test(i):a===i)&&!(n!=null&&n.some(a=>a===i))?r[i]=t[i]:o[i]=t[i];return[r,o]}function $s(t,e){const n=q({},t);return e.forEach(r=>delete n[r]),n}function HI(t,e){const n={};return e.forEach(r=>n[r]=t[r]),n}const I6=/^on[^a-z]/,N1=t=>I6.test(t),$I=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function R1(t){const[e,n]=Pv(t,[I6]),r=$s(e,$I),[o,i]=Pv(n,["class","style","id",/^data-/]);return Object.assign(o,e),Object.assign(i,r),[o,i]}function cr(t){return t==null?[]:Array.isArray(t)?t:[t]}function KI(t,e){let n=0;const r=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t(...i),wn(e))};return r.clear=()=>{clearTimeout(n)},r.immediate=t,r}function Ur(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function Ov(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function Nv(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function Rv(t,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,e-t.length))+t}function qI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function Mv(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(t)>=e&&r<n.length-1;)t/=e,++r;return`${t.toFixed(1)} ${n[r]}B`}function Nn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const o in t)r[o]=t[o];for(const o in e){const i=t[o],a=e[o];if(Mh(i)&&Mh(a)){r[o]=Nn(i,a,n);continue}if(Array.isArray(i)&&Array.isArray(a)&&n){r[o]=n(i,a);continue}r[o]=a}return r}function P6(t){return t.map(e=>e.type===Je?P6(e.children):e).flat()}function fa(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(fa.cache.has(t))return fa.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return fa.cache.set(t,e),e}fa.cache=new Map;function wl(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>wl(t,n)).flat(1);if(e.suspense)return wl(t,e.ssContent);if(Array.isArray(e.children))return e.children.map(n=>wl(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return wl(t,e.component.subTree).flat(1)}return[]}function M1(t){const e=$r({}),n=re(t);return ao(()=>{for(const r in n.value)e[r]=n.value[r]},{flush:"sync"}),Go(e)}function Y0(t,e){return t.includes(e)}function O6(t){return t[2].toLowerCase()+t.slice(3)}const Yn=()=>[Function,Array];function kv(t,e){return e="on"+Uo(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function N6(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const o of t)o(...n);else typeof t=="function"&&t(...n)}function J0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${e?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...t.querySelectorAll(n)]}function R6(t,e,n){var a;let r,o=t.indexOf(document.activeElement);const i=e==="next"?1:-1;do o+=i,r=t[o];while((!r||r.offsetParent==null||!((a=n==null?void 0:n(r))==null||a))&&o<t.length&&o>=0);return r}function Z0(t,e){var r,o,i,a;const n=J0(t);if(!e)(t===document.activeElement||!t.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(e==="first")(o=n[0])==null||o.focus();else if(e==="last")(i=n.at(-1))==null||i.focus();else if(typeof e=="number")(a=n[e])==null||a.focus();else{const s=R6(n,e);s?s.focus():Z0(t,e==="next"?"first":"last")}}function Q0(t,e){if(!(wt&&typeof CSS!="undefined"&&typeof CSS.supports!="undefined"&&CSS.supports(`selector(${e})`)))return null;try{return!!t&&t.matches(e)}catch(r){return null}}function M6(t){return t.some(e=>No(e)?e.type===an?!1:e.type!==Je||M6(e.children):!0)?t:null}function XI(t,e){if(!wt||t===0)return e(),()=>{};const n=window.setTimeout(e,t);return()=>window.clearTimeout(n)}function YI(t,e){const n=t.clientX,r=t.clientY,o=e.getBoundingClientRect(),i=o.left,a=o.top,s=o.right,u=o.bottom;return n>=i&&n<=s&&r>=a&&r<=u}function kh(){const t=Ge(),e=n=>{t.value=n};return Object.defineProperty(e,"value",{enumerable:!0,get:()=>t.value,set:n=>t.value=n}),Object.defineProperty(e,"el",{enumerable:!0,get:()=>E6(t.value)}),e}const k6=["top","bottom"],JI=["start","end","left","right"];function Lh(t,e){let[n,r]=t.split(" ");return r||(r=Y0(k6,n)?"start":Y0(JI,n)?"top":"center"),{side:Lv(n,e),align:Lv(r,e)}}function Lv(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Qd(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function ep(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function Fv(t){return{side:t.align,align:t.side}}function Bv(t){return Y0(k6,t.side)?"y":"x"}class da{constructor(e){let{x:n,y:r,width:o,height:i}=e;this.x=n,this.y=r,this.width=o,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Vv(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function L6(t){return Array.isArray(t)?new da({x:t[0],y:t[1],width:0,height:0}):t.getBoundingClientRect()}function k1(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),r=n.transform;if(r){let o,i,a,s,u;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),i=+o[0],a=+o[5],s=+o[12],u=+o[13];else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),i=+o[0],a=+o[3],s=+o[4],u=+o[5];else return new da(e);const l=n.transformOrigin,f=e.x-s-(1-i)*parseFloat(l),c=e.y-u-(1-a)*parseFloat(l.slice(l.indexOf(" ")+1)),d=i?e.width/i:t.offsetWidth+1,p=a?e.height/a:t.offsetHeight+1;return new da({x:f,y:c,width:d,height:p})}else return new da(e)}function Za(t,e,n){if(typeof t.animate=="undefined")return{finished:Promise.resolve()};let r;try{r=t.animate(e,n)}catch(o){return{finished:Promise.resolve()}}return typeof r.finished=="undefined"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}const s0=new WeakMap;function ZI(t,e){Object.keys(e).forEach(n=>{if(N1(n)){const r=O6(n),o=s0.get(t);if(e[n]==null)o==null||o.forEach(i=>{const[a,s]=i;a===r&&(t.removeEventListener(r,s),o.delete(i))});else if(!o||![...o].some(i=>i[0]===r&&i[1]===e[n])){t.addEventListener(r,e[n]);const i=o||new Set;i.add([r,e[n]]),s0.has(t)||s0.set(t,i)}}else e[n]==null?t.removeAttribute(n):t.setAttribute(n,e[n])})}function QI(t,e){Object.keys(e).forEach(n=>{if(N1(n)){const r=O6(n),o=s0.get(t);o==null||o.forEach(i=>{const[a,s]=i;a===r&&(t.removeEventListener(r,s),o.delete(i))})}else t.removeAttribute(n)})}const Ba=2.4,Uv=.2126729,Gv=.7151522,zv=.072175,eP=.55,tP=.58,nP=.57,rP=.62,hc=.03,jv=1.45,oP=5e-4,iP=1.25,aP=1.25,Wv=.078,Hv=12.82051282051282,mc=.06,$v=.001;function Kv(t,e){const n=_e(t.r/255,Ba),r=_e(t.g/255,Ba),o=_e(t.b/255,Ba),i=_e(e.r/255,Ba),a=_e(e.g/255,Ba),s=_e(e.b/255,Ba);let u=n*Uv+r*Gv+o*zv,l=i*Uv+a*Gv+s*zv;if(u<=hc&&(u+=_e(hc-u,jv)),l<=hc&&(l+=_e(hc-l,jv)),Math.abs(l-u)<oP)return 0;let f;if(l>u){const c=(_e(l,eP)-_e(u,tP))*iP;f=c<$v?0:c<Wv?c-c*Hv*mc:c-mc}else{const c=(_e(l,rP)-_e(u,nP))*aP;f=c>-$v?0:c>-Wv?c-c*Hv*mc:c+mc}return f*100}function sP(t,e){e=Array.isArray(e)?e.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${e.at(-1)}'`:`'${e}'`}const ef=.20689655172413793,lP=t=>t>_e(ef,3)?Math.cbrt(t):t/(3*_e(ef,2))+4/29,uP=t=>t>ef?_e(t,3):3*_e(ef,2)*(t-4/29);function F6(t){const e=lP,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function B6(t){const e=uP,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}const cP=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],fP=t=>t<=.0031308?t*12.92:1.055*_e(t,1/2.4)-.055,dP=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],pP=t=>t<=.04045?t/12.92:_e((t+.055)/1.055,2.4);function V6(t){const e=Array(3),n=fP,r=cP;for(let o=0;o<3;++o)e[o]=Math.round(Ur(n(r[o][0]*t[0]+r[o][1]*t[1]+r[o][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function L1(t){let{r:e,g:n,b:r}=t;const o=[0,0,0],i=pP,a=dP;e=i(e/255),n=i(n/255),r=i(r/255);for(let s=0;s<3;++s)o[s]=a[s][0]*e+a[s][1]*n+a[s][2]*r;return o}function Fh(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function hP(t){return Fh(t)&&!/^((rgb|hsl)a?\()?var\(--/.test(t)}const qv=new RegExp("^(?<fn>(?:rgb|hsl)a?)\\((?<values>.+)\\)"),mP={rgb:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),rgba:(t,e,n,r)=>({r:t,g:e,b:n,a:r}),hsl:(t,e,n,r)=>Xv({h:t,s:e,l:n,a:r}),hsla:(t,e,n,r)=>Xv({h:t,s:e,l:n,a:r}),hsv:(t,e,n,r)=>ou({h:t,s:e,v:n,a:r}),hsva:(t,e,n,r)=>ou({h:t,s:e,v:n,a:r})};function ro(t){if(typeof t=="number")return{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"&&qv.test(t)){const{groups:e}=t.match(qv),{fn:n,values:r}=e,o=r.split(/,\s*/).map(i=>i.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(i)/100:parseFloat(i));return mP[n](...o)}else if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;return[3,4].includes(e.length)?e=e.split("").map(n=>n+n).join(""):[6,8].includes(e.length),vP(e)}else if(typeof t=="object"){if(Zd(t,["r","g","b"]))return t;if(Zd(t,["h","s","l"]))return ou(U6(t));if(Zd(t,["h","s","v"]))return ou(t)}throw new TypeError(`Invalid color: ${t==null?t:String(t)||t.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function ou(t){const{h:e,s:n,v:r,a:o}=t,i=s=>{const u=(s+e/60)%6;return r-r*n*Math.max(Math.min(u,4-u,1),0)},a=[i(5),i(3),i(1)].map(s=>Math.round(s*255));return{r:a[0],g:a[1],b:a[2],a:o}}function Xv(t){return ou(U6(t))}function U6(t){const{h:e,s:n,l:r,a:o}=t,i=r+n*Math.min(r,1-r),a=i===0?0:2-2*r/i;return{h:e,s:a,v:i,a:o}}function gc(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function gP(t){let{r:e,g:n,b:r,a:o}=t;return`#${[gc(e),gc(n),gc(r),o!==void 0?gc(Math.round(o*255)):""].join("")}`}function vP(t){t=yP(t);let[e,n,r,o]=qI(t,2).map(i=>parseInt(i,16));return o=o===void 0?o:o/255,{r:e,g:n,b:r,a:o}}function yP(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=Nv(Nv(t,6),8,"F")),t}function bP(t,e){const n=F6(L1(t));return n[0]=n[0]+e*10,V6(B6(n))}function xP(t,e){const n=F6(L1(t));return n[0]=n[0]-e*10,V6(B6(n))}function SP(t){const e=ro(t);return L1(e)[1]}function G6(t){const e=Math.abs(Kv(ro(0),ro(t)));return Math.abs(Kv(ro(16777215),ro(t)))>Math.min(e,50)?"#fff":"#000"}function Ie(t,e){return n=>Object.keys(t).reduce((r,o)=>{const a=typeof t[o]=="object"&&t[o]!=null&&!Array.isArray(t[o])?t[o]:{type:t[o]};return n&&o in n?r[o]=Oe(q({},a),{default:n[o]}):r[o]=a,e&&!r[o].source&&(r[o].source=e),r},{})}const Tt=Ie({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function yn(t,e){const n=lo();if(!n)throw new Error(`[Vuetify] ${t} must be called from inside a setup function`);return n}function Wo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=yn(t).type;return fa((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let z6=0,l0=new WeakMap;function uo(){const t=yn("getUid");if(l0.has(t))return l0.get(t);{const e=z6++;return l0.set(t,e),e}}uo.reset=()=>{z6=0,l0=new WeakMap};function CP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yn("injectSelf");const{provides:n}=e;if(n&&t in n)return n[t]}const Ps=Symbol.for("vuetify:defaults");function wP(t){return Ae(t)}function F1(){const t=We(Ps);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function id(t,e){const n=F1(),r=Ae(t),o=re(()=>{if(wn(e==null?void 0:e.disabled))return n.value;const a=wn(e==null?void 0:e.scoped),s=wn(e==null?void 0:e.reset),u=wn(e==null?void 0:e.root);if(r.value==null&&!(a||s||u))return n.value;let l=Nn(r.value,{prev:n.value});if(a)return l;if(s||u){const f=Number(s||1/0);for(let c=0;c<=f&&!(!l||!("prev"in l));c++)l=l.prev;return l&&typeof u=="string"&&u in l&&(l=Nn(Nn(l,{prev:l}),l[u])),l}return l.prev?Nn(l.prev,l):l});return Pt(Ps,o),o}function TP(t,e){var n,r;return typeof((n=t.props)==null?void 0:n[e])!="undefined"||typeof((r=t.props)==null?void 0:r[fa(e)])!="undefined"}function _P(){var u;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F1();const r=yn("useDefaults");if(e=(u=e!=null?e:r.type.name)!=null?u:r.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const o=re(()=>{var l,f;return(f=n.value)==null?void 0:f[(l=t._as)!=null?l:e]}),i=new Proxy(t,{get(l,f){var d,p,h,m,y,b,v;const c=Reflect.get(l,f);return f==="class"||f==="style"?[(d=o.value)==null?void 0:d[f],c].filter(g=>g!=null):typeof f=="string"&&!TP(r.vnode,f)?((p=o.value)==null?void 0:p[f])!==void 0?(h=o.value)==null?void 0:h[f]:((y=(m=n.value)==null?void 0:m.global)==null?void 0:y[f])!==void 0?(v=(b=n.value)==null?void 0:b.global)==null?void 0:v[f]:c:c}}),a=Ge();ao(()=>{if(o.value){const l=Object.entries(o.value).filter(f=>{let[c]=f;return c.startsWith(c[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function s(){const l=CP(Ps,r);Pt(Ps,re(()=>{var f;return a.value?Nn((f=l==null?void 0:l.value)!=null?f:{},a.value):l==null?void 0:l.value}))}return{props:i,provideSubDefaults:s}}function Ks(t){var e,n;if(t._setup=(e=t._setup)!=null?e:t.setup,!t.name)return t;if(t._setup){t.props=Ie((n=t.props)!=null?n:{},t.name)();const r=Object.keys(t.props).filter(o=>o!=="class"&&o!=="style");t.filterProps=function(i){return D6(i,r)},t.props._as=String,t.setup=function(i,a){var c;const s=F1();if(!s.value)return t._setup(i,a);const{props:u,provideSubDefaults:l}=_P(i,(c=i._as)!=null?c:t.name,s),f=t._setup(u,a);return l(),f}}return t}function Qe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Ks:Hf)(e)}function AP(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return Qe()({name:n!=null?n:Uo(It(t.replace(/__/g,"-"))),props:q({tag:{type:String,default:e}},Tt()),setup(r,o){let{slots:i}=o;return()=>{var a;return Na(r.tag,{class:[t,r.class],style:r.style},(a=i.default)==null?void 0:a.call(i))}}})}function j6(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const tf="cubic-bezier(0.4, 0, 0.2, 1)",EP="cubic-bezier(0.0, 0, 0.2, 1)",DP="cubic-bezier(0.4, 0, 1, 1)";function W6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;t;){if(e?IP(t):B1(t))return t;t=t.parentElement}return document.scrollingElement}function nf(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(B1(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function B1(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function IP(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return["scroll","auto"].includes(e.overflowY)}function PP(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function mt(t){const e=yn("useRender");e.render=t}function Qt(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c=>c,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c=>c;const i=yn("useProxiedModel"),a=Ae(t[e]!==void 0?t[e]:n),s=fa(e),l=re(s!==e?()=>{var c,d,p,h;return t[e],!!(((c=i.vnode.props)!=null&&c.hasOwnProperty(e)||(d=i.vnode.props)!=null&&d.hasOwnProperty(s))&&((p=i.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${e}`)||(h=i.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var c,d;return t[e],!!((c=i.vnode.props)!=null&&c.hasOwnProperty(e)&&((d=i.vnode.props)!=null&&d.hasOwnProperty(`onUpdate:${e}`)))});Ca(()=>!l.value,()=>{xe(()=>t[e],c=>{a.value=c})});const f=re({get(){const c=t[e];return r(l.value?c:a.value)},set(c){const d=o(c),p=Ue(l.value?t[e]:a.value);p===d||r(p)===c||(a.value=d,i==null||i.emit(`update:${e}`,d))}});return Object.defineProperty(f,"externalValue",{get:()=>l.value?t[e]:a.value}),f}const OP={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},Yv="$vuetify.",Jv=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[+r])),H6=(t,e,n)=>function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(!r.startsWith(Yv))return Jv(r,i);const s=r.replace(Yv,""),u=t.value&&n.value[t.value],l=e.value&&n.value[e.value];let f=Rh(u,s,null);return f||(`${r}${t.value}`,f=Rh(l,s,null)),f||(f=r),typeof f!="string"&&(f=r),Jv(f,i)};function $6(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function tp(t,e,n){var o,i;const r=Qt(t,e,(o=t[e])!=null?o:n.value);return r.value=(i=t[e])!=null?i:n.value,xe(n,a=>{t[e]==null&&(r.value=n.value)}),r}function K6(t){return e=>{const n=tp(e,"locale",t.current),r=tp(e,"fallback",t.fallback),o=tp(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:o,t:H6(n,r,o),n:$6(n,r),provide:K6({current:n,fallback:r,messages:o})}}}function NP(t){var o,i;const e=Ge((o=t==null?void 0:t.locale)!=null?o:"en"),n=Ge((i=t==null?void 0:t.fallback)!=null?i:"en"),r=Ae(q({en:OP},t==null?void 0:t.messages));return{name:"vuetify",current:e,fallback:n,messages:r,t:H6(e,n,r),n:$6(e,n),provide:K6({current:e,fallback:n,messages:r})}}const rf=Symbol.for("vuetify:locale");function RP(t){return t.name!=null}function MP(t){const e=t!=null&&t.adapter&&RP(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:NP(t),n=LP(e,t);return q(q({},e),n)}function ad(){const t=We(rf);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function kP(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function LP(t,e){var o;const n=Ae((o=e==null?void 0:e.rtl)!=null?o:kP()),r=re(()=>{var i;return(i=n.value[t.current.value])!=null?i:!1});return{isRtl:r,rtl:n,rtlClasses:re(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function co(){const t=We(rf);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const sd={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function FP(t,e,n){var f;const r=[];let o=[];const i=q6(t),a=X6(t),s=(f=n!=null?n:sd[e.slice(-2).toUpperCase()])!=null?f:0,u=(i.getDay()-s+7)%7,l=(a.getDay()-s+7)%7;for(let c=0;c<u;c++){const d=new Date(i);d.setDate(d.getDate()-(u-c)),o.push(d)}for(let c=1;c<=a.getDate();c++){const d=new Date(t.getFullYear(),t.getMonth(),c);o.push(d),o.length===7&&(r.push(o),o=[])}for(let c=1;c<7-l;c++){const d=new Date(a);d.setDate(d.getDate()+c),o.push(d)}return o.length>0&&r.push(o),r}function BP(t,e,n){var i;const r=(i=n!=null?n:sd[e.slice(-2).toUpperCase()])!=null?i:0,o=new Date(t);for(;o.getDay()!==r;)o.setDate(o.getDate()-1);return o}function VP(t,e){var o;const n=new Date(t),r=(((o=sd[e.slice(-2).toUpperCase()])!=null?o:0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function q6(t){return new Date(t.getFullYear(),t.getMonth(),1)}function X6(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function UP(t){const e=t.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const GP=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Y6(t){if(t==null)return new Date;if(t instanceof Date)return t;if(typeof t=="string"){let e;if(GP.test(t))return UP(t);if(e=Date.parse(t),!isNaN(e))return new Date(e)}return null}const Zv=new Date(2e3,0,2);function zP(t,e){var r;const n=(r=e!=null?e:sd[t.slice(-2).toUpperCase()])!=null?r:0;return O1(7).map(o=>{const i=new Date(Zv);return i.setDate(Zv.getDate()+n+o),new Intl.DateTimeFormat(t,{weekday:"narrow"}).format(i)})}function jP(t,e,n,r){var s;const o=(s=Y6(t))!=null?s:new Date,i=r==null?void 0:r[e];if(typeof i=="function")return i(o,e,n);let a={};switch(e){case"fullDate":a={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const u=o.getDate(),l=new Intl.DateTimeFormat(n,{month:"long"}).format(o);return`${u} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(o.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:a=i!=null?i:{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,a).format(o)}function WP(t,e){const n=t.toJsDate(e),r=n.getFullYear(),o=Rv(String(n.getMonth()+1),2,"0"),i=Rv(String(n.getDate()),2,"0");return`${r}-${o}-${i}`}function HP(t){const[e,n,r]=t.split("-").map(Number);return new Date(e,n-1,r)}function $P(t,e){const n=new Date(t);return n.setMinutes(n.getMinutes()+e),n}function KP(t,e){const n=new Date(t);return n.setHours(n.getHours()+e),n}function qP(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function XP(t,e){const n=new Date(t);return n.setDate(n.getDate()+e*7),n}function YP(t,e){const n=new Date(t);return n.setDate(1),n.setMonth(n.getMonth()+e),n}function JP(t){return t.getFullYear()}function ZP(t){return t.getMonth()}function QP(t){return t.getDate()}function eO(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function tO(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function nO(t){return t.getHours()}function rO(t){return t.getMinutes()}function oO(t){return new Date(t.getFullYear(),0,1)}function iO(t){return new Date(t.getFullYear(),11,31)}function aO(t,e){return of(t,e[0])&&uO(t,e[1])}function sO(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function of(t,e){return t.getTime()>e.getTime()}function lO(t,e){return of(Bh(t),Bh(e))}function uO(t,e){return t.getTime()<e.getTime()}function Qv(t,e){return t.getTime()===e.getTime()}function cO(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function fO(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function dO(t,e){return t.getFullYear()===e.getFullYear()}function pO(t,e,n){const r=new Date(t),o=new Date(e);switch(n){case"years":return r.getFullYear()-o.getFullYear();case"quarters":return Math.floor((r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12)/4);case"months":return r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-o.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-o.getTime())/1e3);default:return r.getTime()-o.getTime()}}function hO(t,e){const n=new Date(t);return n.setHours(e),n}function mO(t,e){const n=new Date(t);return n.setMinutes(e),n}function gO(t,e){const n=new Date(t);return n.setMonth(e),n}function vO(t,e){const n=new Date(t);return n.setDate(e),n}function yO(t,e){const n=new Date(t);return n.setFullYear(e),n}function Bh(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)}function bO(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)}class xO{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return Y6(e)}toJsDate(e){return e}toISO(e){return WP(this,e)}parseISO(e){return HP(e)}addMinutes(e,n){return $P(e,n)}addHours(e,n){return KP(e,n)}addDays(e,n){return qP(e,n)}addWeeks(e,n){return XP(e,n)}addMonths(e,n){return YP(e,n)}getWeekArray(e,n){return FP(e,this.locale,n?Number(n):void 0)}startOfWeek(e,n){return BP(e,this.locale,n?Number(n):void 0)}endOfWeek(e){return VP(e,this.locale)}startOfMonth(e){return q6(e)}endOfMonth(e){return X6(e)}format(e,n){return jP(e,n,this.locale,this.formats)}isEqual(e,n){return Qv(e,n)}isValid(e){return sO(e)}isWithinRange(e,n){return aO(e,n)}isAfter(e,n){return of(e,n)}isAfterDay(e,n){return lO(e,n)}isBefore(e,n){return!of(e,n)&&!Qv(e,n)}isSameDay(e,n){return cO(e,n)}isSameMonth(e,n){return fO(e,n)}isSameYear(e,n){return dO(e,n)}setMinutes(e,n){return mO(e,n)}setHours(e,n){return hO(e,n)}setMonth(e,n){return gO(e,n)}setDate(e,n){return vO(e,n)}setYear(e,n){return yO(e,n)}getDiff(e,n,r){return pO(e,n,r)}getWeekdays(e){return zP(this.locale,e?Number(e):void 0)}getYear(e){return JP(e)}getMonth(e){return ZP(e)}getDate(e){return QP(e)}getNextMonth(e){return eO(e)}getPreviousMonth(e){return tO(e)}getHours(e){return nO(e)}getMinutes(e){return rO(e)}startOfDay(e){return Bh(e)}endOfDay(e){return bO(e)}startOfYear(e){return oO(e)}endOfYear(e){return iO(e)}}const SO=Symbol.for("vuetify:date-options"),ey=Symbol.for("vuetify:date-adapter");function CO(t,e){const n=Nn({adapter:xO,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},t);return{options:n,instance:wO(n,e)}}function wO(t,e){var r;const n=$r(typeof t.adapter=="function"?new t.adapter({locale:(r=t.locale[e.current.value])!=null?r:e.current.value,formats:t.formats}):t.adapter);return xe(e.current,o=>{var i,a;n.locale=(a=(i=t.locale[o])!=null?i:o)!=null?a:n.locale}),n}const Vh=Symbol.for("vuetify:display"),ty={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},TO=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ty;return Nn(ty,t)};function ny(t){return wt&&!t?window.innerWidth:typeof t=="object"&&t.clientWidth||0}function ry(t){return wt&&!t?window.innerHeight:typeof t=="object"&&t.clientHeight||0}function oy(t){const e=wt&&!t?window.navigator.userAgent:"ssr";function n(h){return!!e.match(h)}const r=n(/android/i),o=n(/iphone|ipad|ipod/i),i=n(/cordova/i),a=n(/electron/i),s=n(/chrome/i),u=n(/edge/i),l=n(/firefox/i),f=n(/opera/i),c=n(/win/i),d=n(/mac/i),p=n(/linux/i);return{android:r,ios:o,cordova:i,electron:a,chrome:s,edge:u,firefox:l,opera:f,win:c,mac:d,linux:p,touch:jI,ssr:e==="ssr"}}function _O(t,e){const{thresholds:n,mobileBreakpoint:r}=TO(t),o=Ge(ry(e)),i=Ge(oy(e)),a=$r({}),s=Ge(ny(e));function u(){o.value=ry(),s.value=ny()}function l(){u(),i.value=oy()}return ao(()=>{const f=s.value<n.sm,c=s.value<n.md&&!f,d=s.value<n.lg&&!(c||f),p=s.value<n.xl&&!(d||c||f),h=s.value<n.xxl&&!(p||d||c||f),m=s.value>=n.xxl,y=f?"xs":c?"sm":d?"md":p?"lg":h?"xl":"xxl",b=typeof r=="number"?r:n[r],v=s.value<b;a.xs=f,a.sm=c,a.md=d,a.lg=p,a.xl=h,a.xxl=m,a.smAndUp=!f,a.mdAndUp=!(f||c),a.lgAndUp=!(f||c||d),a.xlAndUp=!(f||c||d||p),a.smAndDown=!(d||p||h||m),a.mdAndDown=!(p||h||m),a.lgAndDown=!(h||m),a.xlAndDown=!m,a.name=y,a.height=o.value,a.width=s.value,a.mobile=v,a.mobileBreakpoint=r,a.platform=i.value,a.thresholds=n}),wt&&window.addEventListener("resize",u,{passive:!0}),Oe(q({},Go(a)),{update:l,ssr:!!e})}const AO=Ie({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function V1(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();const n=We(Vh);if(!n)throw new Error("Could not find Vuetify display injection");const r=re(()=>{if(t.mobile!=null)return t.mobile;if(!t.mobileBreakpoint)return n.mobile.value;const i=typeof t.mobileBreakpoint=="number"?t.mobileBreakpoint:n.thresholds.value[t.mobileBreakpoint];return n.width.value<i}),o=re(()=>e?{[`${e}--mobile`]:r.value}:{});return Oe(q({},n),{displayClasses:o,mobile:r})}const J6=Symbol.for("vuetify:goto");function Z6(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:t=>t,easeInQuad:t=>_e(t,2),easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*_e(t,2):-1+(4-2*t)*t,easeInCubic:t=>_e(t,3),easeOutCubic:t=>_e(--t,3)+1,easeInOutCubic:t=>t<.5?4*_e(t,3):(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>_e(t,4),easeOutQuart:t=>1-_e(--t,4),easeInOutQuart:t=>t<.5?8*_e(t,4):1-8*_e(--t,4),easeInQuint:t=>_e(t,5),easeOutQuint:t=>1+_e(--t,5),easeInOutQuint:t=>t<.5?16*_e(t,5):1+16*_e(--t,5)}}}function EO(t){var e;return(e=U1(t))!=null?e:document.scrollingElement||document.body}function U1(t){return typeof t=="string"?document.querySelector(t):E6(t)}function np(t,e,n){if(typeof t=="number")return e&&n?-t:t;let r=U1(t),o=0;for(;r;)o+=e?r.offsetLeft:r.offsetTop,r=r.offsetParent;return o}function DO(t,e){return{rtl:e.isRtl,options:Nn(Z6(),t)}}function iy(t,e,n,r){return vt(this,null,function*(){var p,h,m;const o=n?"scrollLeft":"scrollTop",i=Nn((p=r==null?void 0:r.options)!=null?p:Z6(),e),a=r==null?void 0:r.rtl.value,s=(h=typeof t=="number"?t:U1(t))!=null?h:0,u=i.container==="parent"&&s instanceof HTMLElement?s.parentElement:EO(i.container),l=typeof i.easing=="function"?i.easing:i.patterns[i.easing];if(!l)throw new TypeError(`Easing function "${i.easing}" not found.`);let f;if(typeof s=="number")f=np(s,n,a);else if(f=np(s,n,a)-np(u,n,a),i.layout){const b=window.getComputedStyle(s).getPropertyValue("--v-layout-top");b&&(f-=parseInt(b,10))}f+=i.offset,f=PO(u,f,!!a,!!n);const c=(m=u[o])!=null?m:0;if(f===c)return Promise.resolve(f);const d=performance.now();return new Promise(y=>requestAnimationFrame(function b(v){const x=(v-d)/i.duration,S=Math.floor(c+(f-c)*l(Ur(x,0,1)));if(u[o]=S,x>=1&&Math.abs(S-u[o])<10)return y(f);if(x>2)return y(u[o]);requestAnimationFrame(b)}))})}function IO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=We(J6),{isRtl:n}=co();if(!e)throw new Error("[Vuetify] Could not find injected goto instance");const r=Oe(q({},e),{rtl:re(()=>e.rtl.value||n.value)});function o(i,a){return vt(this,null,function*(){return iy(i,Nn(t,a),!1,r)})}return o.horizontal=(i,a)=>vt(this,null,function*(){return iy(i,Nn(t,a),!0,r)}),o}function PO(t,e,n,r){const{scrollWidth:o,scrollHeight:i}=t,[a,s]=t===document.scrollingElement?[window.innerWidth,window.innerHeight]:[t.offsetWidth,t.offsetHeight];let u,l;return r?n?(u=-(o-a),l=0):(u=0,l=o-a):(u=0,l=i+-s),Math.max(Math.min(e,l),u)}const OO={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},NO={component:t=>Na(e9,Oe(q({},t),{class:"mdi"}))},Vt=[String,Function,Object,Array],Uh=Symbol.for("vuetify:icons"),ld=Ie({icon:{type:Vt},tag:{type:String,required:!0}},"icon"),ay=Qe()({name:"VComponentIcon",props:ld(),setup(t,e){let{slots:n}=e;return()=>{const r=t.icon;return Q(t.tag,null,{default:()=>{var o;return[t.icon?Q(r,null,null):(o=n.default)==null?void 0:o.call(n)]}})}}}),Q6=Ks({name:"VSvgIcon",inheritAttrs:!1,props:ld(),setup(t,e){let{attrs:n}=e;return()=>Q(t.tag,tt(n,{style:null}),{default:()=>[Q("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(r=>Array.isArray(r)?Q("path",{d:r[0],"fill-opacity":r[1]},null):Q("path",{d:r},null)):Q("path",{d:t.icon},null)])]})}});Ks({name:"VLigatureIcon",props:ld(),setup(t){return()=>Q(t.tag,null,{default:()=>[t.icon]})}});const e9=Ks({name:"VClassIcon",props:ld(),setup(t){return()=>Q(t.tag,{class:t.icon},null)}});function RO(){return{svg:{component:Q6},class:{component:e9}}}function MO(t){var r;const e=RO(),n=(r=t==null?void 0:t.defaultSet)!=null?r:"mdi";return n==="mdi"&&!e.mdi&&(e.mdi=NO),Nn({defaultSet:n,sets:e,aliases:Oe(q({},OO),{vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]})},t)}const kO=t=>{const e=We(Uh);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:re(()=>{var u;const r=wn(t);if(!r)return{component:ay};let o=r;if(typeof o=="string"&&(o=o.trim(),o.startsWith("$")&&(o=(u=e.aliases)==null?void 0:u[o.slice(1)])),Array.isArray(o))return{component:Q6,icon:o};if(typeof o!="string")return{component:ay,icon:o};const i=Object.keys(e.sets).find(l=>typeof o=="string"&&o.startsWith(`${l}:`)),a=i?o.slice(i.length+1):o;return{component:e.sets[i!=null?i:e.defaultSet].component,icon:a}})}},af=Symbol.for("vuetify:theme"),hr=Ie({theme:String},"theme");function sy(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function LO(){var r,o,i;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sy();const e=sy();if(!t)return Oe(q({},e),{isDisabled:!0});const n={};for(const[a,s]of Object.entries((r=t.themes)!=null?r:{})){const u=s.dark||a==="dark"?(o=e.themes)==null?void 0:o.dark:(i=e.themes)==null?void 0:i.light;n[a]=Nn(u,s)}return Nn(e,Oe(q({},t),{themes:n}))}function FO(t){const e=LO(t),n=Ae(e.defaultTheme),r=Ae(e.themes),o=re(()=>{const f={};for(const[c,d]of Object.entries(r.value)){const p=f[c]=Oe(q({},d),{colors:q({},d.colors)});if(e.variations)for(const h of e.variations.colors){const m=p.colors[h];if(m)for(const y of["lighten","darken"]){const b=y==="lighten"?bP:xP;for(const v of O1(e.variations[y],1))p.colors[`${h}-${y}-${v}`]=gP(b(ro(m),v))}}for(const h of Object.keys(p.colors)){if(/^on-[a-z]/.test(h)||p.colors[`on-${h}`])continue;const m=`on-${h}`,y=ro(p.colors[h]);p.colors[m]=G6(y)}}return f}),i=re(()=>o.value[n.value]),a=re(()=>{var h;const f=[];(h=i.value)!=null&&h.dark&&Ri(f,":root",["color-scheme: dark"]),Ri(f,":root",ly(i.value));for(const[m,y]of Object.entries(o.value))Ri(f,`.v-theme--${m}`,[`color-scheme: ${y.dark?"dark":"normal"}`,...ly(y)]);const c=[],d=[],p=new Set(Object.values(o.value).flatMap(m=>Object.keys(m.colors)));for(const m of p)/^on-[a-z]/.test(m)?Ri(d,`.${m}`,[`color: rgb(var(--v-theme-${m})) !important`]):(Ri(c,`.bg-${m}`,[`--v-theme-overlay-multiplier: var(--v-theme-${m}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${m})) !important`,`color: rgb(var(--v-theme-on-${m})) !important`]),Ri(d,`.text-${m}`,[`color: rgb(var(--v-theme-${m})) !important`]),Ri(d,`.border-${m}`,[`--v-border-color: var(--v-theme-${m})`]));return f.push(...c,...d),f.map((m,y)=>y===0?m:`    ${m}`).join("")});function s(){return{style:[{children:a.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function u(f){if(e.isDisabled)return;const c=f._context.provides.usehead;if(c)if(c.push){const p=c.push(s);wt&&xe(a,()=>{p.patch(s)})}else wt?(c.addHeadObjs(re(s)),ao(()=>c.updateDOM())):c.addHeadObjs(s());else{let h=function(){if(typeof document!="undefined"&&!p){const m=document.createElement("style");m.type="text/css",m.id="vuetify-theme-stylesheet",e.cspNonce&&m.setAttribute("nonce",e.cspNonce),p=m,document.head.appendChild(p)}p&&(p.innerHTML=a.value)};var d=h;let p=wt?document.getElementById("vuetify-theme-stylesheet"):null;wt?xe(a,h,{immediate:!0}):h()}}const l=re(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:u,isDisabled:e.isDisabled,name:n,themes:r,current:i,computedThemes:o,themeClasses:l,styles:a,global:{name:n,current:i}}}function Kr(t){yn("provideTheme");const e=We(af,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=re(()=>{var a;return(a=t.theme)!=null?a:e.name.value}),r=re(()=>e.themes.value[n.value]),o=re(()=>e.isDisabled?void 0:`v-theme--${n.value}`),i=Oe(q({},e),{name:n,current:r,themeClasses:o});return Pt(af,i),i}function Ri(t,e,n){t.push(`${e} {
`,...n.map(r=>`  ${r};
`),`}
`)}function ly(t){const e=t.dark?2:1,n=t.dark?1:2,r=[];for(const[o,i]of Object.entries(t.colors)){const a=ro(i);r.push(`--v-theme-${o}: ${a.r},${a.g},${a.b}`),o.startsWith("on-")||r.push(`--v-theme-${o}-overlay-multiplier: ${SP(i)>.18?e:n}`)}for(const[o,i]of Object.entries(t.variables)){const a=typeof i=="string"&&i.startsWith("#")?ro(i):void 0,s=a?`${a.r}, ${a.g}, ${a.b}`:void 0;r.push(`--v-${o}: ${s!=null?s:i}`)}return r}function sf(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=kh(),r=Ae();if(wt){const o=new ResizeObserver(i=>{i.length&&(e==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});Ht(()=>{o.disconnect()}),xe(()=>n.el,(i,a)=>{a&&(o.unobserve(a),r.value=void 0),i&&o.observe(i)},{flush:"post"})}return{resizeRef:n,contentRect:js(r)}}function t9(){const m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{blueprint:e}=m,n=Ln(m,["blueprint"]),r=Nn(e,n),{aliases:o={},components:i={},directives:a={}}=r,s=wP(r.defaults),u=_O(r.display,r.ssr),l=FO(r.theme),f=MO(r.icons),c=MP(r.locale),d=CO(r.date,c),p=DO(r.goTo,c);return{install:y=>{for(const b in a)y.directive(b,a[b]);for(const b in i)y.component(b,i[b]);for(const b in o)y.component(b,Ks(Oe(q({},o[b]),{name:b,aliasName:o[b].name})));if(l.install(y),y.provide(Ps,s),y.provide(Vh,u),y.provide(af,l),y.provide(Uh,f),y.provide(rf,c),y.provide(SO,d.options),y.provide(ey,d.instance),y.provide(J6,p),wt&&r.ssr)if(y.$nuxt)y.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:b}=y;y.mount=function(){const v=b(...arguments);return Gt(()=>u.update()),y.mount=b,v}}uo.reset(),y.mixin({computed:{$vuetify(){return $r({defaults:Va.call(this,Ps),display:Va.call(this,Vh),theme:Va.call(this,af),icons:Va.call(this,Uh),locale:Va.call(this,rf),date:Va.call(this,ey)})}}})},defaults:s,display:u,theme:l,icons:f,locale:c,date:d,goTo:p}}const BO="3.6.13";t9.version=BO;function Va(t){var r,o,i;const e=this.$,n=(i=(r=e.parent)==null?void 0:r.provides)!=null?i:(o=e.vnode.appContext)==null?void 0:o.provides;if(n&&t in n)return n[t]}function VO(t){return t}function G1(t){if(t===null||t==="null")return null;if(t==="true")return!0;if(t==="false")return!1;if(!(t===void 0||t==="undefined"))return t[0]==="["&&t[t.length-1]==="]"?t.substring(1,t.length-1).split(",").map(e=>G1(e.trim())):t===""||Number.isNaN(Number(t))?t:Number(t)}function UO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.location.search;const n={},r=t?G1:VO;return(e||"").replace(/#.*/,"").replace("?","").split("&").forEach(i=>{const[a,s]=i.split("=").map(u=>decodeURIComponent(u));a&&(n[a]=s?r(s):!0)}),n}var GO={toNativeType:G1,extractURLParameters:UO};function lf(t){return t.charAt(0).toUpperCase()+t.slice(1)}function zO(t,e={},n=null){e.isA||(e.isA=[]),n&&e.isA.push(n),t.isA||(t.isA=r=>e.isA.indexOf(r)!==-1)}function jO(t,e={},n=[]){n.forEach(r=>{t[`set${lf(r)}`]=o=>{e[r]=o}})}function WO(t,e={},n=[]){n.forEach(r=>{t[`get${lf(r)}`]=()=>e[r]})}function HO(t,e={}){const n=t.destroy;e.subscriptions||(e.subscriptions=[]),t.destroy=()=>{for(n&&n();e.subscriptions&&e.subscriptions.length;)e.subscriptions.pop().unsubscribe();Object.keys(e).forEach(r=>{delete e[r]}),e.deleted=!0}}function $O(t,e,n,r=!0){const o=[],i=t.destroy;function a(u){o[u]=null}function s(u){function l(){a(u)}return Object.freeze({unsubscribe:l})}t[`fire${lf(n)}`]=(...u)=>{if(e.deleted){console.log("instance deleted - can not call any method");return}function l(){o.forEach(f=>{if(f)try{f.apply(t,u)}catch(c){console.log("Error event:",n,c)}})}r?setTimeout(l,0):l()},t[`on${lf(n)}`]=u=>{if(e.deleted)return console.log("instance deleted - can not call any method"),null;const l=o.length;return o.push(u),s(l)},t.destroy=()=>{i(),o.forEach((u,l)=>a(l))}}function KO(...t){return(...e)=>t.filter(n=>!!n).forEach(n=>n(...e))}function qO(t){return(e={})=>{const n={},r={};return t(r,n,e),Object.freeze(r)}}const Et={chain:KO,destroy:HO,event:$O,get:WO,isA:zO,newInstance:qO,set:jO},uy=[];function XO(t,e){t.start=n=>{var r=new XMLHttpRequest,o=e.endPoint;r.open("POST",o,!0),n.headers&&(Object.entries(n.headers).forEach(([a,s])=>r.setRequestHeader(a,s)),delete n.headers),r.responseType="json";const i="response"in r&&r.responseType==="json";r.onload=a=>{const s=i?r.response:JSON.parse(r.response);if(r.status===200&&s&&!s.error){uy.push(s),t.fireProcessReady(s);return}t.fireError(r)},r.onerror=a=>{t.fireError(r)},r.send(JSON.stringify(n))},t.fetchConnection=n=>{var r=new XMLHttpRequest,o=[e.endPoint,n].join("/");r.open("GET",o,!0),r.responseType="json";const i="response"in r&&r.responseType==="json";r.onload=a=>{if(this.status===200){t.fireFetch(i?r.response:JSON.parse(r.response));return}t.fireError(r)},r.onerror=a=>{t.fireError(r)},r.send()},t.stop=n=>{var r=new XMLHttpRequest,o=[e.endPoint,n.id].join("/");r.open("DELETE",o,!0),r.responseType="json";const i="response"in r&&r.responseType==="json";r.onload=a=>{if(this.status===200){const s=i?r.response:JSON.parse(r.response);t.fireProcessStopped(s);return}t.fireError(r)},r.onerror=a=>{t.fireError(r)},r.send()},t.listConnections=()=>uy}const YO={endPoint:null};function n9(t,e,n={}){Object.assign(e,YO,n),Et.destroy(t,e),Et.event(t,e,"ProcessReady"),Et.event(t,e,"ProcessStopped"),Et.event(t,e,"Fetch"),Et.event(t,e,"Error"),Et.isA(t,e,"ProcessLauncher"),XO(t,e)}const JO=Et.newInstance(n9),ZO={newInstance:JO,extend:n9},z1=4,j1=0,r9=z1,W1=j1+r9,o9=z1,i9=W1+o9,QO=z1,fs=r9+o9+QO;function eN(t,e,n){const r=new ArrayBuffer(fs),o=new Uint8Array(r),i=new DataView(r);return i.setUint32(j1,t,!0),i.setUint32(W1,e,!0),i.setUint32(i9,n,!0),o}function tN(t){const e=new DataView(t.buffer),n=e.getUint32(j1,!0),r=e.getUint32(W1,!0),o=e.getUint32(i9,!0);return{id:n,offset:r,size:o}}function*cy(t,e){const n=t.byteLength;let r;e===0?r=n:r=Math.max(e-fs,1);const o=new Uint32Array(1);crypto.getRandomValues(o);let i=0;for(;i<n;){const a=Math.min(r,n-i),s=new Uint8Array(new ArrayBuffer(fs+a)),u=eN(o[0],i,n);s.set(new Uint8Array(u.buffer),0),s.set(t.subarray(i,i+a),fs),yield s,i+=a}}class nN{constructor(){x2(this,"pendingMessages");this.pendingMessages={}}releasePendingMessages(){this.pendingMessages={}}processChunk(e,n){return vt(this,null,function*(){const r=e.slice(0,fs),o=e.slice(fs),i=new Uint8Array(yield r.arrayBuffer()),{id:a,offset:s,size:u}=tN(i);let l=this.pendingMessages[a];if(l||(l={receivedSize:0,content:new Uint8Array(u),decoder:n()},this.pendingMessages[a]=l),u!==l.content.byteLength)throw delete this.pendingMessages[a],new Error(`Total size in chunk header for message ${a} does not match total size declared by previous chunk.`);const f=new Uint8Array(yield o.arrayBuffer()),c=l.content;if(c.set(f,s),l.receivedSize+=f.byteLength,l.receivedSize>=u){delete this.pendingMessages[a];try{return l.decoder.decode(c)}catch(d){console.error("Malformed message: ",c.slice(0,100))}}})}}var $i=4294967295;function rN(t,e,n){var r=n/4294967296,o=n;t.setUint32(e,r),t.setUint32(e+4,o)}function a9(t,e,n){var r=Math.floor(n/4294967296),o=n;t.setUint32(e,r),t.setUint32(e+4,o)}function s9(t,e){var n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function oN(t,e){var n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}var H1={},rp,op,ip,ud=(typeof process=="undefined"||((rp=process==null?void 0:H1)===null||rp===void 0?void 0:rp.TEXT_ENCODING)!=="never")&&typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined";function fy(t){for(var e=t.length,n=0,r=0;r<e;){var o=t.charCodeAt(r++);if(o&4294967168)if(!(o&4294965248))n+=2;else{if(o>=55296&&o<=56319&&r<e){var i=t.charCodeAt(r);(i&64512)===56320&&(++r,o=((o&1023)<<10)+(i&1023)+65536)}o&4294901760?n+=4:n+=3}else{n++;continue}}return n}function iN(t,e,n){for(var r=t.length,o=n,i=0;i<r;){var a=t.charCodeAt(i++);if(a&4294967168)if(!(a&4294965248))e[o++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&i<r){var s=t.charCodeAt(i);(s&64512)===56320&&(++i,a=((a&1023)<<10)+(s&1023)+65536)}a&4294901760?(e[o++]=a>>18&7|240,e[o++]=a>>12&63|128,e[o++]=a>>6&63|128):(e[o++]=a>>12&15|224,e[o++]=a>>6&63|128)}else{e[o++]=a;continue}e[o++]=a&63|128}}var Vl=ud?new TextEncoder:void 0,aN=ud?typeof process!="undefined"&&((op=process==null?void 0:H1)===null||op===void 0?void 0:op.TEXT_ENCODING)!=="force"?200:0:$i;function sN(t,e,n){e.set(Vl.encode(t),n)}function lN(t,e,n){Vl.encodeInto(t,e.subarray(n))}var uN=Vl!=null&&Vl.encodeInto?lN:sN,cN=4096;function l9(t,e,n){for(var r=e,o=r+n,i=[],a="";r<o;){var s=t[r++];if(!(s&128))i.push(s);else if((s&224)===192){var u=t[r++]&63;i.push((s&31)<<6|u)}else if((s&240)===224){var u=t[r++]&63,l=t[r++]&63;i.push((s&31)<<12|u<<6|l)}else if((s&248)===240){var u=t[r++]&63,l=t[r++]&63,f=t[r++]&63,c=(s&7)<<18|u<<12|l<<6|f;c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|c&1023),i.push(c)}else i.push(s);i.length>=cN&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(a+=String.fromCharCode.apply(String,i)),a}var fN=ud?new TextDecoder:null,dN=ud?typeof process!="undefined"&&((ip=process==null?void 0:H1)===null||ip===void 0?void 0:ip.TEXT_DECODER)!=="force"?200:0:$i;function pN(t,e,n){var r=t.subarray(e,e+n);return fN.decode(r)}var vc=function(){function t(e,n){this.type=e,this.data=n}return t}(),hN=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=function(t){hN(e,t);function e(n){var r=t.call(this,n)||this,o=Object.create(e.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name}),r}return e}(Error),mN=-1,gN=4294967296-1,vN=17179869184-1;function yN(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=vN)if(n===0&&e<=gN){var r=new Uint8Array(4),o=new DataView(r.buffer);return o.setUint32(0,e),r}else{var i=e/4294967296,a=e&4294967295,r=new Uint8Array(8),o=new DataView(r.buffer);return o.setUint32(0,n<<2|i&3),o.setUint32(4,a),r}else{var r=new Uint8Array(12),o=new DataView(r.buffer);return o.setUint32(0,n),a9(o,4,e),r}}function bN(t){var e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,o=Math.floor(r/1e9);return{sec:n+o,nsec:r-o*1e9}}function xN(t){if(t instanceof Date){var e=bN(t);return yN(e)}else return null}function SN(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),r=0;return{sec:n,nsec:r}}case 8:{var o=e.getUint32(0),i=e.getUint32(4),n=(o&3)*4294967296+i,r=o>>>2;return{sec:n,nsec:r}}case 12:{var n=s9(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new Xr("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function CN(t){var e=SN(t);return new Date(e.sec*1e3+e.nsec/1e6)}var wN={type:mN,encode:xN,decode:CN},u9=function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(wN)}return t.prototype.register=function(e){var n=e.type,r=e.encode,o=e.decode;if(n>=0)this.encoders[n]=r,this.decoders[n]=o;else{var i=1+n;this.builtInEncoders[i]=r,this.builtInDecoders[i]=o}},t.prototype.tryToEncode=function(e,n){for(var r=0;r<this.builtInEncoders.length;r++){var o=this.builtInEncoders[r];if(o!=null){var i=o(e,n);if(i!=null){var a=-1-r;return new vc(a,i)}}}for(var r=0;r<this.encoders.length;r++){var o=this.encoders[r];if(o!=null){var i=o(e,n);if(i!=null){var a=r;return new vc(a,i)}}}return e instanceof vc?e:null},t.prototype.decode=function(e,n,r){var o=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return o?o(e,n,r):new vc(n,e)},t.defaultCodec=new t,t}();function uf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function TN(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=uf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var _N=100,AN=2048,EN=function(){function t(e,n,r,o,i,a,s,u){e===void 0&&(e=u9.defaultCodec),n===void 0&&(n=void 0),r===void 0&&(r=_N),o===void 0&&(o=AN),i===void 0&&(i=!1),a===void 0&&(a=!1),s===void 0&&(s=!1),u===void 0&&(u=!1),this.extensionCodec=e,this.context=n,this.maxDepth=r,this.initialBufferSize=o,this.sortKeys=i,this.forceFloat32=a,this.ignoreUndefined=s,this.forceIntegerToFloat=u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),r=new Uint8Array(n),o=new DataView(n);r.set(this.bytes),this.view=o,this.bytes=r},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,r=e.length;if(r>aN){var o=fy(e);this.ensureBufferSizeToWrite(n+o),this.writeStringHeader(o),uN(e,this.bytes,this.pos),this.pos+=o}else{var o=fy(e);this.ensureBufferSizeToWrite(n+o),this.writeStringHeader(o),iN(e,this.bytes,this.pos),this.pos+=o}},t.prototype.encodeObject=function(e,n){var r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var r=uf(e);this.writeU8a(r)},t.prototype.encodeArray=function(e,n){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error("Too large array: ".concat(r));for(var o=0,i=e;o<i.length;o++){var a=i[o];this.doEncode(a,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var r=0,o=0,i=n;o<i.length;o++){var a=i[o];e[a]!==void 0&&r++}return r},t.prototype.encodeMap=function(e,n){var r=Object.keys(e);this.sortKeys&&r.sort();var o=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(o<16)this.writeU8(128+o);else if(o<65536)this.writeU8(222),this.writeU16(o);else if(o<4294967296)this.writeU8(223),this.writeU32(o);else throw new Error("Too large map object: ".concat(o));for(var i=0,a=r;i<a.length;i++){var s=a[i],u=e[s];this.ignoreUndefined&&u===void 0||(this.encodeString(s),this.doEncode(u,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),rN(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),a9(this.view,this.pos,e),this.pos+=8},t}();function ap(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var DN=16,IN=16,PN=function(){function t(e,n){e===void 0&&(e=DN),n===void 0&&(n=IN),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,r){var o=this.caches[r-1];e:for(var i=0,a=o;i<a.length;i++){for(var s=a[i],u=s.bytes,l=0;l<r;l++)if(u[l]!==e[n+l])continue e;return s.str}return null},t.prototype.store=function(e,n){var r=this.caches[e.length-1],o={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=o:r.push(o)},t.prototype.decode=function(e,n,r){var o=this.find(e,n,r);if(o!=null)return this.hit++,o;this.miss++;var i=l9(e,n,r),a=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(a,i),i},t}(),ON=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function s(f){try{l(r.next(f))}catch(c){a(c)}}function u(f){try{l(r.throw(f))}catch(c){a(c)}}function l(f){f.done?i(f.value):o(f.value).then(s,u)}l((r=r.apply(t,e||[])).next())})},sp=function(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(f){return u([l,f])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,o=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(f){l=[6,f],o=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},dy=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(a){return new Promise(function(s,u){a=t[i](a),o(s,u,a.done,a.value)})}}function o(i,a,s,u){Promise.resolve(u).then(function(l){i({value:l,done:s})},a)}},ds=function(t){return this instanceof ds?(this.v=t,this):new ds(t)},NN=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(d){r[d]&&(o[d]=function(p){return new Promise(function(h,m){i.push([d,p,h,m])>1||s(d,p)})})}function s(d,p){try{u(r[d](p))}catch(h){c(i[0][3],h)}}function u(d){d.value instanceof ds?Promise.resolve(d.value.v).then(l,f):c(i[0][2],d)}function l(d){s("next",d)}function f(d){s("throw",d)}function c(d,p){d(p),i.shift(),i.length&&s(i[0][0],i[0][1])}},RN=function(t){var e=typeof t;return e==="string"||e==="number"},sl=-1,$1=new DataView(new ArrayBuffer(0)),MN=new Uint8Array($1.buffer),Gh=function(){try{$1.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")}(),py=new Gh("Insufficient data"),kN=new PN,LN=function(){function t(e,n,r,o,i,a,s,u){e===void 0&&(e=u9.defaultCodec),n===void 0&&(n=void 0),r===void 0&&(r=$i),o===void 0&&(o=$i),i===void 0&&(i=$i),a===void 0&&(a=$i),s===void 0&&(s=$i),u===void 0&&(u=kN),this.extensionCodec=e,this.context=n,this.maxStrLength=r,this.maxBinLength=o,this.maxArrayLength=i,this.maxMapLength=a,this.maxExtLength=s,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=$1,this.bytes=MN,this.headByte=sl,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=sl,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=uf(e),this.view=TN(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===sl&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),r=uf(e),o=new Uint8Array(n.length+r.length);o.set(n),o.set(r,n.length),this.setBuffer(o)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,r=n.view,o=n.pos;return new RangeError("Extra ".concat(r.byteLength-o," of ").concat(r.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return sp(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,r,o,i;return ON(this,void 0,void 0,function(){var a,s,u,l,f,c,d,p;return sp(this,function(h){switch(h.label){case 0:a=!1,h.label=1;case 1:h.trys.push([1,6,7,12]),n=dy(e),h.label=2;case 2:return[4,n.next()];case 3:if(r=h.sent(),!!r.done)return[3,5];if(u=r.value,a)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{s=this.doDecodeSync(),a=!0}catch(m){if(!(m instanceof Gh))throw m}this.totalPos+=this.pos,h.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=h.sent(),o={error:l},[3,12];case 7:return h.trys.push([7,,10,11]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,9];case 8:h.sent(),h.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:if(a){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,s]}throw f=this,c=f.headByte,d=f.pos,p=f.totalPos,new RangeError("Insufficient data in parsing ".concat(ap(c)," at ").concat(p," (").concat(d," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return NN(this,arguments,function(){var o,i,a,s,u,l,f,c,d;return sp(this,function(p){switch(p.label){case 0:o=n,i=-1,p.label=1;case 1:p.trys.push([1,13,14,19]),a=dy(e),p.label=2;case 2:return[4,ds(a.next())];case 3:if(s=p.sent(),!!s.done)return[3,12];if(u=s.value,n&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),o&&(i=this.readArraySize(),o=!1,this.complete()),p.label=4;case 4:p.trys.push([4,9,,10]),p.label=5;case 5:return[4,ds(this.doDecodeSync())];case 6:return[4,p.sent()];case 7:return p.sent(),--i===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(l=p.sent(),!(l instanceof Gh))throw l;return[3,10];case 10:this.totalPos+=this.pos,p.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return f=p.sent(),c={error:f},[3,19];case 14:return p.trys.push([14,,17,18]),s&&!s.done&&(d=a.return)?[4,ds(d.call(a))]:[3,16];case 15:p.sent(),p.label=16;case 16:return[3,18];case 17:if(c)throw c.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var r=e-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e<160){var r=e-144;if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else{var o=e-160;n=this.decodeUtf8String(o,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var o=this.lookU8();n=this.decodeUtf8String(o,1)}else if(e===218){var o=this.lookU16();n=this.decodeUtf8String(o,2)}else if(e===219){var o=this.lookU32();n=this.decodeUtf8String(o,4)}else if(e===220){var r=this.readU16();if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else if(e===221){var r=this.readU32();if(r!==0){this.pushArrayState(r),this.complete();continue e}else n=[]}else if(e===222){var r=this.readU16();if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e===223){var r=this.readU32();if(r!==0){this.pushMapState(r),this.complete();continue e}else n={}}else if(e===196){var r=this.lookU8();n=this.decodeBinary(r,1)}else if(e===197){var r=this.lookU16();n=this.decodeBinary(r,2)}else if(e===198){var r=this.lookU32();n=this.decodeBinary(r,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var r=this.lookU8();n=this.decodeExtension(r,1)}else if(e===200){var r=this.lookU16();n=this.decodeExtension(r,2)}else if(e===201){var r=this.lookU32();n=this.decodeExtension(r,4)}else throw new Xr("Unrecognized type byte: ".concat(ap(e)));this.complete();for(var i=this.stack;i.length>0;){var a=i[i.length-1];if(a.type===0)if(a.array[a.position]=n,a.position++,a.position===a.size)i.pop(),n=a.array;else continue e;else if(a.type===1){if(!RN(n))throw new Xr("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new Xr("The key __proto__ is not allowed");a.key=n,a.type=2;continue e}else if(a.map[a.key]=n,a.readCount++,a.readCount===a.size)i.pop(),n=a.map;else{a.key=null,a.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===sl&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=sl},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Xr("Unrecognized array type byte: ".concat(ap(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new Xr("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new Xr("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var r;if(e>this.maxStrLength)throw new Xr("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw py;var o=this.pos+n,i;return this.stateIsMapKey()&&(!((r=this.keyDecoder)===null||r===void 0)&&r.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,o,e):e>dN?i=pN(this.bytes,o,e):i=l9(this.bytes,o,e),this.pos+=n+e,i},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new Xr("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw py;var r=this.pos+n,o=this.bytes.subarray(r,r+e);return this.pos+=n+e,o},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new Xr("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+n),o=this.decodeBinary(e,n+1);return this.extensionCodec.decode(o,r,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=oN(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=s9(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t}();function ll(){const t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t}function FN(t,e){let r=0;const o={},i=/^(rpc|publish|system):(\w+(?:\.\w+)*):(?:\d+)$/,a={};let s=null,u=512*1024;const l=new nN;function f(d){if(d&&d.id){if(d.error){const p=o[d.id];p?p.reject(d.error):console.error("Server error:",d.error)}else{const p=i.exec(d.id);if(p){const h=p[1];if(h==="rpc"){const m=o[d.id];if(!m){console.log("session message id without matching call, dropped",d);return}m.resolve(d.result)}else if(h=="publish"){console.assert(o[d.id]===void 0,"publish message received matching in-flight rpc call");const m=p[2];if(!a[m])return;a[m].forEach(y=>y([d.result]))}else if(h=="system"){const m=o[d.id];d.id==="system:c0:0"?(s=d.result.clientID,u=d.result.maxMsgSize||u,m&&m.resolve(s)):(console.error("Unknown system message",d.id),m&&m.reject({code:-32099,message:`Unknown system message ${d.id}`}))}else console.error("Unknown rpc id format",d.id)}}delete o[d.id]}}t.onconnect=d=>{const p=ll(),h="system:c0:0";o[h]=p;const m={wslink:"1.0",id:h,method:"wslink.hello",args:[{secret:e.secret}],kwargs:{}},b=new hy().encode(m);for(let v of cy(b,u))e.ws.send(v,{binary:!0});return p.promise},t.call=(d,p=[],h={})=>{const m=ll();if(e.ws&&s&&e.ws.readyState===1){const y=`rpc:${s}:${r++}`;o[y]=m;const b={wslink:"1.0",id:y,method:d,args:p,kwargs:h},g=new hy().encode(b);for(let x of cy(g,u))e.ws.send(x,{binary:!0})}else m.reject({code:-32099,message:`RPC call ${d} unsuccessful: connection not open`});return m.promise},t.subscribe=(d,p)=>{const h=ll();return e.ws&&s?(a[d]||(a[d]=[]),a[d].push(p),h.resolve({topic:d,callback:p})):h.reject({code:-32099,message:`Subscribe call ${d} unsuccessful: connection not open`}),{topic:d,callback:p,promise:h.promise,unsubscribe:()=>t.unsubscribe({topic:d,callback:p})}},t.unsubscribe=d=>{const p=ll(),{topic:h,callback:m}=d;if(!a[h])return p.reject({code:-32099,message:`Unsubscribe call ${h} unsuccessful: not subscribed`}),p.promise;const y=a[h].indexOf(m);return y!==-1?(a[h].splice(y,1),p.resolve()):p.reject({code:-32099,message:`Unsubscribe call ${h} unsuccessful: callback not found`}),p.promise},t.close=()=>{const d=ll();return e.ws.close(),l.releasePendingMessages(),d.resolve(),d.promise};function c(){return new LN}t.onmessage=d=>vt(this,null,function*(){const p=yield l.processChunk(d.data,c);p&&f(p)}),t.addAttachment=d=>d instanceof ArrayBuffer?new DataView(d):d}const BN={secret:"wslink-secret",ws:null};function c9(t,e,n={}){Object.assign(e,BN,n),Et.destroy(t,e),Et.isA(t,e,"Session"),FN(t,e)}const VN=Et.newInstance(c9),UN={newInstance:VN,extend:c9};class hy extends EN{encodeObject(e,n){return e instanceof ArrayBuffer&&(e=new DataView(e)),super.encodeObject.call(this,e,n)}}const f9="wslink-secret";function GN(t){var e=t.indexOf(":"),n=t.substring(0,e);if(n==="ws"||n==="wss")return{type:"websocket",url:t};throw new Error(`Unknown protocol (${n}) for url (${t}).  Unable to create transport object.`)}function zN(t,e){t.connect=()=>{if(!e.urls)return null;var r=[].concat(e.urls),o=[];for(let i=0;i<r.length;i+=1){const a=r[i];try{const s=GN(a);o.push(s)}catch(s){return console.error(s),t.fireConnectionError(t,s),null}}if(e.connection){if(e.connection.url!==o[0].url)e.connection.close();else if(e.connection.readyState===0||e.connection.readyState===1)return e.session}try{e.wsProxy?e.connection=WSLINK.createWebSocket(o[0].url):e.connection=new WebSocket(o[0].url)}catch(i){return console.error(i),t.fireConnectionError(t,i),null}return e.connection.binaryType="blob",e.secret||(e.secret=f9),e.session=UN.newInstance({ws:e.connection,secret:e.secret}),e.connection.onopen=i=>{e.session&&e.session.onconnect(i).then(()=>{t.fireConnectionReady(t)},a=>{console.error("Connection error",a),t.fireConnectionError(t,a)})},e.connection.onclose=i=>{t.fireConnectionClose(t,i),e.connection=null},e.connection.onerror=i=>{t.fireConnectionError(t,i)},e.connection.onmessage=i=>{e.session.onmessage(i)},e.session},t.getSession=()=>e.session,t.getUrl=()=>e.connection?e.connection.url:void 0;function n(r=10){e.connection&&e.connection.readyState===1&&e.session&&r>0&&e.session.call("application.exit.later",[r]),e.connection&&e.connection.close(),e.connection=null}t.destroy=Et.chain(n,t.destroy)}const jN={secret:f9,connection:null,session:null,retry:!1,wsProxy:!1};function d9(t,e,n={}){Object.assign(e,jN,n),Et.destroy(t,e),Et.event(t,e,"ConnectionReady"),Et.event(t,e,"ConnectionClose"),Et.event(t,e,"ConnectionError"),Et.isA(t,e,"WebsocketConnection"),zN(t,e)}const WN=Et.newInstance(d9),HN={newInstance:WN,extend:d9};function lp(t){return t.sessionURL&&(t.sessionURL=t.sessionURL.replaceAll("USE_HOSTNAME",window.location.hostname),t.sessionURL=t.sessionURL.replaceAll("USE_HOST",window.location.host)),t}function p9(t,e=window.location.pathname){if(e.endsWith(".html")||e.endsWith(".htm")){const n=e.split("/");n.pop(),e=n.join("/")}for(;e.length>0&&e[e.length-1]==="/";)e=e.substring(0,e.length-1);return e.length===0?t:`${e}${t}`}const $N=`${window.location.protocol}//${window.location.hostname}:${window.location.port}${p9("/paraview/")}`,KN=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.hostname}:${window.location.port}${p9("/ws")}`;function yc(t,e){const n=HN.newInstance({urls:e.config.sessionURL,secret:e.config.secret,retry:e.config.retry,wsProxy:e.config.iframe||e.config.wsProxy});return e.subscriptions.push(n.onConnectionReady(t.readyForwarder)),e.subscriptions.push(n.onConnectionError(t.errorForwarder)),e.subscriptions.push(n.onConnectionClose(t.closeForwarder)),e.gc.push(n),n.connect()}function qN(t,e){let n=null;e.gc=[],t.readyForwarder=o=>{n=o.getSession(),t.fireConnectionReady(o)},t.errorForwarder=(o,i)=>{t.fireConnectionError(o,i)},t.closeForwarder=(o,i)=>{t.fireConnectionClose(o,i)},t.connect=()=>{if(e.configDecorator&&(e.config=e.configDecorator(e.config)),e.config=lp(e.config),e.config.sessionURL)n=yc(t,e);else if(e.config.wsProxy)e.config.sessionURL=e.config.sessionURL||"wss://proxy/",n=yc(t,e);else{const o=ZO.newInstance({endPoint:e.config.sessionManagerURL||$N});e.subscriptions.push(o.onProcessReady(i=>{e.configDecorator?e.config=e.configDecorator(Object.assign({},e.config,i)):e.config=Object.assign({},e.config,i),e.config=lp(e.config),n=yc(t,e)})),e.subscriptions.push(o.onError(i=>{i&&i.response&&i.response.error?t.errorForwarder(i,i.response.error):(e.config.sessionURL=KN,e.config=lp(e.config),n=yc(t,e))})),o.start(e.config),e.gc.push(o)}},t.getSession=()=>n;function r(o){for(n&&(o>0&&n.call("application.exit.later",[o]),n.close()),n=null;e.gc.length;)e.gc.pop().destroy()}t.destroy=Et.chain(r,t.destroy)}const XN={config:{}};function h9(t,e,n={}){Object.assign(e,XN,n),Et.destroy(t,e),Et.event(t,e,"ConnectionReady"),Et.event(t,e,"ConnectionClose"),Et.event(t,e,"ConnectionError"),Et.isA(t,e,"SmartConnect"),Et.get(t,e,["config","configDecorator"]),Et.set(t,e,["configDecorator"]),qN(t,e)}const YN=Et.newInstance(h9),JN={newInstance:YN,extend:h9};var ul=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function m9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ZN=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const QN=m9(ZN);var my=Object.prototype.toString,g9=function(e){var n=my.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&my.call(e.callee)==="[object Function]"),r},up,gy;function eR(){if(gy)return up;gy=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=g9,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(d){var p=d.constructor;return p&&p.prototype===d},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window=="undefined")return!1;for(var d in window)try{if(!l["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{u(window[d])}catch(p){return!0}}catch(p){return!0}return!1}(),c=function(d){if(typeof window=="undefined"||!f)return u(d);try{return u(d)}catch(p){return!1}};t=function(p){var h=p!==null&&typeof p=="object",m=n.call(p)==="[object Function]",y=r(p),b=h&&n.call(p)==="[object String]",v=[];if(!h&&!m&&!y)throw new TypeError("Object.keys called on a non-object");var g=a&&m;if(b&&p.length>0&&!e.call(p,0))for(var x=0;x<p.length;++x)v.push(String(x));if(y&&p.length>0)for(var S=0;S<p.length;++S)v.push(String(S));else for(var C in p)!(g&&C==="prototype")&&e.call(p,C)&&v.push(String(C));if(i)for(var w=c(p),T=0;T<s.length;++T)!(w&&s[T]==="constructor")&&e.call(p,s[T])&&v.push(s[T]);return v}}return up=t,up}var tR=Array.prototype.slice,nR=g9,vy=Object.keys,u0=vy?function(e){return vy(e)}:eR(),yy=Object.keys;u0.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return nR(r)?yy(tR.call(r)):yy(r)})}else Object.keys=u0;return Object.keys||u0};var rR=u0,oR=Error,iR=EvalError,aR=RangeError,sR=ReferenceError,v9=SyntaxError,y9=TypeError,lR=URIError,uR=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==o||a.enumerable!==!0)return!1}return!0},by=typeof Symbol!="undefined"&&Symbol,cR=uR,fR=function(){return typeof by!="function"||typeof Symbol!="function"||typeof by("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:cR()},cp={__proto__:null,foo:{}},dR=Object,pR=function(){return{__proto__:cp}.foo===cp.foo&&!(cp instanceof dR)},hR="Function.prototype.bind called on incompatible ",mR=Object.prototype.toString,gR=Math.max,vR="[object Function]",xy=function(e,n){for(var r=[],o=0;o<e.length;o+=1)r[o]=e[o];for(var i=0;i<n.length;i+=1)r[i+e.length]=n[i];return r},yR=function(e,n){for(var r=[],o=n,i=0;o<e.length;o+=1,i+=1)r[i]=e[o];return r},bR=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},xR=function(e){var n=this;if(typeof n!="function"||mR.apply(n)!==vR)throw new TypeError(hR+n);for(var r=yR(arguments,1),o,i=function(){if(this instanceof o){var f=n.apply(this,xy(r,arguments));return Object(f)===f?f:this}return n.apply(e,xy(r,arguments))},a=gR(0,n.length-r.length),s=[],u=0;u<a;u++)s[u]="$"+u;if(o=Function("binder","return function ("+bR(s,",")+"){ return binder.apply(this,arguments); }")(i),n.prototype){var l=function(){};l.prototype=n.prototype,o.prototype=new l,l.prototype=null}return o},SR=xR,b9=Function.prototype.bind||SR,CR=Function.prototype.call,wR=Object.prototype.hasOwnProperty,TR=b9,_R=TR.call(CR,wR),rt,AR=oR,ER=iR,DR=aR,IR=sR,Os=v9,ps=y9,PR=lR,x9=Function,fp=function(t){try{return x9('"use strict"; return ('+t+").constructor;")()}catch(e){}},pa=Object.getOwnPropertyDescriptor;if(pa)try{pa({},"")}catch(t){pa=null}var dp=function(){throw new ps},OR=pa?function(){try{return arguments.callee,dp}catch(t){try{return pa(arguments,"callee").get}catch(e){return dp}}}():dp,Ua=fR(),NR=pR(),pn=Object.getPrototypeOf||(NR?function(t){return t.__proto__}:null),qa={},RR=typeof Uint8Array=="undefined"||!pn?rt:pn(Uint8Array),ha={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?rt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?rt:ArrayBuffer,"%ArrayIteratorPrototype%":Ua&&pn?pn([][Symbol.iterator]()):rt,"%AsyncFromSyncIteratorPrototype%":rt,"%AsyncFunction%":qa,"%AsyncGenerator%":qa,"%AsyncGeneratorFunction%":qa,"%AsyncIteratorPrototype%":qa,"%Atomics%":typeof Atomics=="undefined"?rt:Atomics,"%BigInt%":typeof BigInt=="undefined"?rt:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?rt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?rt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?rt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":AR,"%eval%":eval,"%EvalError%":ER,"%Float32Array%":typeof Float32Array=="undefined"?rt:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?rt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?rt:FinalizationRegistry,"%Function%":x9,"%GeneratorFunction%":qa,"%Int8Array%":typeof Int8Array=="undefined"?rt:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?rt:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?rt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ua&&pn?pn(pn([][Symbol.iterator]())):rt,"%JSON%":typeof JSON=="object"?JSON:rt,"%Map%":typeof Map=="undefined"?rt:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Ua||!pn?rt:pn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?rt:Promise,"%Proxy%":typeof Proxy=="undefined"?rt:Proxy,"%RangeError%":DR,"%ReferenceError%":IR,"%Reflect%":typeof Reflect=="undefined"?rt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?rt:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Ua||!pn?rt:pn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?rt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ua&&pn?pn(""[Symbol.iterator]()):rt,"%Symbol%":Ua?Symbol:rt,"%SyntaxError%":Os,"%ThrowTypeError%":OR,"%TypedArray%":RR,"%TypeError%":ps,"%Uint8Array%":typeof Uint8Array=="undefined"?rt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?rt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?rt:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?rt:Uint32Array,"%URIError%":PR,"%WeakMap%":typeof WeakMap=="undefined"?rt:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?rt:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?rt:WeakSet};if(pn)try{null.error}catch(t){var MR=pn(pn(t));ha["%Error.prototype%"]=MR}var kR=function t(e){var n;if(e==="%AsyncFunction%")n=fp("async function () {}");else if(e==="%GeneratorFunction%")n=fp("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=fp("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&pn&&(n=pn(o.prototype))}return ha[e]=n,n},Sy={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ku=b9,cf=_R,LR=ku.call(Function.call,Array.prototype.concat),FR=ku.call(Function.apply,Array.prototype.splice),Cy=ku.call(Function.call,String.prototype.replace),ff=ku.call(Function.call,String.prototype.slice),BR=ku.call(Function.call,RegExp.prototype.exec),VR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,UR=/\\(\\)?/g,GR=function(e){var n=ff(e,0,1),r=ff(e,-1);if(n==="%"&&r!=="%")throw new Os("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Os("invalid intrinsic syntax, expected opening `%`");var o=[];return Cy(e,VR,function(i,a,s,u){o[o.length]=s?Cy(u,UR,"$1"):a||i}),o},zR=function(e,n){var r=e,o;if(cf(Sy,r)&&(o=Sy[r],r="%"+o[0]+"%"),cf(ha,r)){var i=ha[r];if(i===qa&&(i=kR(r)),typeof i=="undefined"&&!n)throw new ps("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:i}}throw new Os("intrinsic "+e+" does not exist!")},S9=function(e,n){if(typeof e!="string"||e.length===0)throw new ps("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ps('"allowMissing" argument must be a boolean');if(BR(/^%?[^%]*%?$/,e)===null)throw new Os("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=GR(e),o=r.length>0?r[0]:"",i=zR("%"+o+"%",n),a=i.name,s=i.value,u=!1,l=i.alias;l&&(o=l[0],FR(r,LR([0,1],l)));for(var f=1,c=!0;f<r.length;f+=1){var d=r[f],p=ff(d,0,1),h=ff(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new Os("property names with quotes must have matching quotes");if((d==="constructor"||!c)&&(u=!0),o+="."+d,a="%"+o+"%",cf(ha,a))s=ha[a];else if(s!=null){if(!(d in s)){if(!n)throw new ps("base intrinsic for "+e+" exists, but the property is not available.");return}if(pa&&f+1>=r.length){var m=pa(s,d);c=!!m,c&&"get"in m&&!("originalValue"in m.get)?s=m.get:s=s[d]}else c=cf(s,d),s=s[d];c&&!u&&(ha[a]=s)}}return s},jR=S9,c0=jR("%Object.defineProperty%",!0)||!1;if(c0)try{c0({},"a",{value:1})}catch(t){c0=!1}var C9=c0,WR=S9,f0=WR("%Object.getOwnPropertyDescriptor%",!0);if(f0)try{f0([],"length")}catch(t){f0=null}var HR=f0,wy=C9,$R=v9,Ga=y9,Ty=HR,KR=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Ga("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Ga("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ga("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ga("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ga("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ga("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,u=!!Ty&&Ty(e,n);if(wy)wy(e,n,{configurable:a===null&&u?u.configurable:!a,enumerable:o===null&&u?u.enumerable:!o,value:r,writable:i===null&&u?u.writable:!i});else if(s||!o&&!i&&!a)e[n]=r;else throw new $R("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},zh=C9,w9=function(){return!!zh};w9.hasArrayLengthDefineBug=function(){if(!zh)return null;try{return zh([],"length",{value:1}).length!==1}catch(e){return!0}};var qR=w9,XR=rR,YR=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",JR=Object.prototype.toString,ZR=Array.prototype.concat,_y=KR,QR=function(t){return typeof t=="function"&&JR.call(t)==="[object Function]"},T9=qR(),eM=function(t,e,n,r){if(e in t){if(r===!0){if(t[e]===n)return}else if(!QR(r)||!r())return}T9?_y(t,e,n,!0):_y(t,e,n)},_9=function(t,e){var n=arguments.length>2?arguments[2]:{},r=XR(e);YR&&(r=ZR.call(r,Object.getOwnPropertySymbols(e)));for(var o=0;o<r.length;o+=1)eM(t,r[o],e[r[o]],n[r[o]])};_9.supportsDescriptors=!!T9;var A9=_9,d0={exports:{}};typeof self!="undefined"?d0.exports=self:typeof window!="undefined"?d0.exports=window:d0.exports=Function("return this")();var E9=d0.exports,tM=E9,D9=function(){return typeof ul!="object"||!ul||ul.Math!==Math||ul.Array!==Array?tM:ul},nM=A9,rM=D9,oM=function(){var e=rM();if(nM.supportsDescriptors){var n=Object.getOwnPropertyDescriptor(e,"globalThis");(!n||n.configurable&&(n.enumerable||!n.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else(typeof globalThis!="object"||globalThis!==e)&&(e.globalThis=e);return e},iM=A9,aM=E9,I9=D9,sM=oM,lM=I9(),P9=function(){return lM};iM(P9,{getPolyfill:I9,implementation:aM,shim:sM});var uM=P9;const cM=m9(uM),Or=cM(),O9={vtkObject:()=>null};function ea(t){if(t==null||t.isA)return t;if(!t.vtkClass)return Or.console&&Or.console.error&&Or.console.error("Invalid VTK object"),null;const e=O9[t.vtkClass];if(!e)return Or.console&&Or.console.error&&Or.console.error(`No vtk class found for Object of type ${t.vtkClass}`),null;const n=q({},t);Object.keys(n).forEach(o=>{n[o]&&typeof n[o]=="object"&&n[o].vtkClass&&(n[o]=ea(n[o]))});const r=e(n);return r&&r.modified&&r.modified(),r}function fM(t,e){O9[t]=e}ea.register=fM;class pp extends Array{push(){for(let e=0;e<arguments.length;e++)this.includes(arguments[e])||super.push(arguments[e]);return this.length}}let jh=0;const dM=Symbol("void");function pM(){return jh}const N9={};function Ki(){}const hM=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];hM.forEach(t=>{N9[t]=Ki});Or.console=console.hasOwnProperty("log")?console:N9;const bi={debug:Ki,error:Or.console.error||Ki,info:Or.console.info||Ki,log:Or.console.log||Ki,warn:Or.console.warn||Ki};function mM(t,e){bi[t]&&(bi[t]=e||Ki)}function gM(){bi.log(...arguments)}function vM(){bi.info(...arguments)}function Wh(){bi.debug(...arguments)}function hn(){bi.error(...arguments)}function R9(){bi.warn(...arguments)}const Ay={};function yM(t){Ay[t]||(bi.error(t),Ay[t]=!0)}const zn=Object.create(null);zn.Float32Array=Float32Array;zn.Float64Array=Float64Array;zn.Uint8Array=Uint8Array;zn.Int8Array=Int8Array;zn.Uint16Array=Uint16Array;zn.Int16Array=Int16Array;zn.Uint32Array=Uint32Array;zn.Int32Array=Int32Array;zn.Uint8ClampedArray=Uint8ClampedArray;try{zn.BigInt64Array=BigInt64Array,zn.BigUint64Array=BigUint64Array}catch(t){}function bM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new(zn[t]||Float64Array)(...n)}function xM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(zn[t]||Float64Array).from(...n)}function K1(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Xt(t){return K1(t[0]==="_"?t.slice(1):t)}function SM(t){return t.charAt(0).toLowerCase()+t.slice(1)}function CM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;const r=["TB","GB","MB","KB"];let o=Number(t),i="B";for(;o>n;)o/=n,i=r.pop();return`${o.toFixed(e)} ${i}`}function wM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";const n=[];let r=t;for(;r>1e3;)n.push(`000${r%1e3}`.slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(e)}function M9(t){Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function TM(t){return Object.values(zn).some(e=>t instanceof e)}function _M(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}function AM(t,e){return Object.keys(t).find(n=>t[n]===e)}function k9(t){return t&&t.isA?t.getState():t}function L9(t){setTimeout(t,0)}function EM(t,e){const n=performance.now();t.finally(()=>{const r=performance.now()-n;e(r)})}function DM(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};M9(e);const n=[];if(Number.isInteger(e.mtime)||(e.mtime=++jh),!("classHierarchy"in e))e.classHierarchy=new pp("vtkObject");else if(!(e.classHierarchy instanceof pp)){const i=new pp;for(let a=0;a<e.classHierarchy.length;a++)i.push(e.classHierarchy[a]);e.classHierarchy=i}function r(i){n[i]=null}function o(i){function a(){r(i)}return Object.freeze({unsubscribe:a})}return t.isDeleted=()=>!!e.deleted,t.modified=i=>{if(e.deleted){hn("instance deleted - cannot call any method");return}i&&i<t.getMTime()||(e.mtime=++jh,n.forEach(a=>a&&a(t)))},t.onModified=i=>{if(e.deleted)return hn("instance deleted - cannot call any method"),null;const a=n.length;return n.push(i),o(a)},t.getMTime=()=>e.mtime,t.isA=i=>{let a=e.classHierarchy.length;for(;a--;)if(e.classHierarchy[a]===i)return!0;return!1},t.getClassName=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-i]},t.set=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=!1;return Object.keys(i).forEach(l=>{const f=s?null:t[`set${K1(l)}`];f&&Array.isArray(i[l])&&f.length>1?u=f(...i[l])||u:f?u=f(i[l])||u:(["mtime"].indexOf(l)===-1&&!a&&R9(`Warning: Set value to model directly ${l}, ${i[l]}`),u=e[l]!==i[l]||u,e[l]=i[l])}),u},t.get=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(!a.length)return e;const u={};return a.forEach(l=>{u[l]=e[l]}),u},t.getReferenceByName=i=>e[i],t.delete=()=>{Object.keys(e).forEach(i=>delete e[i]),n.forEach((i,a)=>r(a)),e.deleted=!0},t.getState=()=>{if(e.deleted)return null;const i=Oe(q({},e),{vtkClass:t.getClassName()});Object.keys(i).forEach(s=>{i[s]===null||i[s]===void 0||s[0]==="_"?delete i[s]:i[s].isA?i[s]=i[s].getState():Array.isArray(i[s])?i[s]=i[s].map(k9):TM(i[s])&&(i[s]=Array.from(i[s]))});const a={};return Object.keys(i).sort().forEach(s=>{a[s]=i[s]}),a.mtime&&delete a.mtime,a},t.shallowCopy=function(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i.getClassName()!==t.getClassName())throw new Error(`Cannot ShallowCopy ${i.getClassName()} into ${t.getClassName()}`);const s=i.get(),u=Object.keys(e).sort();Object.keys(s).sort().forEach(f=>{const c=u.indexOf(f);c===-1?a&&Wh(`add ${f} in shallowCopy`):u.splice(c,1),e[f]=s[f]}),u.length&&a&&Wh(`Untouched keys: ${u.join(", ")}`),t.modified()},t.toJSON=function(){return t.getState()},t}const IM={object(t,e,n){return function(){return q({},e[n.name])}}};function cd(t,e,n){n.forEach(r=>{if(typeof r=="object"){const o=IM[r.type];o?t[`get${Xt(r.name)}`]=o(t,e,r):t[`get${Xt(r.name)}`]=()=>e[r.name]}else t[`get${Xt(r)}`]=()=>e[r]})}const PM={enum(t,e,n){const r=`_on${Xt(n.name)}Changed`;return o=>{var i;if(typeof o=="string"){if(n.enum[o]!==void 0)return e[n.name]!==n.enum[o]?(e[n.name]=n.enum[o],t.modified(),!0):!1;throw hn(`Set Enum with invalid argument ${n}, ${o}`),new RangeError("Set Enum with invalid string argument")}if(typeof o=="number"){if(e[n.name]!==o){if(Object.keys(n.enum).map(a=>n.enum[a]).indexOf(o)!==-1){const a=e[n.name];return e[n.name]=o,(i=e[r])==null||i.call(e,t,e,o,a),t.modified(),!0}throw hn(`Set Enum outside numeric range ${n}, ${o}`),new RangeError("Set Enum outside numeric range")}return!1}throw hn(`Set Enum with invalid argument (String/Number) ${n}, ${o}`),new TypeError("Set Enum with invalid argument (String/Number)")}},object(t,e,n){const r=`_on${Xt(n.name)}Changed`;return o=>{var i;if(!QN(e[n.name],o)){const a=e[n.name];return e[n.name]=o,(i=e[r])==null||i.call(e,t,e,o,a),t.modified(),!0}return!1}}};function Ey(t){if(typeof t=="object"){const e=PM[t.type];if(e)return(n,r)=>e(n,r,t);throw hn(`No setter for field ${t}`),new TypeError("No setter for field")}return function(n,r){const o=`_on${Xt(t)}Changed`;return function(a){var s;if(r.deleted)return hn("instance deleted - cannot call any method"),!1;if(r[t]!==a){const u=r[t.name];return r[t]=a,(s=r[o])==null||s.call(r,n,r,a,u),n.modified(),!0}return!1}}}function F9(t,e,n){n.forEach(r=>{typeof r=="object"?t[`set${Xt(r.name)}`]=Ey(r)(t,e):t[`set${Xt(r)}`]=Ey(r)(t,e)})}function B9(t,e,n){cd(t,e,n),F9(t,e,n)}function V9(t,e,n){n.forEach(r=>{t[`get${Xt(r)}`]=()=>e[r]?Array.from(e[r]):e[r],t[`get${Xt(r)}ByReference`]=()=>e[r]})}function U9(t,e,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;n.forEach(i=>{if(e[i]&&r&&e[i].length!==r)throw new RangeError(`Invalid initial number of values for array (${i})`);const a=`_on${Xt(i)}Changed`;t[`set${Xt(i)}`]=function(){var p;if(e.deleted)return hn("instance deleted - cannot call any method"),!1;for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];let f=u,c,d=!1;if(f.length===1&&(f[0]==null||f[0].length>=0)&&(f=f[0],d=!0),f==null)c=e[i]!==f;else{if(r&&f.length!==r)if(f.length<r&&o!==void 0)for(f=Array.from(f),d=!1;f.length<r;)f.push(o);else throw new RangeError(`Invalid number of values for array setter (${i})`);c=e[i]==null||e[i].length!==f.length;for(let h=0;!c&&h<f.length;++h)c=e[i][h]!==f[h];c&&d&&(f=Array.from(f))}if(c){const h=e[i.name];e[i]=f,(p=e[a])==null||p.call(e,t,e,f,h),t.modified()}return c},t[`set${Xt(i)}From`]=s=>{const u=e[i];s.forEach((l,f)=>{u[f]=l})}})}function OM(t,e,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;V9(t,e,n),U9(t,e,n,r,o)}function NM(t,e,n){for(let r=0;r<n.length;r++){const o=n[r];e[o]!==void 0&&(e[`_${o}`]=e[o],delete e[o])}}function RM(t,e,n,r){e.inputData?e.inputData=e.inputData.map(ea):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(ea):e.inputConnection=[],e.output?e.output=e.output.map(ea):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(ea):e.inputArrayToProcess=[],e.numberOfInputs=n;function o(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){hn("instance deleted - cannot call any method");return}if(h>=e.numberOfInputs){hn(`algorithm ${t.getClassName()} only has ${e.numberOfInputs} input ports. To add more input ports, use addInputData()`);return}(e.inputData[h]!==p||e.inputConnection[h])&&(e.inputData[h]=p,e.inputConnection[h]=null,t.modified&&t.modified())}function i(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[p]&&(e.inputData[p]=e.inputConnection[p]()),e.inputData[p]}function a(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){hn("instance deleted - cannot call any method");return}if(h>=e.numberOfInputs){let m=`algorithm ${t.getClassName()} only has `;m+=`${e.numberOfInputs}`,m+=" input ports. To add more input ports, use addInputConnection()",hn(m);return}e.inputData[h]=null,e.inputConnection[h]=p}function s(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[p]}function u(){let p=e.numberOfInputs;for(;p&&!e.inputData[p-1]&&!e.inputConnection[p-1];)p--;return p===e.numberOfInputs&&e.numberOfInputs++,p}function l(p){if(e.deleted){hn("instance deleted - cannot call any method");return}a(p,u())}function f(p){if(e.deleted){hn("instance deleted - cannot call any method");return}o(p,u())}function c(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.deleted?(hn("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[p])}t.shouldUpdate=()=>{var y,b;const p=t.getMTime();let h=1/0,m=r;for(;m--;){if(!e.output[m]||e.output[m].isDeleted())return!0;const v=e.output[m].getMTime();if(v<p)return!0;v<h&&(h=v)}for(m=e.numberOfInputs;m--;)if((y=e.inputConnection[m])!=null&&y.filter.shouldUpdate()||((b=t.getInputData(m))==null?void 0:b.getMTime())>h)return!0;return!1};function d(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const h=()=>c(p);return h.filter=t,h}if(e.numberOfInputs){let p=e.numberOfInputs;for(;p--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=o,t.setInputConnection=a,t.addInputData=f,t.addInputConnection=l,t.getInputData=i,t.getInputConnection=s}r&&(t.getOutputData=c,t.getOutputPort=d),t.update=()=>{const p=[];if(e.numberOfInputs){let h=0;for(;h<e.numberOfInputs;)p[h]=t.getInputData(h),h++}t.shouldUpdate()&&t.requestData&&t.requestData(p,e.output)},t.getNumberOfInputPorts=()=>e.numberOfInputs,t.getNumberOfOutputPorts=()=>r||e.output.length,t.getInputArrayToProcess=p=>{const h=e.inputArrayToProcess[p],m=e.inputData[p];return h&&m?m[`get${h.fieldAssociation}`]().getArray(h.arrayName):null},t.setInputArrayToProcess=function(p,h,m){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";for(;e.inputArrayToProcess.length<p;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[p]={arrayName:h,fieldAssociation:m,attributeType:y}}}const G9=Symbol("Event abort");function MM(t,e,n){const r=[],o=t.delete;let i=1;function a(l){for(let f=0;f<r.length;++f){const[c]=r[f];if(c===l){r.splice(f,1);return}}}function s(l){function f(){a(l)}return Object.freeze({unsubscribe:f})}function u(){if(e.deleted){hn("instance deleted - cannot call any method");return}const l=r.slice();for(let f=0;f<l.length;++f){const[,c,d]=l[f];if(c){if(d<0)setTimeout(()=>c.apply(t,arguments),1-d);else if(c.apply(t,arguments)===G9)break}}}t[`invoke${Xt(n)}`]=u,t[`on${Xt(n)}`]=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!l.apply)return console.error(`Invalid callback for event ${n}`),null;if(e.deleted)return hn("instance deleted - cannot call any method"),null;const c=i++;return r.push([c,l,f]),r.sort((d,p)=>p[2]-d[2]),s(c)},t.delete=()=>{o(),r.forEach(l=>{let[f]=l;return a(f)})}}function kM(t,e){const n=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={},i={};return t(i,o,r),Object.freeze(i)};return e&&ea.register(e,n),n}function LM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.filter(a=>!!a).map(a=>a(...o))}}function z9(t){return t&&t.isA&&t.isA("vtkObject")}function Hh(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(z9(t)){if(r.indexOf(t)>=0)return n;r.push(t);const o=e(t);o!==void 0&&n.push(o);const i=t.get();Object.keys(i).forEach(a=>{const s=i[a];Array.isArray(s)?s.forEach(u=>{Hh(u,e,n,r)}):Hh(s,e,n,r)})}return n}function FM(t,e,n){var r=this;let o;const i=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];const l=r,f=()=>{o=null,n||t.apply(l,s)},c=n&&!o;clearTimeout(o),o=setTimeout(f,e),c&&t.apply(l,s)};return i.cancel=()=>clearTimeout(o),i}function BM(t,e){let n=!1,r=null;function o(){n=!1,r!==null&&(i(...r),r=null)}function i(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];if(n){r=s;return}n=!0,t(...s),setTimeout(o,e)}return i}function j9(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},n),t.setKey=(r,o)=>{e.keystore[r]=o},t.getKey=r=>e.keystore[r],t.getAllKeys=()=>Object.keys(e.keystore),t.deleteKey=r=>delete e.keystore[r],t.clearKeystore=()=>t.getAllKeys().forEach(r=>delete e.keystore[r])}let VM=1;const bc="__root__";function UM(t,e){j9(t,e);const n=t.delete;e.proxyId=`${VM++}`,e.ui=JSON.parse(JSON.stringify(e.ui||[])),cd(t,e,["proxyId","proxyGroup","proxyName"]),B9(t,e,["proxyManager"]);const r={},o={};function i(l,f){o[f]||(o[f]=[]);const c=o[f];for(let d=0;d<l.length;d++)c.push(l[d].name),r[l[d].name]=l[d],l[d].children&&l[d].children.length&&i(l[d].children,l[d].name)}i(e.ui,bc),t.updateUI=l=>{e.ui=JSON.parse(JSON.stringify(l||[])),Object.keys(r).forEach(f=>delete r[f]),Object.keys(o).forEach(f=>delete o[f]),i(e.ui,bc),t.modified()};function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bc;return o[l]}t.updateProxyProperty=(l,f)=>{const c=r[l];c?Object.assign(c,f):r[l]=q({},f)},t.activate=()=>{if(e.proxyManager){const l=`setActive${Xt(t.getProxyGroup().slice(0,-1))}`;e.proxyManager[l]&&e.proxyManager[l](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=(l,f)=>{f in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[f]=[]),e.propertyLinkSubscribers[f].push(l)},t.gcPropertyLinks=l=>{const f=e.propertyLinkSubscribers[l]||[];for(;f.length;)f.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.propertyLinkMap[l])return e.propertyLinkMap[l];let c=null;const d=[];let p=0,h=!1;function m(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(h)return null;const C=[];let w=null;for(p=d.length;p--;){const _=d[p];_.instance===x?w=_:C.push(_)}if(!w)return null;const T=w.instance[`get${Xt(w.propertyName)}`]();if(!_M(T,c)||S){for(c=T,h=!0;C.length;){const _=C.pop();_.instance.set({[_.propertyName]:c})}h=!1}return e.propertyLinkMap[l].persistent&&(e.propertyLinkMap[l].value=T),T}function y(x,S){const C=[];for(p=d.length;p--;){const w=d[p];w.instance===x&&(w.propertyName===S||S===void 0)&&(w.subscription.unsubscribe(),C.push(p))}for(;C.length;)d.splice(C.pop(),1)}function b(x,S){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=x.onModified(m),T=d[0];return d.push({instance:x,propertyName:S,subscription:w}),C&&(e.propertyLinkMap[l].persistent&&e.propertyLinkMap[l].value!==void 0?x.set({[S]:e.propertyLinkMap[l].value}):T&&m(T.instance,!0)),{unsubscribe:()=>y(x,S)}}function v(){for(;d.length;)d.pop().subscription.unsubscribe()}const g={bind:b,unbind:y,unsubscribe:v,persistent:f};return e.propertyLinkMap[l]=g,g};function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bc;const f=[],c=e.proxyId,d=a(l)||[];for(let p=0;p<d.length;p++){const h=d[p],m=t[`get${Xt(h)}`],y=m?m():void 0,b={id:c,name:h,value:y},v=s(h);v.length&&(b.children=v),f.push(b)}return f}t.listPropertyNames=()=>s().map(l=>l.name),t.getPropertyByName=l=>s().find(f=>f.name===l),t.getPropertyDomainByName=l=>(r[l]||{}).domain,t.getProxySection=()=>({id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:s()}),t.delete=()=>{const l=Object.keys(e.propertyLinkMap);let f=l.length;for(;f--;)e.propertyLinkMap[l[f]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),n()},t.getState=()=>null;function u(){if(e.links)for(let l=0;l<e.links.length;l++){const{link:f,property:c,persistent:d,updateOnBind:p,type:h}=e.links[l];if(h==="application"){const m=e.proxyManager.getPropertyLink(f,d);t.registerPropertyLinkForGC(m,"application"),m.bind(t,c,p)}}}L9(u)}function GM(t,e,n){const r=t.delete,o=[],i=Object.keys(n);let a=i.length;for(;a--;){const s=i[a],{modelKey:u,property:l,modified:f=!0}=n[s],c=Xt(l),d=Xt(s);t[`get${d}`]=e[u][`get${c}`],t[`set${d}`]=e[u][`set${c}`],f&&o.push(e[u].onModified(t.modified))}t.delete=()=>{for(;o.length;)o.pop().unsubscribe();r()}}function zM(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};e.this=t;function o(s){const u=Object.keys(s);let l=u.length;for(;l--;){const f=u[l];e[f].set(s[f])}}const i=Object.keys(r);let a=i.length;for(;a--;){const s=i[a];e[s]=r[s];const u=n[s];t[`set${Xt(s)}`]=l=>{if(l!==e[s]){e[s]=l;const f=u[l];o(f),t.modified()}}}i.length&&cd(t,e,i)}const Dy=10,Iy=40,Py=800;function jM(t){let e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*Dy,o=n*Dy,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(t.deltaMode===1?(r*=Iy,o*=Iy):(r*=Py,o*=Py)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n||e,pixelX:r,pixelY:o||r}}var mn={algo:RM,capitalize:K1,chain:LM,debounce:FM,enumToString:AM,event:MM,EVENT_ABORT:G9,formatBytesToProperUnit:CM,formatNumbersWithThousandSeparator:wM,get:cd,getArray:V9,getCurrentGlobalMTime:pM,getStateArrayMapFunc:k9,isVtkObject:z9,keystore:j9,measurePromiseExecution:EM,moveToProtected:NM,newInstance:kM,newTypedArray:bM,newTypedArrayFrom:xM,normalizeWheel:jM,obj:DM,proxy:UM,proxyPropertyMapping:GM,proxyPropertyState:zM,safeArrays:M9,set:F9,setArray:U9,setGet:B9,setGetArray:OM,setImmediate:L9,setLoggerFunction:mM,throttle:BM,traverseInstanceTree:Hh,TYPED_ARRAYS:zn,uncapitalize:SM,VOID:dM,vtkDebugMacro:Wh,vtkErrorMacro:hn,vtkInfoMacro:vM,vtkLogMacro:gM,vtkOnceErrorMacro:yM,vtkWarningMacro:R9};function WM(t){return{subscribeToImageStream:e=>t.subscribe("viewport.image.push.subscription",e),unsubscribeToImageStream:e=>t.unsubscribe(e),registerView:e=>t.call("viewport.image.push.observer.add",[e]),unregisterView:e=>t.call("viewport.image.push.observer.remove",[e]),enableView:(e,n)=>t.call("viewport.image.push.enabled",[e,n]),render:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{size:[400,400],view:-1};return t.call("viewport.image.push",[e])},resetCamera:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;return t.call("viewport.camera.reset",[e])},invalidateCache:e=>t.call("viewport.image.push.invalidate.cache",[e]),setQuality:function(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return t.call("viewport.image.push.quality",[e,n,r])},setSize:function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:400,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:400;return t.call("viewport.image.push.original.size",[e,n,r])},setServerAnimationFPS:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30;return t.call("viewport.image.animation.fps.max",[e])},getServerAnimationFPS:()=>t.call("viewport.image.animation.fps.get",[]),startAnimation:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;return t.call("viewport.image.animation.start",[e])},stopAnimation:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;return t.call("viewport.image.animation.stop",[e])},updateCamera:function(e,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return t.call("viewport.camera.update",[e!=null?e:-1,n,r,o,i])},updateCameraParameters:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t.call("viewport.camera.update.params",[e,n,r])}}}function HM(t,e){e.classHierarchy.push("vtkViewStream"),e.imageDecodingPool=[new Image,new Image],e.eventPool=[],e.nextPoolImageIndex=0,e.urlToRevoke=[],e.activeURL=null,e.fps=[],e.lastTime=Date.now(),e.lastImageEvent=null;function n(i){const a=Number(this.dataset.id);t.invokeImageReady(e.eventPool[a])}function r(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2;for(;e.imageDecodingPool.length<i;)e.imageDecodingPool.push(new Image);for(let a=0;a<e.imageDecodingPool.length;a++)e.imageDecodingPool[a].dataset.id=a,e.imageDecodingPool[a].onload=n}function o(i){e.eventPool[e.nextPoolImageIndex]=i,i.image=e.imageDecodingPool[e.nextPoolImageIndex++],e.nextPoolImageIndex%=e.imageDecodingPool.length,i.image.src=i.url}t.pushCamera=()=>{const i=e.camera.getReferenceByName("focalPoint"),a=e.camera.getReferenceByName("viewUp"),s=e.camera.getReferenceByName("position"),u=e.camera.getParallelProjection(),l=e.camera.getViewAngle(),f=e.camera.getParallelScale();let c=null;return e.useCameraParameters?c=e.protocol.updateCameraParameters(e.viewId,{focalPoint:i,viewUp:a,position:s,parallelProjection:u,viewAngle:l,parallelScale:f},!1):c=e.protocol.updateCamera(e.viewId,i,a,s,!1),e.isAnimating&&setTimeout(t.pushCamera,1e3/e.cameraUpdateRate),c},t.invalidateCache=()=>e.protocol.invalidateCache(e.viewId),t.render=()=>e.protocol.render({view:e.viewId,size:e.size}),t.resetCamera=()=>e.protocol.resetCamera(e.viewId),t.startAnimation=()=>e.protocol.startAnimation(e.viewId),t.stopAnimation=()=>e.protocol.stopAnimation(e.viewId),t.setSize=(i,a)=>{let s=!1;return(e.size[0]!==i||e.size[1]!==a)&&(e.size=[i,a],s=!0),s&&(t.modified(),e.protocol)?e.protocol.setSize(e.viewId,i,a):Promise.resolve(!1)},t.startInteraction=()=>{const i=[e.protocol.setQuality(e.viewId,e.interactiveQuality,e.interactiveRatio)];return e.camera&&(i.push(t.startAnimation()),e.isAnimating=!0,i.push(t.pushCamera())),Promise.all(i)},t.endInteraction=()=>{const i=[];return i.push(e.protocol.setQuality(e.viewId,e.stillQuality,e.stillRatio)),e.camera?(i.push(t.stopAnimation()),e.isAnimating=!1,i.push(t.pushCamera())):i.push(t.render()),Promise.all(i)},t.setViewId=i=>e.viewId===i||!e.protocol?!1:(e.viewId&&e.protocol.unregisterView(e.viewId),e.viewId=i,e.viewId&&e.protocol.registerView(e.viewId).then(a=>{let{viewId:s}=a;e.viewId=s}),!0),t.processMessage=i=>{if(i.id!=e.viewId)return;const a=new Blob([i.image],{type:e.mimeType});if(e.activeURL)for(e.urlToRevoke.push(e.activeURL),e.activeURL=null;e.urlToRevoke.length>60;){const l=e.urlToRevoke.shift();window.URL.revokeObjectURL(l)}e.activeURL=URL.createObjectURL(a);const s=Date.now(),u=Math.floor(1e4/(s-e.lastTime))/10;for(e.fps.push(u),e.lastTime=s,e.lastImageEvent={url:e.activeURL,fps:u,metadata:{size:i.size,id:i.id,memory:i.memsize,workTime:i.workTime}},e.decodeImage?o(e.lastImageEvent):t.invokeImageReady(e.lastImageEvent);e.fps.length>e.fpsWindowSize;)e.fps.shift()},t.delete=mn.chain(()=>{for(e.unregisterViewStream(t),t.setViewId(null);e.urlToRevoke.length;)window.URL.revokeObjectURL(e.urlToRevoke.pop())},t.delete),r()}const $M={cameraUpdateRate:30,decodeImage:!0,fpsWindowSize:250,interactiveQuality:80,interactiveRatio:1,isAnimating:!1,mimeType:"image/jpeg",size:[-1,-1],stillQuality:100,stillRatio:1,useCameraParameters:!1,viewId:null};function W9(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$M,n),mn.obj(t,e),mn.event(t,e,"ImageReady"),mn.get(t,e,["viewId","size","fps","lastImageEvent"]),mn.setGet(t,e,["camera","cameraUpdateRate","decodeImage","fpsWindowSize","interactiveQuality","interactiveRatio","stillQuality","stillRatio","useCameraParameters"]),HM(t,e),Object.assign(t,e.sharedAPI)}const KM=mn.newInstance(W9,"vtkViewStream");var qM={newInstance:KM,extend:W9};function XM(t,e){e.classHierarchy.push("vtkImageStream");function n(r){const o=r[0];if(!(!o||!o.image))for(let i=0;i<e.viewStreams.length;i++)e.viewStreams[i].processMessage(o)}t.setServerAnimationFPS=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,o=!1;return e.serverAnimationFPS!==r&&(e.serverAnimationFPS=r,o=!0),e.protocol?(o&&t.modified(),e.protocol.setServerAnimationFPS(r)):Promise.resolve(!0)},t.connect=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:WM;e.connected||!r||!o||(e.protocol=o(r),e.protocol.subscribeToImageStream(n).promise.then(i=>{e.renderTopicSubscription=i,e.connected=!0}).catch(i=>{e.connected=!1,console.error(i)}))},t.disconnect=()=>{e.protocol&&e.connected&&e.renderTopicSubscription&&(e.protocol.unsubscribeToImageStream(e.renderTopicSubscription),e.renderTopicSubscription=null),e.connected=!1},t.registerViewStream=r=>{e.viewStreams.push(r)},t.unregisterViewStream=r=>{e.viewStreams=e.viewStreams.filter(o=>o!==r)},t.createViewStream=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-1",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[400,400];const{setServerAnimationFPS:i,getServerAnimationFPS:a,unregisterViewStream:s}=t,u=qM.newInstance({protocol:e.protocol,unregisterViewStream:s,sharedAPI:{setServerAnimationFPS:i,getServerAnimationFPS:a}});return u.setViewId(r),u.setSize(o[0],o[1]),t.registerViewStream(u),u},t.delete=mn.chain(()=>{for(;e.viewStreams.length;)e.viewStreams.pop().delete();t.disconnect()},t.delete)}const YM={viewStreams:[],serverAnimationFPS:-1};function H9(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,YM,n),mn.obj(t,e),mn.get(t,e,["serverAnimationFPS","protocol"]),XM(t,e)}const JM=mn.newInstance(H9,"vtkImageStream");var ZM={newInstance:JM,extend:H9};let $h=null;function QM(t){$h=t}function ek(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return new Promise((i,a)=>{e(1),t(...r).then(s=>{e(-1),i(s)},s=>{e(-1),a(s)})})}}function Oy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r={};return Object.keys(t).forEach(o=>{n.indexOf(o)===-1?r[o]=ek(t[o],e):r[o]=t[o]}),r}function tk(t,e){e.classHierarchy.push("vtkWSLinkClient");function n(){t.invokeBusyChange(e.busyCount)}function r(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;e.busyCount+=o,e.timeoutId&&(clearTimeout(e.timeoutId),e.timeoutId=0),e.busyCount?n():e.timeoutId=setTimeout(n,e.notificationTimeout)}t.beginBusy=()=>r(1),t.endBusy=()=>r(-1),t.isBusy=()=>!!e.busyCount,t.isConnected=()=>!!e.connection,t.connect=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return $h?e.connection?Promise.reject(new Error("Need to disconnect first")):(e.config=o,e.configDecorator=i||e.configDecorator,new Promise((a,s)=>{e.smartConnect=$h.newInstance({config:o,configDecorator:e.configDecorator}),e.smartConnect.onConnectionReady(u=>{e.connection=u,e.remote={},e.config=e.smartConnect.getConfig();const l=u.getSession();e.protocols=e.protocols||{},Object.keys(e.protocols).forEach(f=>{e.remote[f]=Oy(e.protocols[f](l),r,e.notBusyList)}),e.createImageStream&&(e.imageStream=ZM.newInstance(),e.imageStream.connect(l)),t.invokeConnectionReady(t),a(t)}),e.smartConnect.onConnectionError(u=>{t.invokeConnectionError(u),s(u)}),e.smartConnect.onConnectionClose(u=>{t.invokeConnectionClose(u),s(u)}),e.smartConnect.connect()})):Promise.reject(new Error("Need to provide SmartConnect"))},t.disconnect=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:60;e.connection&&(e.connection.destroy(o),e.connection=null)},t.registerProtocol=(o,i)=>{e.remote[o]=Oy(i(e.connection.getSession()),r,e.notBusyList)},t.unregisterProtocol=o=>{delete e.remote[o]}}const nk={notBusyList:[],busyCount:0,timeoutId:0,notificationTimeout:50,createImageStream:!0};function $9(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nk,n),mn.obj(t,e),mn.setGet(t,e,["protocols","notBusyList","createImageStream","configDecorator"]),mn.get(t,e,["connection","config","remote","imageStream"]),mn.event(t,e,"BusyChange"),mn.event(t,e,"ConnectionReady"),mn.event(t,e,"ConnectionError"),mn.event(t,e,"ConnectionClose"),tk(t,e)}const rk=mn.newInstance($9,"vtkWSLinkClient");var K9={newInstance:rk,extend:$9,setSmartConnectClass:QM};const ok=t=>({lifeCycleUpdate(e){return t.call("trame.lifecycle.update",[e])},sendError(e){return t.call("trame.error.client",[e])},getState(){return t.call("trame.state.get",[])},trigger(e,n=[],r={}){return t.call("trame.trigger",[e,n,r])},updateState(e){return t.call("trame.state.update",[e])},subscribeToStateUpdate(e){return t.subscribe("trame.state.topic",e)},subscribeToActions(e){return t.subscribe("trame.actions.topic",e)},unsubscribe(e){return t.unsubscribe(e)}}),ik={Trame:ok};K9.setSmartConnectClass(JN);const ak={"http:":"ws:","https:":"wss:","ws:":"ws:","wss:":"wss:"},sk=["unsubscribe","subscribeToViewChange","subscribeToStateUpdate","subscribeToActions","subscribeToViewChange"];function q9(t){const e=q({},t);if(e.sessionURL){let r=e.sessionURL.toLowerCase();const o=window.location;if(r.includes("use_")){const a=new URL(r);a.protocol=ak[o.protocol],r=a.toString()}const i={use_hostname:o.hostname,use_host:o.host};for(const[a,s]of Object.entries(i))r=r.replaceAll(a,s);e.sessionURL=r}e.application=document.querySelector("html").dataset.appName||e.application;const n=document.querySelector("html").dataset.sessionManagerUrl||e.sessionManagerURL;return n&&(e.sessionManagerURL=n),e.useUrl?q(q({},e),GO.extractURLParameters()):e}function lk(){return K9.newInstance({protocols:ik,configDecorator:q9,notBusyList:sk})}const uk={configDecorator:q9,createClient:lk};var st=1e-6,vn=typeof Float32Array<"u"?Float32Array:Array,ck=Math.PI/180;function fk(t){return t*ck}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function X9(){var t=new vn(9);return vn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Lu(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function dk(t){var e=new vn(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function pk(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Y9(t,e,n,r,o,i,a,s,u){var l=new vn(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=r,l[4]=o,l[5]=i,l[6]=a,l[7]=s,l[8]=u,l}function hk(t,e,n,r,o,i,a,s,u,l){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t}function Wr(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function fd(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function qs(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=f*a-s*l,d=-f*i+s*u,p=l*i-a*u,h=n*c+r*d+o*p;return h?(h=1/h,t[0]=c*h,t[1]=(-f*r+o*l)*h,t[2]=(s*r-o*a)*h,t[3]=d*h,t[4]=(f*n-o*u)*h,t[5]=(-s*n+o*i)*h,t[6]=p*h,t[7]=(-l*n+r*u)*h,t[8]=(a*n-r*i)*h,t):null}function mk(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],f=e[8];return t[0]=a*f-s*l,t[1]=o*l-r*f,t[2]=r*s-o*a,t[3]=s*u-i*f,t[4]=n*f-o*u,t[5]=o*i-n*s,t[6]=i*l-a*u,t[7]=r*u-n*l,t[8]=n*a-r*i,t}function gk(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],l=t[8];return e*(l*i-a*u)+n*(-l*o+a*s)+r*(u*o-i*s)}function Ns(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],d=n[0],p=n[1],h=n[2],m=n[3],y=n[4],b=n[5],v=n[6],g=n[7],x=n[8];return t[0]=d*r+p*a+h*l,t[1]=d*o+p*s+h*f,t[2]=d*i+p*u+h*c,t[3]=m*r+y*a+b*l,t[4]=m*o+y*s+b*f,t[5]=m*i+y*u+b*c,t[6]=v*r+g*a+x*l,t[7]=v*o+g*s+x*f,t[8]=v*i+g*u+x*c,t}function vk(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],d=n[0],p=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=u,t[6]=d*r+p*a+l,t[7]=d*o+p*s+f,t[8]=d*i+p*u+c,t}function yk(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],d=Math.sin(n),p=Math.cos(n);return t[0]=p*r+d*a,t[1]=p*o+d*s,t[2]=p*i+d*u,t[3]=p*a-d*r,t[4]=p*s-d*o,t[5]=p*u-d*i,t[6]=l,t[7]=f,t[8]=c,t}function bk(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function xk(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Sk(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ck(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function wk(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Tk(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,u=o+o,l=n*a,f=r*a,c=r*s,d=o*a,p=o*s,h=o*u,m=i*a,y=i*s,b=i*u;return t[0]=1-c-h,t[3]=f-b,t[6]=d+y,t[1]=f+b,t[4]=1-l-h,t[7]=p-m,t[2]=d-y,t[5]=p+m,t[8]=1-l-c,t}function _k(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=e[9],d=e[10],p=e[11],h=e[12],m=e[13],y=e[14],b=e[15],v=n*s-r*a,g=n*u-o*a,x=n*l-i*a,S=r*u-o*s,C=r*l-i*s,w=o*l-i*u,T=f*m-c*h,_=f*y-d*h,A=f*b-p*h,E=c*y-d*m,D=c*b-p*m,O=d*b-p*y,P=v*O-g*D+x*E+S*A-C*_+w*T;return P?(P=1/P,t[0]=(s*O-u*D+l*E)*P,t[1]=(u*A-a*O-l*_)*P,t[2]=(a*D-s*A+l*T)*P,t[3]=(o*D-r*O-i*E)*P,t[4]=(n*O-o*A+i*_)*P,t[5]=(r*A-n*D-i*T)*P,t[6]=(m*w-y*C+b*S)*P,t[7]=(y*x-h*w-b*g)*P,t[8]=(h*C-m*x+b*v)*P,t):null}function Ak(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ek(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Dk(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Ik(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function J9(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Pk(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Ok(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Nk(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Rk(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],f=t[8],c=e[0],d=e[1],p=e[2],h=e[3],m=e[4],y=e[5],b=e[6],v=e[7],g=e[8];return Math.abs(n-c)<=st*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-d)<=st*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-p)<=st*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-h)<=st*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-m)<=st*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-y)<=st*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-b)<=st*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(l-v)<=st*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(f-g)<=st*Math.max(1,Math.abs(f),Math.abs(g))}var Mk=Ns,kk=J9;const Lk=Object.freeze(Object.defineProperty({__proto__:null,add:Ik,adjoint:mk,clone:dk,copy:pk,create:X9,determinant:gk,equals:Rk,exactEquals:Nk,frob:Dk,fromMat2d:wk,fromMat4:Lu,fromQuat:Tk,fromRotation:Sk,fromScaling:Ck,fromTranslation:xk,fromValues:Y9,identity:Wr,invert:qs,mul:Mk,multiply:Ns,multiplyScalar:Pk,multiplyScalarAndAdd:Ok,normalFromMat4:_k,projection:Ak,rotate:yk,scale:bk,set:hk,str:Ek,sub:kk,subtract:J9,translate:vk,transpose:fd},Symbol.toStringTag,{value:"Module"}));function q1(){var t=new vn(16);return vn!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Fk(t){var e=new vn(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function gn(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Bk(t,e,n,r,o,i,a,s,u,l,f,c,d,p,h,m){var y=new vn(16);return y[0]=t,y[1]=e,y[2]=n,y[3]=r,y[4]=o,y[5]=i,y[6]=a,y[7]=s,y[8]=u,y[9]=l,y[10]=f,y[11]=c,y[12]=d,y[13]=p,y[14]=h,y[15]=m,y}function Vk(t,e,n,r,o,i,a,s,u,l,f,c,d,p,h,m,y){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=u,t[8]=l,t[9]=f,t[10]=c,t[11]=d,t[12]=p,t[13]=h,t[14]=m,t[15]=y,t}function Le(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pt(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Jn(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=e[9],d=e[10],p=e[11],h=e[12],m=e[13],y=e[14],b=e[15],v=n*s-r*a,g=n*u-o*a,x=n*l-i*a,S=r*u-o*s,C=r*l-i*s,w=o*l-i*u,T=f*m-c*h,_=f*y-d*h,A=f*b-p*h,E=c*y-d*m,D=c*b-p*m,O=d*b-p*y,P=v*O-g*D+x*E+S*A-C*_+w*T;return P?(P=1/P,t[0]=(s*O-u*D+l*E)*P,t[1]=(o*D-r*O-i*E)*P,t[2]=(m*w-y*C+b*S)*P,t[3]=(d*C-c*w-p*S)*P,t[4]=(u*A-a*O-l*_)*P,t[5]=(n*O-o*A+i*_)*P,t[6]=(y*x-h*w-b*g)*P,t[7]=(f*w-d*x+p*g)*P,t[8]=(a*D-s*A+l*T)*P,t[9]=(r*A-n*D-i*T)*P,t[10]=(h*C-m*x+b*v)*P,t[11]=(c*x-f*C-p*v)*P,t[12]=(s*_-a*E-u*T)*P,t[13]=(n*E-r*_+o*T)*P,t[14]=(m*g-h*S-y*v)*P,t[15]=(f*S-c*g+d*v)*P,t):null}function Uk(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],f=e[8],c=e[9],d=e[10],p=e[11],h=e[12],m=e[13],y=e[14],b=e[15];return t[0]=s*(d*b-p*y)-c*(u*b-l*y)+m*(u*p-l*d),t[1]=-(r*(d*b-p*y)-c*(o*b-i*y)+m*(o*p-i*d)),t[2]=r*(u*b-l*y)-s*(o*b-i*y)+m*(o*l-i*u),t[3]=-(r*(u*p-l*d)-s*(o*p-i*d)+c*(o*l-i*u)),t[4]=-(a*(d*b-p*y)-f*(u*b-l*y)+h*(u*p-l*d)),t[5]=n*(d*b-p*y)-f*(o*b-i*y)+h*(o*p-i*d),t[6]=-(n*(u*b-l*y)-a*(o*b-i*y)+h*(o*l-i*u)),t[7]=n*(u*p-l*d)-a*(o*p-i*d)+f*(o*l-i*u),t[8]=a*(c*b-p*m)-f*(s*b-l*m)+h*(s*p-l*c),t[9]=-(n*(c*b-p*m)-f*(r*b-i*m)+h*(r*p-i*c)),t[10]=n*(s*b-l*m)-a*(r*b-i*m)+h*(r*l-i*s),t[11]=-(n*(s*p-l*c)-a*(r*p-i*c)+f*(r*l-i*s)),t[12]=-(a*(c*y-d*m)-f*(s*y-u*m)+h*(s*d-u*c)),t[13]=n*(c*y-d*m)-f*(r*y-o*m)+h*(r*d-o*c),t[14]=-(n*(s*y-u*m)-a*(r*y-o*m)+h*(r*u-o*s)),t[15]=n*(s*d-u*c)-a*(r*d-o*c)+f*(r*u-o*s),t}function Gk(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],s=t[6],u=t[7],l=t[8],f=t[9],c=t[10],d=t[11],p=t[12],h=t[13],m=t[14],y=t[15],b=e*a-n*i,v=e*s-r*i,g=e*u-o*i,x=n*s-r*a,S=n*u-o*a,C=r*u-o*s,w=l*h-f*p,T=l*m-c*p,_=l*y-d*p,A=f*m-c*h,E=f*y-d*h,D=c*y-d*m;return b*D-v*E+g*A+x*_-S*T+C*w}function lt(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=e[8],d=e[9],p=e[10],h=e[11],m=e[12],y=e[13],b=e[14],v=e[15],g=n[0],x=n[1],S=n[2],C=n[3];return t[0]=g*r+x*s+S*c+C*m,t[1]=g*o+x*u+S*d+C*y,t[2]=g*i+x*l+S*p+C*b,t[3]=g*a+x*f+S*h+C*v,g=n[4],x=n[5],S=n[6],C=n[7],t[4]=g*r+x*s+S*c+C*m,t[5]=g*o+x*u+S*d+C*y,t[6]=g*i+x*l+S*p+C*b,t[7]=g*a+x*f+S*h+C*v,g=n[8],x=n[9],S=n[10],C=n[11],t[8]=g*r+x*s+S*c+C*m,t[9]=g*o+x*u+S*d+C*y,t[10]=g*i+x*l+S*p+C*b,t[11]=g*a+x*f+S*h+C*v,g=n[12],x=n[13],S=n[14],C=n[15],t[12]=g*r+x*s+S*c+C*m,t[13]=g*o+x*u+S*d+C*y,t[14]=g*i+x*l+S*p+C*b,t[15]=g*a+x*f+S*h+C*v,t}function Ot(t,e,n){var r=n[0],o=n[1],i=n[2],a,s,u,l,f,c,d,p,h,m,y,b;return e===t?(t[12]=e[0]*r+e[4]*o+e[8]*i+e[12],t[13]=e[1]*r+e[5]*o+e[9]*i+e[13],t[14]=e[2]*r+e[6]*o+e[10]*i+e[14],t[15]=e[3]*r+e[7]*o+e[11]*i+e[15]):(a=e[0],s=e[1],u=e[2],l=e[3],f=e[4],c=e[5],d=e[6],p=e[7],h=e[8],m=e[9],y=e[10],b=e[11],t[0]=a,t[1]=s,t[2]=u,t[3]=l,t[4]=f,t[5]=c,t[6]=d,t[7]=p,t[8]=h,t[9]=m,t[10]=y,t[11]=b,t[12]=a*r+f*o+h*i+e[12],t[13]=s*r+c*o+m*i+e[13],t[14]=u*r+d*o+y*i+e[14],t[15]=l*r+p*o+b*i+e[15]),t}function xi(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Cn(t,e,n,r){var o=r[0],i=r[1],a=r[2],s=Math.hypot(o,i,a),u,l,f,c,d,p,h,m,y,b,v,g,x,S,C,w,T,_,A,E,D,O,P,k;return s<st?null:(s=1/s,o*=s,i*=s,a*=s,u=Math.sin(n),l=Math.cos(n),f=1-l,c=e[0],d=e[1],p=e[2],h=e[3],m=e[4],y=e[5],b=e[6],v=e[7],g=e[8],x=e[9],S=e[10],C=e[11],w=o*o*f+l,T=i*o*f+a*u,_=a*o*f-i*u,A=o*i*f-a*u,E=i*i*f+l,D=a*i*f+o*u,O=o*a*f+i*u,P=i*a*f-o*u,k=a*a*f+l,t[0]=c*w+m*T+g*_,t[1]=d*w+y*T+x*_,t[2]=p*w+b*T+S*_,t[3]=h*w+v*T+C*_,t[4]=c*A+m*E+g*D,t[5]=d*A+y*E+x*D,t[6]=p*A+b*E+S*D,t[7]=h*A+v*E+C*D,t[8]=c*O+m*P+g*k,t[9]=d*O+y*P+x*k,t[10]=p*O+b*P+S*k,t[11]=h*O+v*P+C*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function dd(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],s=e[6],u=e[7],l=e[8],f=e[9],c=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+l*r,t[5]=a*o+f*r,t[6]=s*o+c*r,t[7]=u*o+d*r,t[8]=l*o-i*r,t[9]=f*o-a*r,t[10]=c*o-s*r,t[11]=d*o-u*r,t}function iu(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],l=e[8],f=e[9],c=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-l*r,t[1]=a*o-f*r,t[2]=s*o-c*r,t[3]=u*o-d*r,t[8]=i*r+l*o,t[9]=a*r+f*o,t[10]=s*r+c*o,t[11]=u*r+d*o,t}function pd(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],s=e[2],u=e[3],l=e[4],f=e[5],c=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+l*r,t[1]=a*o+f*r,t[2]=s*o+c*r,t[3]=u*o+d*r,t[4]=l*o-i*r,t[5]=f*o-a*r,t[6]=c*o-s*r,t[7]=d*o-u*r,t}function Z9(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function X1(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Q9(t,e,n){var r=n[0],o=n[1],i=n[2],a=Math.hypot(r,o,i),s,u,l;return a<st?null:(a=1/a,r*=a,o*=a,i*=a,s=Math.sin(e),u=Math.cos(e),l=1-u,t[0]=r*r*l+u,t[1]=o*r*l+i*s,t[2]=i*r*l-o*s,t[3]=0,t[4]=r*o*l-i*s,t[5]=o*o*l+u,t[6]=i*o*l+r*s,t[7]=0,t[8]=r*i*l+o*s,t[9]=o*i*l-r*s,t[10]=i*i*l+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function zk(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jk(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wk(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function e8(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,u=o+o,l=i+i,f=r*s,c=r*u,d=r*l,p=o*u,h=o*l,m=i*l,y=a*s,b=a*u,v=a*l;return t[0]=1-(p+m),t[1]=c+v,t[2]=d-b,t[3]=0,t[4]=c-v,t[5]=1-(f+m),t[6]=h+y,t[7]=0,t[8]=d+b,t[9]=h-y,t[10]=1-(f+p),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Hk(t,e){var n=new vn(3),r=-e[0],o=-e[1],i=-e[2],a=e[3],s=e[4],u=e[5],l=e[6],f=e[7],c=r*r+o*o+i*i+a*a;return c>0?(n[0]=(s*a+f*r+u*i-l*o)*2/c,n[1]=(u*a+f*o+l*r-s*i)*2/c,n[2]=(l*a+f*i+s*o-u*r)*2/c):(n[0]=(s*a+f*r+u*i-l*o)*2,n[1]=(u*a+f*o+l*r-s*i)*2,n[2]=(l*a+f*i+s*o-u*r)*2),e8(t,e,n),t}function $k(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function t8(t,e){var n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],s=e[6],u=e[8],l=e[9],f=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(i,a,s),t[2]=Math.hypot(u,l,f),t}function n8(t,e){var n=new vn(3);t8(n,e);var r=1/n[0],o=1/n[1],i=1/n[2],a=e[0]*r,s=e[1]*o,u=e[2]*i,l=e[4]*r,f=e[5]*o,c=e[6]*i,d=e[8]*r,p=e[9]*o,h=e[10]*i,m=a+f+h,y=0;return m>0?(y=Math.sqrt(m+1)*2,t[3]=.25*y,t[0]=(c-p)/y,t[1]=(d-u)/y,t[2]=(s-l)/y):a>f&&a>h?(y=Math.sqrt(1+a-f-h)*2,t[3]=(c-p)/y,t[0]=.25*y,t[1]=(s+l)/y,t[2]=(d+u)/y):f>h?(y=Math.sqrt(1+f-a-h)*2,t[3]=(d-u)/y,t[0]=(s+l)/y,t[1]=.25*y,t[2]=(c+p)/y):(y=Math.sqrt(1+h-a-f)*2,t[3]=(s-l)/y,t[0]=(d+u)/y,t[1]=(c+p)/y,t[2]=.25*y),t}function r8(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],u=o+o,l=i+i,f=a+a,c=o*u,d=o*l,p=o*f,h=i*l,m=i*f,y=a*f,b=s*u,v=s*l,g=s*f,x=r[0],S=r[1],C=r[2];return t[0]=(1-(h+y))*x,t[1]=(d+g)*x,t[2]=(p-v)*x,t[3]=0,t[4]=(d-g)*S,t[5]=(1-(c+y))*S,t[6]=(m+b)*S,t[7]=0,t[8]=(p+v)*C,t[9]=(m-b)*C,t[10]=(1-(c+h))*C,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Kk(t,e,n,r,o){var i=e[0],a=e[1],s=e[2],u=e[3],l=i+i,f=a+a,c=s+s,d=i*l,p=i*f,h=i*c,m=a*f,y=a*c,b=s*c,v=u*l,g=u*f,x=u*c,S=r[0],C=r[1],w=r[2],T=o[0],_=o[1],A=o[2],E=(1-(m+b))*S,D=(p+x)*S,O=(h-g)*S,P=(p-x)*C,k=(1-(d+b))*C,U=(y+v)*C,H=(h+g)*w,R=(y-v)*w,B=(1-(d+m))*w;return t[0]=E,t[1]=D,t[2]=O,t[3]=0,t[4]=P,t[5]=k,t[6]=U,t[7]=0,t[8]=H,t[9]=R,t[10]=B,t[11]=0,t[12]=n[0]+T-(E*T+P*_+H*A),t[13]=n[1]+_-(D*T+k*_+R*A),t[14]=n[2]+A-(O*T+U*_+B*A),t[15]=1,t}function Y1(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,u=o+o,l=n*a,f=r*a,c=r*s,d=o*a,p=o*s,h=o*u,m=i*a,y=i*s,b=i*u;return t[0]=1-c-h,t[1]=f+b,t[2]=d-y,t[3]=0,t[4]=f-b,t[5]=1-l-h,t[6]=p+m,t[7]=0,t[8]=d+y,t[9]=p-m,t[10]=1-l-c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function qk(t,e,n,r,o,i,a){var s=1/(n-e),u=1/(o-r),l=1/(i-a);return t[0]=i*2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i*2*u,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(o+r)*u,t[10]=(a+i)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*l,t[15]=0,t}function o8(t,e,n,r,o){var i=1/Math.tan(e/2),a;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,o!=null&&o!==1/0?(a=1/(r-o),t[10]=(o+r)*a,t[14]=2*o*r*a):(t[10]=-1,t[14]=-2*r),t}var Xk=o8;function Yk(t,e,n,r,o){var i=1/Math.tan(e/2),a;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,o!=null&&o!==1/0?(a=1/(r-o),t[10]=o*a,t[14]=o*r*a):(t[10]=-1,t[14]=-r),t}function Jk(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),l=2/(o+i);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-((a-s)*u*.5),t[9]=(o-i)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function i8(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),l=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=(a+i)*l,t[15]=1,t}var a8=i8;function Zk(t,e,n,r,o,i,a){var s=1/(e-n),u=1/(r-o),l=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*u,t[14]=i*l,t[15]=1,t}function s8(t,e,n,r){var o,i,a,s,u,l,f,c,d,p,h=e[0],m=e[1],y=e[2],b=r[0],v=r[1],g=r[2],x=n[0],S=n[1],C=n[2];return Math.abs(h-x)<st&&Math.abs(m-S)<st&&Math.abs(y-C)<st?Le(t):(f=h-x,c=m-S,d=y-C,p=1/Math.hypot(f,c,d),f*=p,c*=p,d*=p,o=v*d-g*c,i=g*f-b*d,a=b*c-v*f,p=Math.hypot(o,i,a),p?(p=1/p,o*=p,i*=p,a*=p):(o=0,i=0,a=0),s=c*a-d*i,u=d*o-f*a,l=f*i-c*o,p=Math.hypot(s,u,l),p?(p=1/p,s*=p,u*=p,l*=p):(s=0,u=0,l=0),t[0]=o,t[1]=s,t[2]=f,t[3]=0,t[4]=i,t[5]=u,t[6]=c,t[7]=0,t[8]=a,t[9]=l,t[10]=d,t[11]=0,t[12]=-(o*h+i*m+a*y),t[13]=-(s*h+u*m+l*y),t[14]=-(f*h+c*m+d*y),t[15]=1,t)}function Qk(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=r[0],u=r[1],l=r[2],f=o-n[0],c=i-n[1],d=a-n[2],p=f*f+c*c+d*d;p>0&&(p=1/Math.sqrt(p),f*=p,c*=p,d*=p);var h=u*d-l*c,m=l*f-s*d,y=s*c-u*f;return p=h*h+m*m+y*y,p>0&&(p=1/Math.sqrt(p),h*=p,m*=p,y*=p),t[0]=h,t[1]=m,t[2]=y,t[3]=0,t[4]=c*y-d*m,t[5]=d*h-f*y,t[6]=f*m-c*h,t[7]=0,t[8]=f,t[9]=c,t[10]=d,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t}function eL(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function tL(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function nL(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function l8(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function rL(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function oL(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function iL(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function aL(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],f=t[8],c=t[9],d=t[10],p=t[11],h=t[12],m=t[13],y=t[14],b=t[15],v=e[0],g=e[1],x=e[2],S=e[3],C=e[4],w=e[5],T=e[6],_=e[7],A=e[8],E=e[9],D=e[10],O=e[11],P=e[12],k=e[13],U=e[14],H=e[15];return Math.abs(n-v)<=st*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-g)<=st*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(o-x)<=st*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(i-S)<=st*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(a-C)<=st*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(s-w)<=st*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(u-T)<=st*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(l-_)<=st*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(f-A)<=st*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(c-E)<=st*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(d-D)<=st*Math.max(1,Math.abs(d),Math.abs(D))&&Math.abs(p-O)<=st*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(h-P)<=st*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(m-k)<=st*Math.max(1,Math.abs(m),Math.abs(k))&&Math.abs(y-U)<=st*Math.max(1,Math.abs(y),Math.abs(U))&&Math.abs(b-H)<=st*Math.max(1,Math.abs(b),Math.abs(H))}var u8=lt,sL=l8;const au=Object.freeze(Object.defineProperty({__proto__:null,add:nL,adjoint:Uk,clone:Fk,copy:gn,create:q1,determinant:Gk,equals:aL,exactEquals:iL,frob:tL,fromQuat:Y1,fromQuat2:Hk,fromRotation:Q9,fromRotationTranslation:e8,fromRotationTranslationScale:r8,fromRotationTranslationScaleOrigin:Kk,fromScaling:X1,fromTranslation:Z9,fromValues:Bk,fromXRotation:zk,fromYRotation:jk,fromZRotation:Wk,frustum:qk,getRotation:n8,getScaling:t8,getTranslation:$k,identity:Le,invert:Jn,lookAt:s8,mul:u8,multiply:lt,multiplyScalar:rL,multiplyScalarAndAdd:oL,ortho:a8,orthoNO:i8,orthoZO:Zk,perspective:Xk,perspectiveFromFieldOfView:Jk,perspectiveNO:o8,perspectiveZO:Yk,rotate:Cn,rotateX:dd,rotateY:iu,rotateZ:pd,scale:xi,set:Vk,str:eL,sub:sL,subtract:l8,targetTo:Qk,translate:Ot,transpose:pt},Symbol.toStringTag,{value:"Module"}));function c8(){var t=new vn(3);return vn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function hs(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Ny(t,e,n){var r=new vn(3);return r[0]=t,r[1]=e,r[2]=n,r}function lL(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function xt(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function xc(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function ui(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function uL(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Zo(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function cL(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function f8(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Gr(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function su(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ms(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],u=n[2];return t[0]=o*u-i*s,t[1]=i*a-r*u,t[2]=r*s-o*a,t}function Be(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}function p0(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function fL(t){return t[0]=0,t[1]=0,t[2]=0,t}function Ul(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Ry(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],s=e[2];return Math.abs(n-i)<=st*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=st*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-s)<=st*Math.max(1,Math.abs(o),Math.abs(s))}var My=ui,dL=hs;(function(){var t=c8();return function(e,n,r,o,i,a){var s,u;for(n||(n=3),r||(r=0),o?u=Math.min(o*n+r,e.length):u=e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}})();function pL(){var t=new vn(4);return vn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function hL(t,e,n,r){var o=new vn(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function mL(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=i*a,t}function Sc(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}(function(){var t=pL();return function(e,n,r,o,i,a){var s,u;for(n||(n=4),r||(r=0),o?u=Math.min(o*n+r,e.length):u=e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}})();function wa(){var t=new vn(4);return vn!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function J1(t,e,n){n=n*.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function gL(t,e){var n=Math.acos(e[3])*2,r=Math.sin(n/2);return r>st?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function ky(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],u=n[1],l=n[2],f=n[3];return t[0]=r*f+a*s+o*l-i*u,t[1]=o*f+a*u+i*s-r*l,t[2]=i*f+a*l+r*u-o*s,t[3]=a*f-r*s-o*u-i*l,t}function h0(t,e,n,r){var o=e[0],i=e[1],a=e[2],s=e[3],u=n[0],l=n[1],f=n[2],c=n[3],d,p,h,m,y;return p=o*u+i*l+a*f+s*c,p<0&&(p=-p,u=-u,l=-l,f=-f,c=-c),1-p>st?(d=Math.acos(p),h=Math.sin(d),m=Math.sin((1-r)*d)/h,y=Math.sin(r*d)/h):(m=1-r,y=r),t[0]=m*o+y*u,t[1]=m*i+y*l,t[2]=m*a+y*f,t[3]=m*s+y*c,t}function vL(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function yL(t,e){var n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[o*3+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;r=Math.sqrt(e[o*3+o]-e[i*3+i]-e[a*3+a]+1),t[o]=.5*r,r=.5/r,t[3]=(e[i*3+a]-e[a*3+i])*r,t[i]=(e[i*3+o]+e[o*3+i])*r,t[a]=(e[a*3+o]+e[o*3+a])*r}return t}var Ly=hL,d8=mL;(function(){var t=c8(),e=Ny(1,0,0),n=Ny(0,1,0);return function(r,o,i){var a=su(o,i);return a<-.999999?(ms(t,e,o),dL(t)<1e-6&&ms(t,n,o),Gr(t,t),J1(r,t,Math.PI),r):a>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(ms(t,o,i),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+a,d8(r,r))}})();(function(){var t=wa(),e=wa();return function(n,r,o,i,a,s){return h0(t,r,a,s),h0(e,o,i,s),h0(n,t,e,2*s*(1-s)),n}})();(function(){var t=X9();return function(e,n,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-n[0],t[5]=-n[1],t[8]=-n[2],d8(e,yL(e,t))}})();var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(e,o);return new i}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var xL=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;o--!==0;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},Fy=Object.prototype.toString,p8=function(t){var e=Fy.call(t),n=e==="[object Arguments]";return n||(n=e!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&Fy.call(t.callee)==="[object Function]"),n},hp,By;function SL(){if(By)return hp;By=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=p8,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(d){var p=d.constructor;return p&&p.prototype===d},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!l["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{u(window[d])}catch(p){return!0}}catch(p){return!0}return!1}(),c=function(d){if(typeof window>"u"||!f)return u(d);try{return u(d)}catch(p){return!1}};t=function(d){var p=d!==null&&typeof d=="object",h=n.call(d)==="[object Function]",m=r(d),y=p&&n.call(d)==="[object String]",b=[];if(!p&&!h&&!m)throw new TypeError("Object.keys called on a non-object");var v=a&&h;if(y&&d.length>0&&!e.call(d,0))for(var g=0;g<d.length;++g)b.push(String(g));if(m&&d.length>0)for(var x=0;x<d.length;++x)b.push(String(x));else for(var S in d)!(v&&S==="prototype")&&e.call(d,S)&&b.push(String(S));if(i)for(var C=c(d),w=0;w<s.length;++w)!(C&&s[w]==="constructor")&&e.call(d,s[w])&&b.push(s[w]);return b}}return hp=t,hp}var CL=Array.prototype.slice,wL=p8,Vy=Object.keys,m0=Vy?function(t){return Vy(t)}:SL(),Uy=Object.keys;m0.shim=function(){if(Object.keys){var t=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);t||(Object.keys=function(e){return wL(e)?Uy(CL.call(e)):Uy(e)})}else Object.keys=m0;return Object.keys||m0};var TL=m0,_L=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;t[e]=r;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var o=Object.getOwnPropertySymbols(t);if(o.length!==1||o[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(t,e);if(i.value!==r||i.enumerable!==!0)return!1}return!0},Gy=typeof Symbol<"u"&&Symbol,AL=_L,EL=function(){return typeof Gy!="function"||typeof Symbol!="function"||typeof Gy("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:AL()},DL="Function.prototype.bind called on incompatible ",mp=Array.prototype.slice,IL=Object.prototype.toString,PL="[object Function]",OL=function(t){var e=this;if(typeof e!="function"||IL.call(e)!==PL)throw new TypeError(DL+e);for(var n=mp.call(arguments,1),r,o=function(){if(this instanceof r){var l=e.apply(this,n.concat(mp.call(arguments)));return Object(l)===l?l:this}else return e.apply(t,n.concat(mp.call(arguments)))},i=Math.max(0,e.length-n.length),a=[],s=0;s<i;s++)a.push("$"+s);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var u=function(){};u.prototype=e.prototype,r.prototype=new u,u.prototype=null}return r},NL=OL,h8=Function.prototype.bind||NL,RL=h8,ML=RL.call(Function.call,Object.prototype.hasOwnProperty),at,Rs=SyntaxError,m8=Function,gs=TypeError,gp=function(t){try{return m8('"use strict"; return ('+t+").constructor;")()}catch(e){}},ma=Object.getOwnPropertyDescriptor;if(ma)try{ma({},"")}catch(t){ma=null}var vp=function(){throw new gs},kL=ma?function(){try{return arguments.callee,vp}catch(t){try{return ma(arguments,"callee").get}catch(e){return vp}}}():vp,za=EL(),eo=Object.getPrototypeOf||function(t){return t.__proto__},Xa={},LL=typeof Uint8Array>"u"?at:eo(Uint8Array),ga={"%AggregateError%":typeof AggregateError>"u"?at:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?at:ArrayBuffer,"%ArrayIteratorPrototype%":za?eo([][Symbol.iterator]()):at,"%AsyncFromSyncIteratorPrototype%":at,"%AsyncFunction%":Xa,"%AsyncGenerator%":Xa,"%AsyncGeneratorFunction%":Xa,"%AsyncIteratorPrototype%":Xa,"%Atomics%":typeof Atomics>"u"?at:Atomics,"%BigInt%":typeof BigInt>"u"?at:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?at:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?at:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?at:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?at:Float32Array,"%Float64Array%":typeof Float64Array>"u"?at:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?at:FinalizationRegistry,"%Function%":m8,"%GeneratorFunction%":Xa,"%Int8Array%":typeof Int8Array>"u"?at:Int8Array,"%Int16Array%":typeof Int16Array>"u"?at:Int16Array,"%Int32Array%":typeof Int32Array>"u"?at:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":za?eo(eo([][Symbol.iterator]())):at,"%JSON%":typeof JSON=="object"?JSON:at,"%Map%":typeof Map>"u"?at:Map,"%MapIteratorPrototype%":typeof Map>"u"||!za?at:eo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?at:Promise,"%Proxy%":typeof Proxy>"u"?at:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?at:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?at:Set,"%SetIteratorPrototype%":typeof Set>"u"||!za?at:eo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?at:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":za?eo(""[Symbol.iterator]()):at,"%Symbol%":za?Symbol:at,"%SyntaxError%":Rs,"%ThrowTypeError%":kL,"%TypedArray%":LL,"%TypeError%":gs,"%Uint8Array%":typeof Uint8Array>"u"?at:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?at:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?at:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?at:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?at:WeakMap,"%WeakRef%":typeof WeakRef>"u"?at:WeakRef,"%WeakSet%":typeof WeakSet>"u"?at:WeakSet};try{null.error}catch(t){var FL=eo(eo(t));ga["%Error.prototype%"]=FL}var BL=function t(e){var n;if(e==="%AsyncFunction%")n=gp("async function () {}");else if(e==="%GeneratorFunction%")n=gp("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=gp("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&(n=eo(o.prototype))}return ga[e]=n,n},zy={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Fu=h8,df=ML,VL=Fu.call(Function.call,Array.prototype.concat),UL=Fu.call(Function.apply,Array.prototype.splice),jy=Fu.call(Function.call,String.prototype.replace),pf=Fu.call(Function.call,String.prototype.slice),GL=Fu.call(Function.call,RegExp.prototype.exec),zL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,jL=/\\(\\)?/g,WL=function(t){var e=pf(t,0,1),n=pf(t,-1);if(e==="%"&&n!=="%")throw new Rs("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new Rs("invalid intrinsic syntax, expected opening `%`");var r=[];return jy(t,zL,function(o,i,a,s){r[r.length]=a?jy(s,jL,"$1"):i||o}),r},HL=function(t,e){var n=t,r;if(df(zy,n)&&(r=zy[n],n="%"+r[0]+"%"),df(ga,n)){var o=ga[n];if(o===Xa&&(o=BL(n)),typeof o>"u"&&!e)throw new gs("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new Rs("intrinsic "+t+" does not exist!")},$L=function(t,e){if(typeof t!="string"||t.length===0)throw new gs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new gs('"allowMissing" argument must be a boolean');if(GL(/^%?[^%]*%?$/,t)===null)throw new Rs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=WL(t),r=n.length>0?n[0]:"",o=HL("%"+r+"%",e),i=o.name,a=o.value,s=!1,u=o.alias;u&&(r=u[0],UL(n,VL([0,1],u)));for(var l=1,f=!0;l<n.length;l+=1){var c=n[l],d=pf(c,0,1),p=pf(c,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Rs("property names with quotes must have matching quotes");if((c==="constructor"||!f)&&(s=!0),r+="."+c,i="%"+r+"%",df(ga,i))a=ga[i];else if(a!=null){if(!(c in a)){if(!e)throw new gs("base intrinsic for "+t+" exists, but the property is not available.");return}if(ma&&l+1>=n.length){var h=ma(a,c);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?a=h.get:a=a[c]}else f=df(a,c),a=a[c];f&&!s&&(ga[i]=a)}}return a},KL=$L,Kh=KL("%Object.defineProperty%",!0),qh=function(){if(Kh)try{return Kh({},"a",{value:1}),!0}catch(t){return!1}return!1};qh.hasArrayLengthDefineBug=function(){if(!qh())return null;try{return Kh([],"length",{value:1}).length!==1}catch(t){return!0}};var qL=qh,XL=TL,YL=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",JL=Object.prototype.toString,ZL=Array.prototype.concat,g8=Object.defineProperty,QL=function(t){return typeof t=="function"&&JL.call(t)==="[object Function]"},eF=qL(),v8=g8&&eF,tF=function(t,e,n,r){if(e in t){if(r===!0){if(t[e]===n)return}else if(!QL(r)||!r())return}v8?g8(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n},y8=function(t,e){var n=arguments.length>2?arguments[2]:{},r=XL(e);YL&&(r=ZL.call(r,Object.getOwnPropertySymbols(e)));for(var o=0;o<r.length;o+=1)tF(t,r[o],e[r[o]],n[r[o]])};y8.supportsDescriptors=!!v8;var b8=y8,hf={},yp={get exports(){return hf},set exports(t){hf=t}};typeof self<"u"?yp.exports=self:typeof window<"u"?yp.exports=window:yp.exports=Function("return this")();var nF=hf,x8=function(){return typeof ir!="object"||!ir||ir.Math!==Math||ir.Array!==Array?nF:ir},rF=b8,oF=x8,iF=function(){var t=oF();if(rF.supportsDescriptors){var e=Object.getOwnPropertyDescriptor(t,"globalThis");(!e||e.configurable&&(e.enumerable||!e.writable||globalThis!==t))&&Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else(typeof globalThis!="object"||globalThis!==t)&&(t.globalThis=t);return t},aF=b8,sF=hf,S8=x8,lF=iF,uF=S8(),C8=function(){return uF};aF(C8,{getPolyfill:S8,implementation:sF,shim:lF});var cF=C8;const Nr=cF(),w8={vtkObject:()=>null};function Tn(t){if(t==null||t.isA)return t;if(!t.vtkClass)return Nr.console&&Nr.console.error&&Nr.console.error("Invalid VTK object"),null;const e=w8[t.vtkClass];if(!e)return Nr.console&&Nr.console.error&&Nr.console.error(`No vtk class found for Object of type ${t.vtkClass}`),null;const n=q({},t);Object.keys(n).forEach(o=>{n[o]&&typeof n[o]=="object"&&n[o].vtkClass&&(n[o]=Tn(n[o]))});const r=e(n);return r&&r.modified&&r.modified(),r}function fF(t,e){w8[t]=e}Tn.register=fF;class bp extends Array{push(){for(let e=0;e<arguments.length;e++)this.includes(arguments[e])||super.push(arguments[e]);return this.length}}let Xh=0;const T8=Symbol("void");function dF(){return Xh}const _8={};function qi(){}const pF=["log","debug","info","warn","error","time","timeEnd","group","groupEnd"];pF.forEach(t=>{_8[t]=qi});Nr.console=console.hasOwnProperty("log")?console:_8;const Si={debug:qi,error:Nr.console.error||qi,info:Nr.console.info||qi,log:Nr.console.log||qi,warn:Nr.console.warn||qi};function A8(t,e){Si[t]&&(Si[t]=e||qi)}function E8(){Si.log(...arguments)}function D8(){Si.info(...arguments)}function mf(){Si.debug(...arguments)}function ct(){Si.error(...arguments)}function Z1(){Si.warn(...arguments)}const Wy={};function I8(t){Wy[t]||(Si.error(t),Wy[t]=!0)}const _n=Object.create(null);_n.Float32Array=Float32Array;_n.Float64Array=Float64Array;_n.Uint8Array=Uint8Array;_n.Int8Array=Int8Array;_n.Uint16Array=Uint16Array;_n.Int16Array=Int16Array;_n.Uint32Array=Uint32Array;_n.Int32Array=Int32Array;_n.Uint8ClampedArray=Uint8ClampedArray;try{_n.BigInt64Array=BigInt64Array,_n.BigUint64Array=BigUint64Array}catch(t){}function Ta(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new(_n[t]||Float64Array)(...n)}function hd(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(_n[t]||Float64Array).from(...n)}function Xs(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Wt(t){return Xs(t[0]==="_"?t.slice(1):t)}function P8(t){return t.charAt(0).toLowerCase()+t.slice(1)}function O8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;const r=["TB","GB","MB","KB"];let o=Number(t),i="B";for(;o>n;)o/=n,i=r.pop();return`${o.toFixed(e)} ${i}`}function N8(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";const n=[];let r=t;for(;r>1e3;)n.push(`000${r%1e3}`.slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(e)}function R8(t){Object.keys(t).forEach(e=>{Array.isArray(t[e])&&(t[e]=[].concat(t[e]))})}function hF(t){return Object.values(_n).some(e=>t instanceof e)}function mF(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}function gF(t,e){return Object.keys(t).find(n=>t[n]===e)}function M8(t){return t&&t.isA?t.getState():t}function Q1(t){setTimeout(t,0)}function k8(t,e){const n=performance.now();t.finally(()=>{const r=performance.now()-n;e(r)})}function Yt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R8(e);const n=[];if(Number.isInteger(e.mtime)||(e.mtime=++Xh),!("classHierarchy"in e))e.classHierarchy=new bp("vtkObject");else if(!(e.classHierarchy instanceof bp)){const i=new bp;for(let a=0;a<e.classHierarchy.length;a++)i.push(e.classHierarchy[a]);e.classHierarchy=i}function r(i){n[i]=null}function o(i){function a(){r(i)}return Object.freeze({unsubscribe:a})}return t.isDeleted=()=>!!e.deleted,t.modified=i=>{if(e.deleted){ct("instance deleted - cannot call any method");return}i&&i<t.getMTime()||(e.mtime=++Xh,n.forEach(a=>a&&a(t)))},t.onModified=i=>{if(e.deleted)return ct("instance deleted - cannot call any method"),null;const a=n.length;return n.push(i),o(a)},t.getMTime=()=>e.mtime,t.isA=i=>{let a=e.classHierarchy.length;for(;a--;)if(e.classHierarchy[a]===i)return!0;return!1},t.getClassName=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-i]},t.set=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=!1;return Object.keys(i).forEach(l=>{const f=s?null:t[`set${Xs(l)}`];f&&Array.isArray(i[l])&&f.length>1?u=f(...i[l])||u:f?u=f(i[l])||u:(["mtime"].indexOf(l)===-1&&!a&&Z1(`Warning: Set value to model directly ${l}, ${i[l]}`),u=e[l]!==i[l]||u,e[l]=i[l])}),u},t.get=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(!a.length)return e;const u={};return a.forEach(l=>{u[l]=e[l]}),u},t.getReferenceByName=i=>e[i],t.delete=()=>{Object.keys(e).forEach(i=>delete e[i]),n.forEach((i,a)=>r(a)),e.deleted=!0},t.getState=()=>{if(e.deleted)return null;const i=Oe(q({},e),{vtkClass:t.getClassName()});Object.keys(i).forEach(s=>{i[s]===null||i[s]===void 0||s[0]==="_"?delete i[s]:i[s].isA?i[s]=i[s].getState():Array.isArray(i[s])?i[s]=i[s].map(M8):hF(i[s])&&(i[s]=Array.from(i[s]))});const a={};return Object.keys(i).sort().forEach(s=>{a[s]=i[s]}),a.mtime&&delete a.mtime,a},t.shallowCopy=function(i){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i.getClassName()!==t.getClassName())throw new Error(`Cannot ShallowCopy ${i.getClassName()} into ${t.getClassName()}`);const s=i.get(),u=Object.keys(e).sort();Object.keys(s).sort().forEach(l=>{const f=u.indexOf(l);f===-1?a&&mf(`add ${l} in shallowCopy`):u.splice(f,1),e[l]=s[l]}),u.length&&a&&mf(`Untouched keys: ${u.join(", ")}`),t.modified()},t.toJSON=function(){return t.getState()},t}const vF={object(t,e,n){return function(){return q({},e[n.name])}}};function mr(t,e,n){n.forEach(r=>{if(typeof r=="object"){const o=vF[r.type];o?t[`get${Wt(r.name)}`]=o(t,e,r):t[`get${Wt(r.name)}`]=()=>e[r.name]}else t[`get${Wt(r)}`]=()=>e[r]})}const yF={enum(t,e,n){const r=`_on${Wt(n.name)}Changed`;return o=>{var i;if(typeof o=="string"){if(n.enum[o]!==void 0)return e[n.name]!==n.enum[o]?(e[n.name]=n.enum[o],t.modified(),!0):!1;throw ct(`Set Enum with invalid argument ${n}, ${o}`),new RangeError("Set Enum with invalid string argument")}if(typeof o=="number"){if(e[n.name]!==o){if(Object.keys(n.enum).map(a=>n.enum[a]).indexOf(o)!==-1){const a=e[n.name];return e[n.name]=o,(i=e[r])==null||i.call(e,t,e,o,a),t.modified(),!0}throw ct(`Set Enum outside numeric range ${n}, ${o}`),new RangeError("Set Enum outside numeric range")}return!1}throw ct(`Set Enum with invalid argument (String/Number) ${n}, ${o}`),new TypeError("Set Enum with invalid argument (String/Number)")}},object(t,e,n){const r=`_on${Wt(n.name)}Changed`;return o=>{var i;if(!xL(e[n.name],o)){const a=e[n.name];return e[n.name]=o,(i=e[r])==null||i.call(e,t,e,o,a),t.modified(),!0}return!1}}};function Hy(t){if(typeof t=="object"){const e=yF[t.type];if(e)return(n,r)=>e(n,r,t);throw ct(`No setter for field ${t}`),new TypeError("No setter for field")}return function(e,n){const r=`_on${Wt(t)}Changed`;return function(o){var i;if(n.deleted)return ct("instance deleted - cannot call any method"),!1;if(n[t]!==o){const a=n[t.name];return n[t]=o,(i=n[r])==null||i.call(n,e,n,o,a),e.modified(),!0}return!1}}}function Bu(t,e,n){n.forEach(r=>{typeof r=="object"?t[`set${Wt(r.name)}`]=Hy(r)(t,e):t[`set${Wt(r)}`]=Hy(r)(t,e)})}function en(t,e,n){mr(t,e,n),Bu(t,e,n)}function Vu(t,e,n){n.forEach(r=>{t[`get${Wt(r)}`]=()=>e[r]?Array.from(e[r]):e[r],t[`get${Wt(r)}ByReference`]=()=>e[r]})}function eg(t,e,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;n.forEach(i=>{if(e[i]&&r&&e[i].length!==r)throw new RangeError(`Invalid initial number of values for array (${i})`);const a=`_on${Wt(i)}Changed`;t[`set${Wt(i)}`]=function(){var s;if(e.deleted)return ct("instance deleted - cannot call any method"),!1;for(var u=arguments.length,l=new Array(u),f=0;f<u;f++)l[f]=arguments[f];let c=l,d,p=!1;if(c.length===1&&(c[0]==null||c[0].length>=0)&&(c=c[0],p=!0),c==null)d=e[i]!==c;else{if(r&&c.length!==r)if(c.length<r&&o!==void 0)for(c=Array.from(c),p=!1;c.length<r;)c.push(o);else throw new RangeError(`Invalid number of values for array setter (${i})`);d=e[i]==null||e[i].length!==c.length;for(let h=0;!d&&h<c.length;++h)d=e[i][h]!==c[h];d&&p&&(c=Array.from(c))}if(d){const h=e[i.name];e[i]=c,(s=e[a])==null||s.call(e,t,e,c,h),t.modified()}return d},t[`set${Wt(i)}From`]=s=>{const u=e[i];s.forEach((l,f)=>{u[f]=l})}})}function md(t,e,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;Vu(t,e,n),eg(t,e,n,r,o)}function Uu(t,e,n){for(let r=0;r<n.length;r++){const o=n[r];e[o]!==void 0&&(e[`_${o}`]=e[o],delete e[o])}}function tg(t,e,n,r){e.inputData?e.inputData=e.inputData.map(Tn):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(Tn):e.inputConnection=[],e.output?e.output=e.output.map(Tn):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(Tn):e.inputArrayToProcess=[],e.numberOfInputs=n;function o(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){ct("instance deleted - cannot call any method");return}if(h>=e.numberOfInputs){ct(`algorithm ${t.getClassName()} only has ${e.numberOfInputs} input ports. To add more input ports, use addInputData()`);return}(e.inputData[h]!==p||e.inputConnection[h])&&(e.inputData[h]=p,e.inputConnection[h]=null,t.modified&&t.modified())}function i(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[p]&&(e.inputData[p]=e.inputConnection[p]()),e.inputData[p]}function a(p){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e.deleted){ct("instance deleted - cannot call any method");return}if(h>=e.numberOfInputs){let m=`algorithm ${t.getClassName()} only has `;m+=`${e.numberOfInputs}`,m+=" input ports. To add more input ports, use addInputConnection()",ct(m);return}e.inputData[h]=null,e.inputConnection[h]=p}function s(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.inputConnection[p]}function u(){let p=e.numberOfInputs;for(;p&&!e.inputData[p-1]&&!e.inputConnection[p-1];)p--;return p===e.numberOfInputs&&e.numberOfInputs++,p}function l(p){if(e.deleted){ct("instance deleted - cannot call any method");return}a(p,u())}function f(p){if(e.deleted){ct("instance deleted - cannot call any method");return}o(p,u())}function c(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.deleted?(ct("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[p])}t.shouldUpdate=()=>{var p,h;const m=t.getMTime();let y=1/0,b=r;for(;b--;){if(!e.output[b]||e.output[b].isDeleted())return!0;const v=e.output[b].getMTime();if(v<m)return!0;v<y&&(y=v)}for(b=e.numberOfInputs;b--;)if((p=e.inputConnection[b])!=null&&p.filter.shouldUpdate()||((h=t.getInputData(b))==null?void 0:h.getMTime())>y)return!0;return!1};function d(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const h=()=>c(p);return h.filter=t,h}if(e.numberOfInputs){let p=e.numberOfInputs;for(;p--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=o,t.setInputConnection=a,t.addInputData=f,t.addInputConnection=l,t.getInputData=i,t.getInputConnection=s}r&&(t.getOutputData=c,t.getOutputPort=d),t.update=()=>{const p=[];if(e.numberOfInputs){let h=0;for(;h<e.numberOfInputs;)p[h]=t.getInputData(h),h++}t.shouldUpdate()&&t.requestData&&t.requestData(p,e.output)},t.getNumberOfInputPorts=()=>e.numberOfInputs,t.getNumberOfOutputPorts=()=>r||e.output.length,t.getInputArrayToProcess=p=>{const h=e.inputArrayToProcess[p],m=e.inputData[p];return h&&m?m[`get${h.fieldAssociation}`]().getArray(h.arrayName):null},t.setInputArrayToProcess=function(p,h,m){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Scalars";for(;e.inputArrayToProcess.length<p;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[p]={arrayName:h,fieldAssociation:m,attributeType:y}}}const ng=Symbol("Event abort");function Ms(t,e,n){const r=[],o=t.delete;let i=1;function a(l){for(let f=0;f<r.length;++f){const[c]=r[f];if(c===l){r.splice(f,1);return}}}function s(l){function f(){a(l)}return Object.freeze({unsubscribe:f})}function u(){if(e.deleted){ct("instance deleted - cannot call any method");return}const l=r.slice();for(let f=0;f<l.length;++f){const[,c,d]=l[f];if(c){if(d<0)setTimeout(()=>c.apply(t,arguments),1-d);else if(c.apply(t,arguments)===ng)break}}}t[`invoke${Wt(n)}`]=u,t[`on${Wt(n)}`]=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!l.apply)return console.error(`Invalid callback for event ${n}`),null;if(e.deleted)return ct("instance deleted - cannot call any method"),null;const c=i++;return r.push([c,l,f]),r.sort((d,p)=>p[2]-d[2]),s(c)},t.delete=()=>{o(),r.forEach(l=>{let[f]=l;return a(f)})}}function Ct(t,e){const n=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={},i={};return t(i,o,r),Object.freeze(i)};return e&&Tn.register(e,n),n}function Ys(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.filter(a=>!!a).map(a=>a(...o))}}function rg(t){return t&&t.isA&&t.isA("vtkObject")}function lu(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(rg(t)){if(r.indexOf(t)>=0)return n;r.push(t);const o=e(t);o!==void 0&&n.push(o);const i=t.get();Object.keys(i).forEach(a=>{const s=i[a];Array.isArray(s)?s.forEach(u=>{lu(u,e,n,r)}):lu(s,e,n,r)})}return n}function Io(t,e,n){var r=this;let o;const i=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];const l=r,f=()=>{o=null,n||t.apply(l,s)},c=n&&!o;clearTimeout(o),o=setTimeout(f,e),c&&t.apply(l,s)};return i.cancel=()=>clearTimeout(o),i}function L8(t,e){let n=!1,r=null;function o(){n=!1,r!==null&&(i(...r),r=null)}function i(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];if(n){r=s;return}n=!0,t(...s),setTimeout(o,e)}return i}function og(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},n),t.setKey=(r,o)=>{e.keystore[r]=o},t.getKey=r=>e.keystore[r],t.getAllKeys=()=>Object.keys(e.keystore),t.deleteKey=r=>delete e.keystore[r],t.clearKeystore=()=>t.getAllKeys().forEach(r=>delete e.keystore[r])}let bF=1;const Cc="__root__";function F8(t,e){og(t,e);const n=t.delete;e.proxyId=`${bF++}`,e.ui=JSON.parse(JSON.stringify(e.ui||[])),mr(t,e,["proxyId","proxyGroup","proxyName"]),en(t,e,["proxyManager"]);const r={},o={};function i(l,f){o[f]||(o[f]=[]);const c=o[f];for(let d=0;d<l.length;d++)c.push(l[d].name),r[l[d].name]=l[d],l[d].children&&l[d].children.length&&i(l[d].children,l[d].name)}i(e.ui,Cc),t.updateUI=l=>{e.ui=JSON.parse(JSON.stringify(l||[])),Object.keys(r).forEach(f=>delete r[f]),Object.keys(o).forEach(f=>delete o[f]),i(e.ui,Cc),t.modified()};function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cc;return o[l]}t.updateProxyProperty=(l,f)=>{const c=r[l];c?Object.assign(c,f):r[l]=q({},f)},t.activate=()=>{if(e.proxyManager){const l=`setActive${Wt(t.getProxyGroup().slice(0,-1))}`;e.proxyManager[l]&&e.proxyManager[l](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=(l,f)=>{f in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[f]=[]),e.propertyLinkSubscribers[f].push(l)},t.gcPropertyLinks=l=>{const f=e.propertyLinkSubscribers[l]||[];for(;f.length;)f.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.propertyLinkMap[l])return e.propertyLinkMap[l];let c=null;const d=[];let p=0,h=!1;function m(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(h)return null;const C=[];let w=null;for(p=d.length;p--;){const _=d[p];_.instance===x?w=_:C.push(_)}if(!w)return null;const T=w.instance[`get${Wt(w.propertyName)}`]();if(!mF(T,c)||S){for(c=T,h=!0;C.length;){const _=C.pop();_.instance.set({[_.propertyName]:c})}h=!1}return e.propertyLinkMap[l].persistent&&(e.propertyLinkMap[l].value=T),T}function y(x,S){const C=[];for(p=d.length;p--;){const w=d[p];w.instance===x&&(w.propertyName===S||S===void 0)&&(w.subscription.unsubscribe(),C.push(p))}for(;C.length;)d.splice(C.pop(),1)}function b(x,S){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=x.onModified(m),T=d[0];return d.push({instance:x,propertyName:S,subscription:w}),C&&(e.propertyLinkMap[l].persistent&&e.propertyLinkMap[l].value!==void 0?x.set({[S]:e.propertyLinkMap[l].value}):T&&m(T.instance,!0)),{unsubscribe:()=>y(x,S)}}function v(){for(;d.length;)d.pop().subscription.unsubscribe()}const g={bind:b,unbind:y,unsubscribe:v,persistent:f};return e.propertyLinkMap[l]=g,g};function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cc;const f=[],c=e.proxyId,d=a(l)||[];for(let p=0;p<d.length;p++){const h=d[p],m=t[`get${Wt(h)}`],y=m?m():void 0,b={id:c,name:h,value:y},v=s(h);v.length&&(b.children=v),f.push(b)}return f}t.listPropertyNames=()=>s().map(l=>l.name),t.getPropertyByName=l=>s().find(f=>f.name===l),t.getPropertyDomainByName=l=>(r[l]||{}).domain,t.getProxySection=()=>({id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:s()}),t.delete=()=>{const l=Object.keys(e.propertyLinkMap);let f=l.length;for(;f--;)e.propertyLinkMap[l[f]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),n()},t.getState=()=>null;function u(){if(e.links)for(let l=0;l<e.links.length;l++){const{link:f,property:c,persistent:d,updateOnBind:p,type:h}=e.links[l];if(h==="application"){const m=e.proxyManager.getPropertyLink(f,d);t.registerPropertyLinkForGC(m,"application"),m.bind(t,c,p)}}}Q1(u)}function B8(t,e,n){const r=t.delete,o=[],i=Object.keys(n);let a=i.length;for(;a--;){const s=i[a],{modelKey:u,property:l,modified:f=!0}=n[s],c=Wt(l),d=Wt(s);t[`get${d}`]=e[u][`get${c}`],t[`set${d}`]=e[u][`set${c}`],f&&o.push(e[u].onModified(t.modified))}t.delete=()=>{for(;o.length;)o.pop().unsubscribe();r()}}function V8(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};e.this=t;function o(s){const u=Object.keys(s);let l=u.length;for(;l--;){const f=u[l];e[f].set(s[f])}}const i=Object.keys(r);let a=i.length;for(;a--;){const s=i[a];e[s]=r[s];const u=n[s];t[`set${Wt(s)}`]=l=>{if(l!==e[s]){e[s]=l;const f=u[l];o(f),t.modified()}}}i.length&&mr(t,e,i)}const $y=10,Ky=40,qy=800;function U8(t){let e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*$y,o=n*$y,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(t.deltaMode===1?(r*=Ky,o*=Ky):(r*=qy,o*=qy)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n||e,pixelX:r,pixelY:o||r}}var V={algo:tg,capitalize:Xs,chain:Ys,debounce:Io,enumToString:gF,event:Ms,EVENT_ABORT:ng,formatBytesToProperUnit:O8,formatNumbersWithThousandSeparator:N8,get:mr,getArray:Vu,getCurrentGlobalMTime:dF,getStateArrayMapFunc:M8,isVtkObject:rg,keystore:og,measurePromiseExecution:k8,moveToProtected:Uu,newInstance:Ct,newTypedArray:Ta,newTypedArrayFrom:hd,normalizeWheel:U8,obj:Yt,proxy:F8,proxyPropertyMapping:B8,proxyPropertyState:V8,safeArrays:R8,set:Bu,setArray:eg,setGet:en,setGetArray:md,setImmediate:Q1,setLoggerFunction:A8,throttle:L8,traverseInstanceTree:lu,TYPED_ARRAYS:_n,uncapitalize:P8,VOID:T8,vtkDebugMacro:mf,vtkErrorMacro:ct,vtkInfoMacro:D8,vtkLogMacro:E8,vtkOnceErrorMacro:I8,vtkWarningMacro:Z1},Mn=Object.freeze({__proto__:null,VOID:T8,setLoggerFunction:A8,vtkLogMacro:E8,vtkInfoMacro:D8,vtkDebugMacro:mf,vtkErrorMacro:ct,vtkWarningMacro:Z1,vtkOnceErrorMacro:I8,TYPED_ARRAYS:_n,newTypedArray:Ta,newTypedArrayFrom:hd,capitalize:Xs,_capitalize:Wt,uncapitalize:P8,formatBytesToProperUnit:O8,formatNumbersWithThousandSeparator:N8,setImmediateVTK:Q1,measurePromiseExecution:k8,obj:Yt,get:mr,set:Bu,setGet:en,getArray:Vu,setArray:eg,setGetArray:md,moveToProtected:Uu,algo:tg,EVENT_ABORT:ng,event:Ms,newInstance:Ct,chain:Ys,isVtkObject:rg,traverseInstanceTree:lu,debounce:Io,throttle:L8,keystore:og,proxy:F8,proxyPropertyMapping:B8,proxyPropertyState:V8,normalizeWheel:U8,default:V});const{vtkErrorMacro:xF}=V,SF=["Build","Render"];function CF(t,e){e.classHierarchy.push("vtkViewNode"),t.build=r=>{},t.render=r=>{},t.traverse=r=>{const o=r.getTraverseOperation(),i=t[o];if(i){i(r);return}t.apply(r,!0);for(let a=0;a<e.children.length;a++)e.children[a].traverse(r);t.apply(r,!1)},t.apply=(r,o)=>{const i=t[r.getOperation()];i&&i(o,r)},t.getViewNodeFor=r=>{if(e.renderable===r)return t;for(let o=0;o<e.children.length;++o){const i=e.children[o].getViewNodeFor(r);if(i)return i}},t.getFirstAncestorOfType=r=>e._parent?e._parent.isA(r)?e._parent:e._parent.getFirstAncestorOfType(r):null,t.addMissingNode=r=>{if(!r)return;const o=e._renderableChildMap.get(r);if(o!==void 0)o.setVisited(!0);else{const i=t.createViewNode(r);i&&(i.setParent(t),i.setVisited(!0),e._renderableChildMap.set(r,i),e.children.push(i))}},t.addMissingNodes=r=>{if(!(!r||!r.length))for(let o=0;o<r.length;++o){const i=r[o],a=e._renderableChildMap.get(i);if(a!==void 0)a.setVisited(!0);else{const s=t.createViewNode(i);s&&(s.setParent(t),s.setVisited(!0),e._renderableChildMap.set(i,s),e.children.push(s))}}},t.addMissingChildren=r=>{if(!(!r||!r.length))for(let o=0;o<r.length;++o){const i=r[o];e.children.indexOf(i)===-1&&(i.setParent(t),e.children.push(i)),i.setVisited(!0)}},t.prepareNodes=()=>{for(let r=0;r<e.children.length;++r)e.children[r].setVisited(!1)},t.setVisited=r=>{e.visited=r},t.removeUnusedNodes=()=>{let r=0;for(let o=0;o<e.children.length;++o){const i=e.children[o];if(i.getVisited())e.children[r++]=i,i.setVisited(!1);else{const a=i.getRenderable();a&&e._renderableChildMap.delete(a),i.delete()}}e.children.length=r},t.createViewNode=r=>{if(!e.myFactory)return xF("Cannot create view nodes without my own factory"),null;const o=e.myFactory.createNode(r);return o&&o.setRenderable(r),o};const n=t.delete;t.delete=()=>{for(let r=0;r<e.children.length;r++)e.children[r].delete();n()}}const wF={renderable:null,myFactory:null,children:[],visited:!1};function G8(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,wF,n),V.obj(t,e),V.event(t,e,"event"),e._renderableChildMap=new Map,V.get(t,e,["visited"]),V.setGet(t,e,["_parent","renderable","myFactory"]),V.getArray(t,e,["children"]),V.moveToProtected(t,e,["parent"]),CF(t,e)}const TF=V.newInstance(G8,"vtkViewNode");var bn={newInstance:TF,extend:G8,PASS_TYPES:SF};function _F(t,e){e.overrides||(e.overrides={}),e.classHierarchy.push("vtkViewNodeFactory"),t.createNode=n=>{if(n.isDeleted())return null;let r=0,o=n.getClassName(r++),i=!1;const a=Object.keys(e.overrides);for(;o&&!i;)a.indexOf(o)!==-1?i=!0:o=n.getClassName(r++);if(!i)return null;const s=e.overrides[o]();return s.setMyFactory(t),s},t.registerOverride=(n,r)=>{e.overrides[n]=r}}const AF={};function z8(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,AF,n),V.obj(t,e),_F(t,e)}const EF=V.newInstance(z8,"vtkViewNodeFactory");var DF={newInstance:EF,extend:z8};const j8=Object.create(null);function Jt(t,e){j8[t]=e}function IF(t,e){e.classHierarchy.push("vtkOpenGLViewNodeFactory")}const PF={};function W8(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,PF,n),e.overrides=j8,DF.extend(t,e,n),IF(t,e)}const OF=V.newInstance(W8,"vtkOpenGLViewNodeFactory");var NF={newInstance:OF,extend:W8};function RF(t,e){e.classHierarchy.push("vtkOpenGLCamera"),t.buildPass=n=>{n&&(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext())},t.opaquePass=n=>{if(n){const r=e._openGLRenderer.getTiledSizeAndOrigin();e.context.viewport(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize),e.context.scissor(r.lowerLeftU,r.lowerLeftV,r.usize,r.vsize)}},t.translucentPass=t.opaquePass,t.zBufferPass=t.opaquePass,t.opaqueZBufferPass=t.opaquePass,t.volumePass=t.opaquePass,t.getKeyMatrices=n=>{if(n!==e.lastRenderer||e._openGLRenderWindow.getMTime()>e.keyMatrixTime.getMTime()||t.getMTime()>e.keyMatrixTime.getMTime()||n.getMTime()>e.keyMatrixTime.getMTime()||e.renderable.getMTime()>e.keyMatrixTime.getMTime()){gn(e.keyMatrices.wcvc,e.renderable.getViewMatrix()),Lu(e.keyMatrices.normalMatrix,e.keyMatrices.wcvc),qs(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),pt(e.keyMatrices.wcvc,e.keyMatrices.wcvc);const r=e._openGLRenderer.getAspectRatio();gn(e.keyMatrices.vcpc,e.renderable.getProjectionMatrix(r,-1,1)),pt(e.keyMatrices.vcpc,e.keyMatrices.vcpc),lt(e.keyMatrices.wcpc,e.keyMatrices.vcpc,e.keyMatrices.wcvc),e.keyMatrixTime.modified(),e.lastRenderer=n}return e.keyMatrices}}const MF={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null};function kF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,MF,n),bn.extend(t,e,n),e.keyMatrixTime={},Yt(e.keyMatrixTime),e.keyMatrices={normalMatrix:new Float64Array(9),vcpc:new Float64Array(16),wcvc:new Float64Array(16),wcpc:new Float64Array(16)},en(t,e,["context","keyMatrixTime"]),RF(t,e)}const LF=Ct(kF);Jt("vtkCamera",LF);const{vtkDebugMacro:FF}=Mn;function BF(t,e){e.classHierarchy.push("vtkOpenGLRenderer"),t.buildPass=n=>{if(n){if(!e.renderable)return;t.updateLights(),t.prepareNodes(),t.addMissingNode(e.renderable.getActiveCamera()),t.addMissingNodes(e.renderable.getViewPropsWithNestedProps()),t.removeUnusedNodes()}},t.updateLights=()=>{let n=0;const r=e.renderable.getLightsByReference();for(let o=0;o<r.length;++o)r[o].getSwitch()>0&&n++;return n||(FF("No lights are on, creating one."),e.renderable.createLight()),n},t.zBufferPass=n=>{if(n){let r=0;const o=e.context;e.renderable.getTransparent()||(e.context.clearColor(1,0,0,1),r|=o.COLOR_BUFFER_BIT),e.renderable.getPreserveDepthBuffer()||(o.clearDepth(1),r|=o.DEPTH_BUFFER_BIT,e.context.depthMask(!0));const i=t.getTiledSizeAndOrigin();o.enable(o.SCISSOR_TEST),o.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),o.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),o.colorMask(!0,!0,!0,!0),r&&o.clear(r),o.enable(o.DEPTH_TEST)}},t.opaqueZBufferPass=n=>t.zBufferPass(n),t.cameraPass=n=>{n&&t.clear()},t.getAspectRatio=()=>{const n=e._parent.getSizeByReference(),r=e.renderable.getViewportByReference();return n[0]*(r[2]-r[0])/((r[3]-r[1])*n[1])},t.getTiledSizeAndOrigin=()=>{const n=e.renderable.getViewportByReference(),r=[0,0,1,1],o=n[0]-r[0],i=n[1]-r[1],a=e._parent.normalizedDisplayToDisplay(o,i),s=Math.round(a[0]),u=Math.round(a[1]),l=n[2]-r[0],f=n[3]-r[1],c=e._parent.normalizedDisplayToDisplay(l,f);let d=Math.round(c[0])-s,p=Math.round(c[1])-u;return d<0&&(d=0),p<0&&(p=0),{usize:d,vsize:p,lowerLeftU:s,lowerLeftV:u}},t.clear=()=>{let n=0;const r=e.context;if(!e.renderable.getTransparent()){const i=e.renderable.getBackgroundByReference();e.context.clearColor(i[0],i[1],i[2],i[3]),n|=r.COLOR_BUFFER_BIT}e.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,e.context.depthMask(!0)),r.colorMask(!0,!0,!0,!0);const o=t.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(o.lowerLeftU,o.lowerLeftV,o.usize,o.vsize),r.viewport(o.lowerLeftU,o.lowerLeftV,o.usize,o.vsize),n&&r.clear(n),r.enable(r.DEPTH_TEST)},t.releaseGraphicsResources=()=>{e.selector!==null&&e.selector.releaseGraphicsResources(),e.renderable&&e.renderable.getViewProps().forEach(n=>{n.modified()})},t.setOpenGLRenderWindow=n=>{e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}const VF={context:null,_openGLRenderWindow:null,selector:null};function UF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VF,n),bn.extend(t,e,n),mr(t,e,["shaderCache"]),en(t,e,["selector"]),Uu(t,e,["openGLRenderWindow"]),BF(t,e)}const GF=Ct(UF,"vtkOpenGLRenderer");Jt("vtkRenderer",GF);function zF(t,e){e.classHierarchy.push("vtkOpenGLActor"),t.buildPass=n=>{if(n){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(let r=0;r<e.children.length;r++){const o=e.children[r];o.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(o)):e.oglmapper=o}}},t.traverseZBufferPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOpaqueZBufferPass=n=>t.traverseOpaquePass(n),t.traverseOpaquePass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=()=>{if(e.ogltextures){e.activeTextures=[];for(let n=0;n<e.ogltextures.length;n++){const r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.zBufferPass=(n,r)=>t.opaquePass(n,r),t.opaqueZBufferPass=(n,r)=>t.opaquePass(n,r),t.opaquePass=(n,r)=>{if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(let o=0;o<e.activeTextures.length;o++)e.activeTextures[o].deactivate()},t.translucentPass=(n,r)=>{if(n)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(let o=0;o<e.activeTextures.length;o++)e.activeTextures[o].deactivate()},t.getKeyMatrices=()=>(e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),gn(e.keyMatrices.mcwc,e.renderable.getMatrix()),pt(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.renderable.getIsIdentity()?Wr(e.keyMatrices.normalMatrix):(Lu(e.keyMatrices.normalMatrix,e.keyMatrices.mcwc),qs(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix),fd(e.keyMatrices.normalMatrix,e.keyMatrices.normalMatrix)),e.keyMatrixTime.modified()),e.keyMatrices)}const jF={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null};function WF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jF,n),bn.extend(t,e,n),e.keyMatrixTime={},Yt(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:Wr(new Float64Array(9)),mcwc:Le(new Float64Array(16))},en(t,e,["context"]),mr(t,e,["activeTextures"]),zF(t,e)}const HF=Ct(WF);Jt("vtkActor",HF);function $F(t,e){e.classHierarchy.push("vtkOpenGLActor2D"),t.buildPass=n=>{if(n){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNodes(e.renderable.getTextures()),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes(),e.ogltextures=null,e.activeTextures=null;for(let r=0;r<e.children.length;r++){const o=e.children[r];o.isA("vtkOpenGLTexture")?(e.ogltextures||(e.ogltextures=[]),e.ogltextures.push(o)):e.oglmapper=o}}},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOverlayActorCount()}},t.traverseOpaquePass=n=>{!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseTranslucentPass=n=>{!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.traverseOverlayPass=n=>{!e.oglmapper||!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable||(t.apply(n,!0),e.oglmapper.traverse(n),t.apply(n,!1))},t.activateTextures=()=>{if(e.ogltextures){e.activeTextures=[];for(let n=0;n<e.ogltextures.length;n++){const r=e.ogltextures[n];r.render(),r.getHandle()&&e.activeTextures.push(r)}}},t.opaquePass=(n,r)=>{if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(let o=0;o<e.activeTextures.length;o++)e.activeTextures[o].deactivate()},t.translucentPass=(n,r)=>{if(n)e.context.depthMask(!1),t.activateTextures();else if(e.activeTextures)for(let o=0;o<e.activeTextures.length;o++)e.activeTextures[o].deactivate()},t.overlayPass=(n,r)=>{if(n)e.context.depthMask(!0),t.activateTextures();else if(e.activeTextures)for(let o=0;o<e.activeTextures.length;o++)e.activeTextures[o].deactivate()}}const KF={context:null,activeTextures:null};function qF(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KF,n),bn.extend(t,e,n),en(t,e,["context"]),mr(t,e,["activeTextures"]),$F(t,e)}const XF=Ct(qF);Jt("vtkActor2D",XF);function g0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YF(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H8(t){let e,n,r;t.length!==2?(e=g0,n=(s,u)=>g0(t(s),u),r=(s,u)=>t(s)-u):(e=t===g0||t===YF?t:JF,n=t,r=t);function o(s,u,l=0,f=s.length){if(l<f){if(e(u,u)!==0)return f;do{const c=l+f>>>1;n(s[c],u)<0?l=c+1:f=c}while(l<f)}return l}function i(s,u,l=0,f=s.length){if(l<f){if(e(u,u)!==0)return f;do{const c=l+f>>>1;n(s[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function a(s,u,l=0,f=s.length){const c=o(s,u,l,f-1);return c>l&&r(s[c-1],u)>-r(s[c],u)?c-1:c}return{left:o,center:a,right:i}}function JF(){return 0}function ZF(t){return t===null?NaN:+t}const QF=H8(g0),eB=QF.right;H8(ZF).center;const tB=eB,nB=Math.sqrt(50),rB=Math.sqrt(10),oB=Math.sqrt(2);function gf(t,e,n){const r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=nB?10:i>=rB?5:i>=oB?2:1;let s,u,l;return o<0?(l=Math.pow(10,-o)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,o)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?gf(t,e,n*2):[s,u,l]}function iB(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[o,i,a]=r?gf(e,t,n):gf(t,e,n);if(!(i>=o))return[];const s=i-o+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(i-l)/-a;else for(let l=0;l<s;++l)u[l]=(i-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(o+l)/-a;else for(let l=0;l<s;++l)u[l]=(o+l)*a;return u}function Yh(t,e,n){return e=+e,t=+t,n=+n,gf(t,e,n)[2]}function aB(t,e,n){e=+e,t=+t,n=+n;const r=e<t,o=r?Yh(e,t,n):Yh(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}function sB(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ig(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gu(){}var uu=.7,vf=1/uu,vs="\\s*([+-]?\\d+)\\s*",cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lB=/^#([0-9a-f]{3,8})$/,uB=new RegExp(`^rgb\\(${vs},${vs},${vs}\\)$`),cB=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),fB=new RegExp(`^rgba\\(${vs},${vs},${vs},${cu}\\)$`),dB=new RegExp(`^rgba\\(${oo},${oo},${oo},${cu}\\)$`),pB=new RegExp(`^hsl\\(${cu},${oo},${oo}\\)$`),hB=new RegExp(`^hsla\\(${cu},${oo},${oo},${cu}\\)$`),Xy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ig(Gu,fu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yy,formatHex:Yy,formatHex8:mB,formatHsl:gB,formatRgb:Jy,toString:Jy});function Yy(){return this.rgb().formatHex()}function mB(){return this.rgb().formatHex8()}function gB(){return K8(this).formatHsl()}function Jy(){return this.rgb().formatRgb()}function fu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=lB.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Zy(e):n===3?new Xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=uB.exec(t))?new Xn(e[1],e[2],e[3],1):(e=cB.exec(t))?new Xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fB.exec(t))?wc(e[1],e[2],e[3],e[4]):(e=dB.exec(t))?wc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=pB.exec(t))?t3(e[1],e[2]/100,e[3]/100,1):(e=hB.exec(t))?t3(e[1],e[2]/100,e[3]/100,e[4]):Xy.hasOwnProperty(t)?Zy(Xy[t]):t==="transparent"?new Xn(NaN,NaN,NaN,0):null}function Zy(t){return new Xn(t>>16&255,t>>8&255,t&255,1)}function wc(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function vB(t){return t instanceof Gu||(t=fu(t)),t?(t=t.rgb(),new Xn(t.r,t.g,t.b,t.opacity)):new Xn}function Jh(t,e,n,r){return arguments.length===1?vB(t):new Xn(t,e,n,r!=null?r:1)}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ig(Xn,Jh,$8(Gu,{brighter(t){return t=t==null?vf:Math.pow(vf,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?uu:Math.pow(uu,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Xn(va(this.r),va(this.g),va(this.b),yf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qy,formatHex:Qy,formatHex8:yB,formatRgb:e3,toString:e3}));function Qy(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}`}function yB(){return`#${ta(this.r)}${ta(this.g)}${ta(this.b)}${ta((isNaN(this.opacity)?1:this.opacity)*255)}`}function e3(){const t=yf(this.opacity);return`${t===1?"rgb(":"rgba("}${va(this.r)}, ${va(this.g)}, ${va(this.b)}${t===1?")":`, ${t})`}`}function yf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function va(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ta(t){return t=va(t),(t<16?"0":"")+t.toString(16)}function t3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new kr(t,e,n,r)}function K8(t){if(t instanceof kr)return new kr(t.h,t.s,t.l,t.opacity);if(t instanceof Gu||(t=fu(t)),!t)return new kr;if(t instanceof kr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(e===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new kr(a,s,u,t.opacity)}function bB(t,e,n,r){return arguments.length===1?K8(t):new kr(t,e,n,r!=null?r:1)}function kr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ig(kr,bB,$8(Gu,{brighter(t){return t=t==null?vf:Math.pow(vf,t),new kr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?uu:Math.pow(uu,t),new kr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Xn(xp(t>=240?t-240:t+120,o,r),xp(t,o,r),xp(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new kr(n3(this.h),Tc(this.s),Tc(this.l),yf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=yf(this.opacity);return`${t===1?"hsl(":"hsla("}${n3(this.h)}, ${Tc(this.s)*100}%, ${Tc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function n3(t){return t=(t||0)%360,t<0?t+360:t}function Tc(t){return Math.max(0,Math.min(1,t||0))}function xp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ag=t=>()=>t;function xB(t,e){return function(n){return t+n*e}}function SB(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function CB(t){return(t=+t)==1?q8:function(e,n){return n-e?SB(e,n,t):ag(isNaN(e)?n:e)}}function q8(t,e){var n=e-t;return n?xB(t,n):ag(isNaN(t)?e:t)}const r3=function t(e){var n=CB(e);function r(o,i){var a=n((o=Jh(o)).r,(i=Jh(i)).r),s=n(o.g,i.g),u=n(o.b,i.b),l=q8(o.opacity,i.opacity);return function(f){return o.r=a(f),o.g=s(f),o.b=u(f),o.opacity=l(f),o+""}}return r.gamma=t,r}(1);function wB(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=t[o]*(1-i)+e[o]*i;return r}}function TB(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _B(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=sg(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function AB(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function bf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function EB(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=sg(t[o],e[o]):r[o]=e[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Zh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sp=new RegExp(Zh.source,"g");function DB(t){return function(){return t}}function IB(t){return function(e){return t(e)+""}}function PB(t,e){var n=Zh.lastIndex=Sp.lastIndex=0,r,o,i,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=Zh.exec(t))&&(o=Sp.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:bf(r,o)})),n=Sp.lastIndex;return n<e.length&&(i=e.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?IB(u[0].x):DB(e):(e=u.length,function(l){for(var f=0,c;f<e;++f)s[(c=u[f]).i]=c.x(l);return s.join("")})}function sg(t,e){var n=typeof e,r;return e==null||n==="boolean"?ag(e):(n==="number"?bf:n==="string"?(r=fu(e))?(e=r,r3):PB:e instanceof fu?r3:e instanceof Date?AB:TB(e)?wB:Array.isArray(e)?_B:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?EB:bf)(t,e)}function OB(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function NB(t){return function(){return t}}function RB(t){return+t}var o3=[0,1];function Qa(t){return t}function Qh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:NB(isNaN(e)?NaN:.5)}function MB(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kB(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Qh(o,r),i=n(a,i)):(r=Qh(r,o),i=n(i,a)),function(s){return i(r(s))}}function LB(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Qh(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(s){var u=tB(t,s,1,r)-1;return i[u](o[u](s))}}function FB(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function BB(){var t=o3,e=o3,n=sg,r,o,i,a=Qa,s,u,l;function f(){var d=Math.min(t.length,e.length);return a!==Qa&&(a=MB(t[0],t[d-1])),s=d>2?LB:kB,u=l=null,c}function c(d){return d==null||isNaN(d=+d)?i:(u||(u=s(t.map(r),e,n)))(r(a(d)))}return c.invert=function(d){return a(o((l||(l=s(e,t.map(r),bf)))(d)))},c.domain=function(d){return arguments.length?(t=Array.from(d,RB),f()):t.slice()},c.range=function(d){return arguments.length?(e=Array.from(d),f()):e.slice()},c.rangeRound=function(d){return e=Array.from(d),n=OB,f()},c.clamp=function(d){return arguments.length?(a=d?!0:Qa,f()):a!==Qa},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(i=d,c):i},function(d,p){return r=d,o=p,f()}}function VB(){return BB()(Qa,Qa)}function UB(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xf(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ks(t){return t=xf(Math.abs(t)),t?t[1]:NaN}function GB(t,e){return function(n,r){for(var o=n.length,i=[],a=0,s=t[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(n.substring(o-=s,o+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(e)}}function zB(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sf(t){if(!(e=jB.exec(t)))throw new Error("invalid format: "+t);var e;return new lg({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Sf.prototype=lg.prototype;function lg(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lg.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WB(t){e:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var X8;function HB(t,e){var n=xf(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(X8=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+xf(t,Math.max(0,e+i-1))[0]}function i3(t,e){var n=xf(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const a3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:UB,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>i3(t*100,e),r:i3,s:HB,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function s3(t){return t}var l3=Array.prototype.map,u3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $B(t){var e=t.grouping===void 0||t.thousands===void 0?s3:GB(l3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?s3:zB(l3.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(c){c=Sf(c);var d=c.fill,p=c.align,h=c.sign,m=c.symbol,y=c.zero,b=c.width,v=c.comma,g=c.precision,x=c.trim,S=c.type;S==="n"?(v=!0,S="g"):a3[S]||(g===void 0&&(g=12),x=!0,S="g"),(y||d==="0"&&p==="=")&&(y=!0,d="0",p="=");var C=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",w=m==="$"?r:/[%p]/.test(S)?a:"",T=a3[S],_=/[defgprs%]/.test(S);g=g===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function A(E){var D=C,O=w,P,k,U;if(S==="c")O=T(E)+O,E="";else{E=+E;var H=E<0||1/E<0;if(E=isNaN(E)?u:T(Math.abs(E),g),x&&(E=WB(E)),H&&+E==0&&h!=="+"&&(H=!1),D=(H?h==="("?h:s:h==="-"||h==="("?"":h)+D,O=(S==="s"?u3[8+X8/3]:"")+O+(H&&h==="("?")":""),_){for(P=-1,k=E.length;++P<k;)if(U=E.charCodeAt(P),48>U||U>57){O=(U===46?o+E.slice(P+1):E.slice(P))+O,E=E.slice(0,P);break}}}v&&!y&&(E=e(E,1/0));var R=D.length+E.length+O.length,B=R<b?new Array(b-R+1).join(d):"";switch(v&&y&&(E=e(B+E,B.length?b-O.length:1/0),B=""),p){case"<":E=D+E+O+B;break;case"=":E=D+B+E+O;break;case"^":E=B.slice(0,R=B.length>>1)+D+E+O+B.slice(R);break;default:E=B+D+E+O;break}return i(E)}return A.toString=function(){return c+""},A}function f(c,d){var p=l((c=Sf(c),c.type="f",c)),h=Math.max(-8,Math.min(8,Math.floor(ks(d)/3)))*3,m=Math.pow(10,-h),y=u3[8+h/3];return function(b){return p(m*b)+y}}return{format:l,formatPrefix:f}}var _c,Y8,J8;KB({thousands:",",grouping:[3],currency:["$",""]});function KB(t){return _c=$B(t),Y8=_c.format,J8=_c.formatPrefix,_c}function qB(t){return Math.max(0,-ks(Math.abs(t)))}function XB(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ks(e)/3)))*3-ks(Math.abs(t)))}function YB(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ks(e)-ks(t))+1}function JB(t,e,n,r){var o=aB(t,e,n),i;switch(r=Sf(r!=null?r:",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=XB(o,a))&&(r.precision=i),J8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=YB(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=qB(o))&&(r.precision=i-(r.type==="%")*2);break}}return Y8(r)}function ZB(t){var e=t.domain;return t.ticks=function(n){var r=e();return iB(r[0],r[r.length-1],n!=null?n:10)},t.tickFormat=function(n,r){var o=e();return JB(o[0],o[o.length-1],n!=null?n:10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,i=r.length-1,a=r[o],s=r[i],u,l,f=10;for(s<a&&(l=a,a=s,s=l,l=o,o=i,i=l);f-- >0;){if(l=Yh(a,s,n),l===u)return r[o]=a,r[i]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function ug(){var t=VB();return t.copy=function(){return FB(t,ug())},sB.apply(t,arguments),ZB(t)}var em={},QB={get exports(){return em},set exports(t){em=t}};(function(t){(function(e,n,r){function o(u){var l=this,f=s();l.next=function(){var c=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=c-(l.c=c|0)},l.c=1,l.s0=f(" "),l.s1=f(" "),l.s2=f(" "),l.s0-=f(u),l.s0<0&&(l.s0+=1),l.s1-=f(u),l.s1<0&&(l.s1+=1),l.s2-=f(u),l.s2<0&&(l.s2+=1),f=null}function i(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function a(u,l){var f=new o(u),c=l&&l.state,d=f.next;return d.int32=function(){return f.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,c&&(typeof c=="object"&&i(c,f),d.state=function(){return i(f,{})}),d}function s(){var u=4022871197,l=function(f){f=String(f);for(var c=0;c<f.length;c++){u+=f.charCodeAt(c);var d=.02519603282416938*u;u=d>>>0,d-=u,d*=u,u=d>>>0,d-=u,u+=d*4294967296}return(u>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=a:this.alea=a})(ir,t)})(QB);var tm={},eV={get exports(){return tm},set exports(t){tm=t}};(function(t){(function(e,n,r){function o(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var c=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^c^c>>>8},s===(s|0)?u.x=s:l+=s;for(var f=0;f<l.length+64;f++)u.x^=l.charCodeAt(f)|0,u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function a(s,u){var l=new o(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},c.int32=l.next,c.quick=c,f&&(typeof f=="object"&&i(f,l),c.state=function(){return i(l,{})}),c}n&&n.exports?n.exports=a:this.xor128=a})(ir,t)})(eV);var nm={},tV={get exports(){return nm},set exports(t){nm=t}};(function(t){(function(e,n,r){function o(s){var u=this,l="";u.next=function(){var c=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(c^c<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(s|0)?u.x=s:l+=s;for(var f=0;f<l.length+64;f++)u.x^=l.charCodeAt(f)|0,f==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function a(s,u){var l=new o(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},c.int32=l.next,c.quick=c,f&&(typeof f=="object"&&i(f,l),c.state=function(){return i(l,{})}),c}n&&n.exports?n.exports=a:this.xorwow=a})(ir,t)})(tV);var rm={},nV={get exports(){return rm},set exports(t){rm=t}};(function(t){(function(e,n,r){function o(s){var u=this;u.next=function(){var f=u.x,c=u.i,d,p;return d=f[c],d^=d>>>7,p=d^d<<24,d=f[c+1&7],p^=d^d>>>10,d=f[c+3&7],p^=d^d>>>3,d=f[c+4&7],p^=d^d<<7,d=f[c+7&7],d=d^d<<13,p^=d^d<<9,f[c]=p,u.i=c+1&7,p};function l(f,c){var d,p=[];if(c===(c|0))p[0]=c;else for(c=""+c,d=0;d<c.length;++d)p[d&7]=p[d&7]<<15^c.charCodeAt(d)+p[d+1&7]<<13;for(;p.length<8;)p.push(0);for(d=0;d<8&&p[d]===0;++d);for(d==8?p[7]=-1:p[d],f.x=p,f.i=0,d=256;d>0;--d)f.next()}l(u,s)}function i(s,u){return u.x=s.x.slice(),u.i=s.i,u}function a(s,u){s==null&&(s=+new Date);var l=new o(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},c.int32=l.next,c.quick=c,f&&(f.x&&i(f,l),c.state=function(){return i(l,{})}),c}n&&n.exports?n.exports=a:this.xorshift7=a})(ir,t)})(nV);var om={},rV={get exports(){return om},set exports(t){om=t}};(function(t){(function(e,n,r){function o(s){var u=this;u.next=function(){var f=u.w,c=u.X,d=u.i,p,h;return u.w=f=f+1640531527|0,h=c[d+34&127],p=c[d=d+1&127],h^=h<<13,p^=p<<17,h^=h>>>15,p^=p>>>12,h=c[d]=h^p,u.i=d,h+(f^f>>>16)|0};function l(f,c){var d,p,h,m,y,b=[],v=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,v=Math.max(v,c.length)),h=0,m=-32;m<v;++m)c&&(p^=c.charCodeAt((m+32)%c.length)),m===0&&(y=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,m>=0&&(y=y+1640531527|0,d=b[m&127]^=p+y,h=d==0?h+1:0);for(h>=128&&(b[(c&&c.length||0)&127]=-1),h=127,m=4*128;m>0;--m)p=b[h+34&127],d=b[h=h+1&127],p^=p<<13,d^=d<<17,p^=p>>>15,d^=d>>>12,b[h]=p^d;f.w=y,f.X=b,f.i=h}l(u,s)}function i(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function a(s,u){s==null&&(s=+new Date);var l=new o(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},c.int32=l.next,c.quick=c,f&&(f.X&&i(f,l),c.state=function(){return i(l,{})}),c}n&&n.exports?n.exports=a:this.xor4096=a})(ir,t)})(rV);var im={},oV={get exports(){return im},set exports(t){im=t}};(function(t){(function(e,n,r){function o(s){var u=this,l="";u.next=function(){var c=u.b,d=u.c,p=u.d,h=u.a;return c=c<<25^c>>>7^d,d=d-p|0,p=p<<24^p>>>8^h,h=h-c|0,u.b=c=c<<20^c>>>12^d,u.c=d=d-p|0,u.d=p<<16^d>>>16^h,u.a=h-c|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=s|0):l+=s;for(var f=0;f<l.length+20;f++)u.b^=l.charCodeAt(f)|0,u.next()}function i(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function a(s,u){var l=new o(s),f=u&&u.state,c=function(){return(l.next()>>>0)/4294967296};return c.double=function(){do var d=l.next()>>>11,p=(l.next()>>>0)/4294967296,h=(d+p)/(1<<21);while(h===0);return h},c.int32=l.next,c.quick=c,f&&(typeof f=="object"&&i(f,l),c.state=function(){return i(l,{})}),c}n&&n.exports?n.exports=a:this.tychei=a})(ir,t)})(oV);var am={},iV={get exports(){return am},set exports(t){am=t}};const aV={},sV=Object.freeze(Object.defineProperty({__proto__:null,default:aV},Symbol.toStringTag,{value:"Module"})),lV=bL(sV);(function(t){(function(e,n,r){var o=256,i=6,a=52,s="random",u=r.pow(o,i),l=r.pow(2,a),f=l*2,c=o-1,d;function p(x,S,C){var w=[];S=S==!0?{entropy:!0}:S||{};var T=b(y(S.entropy?[x,g(n)]:x!=null?x:v(),3),w),_=new h(w),A=function(){for(var E=_.g(i),D=u,O=0;E<l;)E=(E+O)*o,D*=o,O=_.g(1);for(;E>=f;)E/=2,D/=2,O>>>=1;return(E+O)/D};return A.int32=function(){return _.g(4)|0},A.quick=function(){return _.g(4)/4294967296},A.double=A,b(g(_.S),n),(S.pass||C||function(E,D,O,P){return P&&(P.S&&m(P,_),E.state=function(){return m(_,{})}),O?(r[s]=E,D):E})(A,T,"global"in S?S.global:this==r,S.state)}function h(x){var S,C=x.length,w=this,T=0,_=w.i=w.j=0,A=w.S=[];for(C||(x=[C++]);T<o;)A[T]=T++;for(T=0;T<o;T++)A[T]=A[_=c&_+x[T%C]+(S=A[T])],A[_]=S;(w.g=function(E){for(var D,O=0,P=w.i,k=w.j,U=w.S;E--;)D=U[P=c&P+1],O=O*o+U[c&(U[P]=U[k=c&k+D])+(U[k]=D)];return w.i=P,w.j=k,O})(o)}function m(x,S){return S.i=x.i,S.j=x.j,S.S=x.S.slice(),S}function y(x,S){var C=[],w=typeof x,T;if(S&&w=="object")for(T in x)try{C.push(y(x[T],S-1))}catch(_){}return C.length?C:w=="string"?x:x+"\0"}function b(x,S){for(var C=x+"",w,T=0;T<C.length;)S[c&T]=c&(w^=S[c&T]*19)+C.charCodeAt(T++);return g(S)}function v(){try{var x;return d&&(x=d.randomBytes)?x=x(o):(x=new Uint8Array(o),(e.crypto||e.msCrypto).getRandomValues(x)),g(x)}catch(w){var S=e.navigator,C=S&&S.plugins;return[+new Date,e,C,e.screen,g(n)]}}function g(x){return String.fromCharCode.apply(0,x)}if(b(r.random(),n),t.exports){t.exports=p;try{d=lV}catch(x){}}else r["seed"+s]=p})(typeof self<"u"?self:ir,[],Math)})(iV);var uV=em,cV=tm,fV=nm,dV=rm,pV=om,hV=im,Ra=am;Ra.alea=uV;Ra.xor128=cV;Ra.xorwow=fV;Ra.xorshift7=dV;Ra.xor4096=pV;Ra.tychei=hV;var Z8=Ra;const cg=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],mV=[1,0,0,0,1,0,0,0,1],fg=1e-6,dg=1e-12,{vtkErrorMacro:Q8,vtkWarningMacro:_a}=V;let ex=0;const c3=20;function zu(t){return()=>Q8(`vtkMath::${t} - NOT IMPLEMENTED`)}function Gl(t,e,n,r){let o;for(let i=0;i<e;i++)o=t[n*e+i],t[n*e+i]=t[r*e+i],t[r*e+i]=o}function Tl(t,e,n,r){let o;for(let i=0;i<e;i++)o=t[i*e+n],t[i*e+n]=t[i*e+r],t[i*e+r]=o}function Dt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3;const e=Array(t);for(let n=0;n<t;++n)e[n]=0;return e}const gV=()=>Math.PI;function At(t){return t/180*Math.PI}function du(t){return t*180/Math.PI}const{round:_l,floor:pg,ceil:vV,min:yV,max:bV}=Math;function xV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0;for(let o=e,i=t.length;o<i;o+=n)t[o]<r&&(r=t[o]);return r}function SV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=-1/0;for(let o=e,i=t.length;o<i;o+=n)r<t[o]&&(r=t[o]);return r}function CV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=1/0,o=-1/0;for(let i=e,a=t.length;i<a;i+=n)t[i]<r&&(r=t[i]),o<t[i]&&(o=t[i]);return[r,o]}const wV=zu("ceilLog2"),TV=zu("factorial");function xr(t){let e=1;for(;e<t;)e*=2;return e}function Al(t){return t===xr(t)}function _V(t,e){let n=1;for(let r=1;r<=e;++r)n*=(t-r+1)/r;return Math.floor(n)}function AV(t,e){if(t<e)return 0;const n=Dt(e);for(let r=0;r<e;++r)n[r]=r;return n}function EV(t,e,n){let r=0;for(let o=e-1;o>=0;--o)if(n[o]<t-e+o){let i=n[o]+1;for(;o<e;)n[o++]=i++;r=1;break}return r}function DV(t){Z8(`${t}`,{global:!0}),ex=t}function IV(){return ex}function v0(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:1)-t;return t+e*Math.random()}const PV=zu("gaussian");function pu(t,e,n){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2],n}function rn(t,e,n){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function hg(t,e){return t[0]*=e,t[1]*=e,t[2]*=e,t}function tx(t,e){return t[0]*=e,t[1]*=e,t}function sm(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r}function OV(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r}function Fe(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function NV(t,e,n){n[0]=t[0]*e[0],n[1]=t[0]*e[1],n[2]=t[0]*e[2],n[3]=t[1]*e[0],n[4]=t[1]*e[1],n[5]=t[1]*e[2],n[6]=t[2]*e[0],n[7]=t[2]*e[1],n[8]=t[2]*e[2]}function Kt(t,e,n){const r=t[1]*e[2]-t[2]*e[1],o=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return n[0]=r,n[1]=o,n[2]=i,n}function sr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{let n=0;for(let r=0;r<e;r++)n+=t[r]*t[r];return Math.sqrt(n)}}}function Ft(t){const e=sr(t);return e!==0&&(t[0]/=e,t[1]/=e,t[2]/=e),e}function RV(t,e,n,r){const o=t[0]*t[0],i=t[1]*t[1],a=t[2]*t[2],s=Math.sqrt(o+i+a);let u,l,f;o>i&&o>a?(u=0,l=1,f=2):i>a?(u=1,l=2,f=0):(u=2,l=0,f=1);const c=t[u]/s,d=t[l]/s,p=t[f]/s,h=Math.sqrt(c*c+p*p);if(r!==0){const m=Math.sin(r),y=Math.cos(r);e&&(e[u]=(p*y-c*d*m)/h,e[l]=m*h,e[f]=(-(c*y)-d*p*m)/h),n&&(n[u]=(-(p*m)-c*d*y)/h,n[l]=y*h,n[f]=(c*m-d*p*y)/h)}else e&&(e[u]=p/h,e[l]=0,e[f]=-c/h),n&&(n[u]=-c*d/h,n[l]=h,n[f]=-d*p/h)}function MV(t,e,n){const r=Fe(e,e);if(r===0)return n[0]=0,n[1]=0,n[2]=0,!1;const o=Fe(t,e)/r;for(let i=0;i<3;i++)n[i]=e[i];return hg(n,o),!0}function lm(t,e){return t[0]*e[0]+t[1]*e[1]}function kV(t,e,n){const r=lm(e,e);if(r===0)return n[0]=0,n[1]=0,!1;const o=lm(t,e)/r;for(let i=0;i<2;i++)n[i]=e[i];return tx(n,o),!0}function or(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function LV(t,e){const n=[0,0,0];return Kt(t,e,n),Math.atan2(sr(n),Fe(t,e))}function FV(t,e,n){const r=Math.abs(t-n);return 1/Math.sqrt(2*Math.PI*e)*Math.exp(-_e(r,2)/(2*e))}function BV(t,e,n){const r=Math.abs(t-n);return Math.exp(-_e(r,2)/(2*e))}function VV(t,e,n){n[0]=t[0]*e[0],n[1]=t[0]*e[1],n[2]=t[1]*e[0],n[3]=t[1]*e[1]}function nx(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function rx(t){const e=nx(t);return e!==0&&(t[0]/=e,t[1]/=e),e}function Bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===2?e[0][0]*e[1][1]-e[1][0]*e[0][1]:e.length===4?e[0]*e[3]-e[1]*e[2]:Number.NaN}function UV(t,e){let n,r,o;const i=[0,0,0];for(let a=0;a<3;a++)o=Math.abs(t[a*3]),(r=Math.abs(t[a*3+1]))>o&&(o=r),(r=Math.abs(t[a*3+2]))>o&&(o=r),i[a]=1/o;o=i[0]*Math.abs(t[0]),n=0,(r=i[1]*Math.abs(t[3]))>=o&&(o=r,n=1),(r=i[2]*Math.abs(t[6]))>=o&&(n=2),n!==0&&(Gl(t,3,n,0),i[n]=i[0]),e[0]=n,t[3]/=t[0],t[6]/=t[0],t[4]-=t[3]*t[1],t[7]-=t[6]*t[1],o=i[1]*Math.abs(t[4]),n=1,(r=i[2]*Math.abs(t[7]))>=o&&(n=2,Gl(t,3,1,2),i[2]=i[1]),e[1]=n,t[7]/=t[4],t[5]-=t[3]*t[2],t[8]-=t[6]*t[2]+t[7]*t[5],e[2]=2}function GV(t,e,n){let r=n[e[0]];n[e[0]]=n[0],n[0]=r,r=n[e[1]],n[e[1]]=n[1],n[1]=r-t[3]*n[0],r=n[e[2]],n[e[2]]=n[2],n[2]=r-t[6]*n[0]-t[7]*n[1],n[2]/=t[8],n[1]=(n[1]-t[5]*n[2])/t[4],n[0]=(n[0]-t[1]*n[1]-t[2]*n[2])/t[0]}function zV(t,e,n){const r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],l=t[6],f=t[7],c=t[8],d=+Bt(s,f,u,c),p=-Bt(a,l,u,c),h=+Bt(a,l,s,f),m=-Bt(o,f,i,c),y=+Bt(r,l,i,c),b=-Bt(r,l,o,f),v=+Bt(o,s,i,u),g=-Bt(r,a,i,u),x=+Bt(r,a,o,s),S=r*d+o*p+i*h,C=d*e[0]+m*e[1]+v*e[2],w=p*e[0]+y*e[1]+g*e[2],T=h*e[0]+b*e[1]+x*e[2];n[0]=C/S,n[1]=w/S,n[2]=T/S}function y0(t,e,n){const r=t[0]*e[0]+t[1]*e[1]+t[2]*e[2],o=t[3]*e[0]+t[4]*e[1]+t[5]*e[2],i=t[6]*e[0]+t[7]*e[1]+t[8]*e[2];n[0]=r,n[1]=o,n[2]=i}function um(t,e,n){const r=[...t],o=[...e];for(let i=0;i<3;i++)n[i]=r[0]*o[i]+r[1]*o[i+3]+r[2]*o[i+6],n[i+3]=r[3]*o[i]+r[4]*o[i+3]+r[5]*o[i+6],n[i+6]=r[6]*o[i]+r[7]*o[i+3]+r[8]*o[i+6]}function jV(t,e,n,r,o,i,a){r!==o&&Q8("Number of columns of A must match number of rows of B.");const s=[...t],u=[...e];for(let l=0;l<n;l++)for(let f=0;f<i;f++){a[l*i+f]=0;for(let c=0;c<r;c++)a[l*i+f]+=s[l*r+c]*u[f+i*c]}}function ys(t,e){let n;n=t[3],e[3]=t[1],e[1]=n,n=t[6],e[6]=t[2],e[2]=n,n=t[7],e[7]=t[5],e[5]=n,e[0]=t[0],e[4]=t[4],e[8]=t[8]}function WV(t,e){const n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],l=t[7],f=t[8],c=+Bt(a,l,s,f),d=-Bt(i,u,s,f),p=+Bt(i,u,a,l),h=-Bt(r,l,o,f),m=+Bt(n,u,o,f),y=-Bt(n,u,r,l),b=+Bt(r,a,o,s),v=-Bt(n,i,o,s),g=+Bt(n,i,r,a),x=n*c+r*d+o*p;x===0&&_a("Matrix has 0 determinant"),e[0]=c/x,e[3]=d/x,e[6]=p/x,e[1]=h/x,e[4]=m/x,e[7]=y/x,e[2]=b/x,e[5]=v/x,e[8]=g/x}function gd(t){return t[0]*t[4]*t[8]+t[3]*t[7]*t[2]+t[6]*t[1]*t[5]-t[0]*t[7]*t[5]-t[3]*t[1]*t[8]-t[6]*t[4]*t[2]}function ox(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fg;if(t.length!==e.length)return!1;function r(o,i){return Math.abs(o-e[i])<=n}return t.every(r)}const ju=ox;function ix(t){for(let e=0;e<3;e++)t[e*3]=t[e*3+1]=t[e*3+2]=0,t[e*3+e]=1}function ax(t,e){for(let n=0;n<t;n++){for(let r=0;r<t;r++)e[n*t+r]=0;e[n*t+n]=1}return e}function HV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fg;return ju(t,cg,e)}function $V(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fg;return ju(t,mV,e)}function sx(t,e){const n=t[0]*t[0],r=t[0]*t[1],o=t[0]*t[2],i=t[0]*t[3],a=t[1]*t[1],s=t[2]*t[2],u=t[3]*t[3],l=t[1]*t[2],f=t[1]*t[3],c=t[2]*t[3],d=a+s+u;let p=1/(n+d);const h=(n-d)*p;p*=2,e[0]=a*p+h,e[3]=(l+i)*p,e[6]=(f-o)*p,e[1]=(l-i)*p,e[4]=s*p+h,e[7]=(c+r)*p,e[2]=(f+o)*p,e[5]=(c-r)*p,e[8]=u*p+h}function b0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!`${t}`.includes("e"))return+`${Math.round(`${t}e+${e}`)}e-${e}`;const n=`${t}`.split("e");let r="";return+n[1]+e>0&&(r="+"),+`${Math.round(`${+n[0]}e${r}${+n[1]+e}`)}e-${e}`}function cm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e[0]=b0(t[0],n),e[1]=b0(t[1],n),e[2]=b0(t[2],n),e}function Wu(t,e,n,r){let o,i,a,s,u,l,f,c,d,p,h,m,y,b,v,g;const x=Dt(e),S=Dt(e),C=(T,_,A)=>{b=T[_],y=T[A],T[_]=b-m*(y+b*p),T[A]=y+m*(b-y*p)};for(ax(e,r),u=0;u<e;u++)x[u]=n[u]=t[u+u*e],S[u]=0;for(o=0;o<c3;o++){for(h=0,u=0;u<e-1;u++)for(s=u+1;s<e;s++)h+=Math.abs(t[u*e+s]);if(h===0)break;for(o<3?f=.2*h/(e*e):f=0,u=0;u<e-1;u++)for(s=u+1;s<e;s++)if(b=100*Math.abs(t[u*e+s]),o>3&&Math.abs(n[u])+b===Math.abs(n[u])&&Math.abs(n[s])+b===Math.abs(n[s]))t[u*e+s]=0;else if(Math.abs(t[u*e+s])>f){for(y=n[s]-n[u],Math.abs(y)+b===Math.abs(y)?d=t[u*e+s]/y:(c=.5*y/t[u*e+s],d=1/(Math.abs(c)+Math.sqrt(1+c*c)),c<0&&(d=-d)),v=1/Math.sqrt(1+d*d),m=d*v,p=m/(1+v),y=d*t[u*e+s],S[u]-=y,S[s]+=y,n[u]-=y,n[s]+=y,t[u*e+s]=0,i=0;i<=u-1;i++)C(t,i*e+u,i*e+s);for(i=u+1;i<=s-1;i++)C(t,u*e+i,i*e+s);for(i=s+1;i<e;i++)C(t,u*e+i,s*e+i);for(i=0;i<e;i++)C(r,i*e+u,i*e+s)}for(u=0;u<e;u++)x[u]+=S[u],n[u]=x[u],S[u]=0}if(o>=c3)return _a("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(i=0;i<e-1;i++){for(a=i,g=n[a],o=i+1;o<e;o++)(n[o]>=g||Math.abs(n[o]-g)<dg)&&(a=o,g=n[a]);a!==i&&(n[a]=n[i],n[i]=g,Tl(r,e,i,a))}const w=(e>>1)+(e&1);for(l=0,o=0;o<e*e;o++)r[o]>=0&&l++;if(l<w)for(o=0;o<e;o++)r[o*e+i]*=-1;return 1}function lx(t,e){const n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];n[0]=t[0]+t[4]+t[8],n[5]=t[0]-t[4]-t[8],n[10]=-t[0]+t[4]-t[8],n[15]=-t[0]-t[4]+t[8],n[1]=n[4]=t[7]-t[5],n[2]=n[8]=t[2]-t[6],n[3]=n[12]=t[3]-t[1],n[6]=n[9]=t[3]+t[1],n[7]=n[13]=t[2]+t[6],n[11]=n[14]=t[7]+t[5];const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0],i=[...n];Wu(i,4,o,r),e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12]}function KV(t,e,n){const r=t[0]*e[0],o=t[0]*e[1],i=t[0]*e[2],a=t[0]*e[3],s=t[1]*e[0],u=t[1]*e[1],l=t[1]*e[2],f=t[1]*e[3],c=t[2]*e[0],d=t[2]*e[1],p=t[2]*e[2],h=t[2]*e[3],m=t[3]*e[0],y=t[3]*e[1],b=t[3]*e[2],v=t[3]*e[3];n[0]=r-u-p-v,n[1]=o+s+h-b,n[2]=i-f+c+y,n[3]=a+l-d+m}function ux(t,e){for(let d=0;d<9;d++)e[d]=t[d];const n=Dt(3),r=Dt(3);let o;for(let d=0;d<3;d++){const p=Math.abs(e[d*3]),h=Math.abs(e[d*3+1]),m=Math.abs(e[d*3+2]);o=h>p?h:p,o=m>o?m:o,n[d]=1,o!==0&&(n[d]/=o)}const i=Math.abs(e[0])*n[0],a=Math.abs(e[3])*n[1],s=Math.abs(e[6])*n[2];r[0]=0,o=i,a>=o&&(o=a,r[0]=1),s>=o&&(r[0]=2),r[0]!==0&&(Tl(e,3,r[0],0),n[r[0]]=n[0]);const u=Math.abs(e[4])*n[1],l=Math.abs(e[7])*n[2];r[1]=1,o=u,l>=o&&(r[1]=2,Tl(e,3,1,2)),r[2]=2;let f=0;if(gd(e)<0){f=1;for(let d=0;d<9;d++)e[d]=-e[d]}const c=Dt(4);if(lx(e,c),sx(c,e),f)for(let d=0;d<9;d++)e[d]=-e[d];r[1]!==1&&Tl(e,3,r[1],1),r[0]!==0&&Tl(e,3,r[0],0)}function cx(t,e,n){let r,o,i,a,s,u;const l=[...t];if(Wu(l,3,e,n),e[0]===e[1]&&e[0]===e[2]){ix(n);return}for(ys(n,n),r=0;r<3;r++)if(e[(r+1)%3]===e[(r+2)%3]){for(u=Math.abs(n[r*3]),a=0,o=1;o<3;o++)u<(s=Math.abs(n[r*3+o]))&&(u=s,a=o);a!==r&&(s=e[a],e[a]=e[r],e[r]=s,Gl(n,3,r,a)),n[a*3+a]<0&&(n[a*3]=-n[a*3],n[a*3+1]=-n[a*3+1],n[a*3+2]=-n[a*3+2]),o=(a+1)%3,i=(a+2)%3,n[o*3]=0,n[o*3+1]=0,n[o*3+2]=0,n[o*3+o]=1;const f=Kt([n[a*3],n[a*3+1],n[a*3+2]],[n[o*3],n[o*3+1],n[o*3+2]],[]);Ft(f);const c=Kt(f,[n[a*3],n[a*3+1],n[a*3+2]],[]);for(let d=0;d<3;d++)n[i*3+d]=f[d],n[o*3+d]=c[d];ys(n,n);return}for(u=Math.abs(n[0]),a=0,r=1;r<3;r++)u<(s=Math.abs(n[r*3]))&&(u=s,a=r);if(a!==0){const f=e[a];e[a]=e[0],e[0]=f,Gl(n,3,a,0)}if(Math.abs(n[4])<Math.abs(n[7])){const f=e[2];e[2]=e[1],e[1]=f,Gl(n,3,1,2)}for(r=0;r<2;r++)n[r*3+r]<0&&(n[r*3]=-n[r*3],n[r*3+1]=-n[r*3+1],n[r*3+2]=-n[r*3+2]);gd(n)<0&&(n[6]=-n[6],n[7]=-n[7],n[8]=-n[8]),ys(n,n)}function qV(t,e,n,r){let o;const i=[...t],a=gd(i);if(a<0)for(o=0;o<9;o++)i[o]=-i[o];ux(i,e),ys(i,i),um(i,e,r),cx(r,n,r),um(e,r,e),ys(r,r),a<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function mg(t,e,n){let r,o,i,a,s=0,u,l,f;const c=Dt(n);for(r=0;r<n;r++){for(a=0,o=0;o<n;o++)(f=Math.abs(t[r*n+o]))>a&&(a=f);if(a===0)return _a("Unable to factor linear system"),0;c[r]=1/a}for(o=0;o<n;o++){for(r=0;r<o;r++){for(u=t[r*n+o],i=0;i<r;i++)u-=t[r*n+i]*t[i*n+o];t[r*n+o]=u}for(a=0,r=o;r<n;r++){for(u=t[r*n+o],i=0;i<o;i++)u-=t[r*n+i]*t[i*n+o];t[r*n+o]=u,(l=c[r]*Math.abs(u))>=a&&(a=l,s=r)}if(o!==s){for(i=0;i<n;i++)l=t[s*n+i],t[s*n+i]=t[o*n+i],t[o*n+i]=l;c[s]=c[o]}if(e[o]=s,Math.abs(t[o*n+o])<=dg)return _a("Unable to factor linear system"),0;if(o!==n-1)for(l=1/t[o*n+o],r=o+1;r<n;r++)t[r*n+o]*=l}return 1}function gg(t,e,n,r){let o,i,a,s,u;for(a=-1,o=0;o<r;o++){if(s=e[o],u=n[s],n[s]=n[o],a>=0)for(i=a;i<=o-1;i++)u-=t[o*r+i]*n[i];else u!==0&&(a=o);n[o]=u}for(o=r-1;o>=0;o--){for(u=n[o],i=o+1;i<r;i++)u-=t[o*r+i]*n[i];n[o]=u/t[o*r+o]}}function fx(t,e,n){if(n===2){const o=Dt(2),i=Bt(t[0],t[1],t[2],t[3]);return i===0?0:(o[0]=(t[3]*e[0]-t[1]*e[1])/i,o[1]=(-(t[2]*e[0])+t[0]*e[1])/i,e[0]=o[0],e[1]=o[1],1)}if(n===1)return t[0]===0?0:(e[0]/=t[0],1);const r=Dt(n);return mg(t,r,n)===0?0:(gg(t,r,e,n),1)}function dx(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;const i=r||Dt(n),a=o||Dt(n);if(mg(t,i,n)===0)return null;for(let s=0;s<n;s++){for(let u=0;u<n;u++)a[u]=0;a[s]=1,gg(t,i,a,n);for(let u=0;u<n;u++)e[u*n+s]=a[u]}return e}function XV(t,e){let n=+Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let o=0;o<e;o++)for(let i=o;i<e;i++)Math.abs(t[o*e+i])>r&&(r=Math.abs(t[o*e+i]));for(let o=0;o<e;o++)Math.abs(t[o*e+o])<n&&(n=Math.abs(t[o*e+o]));return n===0?Number.MAX_VALUE:r/n}function YV(t,e,n){return Wu(t,3,e,n)}function fm(t,e,n,r){if(t<n)return _a("Insufficient number of samples. Underdetermined."),0;let o,i,a;const s=Dt(n*n),u=Dt(n),l=Dt(n*n);for(a=0;a<t;a++)for(o=0;o<n;o++)for(i=o;i<n;i++)s[o*n+i]+=e[a*n+o]*e[a*n+i];for(o=0;o<n;o++)for(i=0;i<o;i++)s[o*n+i]=s[i*n+o];for(Wu(s,n,u,l),o=0;o<n;o++)r[o]=l[o*n+n-1];return 1}function JV(t,e,n,r,o,i){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!0;if(t<n||t<o)return _a("Insufficient number of samples. Underdetermined."),0;const s=Dt(o);let u=1,l,f=0,c,d,p,h=0;if(a){for(d=0;d<o;d++)s[d]=1;for(c=0;c<t;c++)for(d=0;d<o;d++)Math.abs(r[c*o+d])>dg&&(u=0,s[d]=0);if(u&&o===1)return _a("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),fm(t,e,n,i);if(u)h=1;else for(d=0;d<o;d++)s[d]&&(h=1)}h&&(l=Dt(n),f=fm(t,e,n,l));const m=Dt(n*n),y=Dt(n*n),b=Dt(n*o);for(p=0;p<t;p++)for(c=0;c<n;c++){for(d=c;d<n;d++)m[c*n+d]+=e[p*n+c]*e[p*n+d];for(d=0;d<o;d++)b[c*o+d]+=e[p*n+c]*r[p*o+d]}for(c=0;c<n;c++)for(d=0;d<c;d++)m[c*n+d]=m[d*n+c];const v=dx(m,y,n);if(v)for(c=0;c<n;c++)for(d=0;d<o;d++)for(i[c*o+d]=0,p=0;p<n;p++)i[c*o+d]+=y[c*n+p]*b[p*o+d];if(h){for(d=0;d<o;d++)if(s[d])for(c=0;c<n;c++)i[c*o+d]=l[c*o]}return h?f&&v:v}function ZV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,.5,1];switch(t.length){case 3:return e[0]=parseInt(t[0],16)*17/255,e[1]=parseInt(t[1],16)*17/255,e[2]=parseInt(t[2],16)*17/255,e;case 4:return e[0]=parseInt(t[1],16)*17/255,e[1]=parseInt(t[2],16)*17/255,e[2]=parseInt(t[3],16)*17/255,e;case 6:return e[0]=parseInt(t.substr(0,2),16)/255,e[1]=parseInt(t.substr(2,2),16)/255,e[2]=parseInt(t.substr(4,2),16)/255,e;case 7:return e[0]=parseInt(t.substr(1,2),16)/255,e[1]=parseInt(t.substr(3,2),16)/255,e[2]=parseInt(t.substr(5,2),16)/255,e;case 9:return e[0]=parseInt(t.substr(1,2),16)/255,e[1]=parseInt(t.substr(3,2),16)/255,e[2]=parseInt(t.substr(5,2),16)/255,e[3]=parseInt(t.substr(7,2),16)/255,e;default:return e}}function El(t,e){let n,r;const[o,i,a]=t,s=1/3,u=1/6,l=2/3;let f=o,c=o;i>f?f=i:i<c&&(c=i),a>f?f=a:a<c&&(c=a);const d=f;d>0?r=(f-c)/f:r=0,r>0?(o===f?n=u*(i-a)/(f-c):i===f?n=s+u*(a-o)/(f-c):n=l+u*(o-i)/(f-c),n<0&&(n+=1)):n=0,e[0]=n,e[1]=r,e[2]=d}function Xi(t,e){const[n,r,o]=t,i=1/3,a=1/6,s=2/3,u=5/6;let l,f,c;n>a&&n<=i?(f=1,l=(i-n)/a,c=0):n>i&&n<=.5?(f=1,c=(n-i)/a,l=0):n>.5&&n<=s?(c=1,f=(s-n)/a,l=0):n>s&&n<=u?(c=1,l=(n-s)/a,f=0):n>u&&n<=1?(l=1,c=(1-n)/a,f=0):(l=1,f=n/a,c=0),l=r*l+(1-r),f=r*f+(1-r),c=r*c+(1-r),l*=o,f*=o,c*=o,e[0]=l,e[1]=f,e[2]=c}function px(t,e){const[n,r,o]=t;let i=(n+16)/116,a=r/500+i,s=i-o/200;_e(i,3)>.008856?i=_e(i,3):i=(i-16/116)/7.787,_e(a,3)>.008856?a=_e(a,3):a=(a-16/116)/7.787,_e(s,3)>.008856?s=_e(s,3):s=(s-16/116)/7.787;const u=.9505,l=1,f=1.089;e[0]=u*a,e[1]=l*i,e[2]=f*s}function hx(t,e){const[n,r,o]=t,i=.9505,a=1,s=1.089;let u=n/i,l=r/a,f=o/s;u>.008856?u=_e(u,1/3):u=7.787*u+16/116,l>.008856?l=_e(l,1/3):l=7.787*l+16/116,f>.008856?f=_e(f,1/3):f=7.787*f+16/116,e[0]=116*l-16,e[1]=500*(u-l),e[2]=200*(l-f)}function mx(t,e){const[n,r,o]=t;let i=n*3.2406+r*-1.5372+o*-.4986,a=n*-.9689+r*1.8758+o*.0415,s=n*.0557+r*-.204+o*1.057;i>.0031308?i=1.055*_e(i,1/2.4)-.055:i*=12.92,a>.0031308?a=1.055*_e(a,1/2.4)-.055:a*=12.92,s>.0031308?s=1.055*_e(s,1/2.4)-.055:s*=12.92;let u=i;u<a&&(u=a),u<s&&(u=s),u>1&&(i/=u,a/=u,s/=u),i<0&&(i=0),a<0&&(a=0),s<0&&(s=0),e[0]=i,e[1]=a,e[2]=s}function gx(t,e){let[n,r,o]=t;n>.04045?n=_e((n+.055)/1.055,2.4):n/=12.92,r>.04045?r=_e((r+.055)/1.055,2.4):r/=12.92,o>.04045?o=_e((o+.055)/1.055,2.4):o/=12.92,e[0]=n*.4124+r*.3576+o*.1805,e[1]=n*.2126+r*.7152+o*.0722,e[2]=n*.0193+r*.1192+o*.9505}function na(t,e){const n=[0,0,0];gx(t,n),hx(n,e)}function Cf(t,e){const n=[0,0,0];px(t,n),mx(n,e)}function Js(t){return t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1,t}function x0(t){return!(t[1]-t[0]<0)}function QV(t,e,n){return n[0]=Math.min(t[0],e[0]),n[1]=Math.max(t[0],e[0]),n[2]=Math.min(t[1],e[1]),n[3]=Math.max(t[1],e[1]),n[4]=Math.min(t[2],e[2]),n[5]=Math.max(t[2],e[2]),n}function Fr(t,e,n){return t<e?e:t>n?n:t}function dm(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[0,0,0];return r[0]=Fr(t[0],e[0],n[0]),r[1]=Fr(t[1],e[1],n[1]),r[2]=Fr(t[2],e[2],n[2]),r}function eU(t,e){let n=0;return e[0]!==e[1]&&(t<e[0]?n=e[0]:t>e[1]?n=e[1]:n=t,n=(n-e[0])/(e[1]-e[0])),n}const tU=zu("GetScalarTypeFittingRange"),nU=zu("GetAdjustedScalarRange");function rU(t,e){if(!t||!e)return 0;for(let n=0;n<6;n+=2)if(t[n]<e[n]||t[n]>e[n+1]||t[n+1]<e[n]||t[n+1]>e[n+1])return 0;return 1}function oU(t,e,n){if(!t||!e)return 0;for(let r=0;r<6;r+=2)if(t[r]+n[r/2]<e[r]||t[r]-n[r/2]>e[r+1]||t[r+1]+n[r/2]<e[r]||t[r+1]-n[r/2]>e[r+1])return 0;return 1}function iU(t,e,n){if(!t||!e||!n)return 0;for(let r=0;r<3;r++)if(t[r]+n[r]<e[2*r]||t[r]-n[r]>e[2*r+1])return 0;return 1}function aU(t,e,n,r){const o=Dt(3),i=Dt(3),a=Dt(3),s=Dt(3),u=Dt(3),l=Dt(3);for(let x=0;x<3;++x)o[x]=t[x]-e[x],i[x]=e[x]-n[x],a[x]=n[x]-t[x],s[x]=-o[x],u[x]=-i[x],l[x]=-a[x];const f=sr(s),c=sr(u),d=sr(a),p=Dt(3);Kt(o,i,p);const h=sr(p),m=f*c*d/(2*h),y=2*h*h,b=c*c*Fe(o,l)/y,v=d*d*Fe(s,i)/y,g=f*f*Fe(a,u)/y;for(let x=0;x<3;++x)r[x]=b*t[x]+v*e[x]+g*n[x];return m}const sU=1/0,lU=-1/0,vx=t=>!Number.isFinite(t),{isFinite:uU,isNaN:pm}=Number,wf=pm;function Ro(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function cU(t){let e=-1,n=-1;for(let r=0;r<t.length;r++){const o=Math.abs(t[r]);o>e&&(n=r,e=o)}return n}function yx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;const n=new Array(e),r=new Array(e);for(let i=0;i<e;++i)n[i]=i,r[i]=i;for(let i=e-1;i>0;i--){let a=-1/0,s=0,u=0;for(let l=0;l<=i;++l){const f=n[l];for(let c=0;c<=i;++c){const d=r[c],p=Math.abs(t[f+e*d]);p>a&&(a=p,s=l,u=c)}}[n[i],n[s]]=[n[s],n[i]],[r[i],r[u]]=[r[u],r[i]]}const o=new Array(e*e).fill(0);for(let i=0;i<e;++i){const a=n[i]+e*r[i];o[a]=t[a]<0?-1:1}return o}function bx(t){const e=Math.floor(t*255);return e>15?e.toString(16):`0${e.toString(16)}`}function fU(t){return`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#"}${t.map(bx).join("")}`}function Ac(t){return Math.round(t*255)}function dU(t){return t.length===3?`rgb(${t.map(Ac).join(", ")})`:`rgba(${Ac(t[0]||0)}, ${Ac(t[1]||0)}, ${Ac(t[2]||0)}, ${t[3]||0})`}var Dl={Pi:gV,radiansFromDegrees:At,degreesFromRadians:du,round:_l,floor:pg,ceil:vV,ceilLog2:wV,min:yV,max:bV,arrayMin:xV,arrayMax:SV,arrayRange:CV,isPowerOfTwo:Al,nearestPowerOfTwo:xr,factorial:TV,binomial:_V,beginCombination:AV,nextCombination:EV,randomSeed:DV,getSeed:IV,random:v0,gaussian:PV,add:pu,subtract:rn,multiplyScalar:hg,multiplyScalar2D:tx,multiplyAccumulate:sm,multiplyAccumulate2D:OV,dot:Fe,outer:NV,cross:Kt,norm:sr,normalize:Ft,perpendiculars:RV,projectVector:MV,projectVector2D:kV,distance2BetweenPoints:or,angleBetweenVectors:LV,gaussianAmplitude:FV,gaussianWeight:BV,dot2D:lm,outer2D:VV,norm2D:nx,normalize2D:rx,determinant2x2:Bt,LUFactor3x3:UV,LUSolve3x3:GV,linearSolve3x3:zV,multiply3x3_vect3:y0,multiply3x3_mat3:um,multiplyMatrix:jV,transpose3x3:ys,invert3x3:WV,identity3x3:ix,identity:ax,isIdentity:HV,isIdentity3x3:$V,determinant3x3:gd,quaternionToMatrix3x3:sx,areEquals:ox,areMatricesEqual:ju,roundNumber:b0,roundVector:cm,matrix3x3ToQuaternion:lx,multiplyQuaternion:KV,orthogonalize3x3:ux,diagonalize3x3:cx,singularValueDecomposition3x3:qV,solveLinearSystem:fx,invertMatrix:dx,luFactorLinearSystem:mg,luSolveLinearSystem:gg,estimateMatrixCondition:XV,jacobi:YV,jacobiN:Wu,solveHomogeneousLeastSquares:fm,solveLeastSquares:JV,hex2float:ZV,rgb2hsv:El,hsv2rgb:Xi,lab2xyz:px,xyz2lab:hx,xyz2rgb:mx,rgb2xyz:gx,rgb2lab:na,lab2rgb:Cf,uninitializeBounds:Js,areBoundsInitialized:x0,computeBoundsFromPoints:QV,clampValue:Fr,clampVector:dm,clampAndNormalizeValue:eU,getScalarTypeFittingRange:tU,getAdjustedScalarRange:nU,extentIsWithinOtherExtent:rU,boundsIsWithinOtherBounds:oU,pointIsWithinBounds:iU,solve3PointCircle:aU,inf:sU,negInf:lU,isInf:vx,isNan:pm,isNaN:pm,isFinite:uU,createUninitializedBounds:Ro,getMajorAxisIndex:cU,getSparseOrthogonalMatrix:yx,floatToHex2:bx,floatRGB2HexCode:fU,float2CssRGBA:dU};const hm=1e-6,xx="coincide",Sx="disjoint";function pU(t,e,n){return t[0]*(n[0]-e[0])+t[1]*(n[1]-e[1])+t[2]*(n[2]-e[2])}function Cx(t,e,n){const r=n[0]*(t[0]-e[0])+n[1]*(t[1]-e[1])+n[2]*(t[2]-e[2]);return Math.abs(r)}function wx(t,e,n,r){const o=[];rn(t,e,o);const i=Fe(n,o);r[0]=t[0]-i*n[0],r[1]=t[1]-i*n[1],r[2]=t[2]-i*n[2]}function Tx(t,e,n){const r=Fe(t,e);let o=Fe(e,e);return o===0&&(o=1),n[0]=t[0]-r*e[0]/o,n[1]=t[1]-r*e[1]/o,n[2]=t[2]-r*e[2]/o,n}function _x(t,e,n,r){const o=[];rn(t,e,o);const i=Fe(n,o),a=Fe(n,n);a!==0?(r[0]=t[0]-i*n[0]/a,r[1]=t[1]-i*n[1]/a,r[2]=t[2]-i*n[2]/a):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function Ax(t,e,n,r){const o={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],a=[];rn(e,t,i),rn(n,t,a);const s=Fe(r,a),u=Fe(r,i);let l,f;return u<0?l=-u:l=u,s<0?f=-s*hm:f=s*hm,l<=f||(o.t=s/u,o.x[0]=t[0]+o.t*i[0],o.x[1]=t[1]+o.t*i[1],o.x[2]=t[2]+o.t*i[2],o.intersection=!0,o.betweenPoints=o.t>=0&&o.t<=1),o}function Ex(t,e,n,r){const o={intersection:!1,l0:[],l1:[],error:null},i=[];Kt(e,r,i);const a=i.map(c=>Math.abs(c));if(a[0]+a[1]+a[2]<hm){const c=[];return rn(t,n,c),Fe(e,c)===0?o.error=xx:o.error=Sx,o}let s;a[0]>a[1]&&a[0]>a[2]?s="x":a[1]>a[2]?s="y":s="z";const u=[],l=-Fe(e,t),f=-Fe(r,n);switch(s){case"x":u[0]=0,u[1]=(f*e[2]-l*r[2])/i[0],u[2]=(l*r[1]-f*e[1])/i[0];break;case"y":u[0]=(l*r[2]-f*e[2])/i[1],u[1]=0,u[2]=(f*e[0]-l*r[0])/i[1];break;case"z":u[0]=(f*e[1]-l*r[1])/i[2],u[1]=(l*r[0]-f*e[0])/i[2],u[2]=0;break}return o.l0=u,pu(u,i,o.l1),o.intersection=!0,o}const hU={evaluate:pU,distanceToPlane:Cx,projectPoint:wx,projectVector:Tx,generalizedProjectPoint:_x,intersectWithLine:Ax,intersectWithPlane:Ex,DISJOINT:Sx,COINCIDE:xx};function mU(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=n=>Cx(n,e.origin,e.normal),t.projectPoint=(n,r)=>{wx(n,e.origin,e.normal,r)},t.projectVector=(n,r)=>Tx(n,e.normal,r),t.push=n=>{if(n!==0)for(let r=0;r<3;r++)e.origin[r]+=n*e.normal[r]},t.generalizedProjectPoint=(n,r)=>{_x(n,e.origin,e.normal,r)},t.evaluateFunction=(n,r,o)=>Array.isArray(n)?e.normal[0]*(n[0]-e.origin[0])+e.normal[1]*(n[1]-e.origin[1])+e.normal[2]*(n[2]-e.origin[2]):e.normal[0]*(n-e.origin[0])+e.normal[1]*(r-e.origin[1])+e.normal[2]*(o-e.origin[2]),t.evaluateGradient=n=>[e.normal[0],e.normal[1],e.normal[2]],t.intersectWithLine=(n,r)=>Ax(n,r,e.origin,e.normal),t.intersectWithPlane=(n,r)=>Ex(n,r,e.origin,e.normal)}const gU={normal:[0,0,1],origin:[0,0,0]};function Dx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gU,n),V.obj(t,e),V.setGetArray(t,e,["normal","origin"],3),mU(t,e)}const vU=V.newInstance(Dx,"vtkPlane");var Ci=q({newInstance:vU,extend:Dx},hU);const vd=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function Ix(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function Mo(t){return(t==null?void 0:t.length)>=6&&t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function vg(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function yg(t){return vg(t,vd)}function Tf(t,e,n,r){const[o,i,a,s,u,l]=t;return t[0]=o<e?o:e,t[1]=i>e?i:e,t[2]=a<n?a:n,t[3]=s>n?s:n,t[4]=u<r?u:r,t[5]=l>r?l:r,t}function bg(t,e){if(e.length===0)return t;if(Array.isArray(e[0]))for(let n=0;n<e.length;++n)Tf(t,...e[n]);else for(let n=0;n<e.length;n+=3)Tf(t,...e.slice(n,n+3));return t}function Px(t,e,n,r,o,i,a){const[s,u,l,f,c,d]=t;return a===void 0?(t[0]=Math.min(e[0],s),t[1]=Math.max(e[1],u),t[2]=Math.min(e[2],l),t[3]=Math.max(e[3],f),t[4]=Math.min(e[4],c),t[5]=Math.max(e[5],d)):(t[0]=Math.min(e,s),t[1]=Math.max(n,u),t[2]=Math.min(r,l),t[3]=Math.max(o,f),t[4]=Math.min(i,c),t[5]=Math.max(a,d)),t}function Ox(t,e,n,r){const[o,i,a,s,u,l]=t;return t[0]=e,t[1]=e>i?e:i,t[2]=n,t[3]=n>s?n:s,t[4]=r,t[5]=r>l?r:l,o!==e||a!==n||u!==r}function Nx(t,e,n,r){const[o,i,a,s,u,l]=t;return t[0]=e<o?e:o,t[1]=e,t[2]=n<a?n:a,t[3]=n,t[4]=r<u?r:u,t[5]=r,i!==e||s!==n||l!==r}function Rx(t,e){return t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t}function xg(t,e,n,r){return Mo(t)?(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),n>=0?(t[2]*=n,t[3]*=n):(t[2]=n*t[3],t[3]=n*t[2]),r>=0?(t[4]*=r,t[5]*=r):(t[4]=r*t[5],t[5]=r*t[4]),!0):!1}function Sg(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function yU(t,e,n,r){if(!Mo(t))return!1;const o=Sg(t);return t[0]-=o[0],t[1]-=o[0],t[2]-=o[1],t[3]-=o[1],t[4]-=o[2],t[5]-=o[2],xg(t,e,n,r),t[0]+=o[0],t[1]+=o[0],t[2]+=o[1],t[3]+=o[1],t[4]+=o[2],t[5]+=o[2],!0}function zl(t,e){return t[e*2+1]-t[e*2]}function yd(t){return[zl(t,0),zl(t,1),zl(t,2)]}function Mx(t){return t.slice(0,2)}function kx(t){return t.slice(2,4)}function Lx(t){return t.slice(4,6)}function Fx(t){const e=yd(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function Bx(t){if(Mo(t)){const e=yd(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}return null}function Cg(t){return[t[0],t[2],t[4]]}function wg(t){return[t[1],t[3],t[5]]}function Ec(t,e){return t<=0&&e>=0||t>=0&&e<=0}function Tg(t,e){let n=0;for(let r=0;r<2;r++)for(let o=2;o<4;o++)for(let i=4;i<6;i++)e[n++]=[t[r],t[o],t[i]];return e}function Vx(t,e,n){return e[0]=t[0],e[1]=t[2],e[2]=t[4],n[0]=t[1],n[1]=t[3],n[2]=t[5],e}function Ux(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=Tg(t,[]);for(let o=0;o<r.length;++o)Be(r[o],r[o],e);return yg(n),bg(n,r)}function Gx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function zx(t,e,n,r){const o=[].concat(vd),i=t.getData();for(let a=0;a<i.length;a+=3){const s=[i[a],i[a+1],i[a+2]],u=Fe(s,e);o[0]=Math.min(u,o[0]),o[1]=Math.max(u,o[1]);const l=Fe(s,n);o[2]=Math.min(l,o[2]),o[3]=Math.max(l,o[3]);const f=Fe(s,r);o[4]=Math.min(f,o[4]),o[5]=Math.max(f,o[5])}return o}function jx(t,e,n,r,o){let i=!0;const a=[];let s=0;const u=[],l=[0,0,0],f=0,c=1,d=2;for(let p=0;p<3;p++)e[p]<t[2*p]?(a[p]=c,l[p]=t[2*p],i=!1):e[p]>t[2*p+1]?(a[p]=f,l[p]=t[2*p+1],i=!1):a[p]=d;if(i)return r[0]=e[0],r[1]=e[1],r[2]=e[2],o[0]=0,1;for(let p=0;p<3;p++)a[p]!==d&&n[p]!==0?u[p]=(l[p]-e[p])/n[p]:u[p]=-1;for(let p=0;p<3;p++)u[s]<u[p]&&(s=p);if(u[s]>1||u[s]<0)return 0;o[0]=u[s];for(let p=0;p<3;p++)if(s!==p){if(r[p]=e[p]+u[s]*n[p],r[p]<t[2*p]||r[p]>t[2*p+1])return 0}else r[p]=l[p];return 1}function Wx(t,e,n){const r=[];let o=0,i=1,a=1;for(let s=4;s<=5;++s){r[2]=t[s];for(let u=2;u<=3;++u){r[1]=t[u];for(let l=0;l<=1;++l)if(r[0]=t[l],o=Ci.evaluate(n,e,r),a&&(i=o>=0?1:-1,a=0),o===0||i>0&&o<0||i<0&&o>0)return 1}}return 0}function Hx(t,e){if(!(Mo(t)&&Mo(e)))return!1;const n=[0,0,0,0,0,0];let r;for(let o=0;o<3;o++)if(r=!1,e[o*2]>=t[o*2]&&e[o*2]<=t[o*2+1]?(r=!0,n[o*2]=e[o*2]):t[o*2]>=e[o*2]&&t[o*2]<=e[o*2+1]&&(r=!0,n[o*2]=t[o*2]),e[o*2+1]>=t[o*2]&&e[o*2+1]<=t[o*2+1]?(r=!0,n[o*2+1]=e[2*o+1]):t[o*2+1]>=e[o*2]&&t[o*2+1]<=e[o*2+1]&&(r=!0,n[o*2+1]=t[o*2+1]),!r)return!1;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],!0}function _f(t,e){if(!(Mo(t)&&Mo(e)))return!1;for(let n=0;n<3;n++)if(!(e[n*2]>=t[n*2]&&e[n*2]<=t[n*2+1])&&!(t[n*2]>=e[n*2]&&t[n*2]<=e[n*2+1])&&!(e[n*2+1]>=t[n*2]&&e[n*2+1]<=t[n*2+1])&&!(t[n*2+1]>=e[n*2]&&t[n*2+1]<=e[n*2+1]))return!1;return!0}function Af(t,e,n,r){return!(e<t[0]||e>t[1]||n<t[2]||n>t[3]||r<t[4]||r>t[5])}function bU(t,e){return!(!_f(t,e)||!Af(t,...Cg(e))||!Af(t,...wg(e)))}function $x(t,e,n){const r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],o=[0,0,0,0,0,0,0,0];let i=0;for(let c=0;c<2;c++)for(let d=2;d<4;d++)for(let p=4;p<6;p++){const h=[t[c],t[d],t[p]];o[i++]=Ci.evaluate(n,e,h)}let a=2;for(;a--&&!(Ec(o[r[a][0]],o[r[a][4]])&&Ec(o[r[a][1]],o[r[a][5]])&&Ec(o[r[a][2]],o[r[a][6]])&&Ec(o[r[a][3]],o[r[a][7]])););if(a<0)return!1;const s=Math.sign(n[a]),u=Math.abs((t[a*2+1]-t[a*2])*n[a]);let l=s>0?1:0;for(let c=0;c<4;c++){if(u===0)continue;const d=Math.abs(o[r[a][c]])/u;s>0&&d<l&&(l=d),s<0&&d>l&&(l=d)}const f=(1-l)*t[a*2]+l*t[a*2+1];return s>0?t[a*2]=f:t[a*2+1]=f,!0}class xU{constructor(e){this.bounds=e,this.bounds||(this.bounds=new Float64Array(vd))}getBounds(){return this.bounds}equals(e){return Ix(this.bounds,e)}isValid(){return Mo(this.bounds)}setBounds(e){return vg(this.bounds,e)}reset(){return yg(this.bounds)}addPoint(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Tf(this.bounds,...n)}addPoints(e){return bg(this.bounds,e)}addBounds(e,n,r,o,i,a){return Px(this.bounds,e,n,r,o,i,a)}setMinPoint(e,n,r){return Ox(this.bounds,e,n,r)}setMaxPoint(e,n,r){return Nx(this.bounds,e,n,r)}inflate(e){return Rx(this.bounds,e)}scale(e,n,r){return xg(this.bounds,e,n,r)}getCenter(){return Sg(this.bounds)}getLength(e){return zl(this.bounds,e)}getLengths(){return yd(this.bounds)}getMaxLength(){return Fx(this.bounds)}getDiagonalLength(){return Bx(this.bounds)}getMinPoint(){return Cg(this.bounds)}getMaxPoint(){return wg(this.bounds)}getXRange(){return Mx(this.bounds)}getYRange(){return kx(this.bounds)}getZRange(){return Lx(this.bounds)}getCorners(e){return Tg(this.bounds,e)}computeCornerPoints(e,n){return Vx(this.bounds,e,n)}computeLocalBounds(e,n,r){return zx(this.bounds,e,n,r)}transformBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Ux(this.bounds,e,n)}computeScale3(e){return Gx(this.bounds,e)}cutWithPlane(e,n){return $x(this.bounds,e,n)}intersectBox(e,n,r,o){return jx(this.bounds,e,n,r,o)}intersectPlane(e,n){return Wx(this.bounds,e,n)}intersect(e){return Hx(this.bounds,e)}intersects(e){return _f(this.bounds,e)}containsPoint(e,n,r){return Af(this.bounds,e,n,r)}contains(e){return _f(this.bounds,e)}}function SU(t){const e=t&&t.bounds;return new xU(e)}const CU={equals:Ix,isValid:Mo,setBounds:vg,reset:yg,addPoint:Tf,addPoints:bg,addBounds:Px,setMinPoint:Ox,setMaxPoint:Nx,inflate:Rx,scale:xg,scaleAboutCenter:yU,getCenter:Sg,getLength:zl,getLengths:yd,getMaxLength:Fx,getDiagonalLength:Bx,getMinPoint:Cg,getMaxPoint:wg,getXRange:Mx,getYRange:kx,getZRange:Lx,getCorners:Tg,computeCornerPoints:Vx,computeLocalBounds:zx,transformBounds:Ux,computeScale3:Gx,cutWithPlane:$x,intersectBox:jx,intersectPlane:Wx,intersect:Hx,intersects:_f,containsPoint:Af,contains:bU,INIT_BOUNDS:vd};var et=q({newInstance:SU},CU);const wU={DISPLAY:0,WORLD:1};var Kx={CoordinateSystem:wU};const{CoordinateSystem:mm}=Kx;function f3(t){return()=>V.vtkErrorMacro(`vtkProp::${t} - NOT IMPLEMENTED`)}function TU(t,e){e.classHierarchy.push("vtkProp"),t.getMTime=()=>{let n=e.mtime;for(let r=0;r<e.textures.length;++r){const o=e.textures[r].getMTime();o>n&&(n=o)}return n},t.processSelectorPixelBuffers=(n,r)=>{},t.getNestedProps=()=>null,t.getActors=()=>[],t.getActors2D=()=>[],t.getVolumes=()=>[],t.pick=f3("pick"),t.hasKey=f3("hasKey"),t.getNestedVisibility=()=>e.visibility&&(!e._parentProp||e._parentProp.getNestedVisibility()),t.getNestedPickable=()=>e.pickable&&(!e._parentProp||e._parentProp.getNestedPickable()),t.getNestedDragable=()=>e.dragable&&(!e._parentProp||e._parentProp.getNestedDragable()),t.getRedrawMTime=()=>e.mtime,t.setEstimatedRenderTime=n=>{e.estimatedRenderTime=n,e.savedEstimatedRenderTime=n},t.restoreEstimatedRenderTime=()=>{e.estimatedRenderTime=e.savedEstimatedRenderTime},t.addEstimatedRenderTime=n=>{e.estimatedRenderTime+=n},t.setAllocatedRenderTime=n=>{e.allocatedRenderTime=n,e.savedEstimatedRenderTime=e.estimatedRenderTime,e.estimatedRenderTime=0},t.getSupportsSelection=()=>!1,t.getTextures=()=>e.textures,t.hasTexture=n=>e.textures.indexOf(n)!==-1,t.addTexture=n=>{n&&!t.hasTexture(n)&&(e.textures=e.textures.concat(n),t.modified())},t.removeTexture=n=>{const r=e.textures.filter(o=>o!==n);e.textures.length!==r.length&&(e.textures=r,t.modified())},t.removeAllTextures=()=>{e.textures=[],t.modified()},t.setCoordinateSystemToWorld=()=>t.setCoordinateSystem(mm.WORLD),t.setCoordinateSystemToDisplay=()=>t.setCoordinateSystem(mm.DISPLAY)}const _U={allocatedRenderTime:10,coordinateSystem:mm.WORLD,dragable:!0,estimatedRenderTime:0,paths:null,pickable:!0,renderTimeMultiplier:1,savedEstimatedRenderTime:0,textures:[],useBounds:!0,visibility:!0};function qx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_U,n),V.obj(t,e),V.get(t,e,["estimatedRenderTime","allocatedRenderTime"]),V.setGet(t,e,["_parentProp","coordinateSystem","dragable","pickable","renderTimeMultiplier","useBounds","visibility"]),V.moveToProtected(t,e,["parentProp"]),TU(t,e)}const AU=V.newInstance(qx,"vtkProp");var Xx=q({newInstance:AU,extend:qx},Kx);function EU(t,e){e.classHierarchy.push("vtkProp3D"),t.addPosition=r=>{e.position=e.position.map((o,i)=>o+r[i]),t.modified()},t.getOrientationWXYZ=()=>{const r=wa();n8(r,e.rotation);const o=new Float64Array(3),i=gL(o,r);return[du(i),o[0],o[1],o[2]]},t.rotateX=r=>{r!==0&&(dd(e.rotation,e.rotation,At(r)),t.modified())},t.rotateY=r=>{r!==0&&(iu(e.rotation,e.rotation,At(r)),t.modified())},t.rotateZ=r=>{r!==0&&(pd(e.rotation,e.rotation,At(r)),t.modified())},t.rotateWXYZ=(r,o,i,a)=>{if(r===0||o===0&&i===0&&a===0)return;const s=At(r),u=wa();J1(u,[o,i,a],s);const l=new Float64Array(16);Y1(l,u),lt(e.rotation,e.rotation,l),t.modified()},t.setOrientation=(r,o,i)=>r===e.orientation[0]&&o===e.orientation[1]&&i===e.orientation[2]?!1:(e.orientation=[r,o,i],Le(e.rotation),t.rotateZ(i),t.rotateX(r),t.rotateY(o),t.modified(),!0),t.setUserMatrix=r=>ju(e.userMatrix,r)?!1:(gn(e.userMatrix,r),t.modified(),!0),t.getMatrix=()=>(t.computeMatrix(),e.matrix),t.computeMatrix=()=>{if(t.getMTime()>e.matrixMTime.getMTime()){Le(e.matrix),e.userMatrix&&lt(e.matrix,e.matrix,e.userMatrix),Ot(e.matrix,e.matrix,e.origin),Ot(e.matrix,e.matrix,e.position),lt(e.matrix,e.matrix,e.rotation),xi(e.matrix,e.matrix,e.scale),Ot(e.matrix,e.matrix,[-e.origin[0],-e.origin[1],-e.origin[2]]),pt(e.matrix,e.matrix),e.isIdentity=!0;for(let r=0;r<4;++r)for(let o=0;o<4;++o)(r===o?1:0)!==e.matrix[r+o*4]&&(e.isIdentity=!1);e.matrixMTime.modified()}},t.getCenter=()=>et.getCenter(e.bounds),t.getLength=()=>et.getLength(e.bounds),t.getXRange=()=>et.getXRange(e.bounds),t.getYRange=()=>et.getYRange(e.bounds),t.getZRange=()=>et.getZRange(e.bounds),t.getUserMatrix=()=>e.userMatrix;function n(){t.computeMatrix()}t.onModified(n)}const DU={origin:[0,0,0],position:[0,0,0],orientation:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null};function Yx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,DU,n),Xx.extend(t,e,n),e.matrixMTime={},V.obj(e.matrixMTime),V.get(t,e,["bounds","isIdentity"]),V.getArray(t,e,["orientation"]),V.setGetArray(t,e,["origin","position","scale"],3),e.matrix=Le(new Float64Array(16)),e.rotation=Le(new Float64Array(16)),e.userMatrix=Le(new Float64Array(16)),e.transform=null,EU(t,e)}const IU=V.newInstance(Yx,"vtkProp3D");var _g={newInstance:IU,extend:Yx};const Jx={FLAT:0,GOURAUD:1,PHONG:2},zr={POINTS:0,WIREFRAME:1,SURFACE:2},PU=Jx;var Zx={Shading:Jx,Representation:zr,Interpolation:PU};const{Representation:Il,Interpolation:Pl}=Zx;function d3(t){return()=>V.vtkErrorMacro(`vtkProperty::${t} - NOT IMPLEMENTED`)}function OU(t,e){e.classHierarchy.push("vtkProperty"),t.setColor=(n,r,o)=>{Array.isArray(n)?(e.color[0]!==n[0]||e.color[1]!==n[1]||e.color[2]!==n[2])&&(e.color[0]=n[0],e.color[1]=n[1],e.color[2]=n[2],t.modified()):(e.color[0]!==n||e.color[1]!==r||e.color[2]!==o)&&(e.color[0]=n,e.color[1]=r,e.color[2]=o,t.modified()),t.setDiffuseColor(e.color),t.setAmbientColor(e.color),t.setSpecularColor(e.color)},t.computeCompositeColor=d3("ComputeCompositeColor"),t.getColor=()=>{let n=0;e.ambient+e.diffuse+e.specular>0&&(n=1/(e.ambient+e.diffuse+e.specular));for(let r=0;r<3;r++)e.color[r]=n*(e.ambient*e.ambientColor[r]+e.diffuse*e.diffuseColor[r]+e.specular*e.specularColor[r]);return[].concat(e.color)},t.setSpecularPower=n=>{const r=1/Math.max(1,n);(e.roughness!==r||e.specularPower!==n)&&(e.specularPower=n,e.roughness=r,t.modified())},t.addShaderVariable=d3("AddShaderVariable"),t.setInterpolationToFlat=()=>t.setInterpolation(Pl.FLAT),t.setInterpolationToGouraud=()=>t.setInterpolation(Pl.GOURAUD),t.setInterpolationToPhong=()=>t.setInterpolation(Pl.PHONG),t.getInterpolationAsString=()=>V.enumToString(Pl,e.interpolation),t.setRepresentationToWireframe=()=>t.setRepresentation(Il.WIREFRAME),t.setRepresentationToSurface=()=>t.setRepresentation(Il.SURFACE),t.setRepresentationToPoints=()=>t.setRepresentation(Il.POINTS),t.getRepresentationAsString=()=>V.enumToString(Il,e.representation)}const NU={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,metallic:0,roughness:.6,normalStrength:1,emission:1,baseIOR:1.45,specular:0,specularPower:1,opacity:1,interpolation:Pl.GOURAUD,representation:Il.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null};function Qx(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,NU,n),V.obj(t,e),V.setGet(t,e,["lighting","interpolation","ambient","diffuse","metallic","roughness","normalStrength","emission","baseIOR","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation","diffuseTexture","metallicTexture","roughnessTexture","normalTexture","ambientOcclusionTexture","emissionTexture"]),V.setGetArray(t,e,["ambientColor","specularColor","diffuseColor","edgeColor"],3),OU(t,e)}const RU=V.newInstance(Qx,"vtkProperty");var Ma=q({newInstance:RU,extend:Qx},Zx);const{vtkDebugMacro:MU}=V;function kU(t,e){e.classHierarchy.push("vtkActor");const n=q({},t);t.getActors=()=>[t],t.getIsOpaque=()=>{if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();let r=e.property.getOpacity()>=1;return r=r&&(!e.texture||!e.texture.isTranslucent()),r=r&&(!e.mapper||e.mapper.getIsOpaque()),r},t.hasTranslucentPolygonalGeometry=()=>e.mapper===null?!1:(e.property===null&&t.setProperty(t.makeProperty()),!t.getIsOpaque()),t.makeProperty=Ma.newInstance,t.getProperty=()=>(e.property===null&&(e.property=t.makeProperty()),e.property),t.getBounds=()=>{if(e.mapper===null)return e.bounds;const r=e.mapper.getBounds();if(!r||r.length!==6)return r;if(r[0]>r[1])return e.mapperBounds=r.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),r;if(!e.mapperBounds||r[0]!==e.mapperBounds[0]||r[1]!==e.mapperBounds[1]||r[2]!==e.mapperBounds[2]||r[3]!==e.mapperBounds[3]||r[4]!==e.mapperBounds[4]||r[5]!==e.mapperBounds[5]||t.getMTime()>e.boundsMTime.getMTime()){MU("Recomputing bounds..."),e.mapperBounds=r.concat();const o=[];et.getCorners(r,o),t.computeMatrix();const i=new Float64Array(16);pt(i,e.matrix),o.forEach(a=>Be(a,a,i)),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map((a,s)=>s%2===0?o.reduce((u,l)=>u>l[s/2]?l[s/2]:u,a):o.reduce((u,l)=>u<l[(s-1)/2]?l[(s-1)/2]:u,a)),e.boundsMTime.modified()}return e.bounds},t.getMTime=()=>{let r=n.getMTime();if(e.property!==null){const o=e.property.getMTime();r=o>r?o:r}if(e.backfaceProperty!==null){const o=e.backfaceProperty.getMTime();r=o>r?o:r}return r},t.getRedrawMTime=()=>{let r=e.mtime;if(e.mapper!==null){let o=e.mapper.getMTime();r=o>r?o:r,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),o=e.mapper.getInput().getMTime(),r=o>r?o:r)}return r},t.getSupportsSelection=()=>e.mapper?e.mapper.getSupportsSelection():!1,t.processSelectorPixelBuffers=(r,o)=>{e.mapper&&e.mapper.processSelectorPixelBuffers&&e.mapper.processSelectorPixelBuffers(r,o)}}const LU={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1]};function e7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,LU,n),_g.extend(t,e,n),e.boundsMTime={},V.obj(e.boundsMTime),V.set(t,e,["property"]),V.setGet(t,e,["backfaceProperty","forceOpaque","forceTranslucent","mapper"]),kU(t,e)}const FU=V.newInstance(e7,"vtkActor");var ko={newInstance:FU,extend:e7};const bd={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ye={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},BU=Ye.FLOAT;var t7={DefaultDataType:BU,DataTypeByteSize:bd,VtkDataTypes:Ye};const{vtkErrorMacro:VU}=Mn,{DefaultDataType:UU}=t7,GU=1e-6;function gm(t,e,n){const r=t.length;let o=Number.MAX_VALUE,i=-Number.MAX_VALUE,a,s;for(s=e;s<r;s+=n)if(!Number.isNaN(t[s])){o=t[s],i=o;break}for(;s<r;s+=n)a=t[s],a<o?o=a:a>i&&(i=a);return{min:o,max:i}}function zU(){let t=Number.MAX_VALUE,e=-Number.MAX_VALUE,n=0,r=0;return{add(o){t>o&&(t=o),e<o&&(e=o),n++,r+=o},get(){return{min:t,max:e,count:n,sum:r,mean:r/n}},getRange(){return{min:t,max:e}}}}function n7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(e<0&&n>1){const r=t.length/n,o=new Float64Array(r);for(let i=0,a=0;i<r;++i){for(let s=a+n;a<s;++a)o[i]+=t[a]*t[a];o[i]=_e(o[i],.5)}return gm(o,0,1)}return gm(t,e<0?0:e,n)}function p3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=t||[];for(;n.length<=e;)n.push(null);return n}function Ag(t){return Object.prototype.toString.call(t).slice(8,-1)}function jU(t){const e=t.getNumberOfComponents();let n=0;const r=new Array(e);for(let o=0;o<t.getNumberOfTuples();++o){t.getTuple(o,r);const i=sr(r,e);i>n&&(n=i)}return n}const WU={computeRange:n7,createRangeHelper:zU,fastComputeRange:gm,getDataType:Ag,getMaxNorm:jU};function HU(t,e){e.classHierarchy.push("vtkDataArray");function n(r){if(r<0)return!1;const o=t.getNumberOfComponents(),i=e.values.length/(o>0?o:1);if(r===i)return!0;if(r>i){const a=e.values;return e.values=Ta(e.dataType,(r+i)*o),e.values.set(a),!0}return e.size>r*o&&(e.size=r*o,t.dataChange()),!0}t.dataChange=()=>{e.ranges=null,t.modified()},t.resize=r=>{n(r);const o=r*t.getNumberOfComponents();return e.size!==o?(e.size=o,t.dataChange(),!0):!1},t.initialize=()=>{t.resize(0)},t.getElementComponentSize=()=>e.values.BYTES_PER_ELEMENT,t.getComponent=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[r*e.numberOfComponents+o]},t.setComponent=(r,o,i)=>{i!==e.values[r*e.numberOfComponents+o]&&(e.values[r*e.numberOfComponents+o]=i,t.dataChange())},t.getValue=r=>{const o=r/e.numberOfComponents,i=r%e.numberOfComponents;return t.getComponent(o,i)},t.setValue=(r,o)=>{const i=r/e.numberOfComponents,a=r%e.numberOfComponents;t.setComponent(i,a,o)},t.getData=()=>e.size===e.values.length?e.values:e.values.subarray(0,e.size),t.getRange=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,o=r;o<0&&(o=e.numberOfComponents===1?0:e.numberOfComponents);let i=null;return e.ranges||(e.ranges=p3(e.ranges,e.numberOfComponents)),i=e.ranges[o],i?(e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple):(i=n7(t.getData(),r,e.numberOfComponents),e.ranges[o]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple)},t.setRange=(r,o)=>{e.ranges||(e.ranges=p3(e.ranges,e.numberOfComponents));const i={min:r.min,max:r.max};return e.ranges[o]=i,e.rangeTuple[0]=i.min,e.rangeTuple[1]=i.max,e.rangeTuple},t.setTuple=(r,o)=>{const i=r*e.numberOfComponents;for(let a=0;a<e.numberOfComponents;a++)e.values[i+a]=o[a]},t.setTuples=(r,o)=>{let i=r*e.numberOfComponents;const a=Math.min(o.length,e.size-i);for(let s=0;s<a;)e.values[i++]=o[s++]},t.insertTuple=(r,o)=>(e.size<=r*e.numberOfComponents&&(e.size=(r+1)*e.numberOfComponents,n(r+1)),t.setTuple(r,o),r),t.insertTuples=(r,o)=>{const i=r+o.length/e.numberOfComponents;return e.size<i*e.numberOfComponents&&(e.size=i*e.numberOfComponents,n(i)),t.setTuples(r,o),i},t.insertNextTuple=r=>{const o=e.size/e.numberOfComponents;return t.insertTuple(o,r)},t.insertNextTuples=r=>{const o=e.size/e.numberOfComponents;return t.insertTuples(o,r)},t.findTuple=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GU;for(let i=0;i<e.size;i+=e.numberOfComponents)if(Math.abs(r[0]-e.values[i])<=o){let a=!0;for(let s=1;s<e.numberOfComponents;++s)if(Math.abs(r[s]-e.values[i+s])>o){a=!1;break}if(a)return i/e.numberOfComponents}return-1},t.getTuple=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=e.numberOfComponents||1,a=r*i;switch(i){case 4:o[3]=e.values[a+3];case 3:o[2]=e.values[a+2];case 2:o[1]=e.values[a+1];case 1:o[0]=e.values[a];break;default:for(let s=i-1;s>=0;--s)o[s]=e.values[a+s]}return o},t.getTuples=(r,o)=>{const i=(r!=null?r:0)*e.numberOfComponents,a=(o!=null?o:t.getNumberOfTuples())*e.numberOfComponents,s=t.getData().subarray(i,a);return s.length>0?s:null},t.getTupleLocation=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*e.numberOfComponents},t.getNumberOfComponents=()=>e.numberOfComponents,t.getNumberOfValues=()=>e.size,t.getNumberOfTuples=()=>e.size/e.numberOfComponents,t.getDataType=()=>e.dataType,t.newClone=()=>o7({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents}),t.getName=()=>(e.name||(t.modified(),e.name=`vtkDataArray${t.getMTime()}`),e.name),t.setData=(r,o)=>{e.values=r,e.size=r.length,e.dataType=Ag(r),o&&(e.numberOfComponents=o),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),t.dataChange()},t.getState=()=>{if(e.deleted)return null;const r=Oe(q({},e),{vtkClass:t.getClassName()});r.values=Array.from(r.values),delete r.buffer,Object.keys(r).forEach(i=>{r[i]||delete r[i]});const o={};return Object.keys(r).sort().forEach(i=>{o[i]=r[i]}),o.mtime&&delete o.mtime,o},t.deepCopy=r=>{const o=t.getDataType(),i=e.values;t.shallowCopy(r),(i==null?void 0:i.length)>=r.getNumberOfValues()&&o===r.getDataType()?(i.set(r.getData()),e.values=i,t.dataChange()):t.setData(r.getData().slice())},t.interpolateTuple=(r,o,i,a,s,u)=>{const l=e.numberOfComponents||1;(l!==o.getNumberOfComponents()||l!==a.getNumberOfComponents())&&VU("numberOfComponents must match");const f=o.getTuple(i),c=a.getTuple(s),d=[];switch(d.length=l,l){case 4:d[3]=f[3]+(c[3]-f[3])*u;case 3:d[2]=f[2]+(c[2]-f[2])*u;case 2:d[1]=f[1]+(c[1]-f[1])*u;case 1:d[0]=f[0]+(c[0]-f[0])*u;break;default:for(let p=0;p<l;p++)d[p]=f[p]+(c[p]-f[p])*u}return t.insertTuple(r,d)}}const $U={name:"",numberOfComponents:1,dataType:UU,rangeTuple:[0,0]};function r7(t,e){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,$U,n),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");if(e.values?Array.isArray(e.values)&&(e.values=hd(e.dataType,e.values)):e.values=Ta(e.dataType,e.size),e.values&&(e.size=(r=e.size)!=null?r:e.values.length,e.dataType=Ag(e.values)),Yt(t,e),Bu(t,e,["name","numberOfComponents"]),e.size%e.numberOfComponents!==0)throw new RangeError("model.size is not a multiple of model.numberOfComponents");HU(t,e)}const o7=Ct(r7,"vtkDataArray");var Ce=q(q({newInstance:o7,extend:r7},WU),t7);function KU(t,e){e.classHierarchy.push("vtkAbstractMapper"),t.update=()=>{t.getInputData()},t.addClippingPlane=n=>n.isA("vtkPlane")?e.clippingPlanes.includes(n)?!1:(e.clippingPlanes.push(n),t.modified(),!0):!1,t.getNumberOfClippingPlanes=()=>e.clippingPlanes.length,t.removeAllClippingPlanes=()=>e.clippingPlanes.length===0?!1:(e.clippingPlanes.length=0,t.modified(),!0),t.removeClippingPlane=n=>{const r=e.clippingPlanes.indexOf(n);return r===-1?!1:(e.clippingPlanes.splice(r,1),t.modified(),!0)},t.getClippingPlanes=()=>e.clippingPlanes,t.setClippingPlanes=n=>{if(n)if(!Array.isArray(n))t.addClippingPlane(n);else{const r=n.length;for(let o=0;o<r&&o<6;o++)t.addClippingPlane(n[o])}},t.getClippingPlaneInDataCoords=(n,r,o)=>{const i=e.clippingPlanes,a=n;if(i){const s=i.length;if(r>=0&&r<s){const u=i[r],l=u.getNormal(),f=u.getOrigin(),c=l[0],d=l[1],p=l[2],h=-(c*f[0]+d*f[1]+p*f[2]);o[0]=c*a[0]+d*a[4]+p*a[8]+h*a[12],o[1]=c*a[1]+d*a[5]+p*a[9]+h*a[13],o[2]=c*a[2]+d*a[6]+p*a[10]+h*a[14],o[3]=c*a[3]+d*a[7]+p*a[11]+h*a[15];return}}V.vtkErrorMacro(`Clipping plane index ${r} is out of range.`)}}const qU={clippingPlanes:[]};function XU(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qU,n),V.obj(t,e),V.algo(t,e,1,0),e.clippingPlanes||(e.clippingPlanes=[]),KU(t,e)}var Eg={extend:XU};function YU(t,e){t.getBounds=()=>(V.vtkErrorMacro("vtkAbstractMapper3D.getBounds - NOT IMPLEMENTED"),Ro()),t.getCenter=()=>{var n;const r=t.getBounds();return e.center=et.isValid(r)?et.getCenter(r):null,(n=e.center)==null?void 0:n.slice()},t.getLength=()=>{const n=t.getBounds();return et.getDiagonalLength(n)}}const JU=t=>q({bounds:[...et.INIT_BOUNDS],center:[0,0,0],viewSpecificProperties:{}},t);function ZU(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,JU(n)),Eg.extend(t,e,n),V.setGet(t,e,["viewSpecificProperties"]),YU(t,e)}var i7={extend:ZU};const{vtkErrorMacro:h3,vtkWarningMacro:QU}=V;function eG(t,e){e.classHierarchy.push("vtkFieldData");const n=t.getState;e.arrays&&(e.arrays=e.arrays.map(r=>({data:Tn(r.data)}))),t.initialize=()=>{t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=()=>{e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=r=>{t.initializeFields(),e.copyFieldFlags=r.getCopyFieldFlags().map(o=>o),e.arrays=r.arrays().map(o=>({array:o}))},t.getNumberOfArrays=()=>e.arrays.length,t.getNumberOfActiveArrays=()=>e.arrays.length,t.addArray=r=>{const o=r.getName(),{array:i,index:a}=t.getArrayWithIndex(o);return i!=null?(e.arrays[a]={data:r},a):(e.arrays=[].concat(e.arrays,{data:r}),e.arrays.length-1)},t.removeAllArrays=()=>{e.arrays=[]},t.removeArray=r=>{const o=e.arrays.findIndex(i=>i.data.getName()===r);return t.removeArrayByIndex(o)},t.removeArrayByIndex=r=>r!==-1&&r<e.arrays.length?(e.arrays.splice(r,1),!0):!1,t.getArrays=()=>e.arrays.map(r=>r.data),t.getArray=r=>typeof r=="number"?t.getArrayByIndex(r):t.getArrayByName(r),t.getArrayByName=r=>e.arrays.reduce((o,i,a)=>i.data.getName()===r?i.data:o,null),t.getArrayWithIndex=r=>{const o=e.arrays.findIndex(i=>i.data.getName()===r);return{array:o!==-1?e.arrays[o].data:null,index:o}},t.getArrayByIndex=r=>r>=0&&r<e.arrays.length?e.arrays[r].data:null,t.hasArray=r=>t.getArrayWithIndex(r).index>=0,t.getArrayName=r=>{const o=e.arrays[r];return o?o.data.getName():""},t.getCopyFieldFlags=()=>e.copyFieldFlags,t.getFlag=r=>e.copyFieldFlags[r],t.passData=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;r.getArrays().forEach(a=>{const s=t.getFlag(a.getName());if(s!==!1&&!(e.doCopyAllOff&&s!==!0)&&a){let u=t.getArrayByName(a.getName());if(u)if(a.getNumberOfComponents()===u.getNumberOfComponents())if(o>-1&&o<a.getNumberOfTuples()){const l=i>-1?i:o;u.insertTuple(l,a.getTuple(o))}else u.insertTuples(0,a.getTuples());else h3("Unhandled case in passData");else if(o<0||o>a.getNumberOfTuples())t.addArray(a),r.getAttributes(a).forEach(l=>{t.setAttribute(a,l)});else{const l=a.getNumberOfComponents();let f=a.getNumberOfValues();const c=i>-1?i:o;f<=c*l&&(f=(c+1)*l),u=Ce.newInstance({name:a.getName(),dataType:a.getDataType(),numberOfComponents:l,values:V.newTypedArray(a.getDataType(),f),size:0}),u.insertTuple(c,a.getTuple(o)),t.addArray(u),r.getAttributes(a).forEach(d=>{t.setAttribute(u,d)})}}})},t.interpolateData=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5;r.getArrays().forEach(u=>{const l=t.getFlag(u.getName());if(l!==!1&&!(e.doCopyAllOff&&l!==!0)&&u){let f=t.getArrayByName(u.getName());if(f)if(u.getNumberOfComponents()===f.getNumberOfComponents())if(o>-1&&o<u.getNumberOfTuples()){const c=a>-1?a:o;f.interpolateTuple(c,u,o,u,i,s),QU("Unexpected case in interpolateData")}else f.insertTuples(u.getTuples());else h3("Unhandled case in interpolateData");else if(o<0||i<0||o>u.getNumberOfTuples())t.addArray(u),r.getAttributes(u).forEach(c=>{t.setAttribute(u,c)});else{const c=u.getNumberOfComponents();let d=u.getNumberOfValues();const p=a>-1?a:o;d<=p*c&&(d=(p+1)*c),f=Ce.newInstance({name:u.getName(),dataType:u.getDataType(),numberOfComponents:c,values:V.newTypedArray(u.getDataType(),d),size:0}),f.interpolateTuple(p,u,o,u,i,s),t.addArray(f),r.getAttributes(u).forEach(h=>{t.setAttribute(f,h)})}}})},t.copyFieldOn=r=>{e.copyFieldFlags[r]=!0},t.copyFieldOff=r=>{e.copyFieldFlags[r]=!1},t.copyAllOn=()=>{(!e.doCopyAllOn||e.doCopyAllOff)&&(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=()=>{(e.doCopyAllOn||!e.doCopyAllOff)&&(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=()=>{e.copyFieldFlags={}},t.deepCopy=r=>{e.arrays=r.getArrays().map(o=>{const i=o.newClone();return i.deepCopy(o),{data:i}})},t.copyFlags=r=>r.getCopyFieldFlags().map(o=>o),t.reset=()=>e.arrays.forEach(r=>r.data.reset()),t.getMTime=()=>e.arrays.reduce((r,o)=>o.data.getMTime()>r?o.data.getMTime():r,e.mtime),t.getNumberOfComponents=()=>e.arrays.reduce((r,o)=>r+o.data.getNumberOfComponents(),0),t.getNumberOfTuples=()=>e.arrays.length>0?e.arrays[0].getNumberOfTuples():0,t.getState=()=>{const r=n();return r&&(r.arrays=e.arrays.map(o=>({data:o.data.getState()}))),r}}const tG={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function a7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,tG,n),V.obj(t,e),eG(t,e)}const nG=V.newInstance(a7,"vtkFieldData");var rG={newInstance:nG,extend:a7};const s7={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},oG={MAX:0,EXACT:1,NOLIMIT:2},iG={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},aG={DUPLICATEPOINT:1,HIDDENPOINT:2},sG={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},lG="vtkGhostType",Aa={DEFAULT:0,SINGLE:1,DOUBLE:2};var l7={AttributeCopyOperations:sG,AttributeLimitTypes:oG,AttributeTypes:s7,CellGhostTypes:iG,DesiredOutputPrecision:Aa,PointGhostTypes:aG,ghostArrayName:lG};const{AttributeTypes:qo,AttributeCopyOperations:Mi}=l7,{vtkWarningMacro:Dc}=V;function uG(t,e){const n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(a){let s=n.find(u=>qo[u.toUpperCase()]===a||typeof a!="number"&&u.toLowerCase()===a.toLowerCase());return typeof s>"u"&&(s=null),s}e.classHierarchy.push("vtkDataSetAttributes");const o=q({},t);t.checkNumberOfComponents=a=>!0,t.setAttribute=(a,s)=>{const u=r(s);if(a&&u.toUpperCase()==="PEDIGREEIDS"&&!a.isA("vtkDataArray"))return Dc(`Cannot set attribute ${u}. The attribute must be a vtkDataArray.`),-1;if(a&&!t.checkNumberOfComponents(a,u))return Dc(`Cannot set attribute ${u}. Incorrect number of components.`),-1;let l=e[`active${u}`];if(l>=0&&l<e.arrays.length){if(e.arrays[l]===a)return l;t.removeArrayByIndex(l)}return a?(l=t.addArray(a),e[`active${u}`]=l):e[`active${u}`]=-1,t.modified(),e[`active${u}`]},t.getAttributes=a=>n.filter(s=>t[`get${s}`]()===a),t.setActiveAttributeByName=(a,s)=>t.setActiveAttributeByIndex(t.getArrayWithIndex(a).index,s),t.setActiveAttributeByIndex=(a,s)=>{const u=r(s);if(a>=0&&a<e.arrays.length){if(u.toUpperCase()!=="PEDIGREEIDS"){const l=t.getArrayByIndex(a);if(!l.isA("vtkDataArray"))return Dc(`Cannot set attribute ${u}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!t.checkNumberOfComponents(l,u))return Dc(`Cannot set attribute ${u}. Incorrect number of components.`),-1}return e[`active${u}`]=a,t.modified(),a}return a===-1&&(e[`active${u}`]=a,t.modified()),-1},t.getActiveAttribute=a=>{const s=r(a);return t[`get${s}`]()},t.removeAllArrays=()=>{n.forEach(a=>{e[`active${a}`]=-1}),o.removeAllArrays()},t.removeArrayByIndex=a=>(a!==-1&&n.forEach(s=>{a===e[`active${s}`]?e[`active${s}`]=-1:a<e[`active${s}`]&&(e[`active${s}`]-=1)}),o.removeArrayByIndex(a)),n.forEach(a=>{const s=`active${a}`;t[`get${a}`]=()=>t.getArrayByIndex(e[s]),t[`set${a}`]=u=>t.setAttribute(u,a),t[`setActive${a}`]=u=>t.setActiveAttributeByIndex(t.getArrayWithIndex(u).index,a),t[`copy${a}Off`]=()=>{const u=a.toUpperCase();e.copyAttributeFlags[Mi.PASSDATA][qo[u]]=!1},t[`copy${a}On`]=()=>{const u=a.toUpperCase();e.copyAttributeFlags[Mi.PASSDATA][qo[u]]=!0}}),t.initializeAttributeCopyFlags=()=>{e.copyAttributeFlags=[],Object.keys(Mi).filter(a=>a!=="ALLCOPY").forEach(a=>{e.copyAttributeFlags[Mi[a]]=Object.keys(qo).filter(s=>s!=="NUM_ATTRIBUTES").reduce((s,u)=>(s[qo[u]]=!0,s),[])}),e.copyAttributeFlags[Mi.COPYTUPLE][qo.GLOBALIDS]=!1,e.copyAttributeFlags[Mi.INTERPOLATE][qo.GLOBALIDS]=!1,e.copyAttributeFlags[Mi.COPYTUPLE][qo.PEDIGREEIDS]=!1},t.initialize=V.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach(a=>{!e.dataArrays[a].ref&&e.dataArrays[a].type==="vtkDataArray"&&t.addArray(Ce.newInstance(e.dataArrays[a]))});const i=t.shallowCopy;t.shallowCopy=(a,s)=>{i(a,s),e.arrays=a.getArrays().map(u=>{const l=u.newClone();return l.shallowCopy(u,s),{data:l}})},t.initializeAttributeCopyFlags()}const cG={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function u7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,cG,n),rG.extend(t,e,n),V.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),uG(t,e)}const fG=V.newInstance(u7,"vtkDataSetAttributes");var m3=q({newInstance:fG,extend:u7},l7);const $t={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},Dg={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7};var dG={FieldDataTypes:$t,FieldAssociations:Dg};const vm=["pointData","cellData","fieldData"];function pG(t,e){e.classHierarchy.push("vtkDataSet"),vm.forEach(r=>{e[r]?e[r]=Tn(e[r]):e[r]=m3.newInstance()});const n=t.shallowCopy;t.shallowCopy=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,o),vm.forEach(i=>{e[i]=m3.newInstance(),e[i].shallowCopy(r.getReferenceByName(i))})}}const hG={};function c7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,hG,n),V.obj(t,e),V.setGet(t,e,vm),pG(t,e)}const mG=V.newInstance(c7,"vtkDataSet");var ka=q({newInstance:mG,extend:c7},dG);const Dr={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};var f7={StructuredType:Dr};const{StructuredType:po}=f7;function gG(t){let e=0;for(let n=0;n<3;++n)t[n*2]<t[n*2+1]&&e++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?po.EMPTY:e===3?po.XYZ_GRID:e===2?t[0]===t[1]?po.YZ_PLANE:t[2]===t[3]?po.XZ_PLANE:po.XY_PLANE:e===1?t[0]<t[1]?po.X_LINE:t[2]<t[3]?po.Y_LINE:po.Z_LINE:po.SINGLE_POINT}var vG=q({getDataDescriptionFromExtent:gG},f7);const{vtkErrorMacro:ki}=V;function yG(t,e){e.classHierarchy.push("vtkImageData"),t.setExtent=function(){if(e.deleted)return ki("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=r.length===1?r[0]:r;if(i.length!==6)return!1;const a=e.extent.some((s,u)=>s!==i[u]);return a&&(e.extent=i.slice(),e.dataDescription=vG.getDataDescriptionFromExtent(e.extent),t.modified()),a},t.setDimensions=function(){let n,r,o;if(e.deleted){ki("instance deleted - cannot call any method");return}if(arguments.length===1){const i=arguments.length<=0?void 0:arguments[0];n=i[0],r=i[1],o=i[2]}else if(arguments.length===3)n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2];else{ki("Bad dimension specification");return}t.setExtent(0,n-1,0,r-1,0,o-1)},t.getDimensions=()=>[e.extent[1]-e.extent[0]+1,e.extent[3]-e.extent[2]+1,e.extent[5]-e.extent[4]+1],t.getNumberOfCells=()=>{const n=t.getDimensions();let r=1;for(let o=0;o<3;o++){if(n[o]===0)return 0;n[o]>1&&(r*=n[o]-1)}return r},t.getNumberOfPoints=()=>{const n=t.getDimensions();return n[0]*n[1]*n[2]},t.getPoint=n=>{const r=t.getDimensions();if(r[0]===0||r[1]===0||r[2]===0)return ki("Requesting a point from an empty image."),null;const o=new Float64Array(3);switch(e.dataDescription){case Dr.EMPTY:return null;case Dr.SINGLE_POINT:break;case Dr.X_LINE:o[0]=n;break;case Dr.Y_LINE:o[1]=n;break;case Dr.Z_LINE:o[2]=n;break;case Dr.XY_PLANE:o[0]=n%r[0],o[1]=n/r[0];break;case Dr.YZ_PLANE:o[1]=n%r[1],o[2]=n/r[1];break;case Dr.XZ_PLANE:o[0]=n%r[0],o[2]=n/r[0];break;case Dr.XYZ_GRID:o[0]=n%r[0],o[1]=n/r[0]%r[1],o[2]=n/(r[0]*r[1]);break;default:ki("Invalid dataDescription");break}const i=[0,0,0];return t.indexToWorld(o,i),i},t.getBounds=()=>t.extentToBounds(t.getSpatialExtent()),t.extentToBounds=n=>et.transformBounds(n,e.indexToWorld),t.getSpatialExtent=()=>et.inflate([...e.extent],.5),t.computeTransforms=()=>{Z9(e.indexToWorld,e.origin),e.indexToWorld[0]=e.direction[0],e.indexToWorld[1]=e.direction[1],e.indexToWorld[2]=e.direction[2],e.indexToWorld[4]=e.direction[3],e.indexToWorld[5]=e.direction[4],e.indexToWorld[6]=e.direction[5],e.indexToWorld[8]=e.direction[6],e.indexToWorld[9]=e.direction[7],e.indexToWorld[10]=e.direction[8],xi(e.indexToWorld,e.indexToWorld,e.spacing),Jn(e.worldToIndex,e.indexToWorld)},t.indexToWorld=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Be(r,n,e.indexToWorld),r},t.indexToWorldVec3=t.indexToWorld,t.worldToIndex=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Be(r,n,e.worldToIndex),r},t.worldToIndexVec3=t.worldToIndex,t.indexToWorldBounds=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return et.transformBounds(n,e.indexToWorld,r)},t.worldToIndexBounds=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return et.transformBounds(n,e.worldToIndex,r)},t.onModified(t.computeTransforms),t.computeTransforms(),t.getCenter=()=>et.getCenter(t.getBounds()),t.computeHistogram=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const o=[0,0,0,0,0,0];t.worldToIndexBounds(n,o);const i=[0,0,0],a=[0,0,0];et.computeCornerPoints(o,i,a),cm(i,i),cm(a,a);const s=t.getDimensions();dm(i,[0,0,0],[s[0]-1,s[1]-1,s[2]-1],i),dm(a,[0,0,0],[s[0]-1,s[1]-1,s[2]-1],a);const u=s[0],l=s[0]*s[1],f=t.getPointData().getScalars().getData();let c=-1/0,d=1/0,p=0,h=0,m=0;for(let g=i[2];g<=a[2];g++)for(let x=i[1];x<=a[1];x++){let S=i[0]+x*u+g*l;for(let C=i[0];C<=a[0];C++){if(!r||r([C,x,g],o)){const w=f[S];w>c&&(c=w),w<d&&(d=w),p+=w*w,h+=w,m+=1}++S}}const y=m>0?h/m:0,b=m?Math.abs(p/m-y*y):0,v=Math.sqrt(b);return{minimum:d,maximum:c,average:y,variance:b,sigma:v,count:m}},t.computeIncrements=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const o=[];let i=r;for(let a=0;a<3;++a)o[a]=i,i*=n[a*2+1]-n[a*2]+1;return o},t.computeOffsetIndex=n=>{let[r,o,i]=n;const a=t.getExtent(),s=t.getPointData().getScalars().getNumberOfComponents(),u=t.computeIncrements(a,s);return Math.floor((Math.round(r)-a[0])*u[0]+(Math.round(o)-a[2])*u[1]+(Math.round(i)-a[4])*u[2])},t.getOffsetIndexFromWorld=n=>{const r=t.getExtent(),o=t.worldToIndex(n);for(let i=0;i<3;++i)if(o[i]<r[i*2]||o[i]>r[i*2+1])return ki(`GetScalarPointer: Pixel ${o} is not in memory. Current extent = ${r}`),NaN;return t.computeOffsetIndex(o)},t.getScalarValueFromWorld=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const o=t.getPointData().getScalars().getNumberOfComponents();if(r<0||r>=o)return ki(`GetScalarPointer: Scalar Component ${r} is not within bounds. Current Scalar numberOfComponents: ${o}`),NaN;const i=t.getOffsetIndexFromWorld(n);return Number.isNaN(i)?i:t.getPointData().getScalars().getComponent(i,r)}}const bG={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:Dr.EMPTY};function d7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,bG,n),ka.extend(t,e,n),e.direction?Array.isArray(e.direction)&&(e.direction=new Float64Array(e.direction.slice(0,9))):e.direction=Wr(new Float64Array(9)),e.indexToWorld=new Float64Array(16),e.worldToIndex=new Float64Array(16),V.get(t,e,["indexToWorld","worldToIndex"]),V.setGetArray(t,e,["origin","spacing"],3),V.setGetArray(t,e,["direction"],9),V.getArray(t,e,["extent"],6),yG(t,e)}const xG=V.newInstance(d7,"vtkImageData");var Ig={newInstance:xG,extend:d7};const SG={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},ym={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4};var Pg={VectorMode:SG,ScalarMappingTarget:ym};const CG={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},wG={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},TG={BY_ID:0,BY_NAME:1};var xd={ColorMode:CG,GetArray:TG,ScalarMode:wG};const{ScalarMappingTarget:g3,VectorMode:Yr}=Pg,{VtkDataTypes:Li}=Ce,{ColorMode:Ic}=xd,{vtkErrorMacro:v3}=V;function _G(t){return t}function y3(t){return Math.floor(t*255+.5)}function AG(t,e){e.classHierarchy.push("vtkScalarsToColors"),t.setVectorModeToMagnitude=()=>t.setVectorMode(Yr.MAGNITUDE),t.setVectorModeToComponent=()=>t.setVectorMode(Yr.COMPONENT),t.setVectorModeToRGBColors=()=>t.setVectorMode(Yr.RGBCOLORS),t.build=()=>{},t.isOpaque=()=>!0,t.setAnnotations=(n,r)=>{if(!(n&&!r||!n&&r)){if(n&&r&&n.length!==r.length){v3("Values and annotations do not have the same number of tuples so ignoring");return}if(e.annotationArray=[],r&&n){const o=r.length;for(let i=0;i<o;i++)e.annotationArray.push({value:n[i],annotation:String(r[i])})}t.updateAnnotatedValueMap(),t.modified()}},t.setAnnotation=(n,r)=>{let o=t.checkForAnnotatedValue(n),i=!1;return o>=0?e.annotationArray[o].annotation!==r&&(e.annotationArray[o].annotation=r,i=!0):(e.annotationArray.push({value:n,annotation:r}),o=e.annotationArray.length-1,i=!0),i&&(t.updateAnnotatedValueMap(),t.modified()),o},t.getNumberOfAnnotatedValues=()=>e.annotationArray.length,t.getAnnotatedValue=n=>n<0||n>=e.annotationArray.length?null:e.annotationArray[n].value,t.getAnnotation=n=>e.annotationArray[n]===void 0?null:e.annotationArray[n].annotation,t.getAnnotatedValueIndex=n=>e.annotationArray.length?t.checkForAnnotatedValue(n):-1,t.removeAnnotation=n=>{const r=t.checkForAnnotatedValue(n),o=r>=0;return o&&(e.annotationArray.splice(r,1),t.updateAnnotatedValueMap(),t.modified()),o},t.resetAnnotations=()=>{e.annotationArray=[],e.annotatedValueMap=[],t.modified()},t.getAnnotationColor=(n,r)=>{if(e.indexedLookup){const o=t.getAnnotatedValueIndex(n);t.getIndexedColor(o,r)}else t.getColor(parseFloat(n),r),r[3]=1},t.checkForAnnotatedValue=n=>t.getAnnotatedValueIndexInternal(n),t.getAnnotatedValueIndexInternal=n=>{if(e.annotatedValueMap[n]!==void 0){const r=e.annotationArray.length;return e.annotatedValueMap[n]%r}return-1},t.getIndexedColor=(n,r)=>{r[0]=0,r[1]=0,r[2]=0,r[3]=0},t.updateAnnotatedValueMap=()=>{e.annotatedValueMap=[];const n=e.annotationArray.length;for(let r=0;r<n;r++)e.annotatedValueMap[e.annotationArray[r].value]=r},t.mapScalars=(n,r,o)=>{const i=n.getNumberOfComponents();let a=null;if(r===Ic.DEFAULT&&n.getDataType()===Li.UNSIGNED_CHAR||r===Ic.DIRECT_SCALARS&&n)a=t.convertToRGBA(n,i,n.getNumberOfTuples());else{const s={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:Li.UNSIGNED_CHAR},u=V.newTypedArray(s.dataType,4*n.getNumberOfTuples());s.values=u,s.size=u.length,a=Ce.newInstance(s);let l=o;l<0&&i>1?t.mapVectorsThroughTable(n,a,g3.RGBA,-1,-1):(l<0&&(l=0),l>=i&&(l=i-1),t.mapScalarsThroughTable(n,a,g3.RGBA,l))}return a},t.mapVectorsToMagnitude=(n,r,o)=>{const i=n.getNumberOfTuples(),a=n.getNumberOfComponents(),s=r.getData(),u=n.getData();for(let l=0;l<i;l++){let f=0;for(let c=0;c<o;c++)f+=u[l*a+c]*u[l*a+c];s[l]=Math.sqrt(f)}},t.mapVectorsThroughTable=(n,r,o,i,a)=>{let s=t.getVectorMode(),u=a,l=i;const f=n.getNumberOfComponents();s===Yr.COMPONENT?(l===-1&&(l=t.getVectorComponent()),l<0&&(l=0),l>=f&&(l=f-1)):(u===-1&&(u=t.getVectorSize()),u<=0?(l=0,u=f):(l<0&&(l=0),l>=f&&(l=f-1),l+u>f&&(u=f-l)),s===Yr.MAGNITUDE&&(f===1||u===1)&&(s=Yr.COMPONENT));let c=0;switch(l>0&&(c=l),s){case Yr.COMPONENT:{t.mapScalarsThroughTable(n,r,o,c);break}case Yr.RGBCOLORS:break;case Yr.MAGNITUDE:default:{const d=Ce.newInstance({numberOfComponents:1,values:new Float32Array(n.getNumberOfTuples())});t.mapVectorsToMagnitude(n,d,u),t.mapScalarsThroughTable(d,r,o,0);break}}},t.luminanceToRGBA=(n,r,o,i)=>{const a=i(o),s=r.getData(),u=n.getData(),l=s.length,f=0,c=1;let d=0;for(let p=f;p<l;p+=c){const h=i(s[p]);u[d*4]=h,u[d*4+1]=h,u[d*4+2]=h,u[d*4+3]=a,d++}},t.luminanceAlphaToRGBA=(n,r,o,i)=>{const a=r.getData(),s=n.getData(),u=a.length,l=0,f=2;let c=0;for(let d=l;d<u;d+=f){const p=i(a[d]);s[c]=p,s[c+1]=p,s[c+2]=p,s[c+3]=i(a[d+1])*o,c+=4}},t.rGBToRGBA=(n,r,o,i)=>{const a=y3(o),s=r.getData(),u=n.getData(),l=s.length,f=0,c=3;let d=0;for(let p=f;p<l;p+=c)u[d*4]=i(s[p]),u[d*4+1]=i(s[p+1]),u[d*4+2]=i(s[p+2]),u[d*4+3]=a,d++},t.rGBAToRGBA=(n,r,o,i)=>{const a=r.getData(),s=n.getData(),u=a.length,l=0,f=4;let c=0;for(let d=l;d<u;d+=f)s[c*4]=i(a[d]),s[c*4+1]=i(a[d+1]),s[c*4+2]=i(a[d+2]),s[c*4+3]=i(a[d+3])*o,c++},t.convertToRGBA=(n,r,o)=>{let{alpha:i}=e;if(r===4&&i>=1&&n.getDataType()===Li.UNSIGNED_CHAR)return n;const a=Ce.newInstance({numberOfComponents:4,empty:!0,size:4*o,dataType:Li.UNSIGNED_CHAR});if(o<=0)return a;i=i>0?i:0,i=i<1?i:1;let s=_G;switch((n.getDataType()===Li.FLOAT||n.getDataType()===Li.DOUBLE)&&(s=y3),r){case 1:t.luminanceToRGBA(a,n,i,s);break;case 2:t.luminanceAlphaToRGBA(a,n,s);break;case 3:t.rGBToRGBA(a,n,i,s);break;case 4:t.rGBAToRGBA(a,n,i,s);break;default:return v3("Cannot convert colors"),null}return a},t.usingLogScale=()=>!1,t.getNumberOfAvailableColors=()=>256*256*256,t.setRange=(n,r)=>t.setMappingRange(n,r),t.getRange=()=>t.getMappingRange(),t.areScalarsOpaque=(n,r,o)=>{if(!n)return t.isOpaque();const i=n.getNumberOfComponents();return r===Ic.DEFAULT&&n.getDataType()===Li.UNSIGNED_CHAR||r===Ic.DIRECT_SCALARS?i===3||i===1?e.alpha>=1:n.getRange(i-1)[0]===255:!0}}const EG={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:Yr.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1};function p7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,EG,n),V.obj(t,e),e.mappingRange=[0,255],e.annotationArray=[],e.annotatedValueMap=[],V.setGet(t,e,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),V.setArray(t,e,["mappingRange"],2),V.getArray(t,e,["mappingRange"]),AG(t,e)}const DG=V.newInstance(p7,"vtkScalarsToColors");var Sd=q({newInstance:DG,extend:p7},Pg);const{vtkErrorMacro:b3}=V,x3=0,S3=1,Cp=2;function IG(t,e){e.classHierarchy.push("vtkLookupTable"),t.isOpaque=()=>{if(e.opaqueFlagBuildTime.getMTime()<t.getMTime()){let n=!0;e.nanColor[3]<1&&(n=0),e.useBelowRangeColor&&e.belowRangeColor[3]<1&&(n=0),e.useAboveRangeColor&&e.aboveRangeColor[3]<1&&(n=0);for(let r=3;r<e.table.length&&n;r+=4)e.table[r]<255&&(n=!1);e.opaqueFlag=n,e.opaqueFlagBuildTime.modified()}return e.opaqueFlag},t.usingLogScale=()=>!1,t.getNumberOfAvailableColors=()=>e.table.length/4,t.linearIndexLookup=(n,r)=>{let o=0;const i=Number(n);return i<r.range[0]?o=r.maxIndex+x3+1.5:i>r.range[1]?o=r.maxIndex+S3+1.5:(o=(i+r.shift)*r.scale,o=o<r.maxIndex?o:r.maxIndex),Math.floor(o)},t.linearLookup=(n,r,o)=>{let i=0;wf(n)?i=Math.floor(o.maxIndex+1.5+Cp):i=t.linearIndexLookup(n,o);const a=4*i;return r.slice(a,a+4)},t.indexedLookupFunction=(n,r,o)=>{let i=t.getAnnotatedValueIndexInternal(n);i===-1&&(i=e.numberOfColors+Cp);const a=4*i;return[r[a],r[a+1],r[a+2],r[a+3]]},t.lookupShiftAndScale=(n,r)=>{r.shift=-n[0],r.scale=Number.MAX_VALUE,n[1]>n[0]&&(r.scale=(r.maxIndex+1)/(n[1]-n[0]))},t.mapScalarsThroughTable=(n,r,o,i)=>{let a=t.linearLookup;e.indexedLookup&&(a=t.indexedLookupFunction);const s=t.getMappingRange(),u={maxIndex:t.getNumberOfColors()-1,range:s,shift:0,scale:0};t.lookupShiftAndScale(s,u);const l=t.getAlpha(),f=n.getNumberOfTuples(),c=n.getNumberOfComponents(),d=r.getData(),p=n.getData();if(l>=1){if(o===ym.RGBA)for(let h=0;h<f;h++){const m=a(p[h*c+i],e.table,u);d[h*4]=m[0],d[h*4+1]=m[1],d[h*4+2]=m[2],d[h*4+3]=m[3]}}else if(o===ym.RGBA)for(let h=0;h<f;h++){const m=a(p[h*c+i],e.table,u);d[h*4]=m[0],d[h*4+1]=m[1],d[h*4+2]=m[2],d[h*4+3]=Math.floor(m[3]*l+.5)}},t.forceBuild=()=>{let n=0,r=0,o=0,i=0;const a=e.numberOfColors-1;a&&(n=(e.hueRange[1]-e.hueRange[0])/a,r=(e.saturationRange[1]-e.saturationRange[0])/a,o=(e.valueRange[1]-e.valueRange[0])/a,i=(e.alphaRange[1]-e.alphaRange[0])/a),e.table.length=4*a+16;const s=[],u=[];for(let l=0;l<=a;l++)s[0]=e.hueRange[0]+l*n,s[1]=e.saturationRange[0]+l*r,s[2]=e.valueRange[0]+l*o,Xi(s,u),u[3]=e.alphaRange[0]+l*i,e.table[l*4]=u[0]*255+.5,e.table[l*4+1]=u[1]*255+.5,e.table[l*4+2]=u[2]*255+.5,e.table[l*4+3]=u[3]*255+.5;t.buildSpecialColors(),e.buildTime.modified()},t.setTable=n=>{if(Array.isArray(n)){const o=n[0].length;e.numberOfColors=n.length;const i=4-o;let a=0;for(let s=0;s<e.numberOfColors;s++)e.table[s*4]=255,e.table[s*4+1]=255,e.table[s*4+2]=255,e.table[s*4+3]=255;for(let s=0;s<n.length;s++){const u=n[s];for(let l=0;l<o;l++)e.table[a++]=u[l];a+=i}return t.buildSpecialColors(),e.insertTime.modified(),t.modified(),!0}if(n.getNumberOfComponents()!==4)return b3("Expected 4 components for RGBA colors"),!1;if(n.getDataType()!==Ye.UNSIGNED_CHAR)return b3("Expected unsigned char values for RGBA colors"),!1;e.numberOfColors=n.getNumberOfTuples();const r=n.getData();e.table.length=r.length;for(let o=0;o<r.length;o++)e.table[o]=r[o];return t.buildSpecialColors(),e.insertTime.modified(),t.modified(),!0},t.buildSpecialColors=()=>{const{numberOfColors:n}=e,r=e.table;let o=(n+x3)*4;e.useBelowRangeColor||n===0?(r[o]=e.belowRangeColor[0]*255+.5,r[o+1]=e.belowRangeColor[1]*255+.5,r[o+2]=e.belowRangeColor[2]*255+.5,r[o+3]=e.belowRangeColor[3]*255+.5):(r[o]=r[0],r[o+1]=r[1],r[o+2]=r[2],r[o+3]=r[3]),o=(n+S3)*4,e.useAboveRangeColor||n===0?(r[o]=e.aboveRangeColor[0]*255+.5,r[o+1]=e.aboveRangeColor[1]*255+.5,r[o+2]=e.aboveRangeColor[2]*255+.5,r[o+3]=e.aboveRangeColor[3]*255+.5):(r[o]=r[4*(n-1)+0],r[o+1]=r[4*(n-1)+1],r[o+2]=r[4*(n-1)+2],r[o+3]=r[4*(n-1)+3]),o=(n+Cp)*4,r[o]=e.nanColor[0]*255+.5,r[o+1]=e.nanColor[1]*255+.5,r[o+2]=e.nanColor[2]*255+.5,r[o+3]=e.nanColor[3]*255+.5},t.build=()=>{(e.table.length<1||t.getMTime()>e.buildTime.getMTime()&&e.insertTime.getMTime()<=e.buildTime.getMTime())&&t.forceBuild()},e.table.length>0&&(t.buildSpecialColors(),e.insertTime.modified())}const PG={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1};function h7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,PG,n),Sd.extend(t,e,n),e.table||(e.table=[]),e.buildTime={},V.obj(e.buildTime),e.opaqueFlagBuildTime={},V.obj(e.opaqueFlagBuildTime,{mtime:0}),e.insertTime={},V.obj(e.insertTime,{mtime:0}),V.get(t,e,["buildTime"]),V.setGet(t,e,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),V.setArray(t,e,["alphaRange","hueRange","saturationRange","valueRange"],2),V.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),V.getArray(t,e,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),IG(t,e)}const OG=V.newInstance(h7,"vtkLookupTable");var es={newInstance:OG,extend:h7};let m7=1,Og=0;const NG=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];function RG(){return m7}function MG(t){m7=t}function kG(){return Og}function Cd(){Og=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0}function LG(){Cd(0)}function FG(){Cd(0)}function BG(){Cd(1)}function VG(){return NG[Og]}var bm={getResolveCoincidentTopologyAsString:VG,getResolveCoincidentTopologyPolygonOffsetFaces:RG,getResolveCoincidentTopology:kG,setResolveCoincidentTopology:Cd,setResolveCoincidentTopologyPolygonOffsetFaces:MG,setResolveCoincidentTopologyToDefault:LG,setResolveCoincidentTopologyToOff:FG,setResolveCoincidentTopologyToPolygonOffset:BG};function g7(t,e,n){n.forEach(r=>{t[`get${r.method}`]=()=>e[r.key],t[`set${r.method}`]=(o,i)=>{e[r.key]={factor:o,offset:i}}})}const Ng=["Polygon","Line","Point"],UG={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},Yi={};g7(Yi,UG,Ng.map(t=>({key:t,method:`ResolveCoincidentTopology${t}OffsetParameters`})));function GG(t,e){e.resolveCoincidentTopology===void 0&&(e.resolveCoincidentTopology=!1),V.setGet(t,e,["resolveCoincidentTopology"]),e.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},Object.keys(bm).forEach(n=>{t[n]=bm[n]}),Object.keys(Yi).forEach(n=>{t[n]=Yi[n]}),g7(t,e.topologyOffset,Ng.map(n=>({key:n,method:`RelativeCoincidentTopology${n}OffsetParameters`}))),t.getCoincidentTopologyPolygonOffsetParameters=()=>{const n=Yi.getResolveCoincidentTopologyPolygonOffsetParameters(),r=t.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyLineOffsetParameters=()=>{const n=Yi.getResolveCoincidentTopologyLineOffsetParameters(),r=t.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}},t.getCoincidentTopologyPointOffsetParameter=()=>{const n=Yi.getResolveCoincidentTopologyPointOffsetParameters(),r=t.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:n.factor+r.factor,offset:n.offset+r.offset}}}var wd={implementCoincidentTopologyMethods:GG,staticOffsetAPI:Yi,otherStaticMethods:bm,CATEGORIES:Ng};const Gn={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,ID_HIGH24:3,MAX_KNOWN_PASS:3};var v7={PassTypes:Gn};const{FieldAssociations:C3}=ka,{staticOffsetAPI:zG,otherStaticMethods:jG}=wd,{ColorMode:wp,ScalarMode:Fi,GetArray:Tp}=xd,{VectorMode:WG}=Pg,{VtkDataTypes:HG}=Ce;function cl(t){return()=>V.vtkErrorMacro(`vtkMapper::${t} - NOT IMPLEMENTED`)}function $G(t,e){e.classHierarchy.push("vtkMapper"),t.getBounds=()=>{const n=t.getInputData();return n?(e.static||t.update(),e.bounds=n.getBounds()):e.bounds=Ro(),e.bounds},t.setForceCompileOnly=n=>{e.forceCompileOnly=n},t.setSelectionWebGLIdsToVTKIds=n=>{e.selectionWebGLIdsToVTKIds=n},t.createDefaultLookupTable=()=>{e.lookupTable=es.newInstance()},t.getColorModeAsString=()=>V.enumToString(wp,e.colorMode),t.setColorModeToDefault=()=>t.setColorMode(0),t.setColorModeToMapScalars=()=>t.setColorMode(1),t.setColorModeToDirectScalars=()=>t.setColorMode(2),t.getScalarModeAsString=()=>V.enumToString(Fi,e.scalarMode),t.setScalarModeToDefault=()=>t.setScalarMode(0),t.setScalarModeToUsePointData=()=>t.setScalarMode(1),t.setScalarModeToUseCellData=()=>t.setScalarMode(2),t.setScalarModeToUsePointFieldData=()=>t.setScalarMode(3),t.setScalarModeToUseCellFieldData=()=>t.setScalarMode(4),t.setScalarModeToUseFieldData=()=>t.setScalarMode(5),t.getAbstractScalars=(n,r,o,i,a)=>{if(!n||!e.scalarVisibility)return{scalars:null,cellFLag:!1};let s=null,u=!1;if(r===Fi.DEFAULT)s=n.getPointData().getScalars(),s||(s=n.getCellData().getScalars(),u=!0);else if(r===Fi.USE_POINT_DATA)s=n.getPointData().getScalars();else if(r===Fi.USE_CELL_DATA)s=n.getCellData().getScalars(),u=!0;else if(r===Fi.USE_POINT_FIELD_DATA){const l=n.getPointData();o===Tp.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(a)}else if(r===Fi.USE_CELL_FIELD_DATA){const l=n.getCellData();u=!0,o===Tp.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(a)}else if(r===Fi.USE_FIELD_DATA){const l=n.getFieldData();o===Tp.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(a)}return{scalars:s,cellFlag:u}},t.mapScalars=(n,r)=>{const o=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!o){e.colorCoordinates=null,e.colorTextureMap=null,e.colorMapColors=null;return}const i=`${t.getMTime()}${o.getMTime()}${r}`;if(e.colorBuildString!==i){if(e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),t.canUseTextureMapForColoring(n))t.mapScalarsToTexture(o,r);else{e.colorCoordinates=null,e.colorTextureMap=null;const a=t.getLookupTable();a&&(a.build(),e.colorMapColors=a.mapScalars(o,e.colorMode,e.fieldDataTupleId))}e.colorBuildString=`${t.getMTime()}${o.getMTime()}${r}`}},t.scalarToTextureCoordinate=(n,r,o)=>{let i=.5,a=1;return wf(n)||(a=.49,i=(n-r)*o,i>1e3?i=1e3:i<-1e3&&(i=-1e3)),{texCoordS:i,texCoordT:a}},t.createColorTextureCoordinates=(n,r,o,i,a,s,u,l,f)=>{const c=(s[1]-s[0])/l,d=[];d[0]=s[0]-c,d[1]=s[1]+c;const p=1/(d[1]-d[0]),h=r.getData(),m=n.getData();let y=0,b=0;if(a<0||a>=i)for(let v=0;v<o;++v){let g=0;for(let C=0;C<i;++C)g+=m[y]*m[y],y++;let x=Math.sqrt(g);f&&(x=es.applyLogScale(x,u,s));const S=t.scalarToTextureCoordinate(x,d[0],p);h[b]=S.texCoordS,h[b+1]=S.texCoordT,b+=2}else{y+=a;for(let v=0;v<o;++v){let g=m[y];f&&(g=es.applyLogScale(g,u,s));const x=t.scalarToTextureCoordinate(g,d[0],p);h[b]=x.texCoordS,h[b+1]=x.texCoordT,b+=2,y+=i}}},t.mapScalarsToTexture=(n,r)=>{const o=e.lookupTable.getRange(),i=e.lookupTable.usingLogScale();i&&es.getLogRange(o,o);const a=e.lookupTable.getAlpha();if(e.colorMapColors=null,e.colorTextureMap==null||t.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getMTime()>e.colorTextureMap.getMTime()||e.lookupTable.getAlpha()!==r){e.lookupTable.setAlpha(r),e.colorTextureMap=null,e.lookupTable.build();let s=e.lookupTable.getNumberOfAvailableColors();s>4094&&(s=4094),s<64&&(s=64),s+=2;const u=(o[1]-o[0])/(s-2),l=new Float64Array(s*2);for(let c=0;c<s;++c)l[c]=o[0]+c*u-u/2,i&&(l[c]=_e(10,l[c]));for(let c=0;c<s;++c)l[c+s]=NaN;e.colorTextureMap=Ig.newInstance(),e.colorTextureMap.setExtent(0,s-1,0,1,0,0);const f=Ce.newInstance({numberOfComponents:1,values:l});e.colorTextureMap.getPointData().setScalars(e.lookupTable.mapScalars(f,e.colorMode,0)),e.lookupTable.setAlpha(a)}if(!e.colorCoordinates||t.getMTime()>e.colorCoordinates.getMTime()||t.getInputData(0).getMTime()>e.colorCoordinates.getMTime()||e.lookupTable.getMTime()>e.colorCoordinates.getMTime()){e.colorCoordinates=null;const s=n.getNumberOfComponents(),u=n.getNumberOfTuples();e.colorCoordinates=Ce.newInstance({numberOfComponents:2,values:new Float32Array(u*2)});let l=e.lookupTable.getVectorComponent();e.lookupTable.getVectorMode()===WG.MAGNITUDE&&n.getNumberOfComponents()>1&&(l=-1),t.createColorTextureCoordinates(n,e.colorCoordinates,u,s,l,o,e.lookupTable.getRange(),e.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},t.getIsOpaque=()=>{const n=t.getInputData(),r=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!e.scalarVisibility||r==null)return!0;const o=t.getLookupTable();return o?(o.build(),o.areScalarsOpaque(r,e.colorMode,-1)):!0},t.canUseTextureMapForColoring=n=>{if(!e.interpolateScalarsBeforeMapping||e.lookupTable&&e.lookupTable.getIndexedLookup())return!1;const r=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName),o=r.scalars;return!(!o||r.cellFlag||e.colorMode===wp.DEFAULT&&o.getDataType()===HG.UNSIGNED_CHAR||e.colorMode===wp.DIRECT_SCALARS)},t.clearColorArrays=()=>{e.colorMapColors=null,e.colorCoordinates=null,e.colorTextureMap=null},t.getLookupTable=()=>(e.lookupTable||t.createDefaultLookupTable(),e.lookupTable),t.getMTime=()=>{let n=e.mtime;if(e.lookupTable!==null){const r=e.lookupTable.getMTime();n=r>n?r:n}return n},t.getPrimitiveCount=()=>{const n=t.getInputData();return{points:n.getPoints().getNumberOfValues()/3,verts:n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells(),lines:n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells(),triangles:n.getPolys().getNumberOfValues()-3*n.getPolys().getNumberOfCells()}},t.acquireInvertibleLookupTable=cl("AcquireInvertibleLookupTable"),t.valueToColor=cl("ValueToColor"),t.colorToValue=cl("ColorToValue"),t.useInvertibleColorFor=cl("UseInvertibleColorFor"),t.clearInvertibleColor=cl("ClearInvertibleColor"),t.processSelectorPixelBuffers=(n,r)=>{if(!n||!e.selectionWebGLIdsToVTKIds||!e.populateSelectionSettings)return;const o=n.getRawPixelBuffer(Gn.ID_LOW24),i=n.getRawPixelBuffer(Gn.ID_HIGH24),a=n.getCurrentPass(),s=n.getFieldAssociation();let u=null;s===C3.FIELD_ASSOCIATION_POINTS?u=e.selectionWebGLIdsToVTKIds.points:s===C3.FIELD_ASSOCIATION_CELLS&&(u=e.selectionWebGLIdsToVTKIds.cells),u&&r.forEach(l=>{if(a===Gn.ID_LOW24){let f=0;i&&(f+=i[l],f*=256),f+=o[l+2],f*=256,f+=o[l+1],f*=256,f+=o[l];const c=u[f],d=n.getPixelBuffer(Gn.ID_LOW24);d[l]=c&255,d[l+1]=(c&65280)>>8,d[l+2]=(c&16711680)>>16}else if(a===Gn.ID_HIGH24&&i){let f=0;f+=i[l],f*=256,f+=o[l],f*=256,f+=o[l+1],f*=256,f+=o[l+2];const c=u[f],d=n.getPixelBuffer(Gn.ID_HIGH24);d[l]=(c&4278190080)>>24}})}}const KG={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,populateSelectionSettings:!0,selectionWebGLIdsToVTKIds:null,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,customShaderAttributes:[]};function y7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KG,n),i7.extend(t,e,n),V.get(t,e,["colorCoordinates","colorMapColors","colorTextureMap","selectionWebGLIdsToVTKIds"]),V.setGet(t,e,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","populateSelectionSettings","renderTime","scalarMode","scalarVisibility","static","useLookupTableScalarRange","customShaderAttributes"]),V.setGetArray(t,e,["scalarRange"],2),wd.implementCoincidentTopologyMethods(t,e),$G(t,e)}const qG=V.newInstance(y7,"vtkMapper");var Lo=q(q(q({newInstance:qG,extend:y7},zG),jG),xd);function b7(t){let e=0;return t.filter((n,r)=>r===e?(e+=n+1,!0):!1)}function x7(t){let e=0;for(let n=0;n<t.length;)n+=t[n]+1,e++;return e}const XG={extractCellSizes:b7,getNumberOfCells:x7};function YG(t,e){e.classHierarchy.push("vtkCellArray");const n=q({},t);t.getNumberOfCells=r=>(e.numberOfCells!==void 0&&!r||(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=x7(t.getData())),e.numberOfCells),t.getCellSizes=r=>(e.cellSizes!==void 0&&!r||(e.cellSizes=b7(t.getData())),e.cellSizes),t.resize=r=>{const o=t.getNumberOfTuples();n.resize(r);const i=t.getNumberOfTuples();i<o&&(i===0?(e.numberOfCells=0,e.cellSizes=[]):(e.numberOfCells=void 0,e.cellSizes=void 0))},t.setData=r=>{n.setData(r,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=r=>{let o=r;const i=e.values[o++];return e.values.subarray(o,o+i)},t.insertNextCell=r=>{const o=t.getNumberOfCells();return t.insertNextTuples([r.length,...r]),++e.numberOfCells,e.cellSizes!=null&&e.cellSizes.push(r.length),o}}function JG(t){return q({empty:!0,numberOfComponents:1,dataType:Ye.UNSIGNED_INT},t)}function S7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Ce.extend(t,e,JG(n)),YG(t,e)}const ZG=V.newInstance(S7,"vtkCellArray");var wi=q({newInstance:ZG,extend:S7},XG);const{vtkErrorMacro:QG}=V,ez=[1,-1,1,-1,1,-1];function tz(t,e){e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3;t.getNumberOfPoints()!==n&&(e.size=n*r,e.values=V.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(r),t.modified())},t.setPoint=function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t.setTuple(n,o)},t.getPoint=t.getTuple,t.findPoint=t.findTuple,t.insertNextPoint=(n,r,o)=>t.insertNextTuple([n,r,o]),t.getBounds=()=>{if(t.getNumberOfComponents()===3){const o=t.getRange(0);e.bounds[0]=o[0],e.bounds[1]=o[1];const i=t.getRange(1);e.bounds[2]=i[0],e.bounds[3]=i[1];const a=t.getRange(2);return e.bounds[4]=a[0],e.bounds[5]=a[1],e.bounds}if(t.getNumberOfComponents()!==2)return QG(`getBounds called on an array with components of
        ${t.getNumberOfComponents()}`),ez;const n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];const r=t.getRange(1);return e.bounds[2]=r[0],e.bounds[3]=r[1],e.bounds[4]=0,e.bounds[5]=0,e.bounds},t.computeBounds=t.getBounds,t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}const nz={empty:!0,numberOfComponents:3,dataType:Ye.FLOAT,bounds:[1,-1,1,-1,1,-1]};function C7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nz,n),Ce.extend(t,e,n),tz(t,e)}const rz=V.newInstance(C7,"vtkPoints");var Fo={newInstance:rz,extend:C7};function oz(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){e.pointsIds=r;let o=e.points.getData();o.length!==3*e.pointsIds.length&&(o=V.newTypedArray(n.getDataType(),3*e.pointsIds.length));const i=n.getData();e.pointsIds.forEach((a,s)=>{let u=3*a,l=3*s;o[l]=i[u],o[++l]=i[++u],o[++l]=i[++u]}),e.points.setData(o)}else{e.points=n,e.pointsIds=new Array(n.getNumberOfPoints());for(let o=n.getNumberOfPoints()-1;o>=0;--o)e.pointsIds[o]=o}},t.getBounds=()=>{const n=e.points.getNumberOfPoints(),r=[];if(n){e.points.getPoint(0,r),e.bounds[0]=r[0],e.bounds[1]=r[0],e.bounds[2]=r[1],e.bounds[3]=r[1],e.bounds[4]=r[2],e.bounds[5]=r[2];for(let o=1;o<n;o++)e.points.getPoint(o,r),e.bounds[0]=r[0]<e.bounds[0]?r[0]:e.bounds[0],e.bounds[1]=r[0]>e.bounds[1]?r[0]:e.bounds[1],e.bounds[2]=r[1]<e.bounds[2]?r[1]:e.bounds[2],e.bounds[3]=r[1]>e.bounds[3]?r[1]:e.bounds[3],e.bounds[4]=r[2]<e.bounds[4]?r[2]:e.bounds[4],e.bounds[5]=r[2]>e.bounds[5]?r[2]:e.bounds[5]}else Js(e.bounds);return e.bounds},t.getLength2=()=>{t.getBounds();let n=0,r=0;for(let o=0;o<3;o++)r=e.bounds[2*o+1]-e.bounds[2*o],n+=r*r;return n},t.getParametricDistance=n=>{let r,o=0;for(let i=0;i<3;i++)n[i]<0?r=-n[i]:n[i]>1?r=n[i]-1:r=0,r>o&&(o=r);return o},t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.deepCopy=n=>{n.initialize(e.points,e.pointsIds)},t.getCellDimension=()=>{},t.intersectWithLine=(n,r,o,i,a,s,u)=>{},t.evaluatePosition=(n,r,o,i,a,s)=>{V.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}const iz={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function w7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iz,n),V.obj(t,e),e.points||(e.points=Fo.newInstance()),V.get(t,e,["points","pointsIds"]),oz(t,e)}const az=V.newInstance(w7,"vtkCell");var Ef={newInstance:az,extend:w7};function sz(t,e){let n=e;for(e>=t.array.length&&(n+=t.array.length);n>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=n}function lz(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=n=>{const r=n.getPoints().getNumberOfPoints(),o=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(let a=0;a<o;++a){const{cellPointIds:s}=n.getCellPoints(a);s.forEach(u=>{t.incrementLinkCount(u)})}t.allocateLinks(r),e.maxId=r-1;for(let a=0;a<o;++a){const{cellPointIds:s}=n.getCellPoints(a);s.forEach(u=>{t.insertCellReference(u,i[u]++,a)})}}else{for(let a=0;a<o;a++)Ef.newInstance().getPointsIds().forEach(s=>{t.incrementLinkCount(s)});t.allocateLinks(r),e.maxId=r-1;for(let a=0;a<o;++a)Ef.newInstance().getPointsIds().forEach(s=>{t.insertCellReference(s,i[s]++,a)})}},t.allocate=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.array=Array(n).fill().map(()=>({ncells:0,cells:null})),e.extend=r,e.maxId=-1},t.initialize=()=>{e.array=null},t.getLink=n=>e.array[n],t.getNcells=n=>e.array[n].ncells,t.getCells=n=>e.array[n].cells,t.insertNextPoint=n=>{e.array.push({ncells:n,cells:Array(n)}),++e.maxId},t.insertNextCellReference=(n,r)=>{e.array[n].cells[e.array[n].ncells++]=r},t.deletePoint=n=>{e.array[n].ncells=0,e.array[n].cells=null},t.removeCellReference=(n,r)=>{e.array[r].cells=e.array[r].cells.filter(o=>o!==n),e.array[r].ncells=e.array[r].cells.length},t.addCellReference=(n,r)=>{e.array[r].cells[e.array[r].ncells++]=n},t.resizeCellList=(n,r)=>{e.array[n].cells.length=r},t.squeeze=()=>{sz(e,e.maxId+1)},t.reset=()=>{e.maxId=-1},t.deepCopy=n=>{e.array=[...n.array],e.extend=n.extend,e.maxId=n.maxId},t.incrementLinkCount=n=>{++e.array[n].ncells},t.allocateLinks=n=>{for(let r=0;r<n;++r)e.array[r].cells=new Array(e.array[r].ncells)},t.insertCellReference=(n,r,o)=>{e.array[n].cells[r]=o}}const uz={array:null,maxId:0,extend:0};function T7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uz,n),V.obj(t,e),lz(t,e)}const cz=V.newInstance(T7,"vtkCellLinks");var fz={newInstance:cz,extend:T7};const _t={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_LAGRANGE_CURVE:68,VTK_LAGRANGE_TRIANGLE:69,VTK_LAGRANGE_QUADRILATERAL:70,VTK_LAGRANGE_TETRAHEDRON:71,VTK_LAGRANGE_HEXAHEDRON:72,VTK_LAGRANGE_WEDGE:73,VTK_LAGRANGE_PYRAMID:74,VTK_NUMBER_OF_CELL_TYPES:75},xm=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"];function dz(t){return t<xm.length?xm[t]:"UnknownClass"}function pz(t){return xm.findIndex(t)}function hz(t){return t<_t.VTK_QUADRATIC_EDGE||t===_t.VTK_CONVEX_POINT_SET||t===_t.VTK_POLYHEDRON}function mz(t){return t===_t.VTK_TRIANGLE_STRIP||t===_t.VTK_POLY_LINE||t===_t.VTK_POLY_VERTEX}const gz={getClassNameFromTypeId:dz,getTypeIdFromClassName:pz,isLinear:hz,hasSubCells:mz};function vz(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:512,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;e.size=n>0?n:1,e.extend=r>0?r:1,e.maxId=-1,e.typeArray=new Uint8Array(n),e.locationArray=new Uint32Array(n)},t.insertCell=(n,r,o)=>{e.typeArray[n]=r,e.locationArray[n]=o,n>e.maxId&&(e.maxId=n)},t.insertNextCell=(n,r)=>(t.insertCell(++e.maxId,n,r),e.maxId),t.setCellTypes=(n,r,o)=>{e.size=n,e.typeArray=r,e.locationArray=o,e.maxId=n-1},t.getCellLocation=n=>e.locationArray[n],t.deleteCell=n=>{e.typeArray[n]=_t.VTK_EMPTY_CELL},t.getNumberOfTypes=()=>e.maxId+1,t.isType=n=>{const r=t.getNumberOfTypes();for(let o=0;o<r;++o)if(n===t.getCellType(o))return!0;return!1},t.insertNextType=n=>t.insertNextCell(n,-1),t.getCellType=n=>e.typeArray[n],t.reset=()=>{e.maxId=-1},t.deepCopy=n=>{t.allocate(n.getSize(),n.getExtend()),e.typeArray.set(n.getTypeArray()),e.locationArray.set(n.getLocationArray()),e.maxId=n.getMaxId()}}const yz={size:0,maxId:-1,extend:1e3};function _7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,yz,n),V.obj(t,e),V.get(t,e,["size","maxId","extend"]),V.getArray(t,e,["typeArray","locationArray"]),vz(t,e)}const bz=V.newInstance(_7,"vtkCellTypes");var xz=q({newInstance:bz,extend:_7},gz);const Sz={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2};var A7={IntersectionState:Sz};const{IntersectionState:S0}=A7;function ts(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;const o={t:Number.MIN_VALUE,distance:0},i=[];let a;i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2];const s=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),u=Fe(i,i);let l=1e-5*s;return u!==0&&(o.t=s/u),l<0&&(l=-l),-l<u&&u<l||u<=0||o.t<0?a=e:o.t>1?a=n:(a=i,i[0]=e[0]+o.t*i[0],i[1]=e[1]+o.t*i[1],i[2]=e[2]+o.t*i[2]),r&&(r[0]=a[0],r[1]=a[1],r[2]=a[2]),o.distance=or(a,t),o}function E7(t,e,n,r,o,i){const a=[],s=[],u=[];o[0]=0,i[0]=0,rn(e,t,a),rn(r,n,s),rn(n,t,u);const l=[Fe(a,a),-Fe(a,s),-Fe(a,s),Fe(s,s)],f=[];if(f[0]=Fe(a,u),f[1]=-Fe(s,u),fx(l,f,2)===0){let c=Number.MAX_VALUE;const d=[t,e,n,r],p=[n,n,t,t],h=[r,r,e,e];i[0],i[0],o[0],o[0],o[0],o[0],i[0],i[0];let m;for(let y=0;y<4;y++)m=ts(d[y],p[y],h[y]),m.distance<c&&(c=m.distance);return S0.ON_LINE}return o[0]=f[0],i[0]=f[1],o[0]>=0&&o[0]<=1&&i[0]>=0&&i[0]<=1?S0.YES_INTERSECTION:S0.NO_INTERSECTION}const Cz={distanceToLine:ts,intersection:E7};function wz(t,e){e.classHierarchy.push("vtkLine");function n(r){return r>=0&&r<=1}t.getCellDimension=()=>1,t.intersectWithLine=(r,o,i,a,s)=>{const u={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};s[1]=0,s[2]=0;const l=[],f=[],c=[];e.points.getPoint(0,f),e.points.getPoint(1,c);const d=[],p=[],h=E7(r,o,f,c,d,p);if(u.t=d[0],u.betweenPoints=n(u.t),s[0]=p[0],h===S0.YES_INTERSECTION){for(let m=0;m<3;m++)a[m]=f[m]+s[0]*(c[m]-f[m]),l[m]=r[m]+u.t*(o[m]-r[m]);if(or(a,l)<=i*i)return u.intersect=1,u}else{let m;if(u.t<0)return m=ts(r,f,c,a),m.distance<=i*i&&(u.t=0,u.intersect=1,u.betweenPoints=!0),u;if(u.t>1)return m=ts(o,f,c,a),m.distance<=i*i&&(u.t=1,u.intersect=1,u.betweenPoints=!0),u;if(s[0]<0)return s[0]=0,m=ts(f,r,o,a),u.t=m.t,m.distance<=i*i&&(u.intersect=1),u;if(s[0]>1)return s[0]=1,m=ts(c,r,o,a),u.t=m.t,m.distance<=i*i&&(u.intersect=1),u}return u},t.evaluateLocation=(r,o,i)=>{const a=[],s=[];e.points.getPoint(0,a),e.points.getPoint(1,s);for(let u=0;u<3;u++)o[u]=a[u]+r[0]*(s[u]-a[u]);i[0]=1-r[0],i[1]=r[0]},t.evaluateOrientation=(r,o,i)=>e.orientations?(h0(o,e.orientations[0],e.orientations[1],r[0]),i[0]=1-r[0],i[1]=r[0],!0):!1}const Tz={orientations:null};function D7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Tz,n),Ef.extend(t,e,n),V.setGet(t,e,["orientations"]),wz(t,e)}const _z=V.newInstance(D7,"vtkLine");var br=q(q({newInstance:_z,extend:D7},Cz),A7);function Az(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=Tn(e.points):e.points=Fo.newInstance(),t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.getBounds=()=>e.points.getBounds(),t.computeBounds=()=>{t.getBounds()};const n=t.shallowCopy;t.shallowCopy=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n(r,o),e.points=Fo.newInstance(),e.points.shallowCopy(r.getPoints())}}const Ez={};function I7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ez,n),ka.extend(t,e,n),V.setGet(t,e,["points"]),Az(t,e)}const Dz=V.newInstance(I7,"vtkPointSet");var Iz={newInstance:Dz,extend:I7};function Rg(t,e,n,r){const o=n[0]-e[0],i=n[1]-e[1],a=n[2]-e[2],s=t[0]-e[0],u=t[1]-e[1],l=t[2]-e[2];r[0]=i*l-a*u,r[1]=a*s-o*l,r[2]=o*u-i*s}function Df(t,e,n,r){Rg(t,e,n,r);const o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);o!==0&&(r[0]/=o,r[1]/=o,r[2]/=o)}function Pz(t,e,n,r,o,i){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1e-6,s=!1;const u=[],l=[],f=[],c=[],d=[];Df(t,e,n,c),Df(r,o,i,d);const p=-Fe(c,t),h=-Fe(d,r),m=[Fe(d,t)+h,Fe(d,e)+h,Fe(d,n)+h];if(m[0]*m[1]>a&&m[0]*m[2]>a)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};const y=[Fe(c,r)+p,Fe(c,o)+p,Fe(c,i)+p];if(y[0]*y[1]>a&&y[0]*y[2]>a)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};if(Math.abs(c[0]-d[0])<1e-9&&Math.abs(c[1]-d[1])<1e-9&&Math.abs(c[2]-d[2])<1e-9&&Math.abs(p-h)<1e-9)return s=!0,{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};const b=[t,e,n],v=[r,o,i],g=Fe(c,d),x=(p-h*g)/(g*g-1),S=(h-p*g)/(g*g-1),C=[x*c[0]+S*d[0],x*c[1]+S*d[1],x*c[2]+S*d[2]],w=Kt(c,d,[]);Ft(w);let T=0,_=0;const A=[],E=[];let D=50,O=50;for(let U=0;U<3;U++){const H=U,R=(U+1)%3,B=Ci.intersectWithLine(b[H],b[R],r,d);B.intersection&&B.t>0-a&&B.t<1+a&&(B.t<1+a&&B.t>1-a&&(D=T),A[T++]=Fe(B.x,w)-Fe(C,w));const M=Ci.intersectWithLine(v[H],v[R],t,c);M.intersection&&M.t>0-a&&M.t<1+a&&(M.t<1+a&&M.t>1-a&&(O=_),E[_++]=Fe(M.x,w)-Fe(C,w))}if(T>2){T--;const U=A[2];A[2]=A[D],A[D]=U}if(_>2){_--;const U=E[2];E[2]=E[O],E[O]=U}if(T!==2||_!==2)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};if(Number.isNaN(A[0])||Number.isNaN(A[1])||Number.isNaN(E[0])||Number.isNaN(E[1]))return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f};if(A[0]>A[1]){const U=A[1];A[1]=A[0],A[0]=U}if(E[0]>E[1]){const U=E[1];E[1]=E[0],E[0]=U}let P,k;return A[1]<E[0]||E[1]<A[0]?{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:f}:(A[0]<E[0]?A[1]<E[1]?(f[0]=2,f[1]=1,P=E[0],k=A[1]):(f[0]=2,f[1]=2,P=E[0],k=E[1]):A[1]<E[1]?(f[0]=1,f[1]=1,P=A[0],k=A[1]):(f[0]=1,f[1]=2,P=A[0],k=E[1]),sm(C,w,P,u),sm(C,w,k,l),{intersect:!0,coplanar:s,pt1:u,pt2:l,surfaceId:f})}const Oz={computeNormalDirection:Rg,computeNormal:Df,intersectWithTriangle:Pz};function Nz(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=()=>2,t.intersectWithLine=(n,r,o,i,a)=>{const s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};a[2]=0;const u=[],l=o*o,f=[],c=[],d=[];e.points.getPoint(0,f),e.points.getPoint(1,c),e.points.getPoint(2,d);const p=[],h=[];if(Df(f,c,d,p),p[0]!==0||p[1]!==0||p[2]!==0){const g=Ci.intersectWithLine(n,r,f,p);if(s.betweenPoints=g.betweenPoints,s.t=g.t,i[0]=g.x[0],i[1]=g.x[1],i[2]=g.x[2],!g.intersection)return a[0]=0,a[1]=0,s.intersect=0,s;const x=t.evaluatePosition(i,u,a,h);if(x.evaluation>=0)return x.dist2<=l?(s.intersect=1,s):(s.intersect=x.evaluation,s)}const m=or(f,c),y=or(c,d),b=or(d,f);e.line||(e.line=br.newInstance()),m>y&&m>b?(e.line.getPoints().setPoint(0,f),e.line.getPoints().setPoint(1,c)):y>b&&y>m?(e.line.getPoints().setPoint(0,c),e.line.getPoints().setPoint(1,d)):(e.line.getPoints().setPoint(0,d),e.line.getPoints().setPoint(1,f));const v=e.line.intersectWithLine(n,r,o,i,a);if(s.betweenPoints=v.betweenPoints,s.t=v.t,v.intersect){const g=[],x=[],S=[];for(let C=0;C<3;C++)g[C]=f[C]-d[C],x[C]=c[C]-d[C],S[C]=i[C]-d[C];return a[0]=Fe(S,g)/b,a[1]=Fe(S,x)/y,s.intersect=1,s}return a[0]=0,a[1]=0,s.intersect=0,s},t.evaluatePosition=(n,r,o,i)=>{const a={subId:0,dist2:0,evaluation:-1};let s,u;const l=[],f=[],c=[],d=[];let p;const h=[],m=[],y=[];let b=0,v=0;const g=[];let x,S,C,w=[];const T=[],_=[],A=[];a.subId=0,o[2]=0,e.points.getPoint(1,l),e.points.getPoint(2,f),e.points.getPoint(0,c),Rg(l,f,c,d),Ci.generalizedProjectPoint(n,l,d,A);let E=0;for(s=0;s<3;s++)d[s]<0?p=-d[s]:p=d[s],p>E&&(E=p,v=s);for(u=0,s=0;s<3;s++)s!==v&&(g[u++]=s);for(s=0;s<2;s++)h[s]=A[g[s]]-c[g[s]],m[s]=l[g[s]]-c[g[s]],y[s]=f[g[s]]-c[g[s]];if(b=Bt(m,y),b===0)return o[0]=0,o[1]=0,a.evaluation=-1,a;if(o[0]=Bt(h,y)/b,o[1]=Bt(m,h)/b,i[0]=1-(o[0]+o[1]),i[1]=o[0],i[2]=o[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)r&&(a.dist2=or(A,n),r[0]=A[0],r[1]=A[1],r[2]=A[2]),a.evaluation=1;else{let D;if(r){if(i[1]<0&&i[2]<0)for(x=or(n,c),S=br.distanceToLine(n,l,c,D,T),C=br.distanceToLine(n,c,f,D,_),x<S?(a.dist2=x,w=c):(a.dist2=S,w=T),C<a.dist2&&(a.dist2=C,w=_),s=0;s<3;s++)r[s]=w[s];else if(i[2]<0&&i[0]<0)for(x=or(n,l),S=br.distanceToLine(n,l,c,D,T),C=br.distanceToLine(n,l,f,D,_),x<S?(a.dist2=x,w=l):(a.dist2=S,w=T),C<a.dist2&&(a.dist2=C,w=_),s=0;s<3;s++)r[s]=w[s];else if(i[1]<0&&i[0]<0)for(x=or(n,f),S=br.distanceToLine(n,f,c,D,T),C=br.distanceToLine(n,l,f,D,_),x<S?(a.dist2=x,w=f):(a.dist2=S,w=T),C<a.dist2&&(a.dist2=C,w=_),s=0;s<3;s++)r[s]=w[s];else if(i[0]<0){const O=br.distanceToLine(n,l,f,r);a.dist2=O.distance}else if(i[1]<0){const O=br.distanceToLine(n,f,c,r);a.dist2=O.distance}else if(i[2]<0){const O=br.distanceToLine(n,l,c,r);a.dist2=O.distance}}a.evaluation=0}return a},t.evaluateLocation=(n,r,o)=>{const i=[],a=[],s=[];e.points.getPoint(0,i),e.points.getPoint(1,a),e.points.getPoint(2,s);const u=1-n[0]-n[1];for(let l=0;l<3;l++)r[l]=i[l]*u+a[l]*n[0]+s[l]*n[1];o[0]=u,o[1]=n[0],o[2]=n[1]},t.getParametricDistance=n=>{let r,o=0;const i=[];i[0]=n[0],i[1]=n[1],i[2]=1-n[0]-n[1];for(let a=0;a<3;a++)i[a]<0?r=-i[a]:i[a]>1?r=i[a]-1:r=0,r>o&&(o=r);return o}}const Rz={};function P7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Rz,n),Ef.extend(t,e,n),Nz(t,e)}const Mz=V.newInstance(P7,"vtkTriangle");var kz=q({newInstance:Mz,extend:P7},Oz);const _p=["verts","lines","polys","strips"],{vtkWarningMacro:w3}=V,Lz={[_t.VTK_LINE]:br,[_t.VTK_POLY_LINE]:br,[_t.VTK_TRIANGLE]:kz};function Fz(t,e){e.classHierarchy.push("vtkPolyData");function n(o){return o.replace(/(?:^\w|[A-Z]|\b\w)/g,i=>i.toUpperCase()).replace(/\s+/g,"")}_p.forEach(o=>{t[`getNumberOf${n(o)}`]=()=>e[o].getNumberOfCells(),e[o]?e[o]=Tn(e[o]):e[o]=wi.newInstance()}),t.getNumberOfCells=()=>_p.reduce((o,i)=>o+e[i].getNumberOfCells(),0);const r=t.shallowCopy;t.shallowCopy=function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r(o,i),_p.forEach(a=>{e[a]=wi.newInstance(),e[a].shallowCopy(o.getReferenceByName(a))})},t.buildCells=()=>{const o=t.getNumberOfVerts(),i=t.getNumberOfLines(),a=t.getNumberOfPolys(),s=t.getNumberOfStrips(),u=o+i+a+s,l=new Uint8Array(u);let f=l;const c=new Uint32Array(u);let d=c;if(o){let p=0;e.verts.getCellSizes().forEach((h,m)=>{d[m]=p,f[m]=h>1?_t.VTK_POLY_VERTEX:_t.VTK_VERTEX,p+=h+1}),d=d.subarray(o),f=f.subarray(o)}if(i){let p=0;e.lines.getCellSizes().forEach((h,m)=>{d[m]=p,f[m]=h>2?_t.VTK_POLY_LINE:_t.VTK_LINE,h===1&&w3("Building VTK_LINE ",m," with only one point, but VTK_LINE needs at least two points. Check the input."),p+=h+1}),d=d.subarray(i),f=f.subarray(i)}if(a){let p=0;e.polys.getCellSizes().forEach((h,m)=>{switch(d[m]=p,h){case 3:f[m]=_t.VTK_TRIANGLE;break;case 4:f[m]=_t.VTK_QUAD;break;default:f[m]=_t.VTK_POLYGON;break}h<3&&w3("Building VTK_TRIANGLE ",m," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),p+=h+1}),d+=d.subarray(a),f+=f.subarray(a)}if(s){let p=0;f.fill(_t.VTK_TRIANGLE_STRIP,0,s),e.strips.getCellSizes().forEach((h,m)=>{d[m]=p,p+=h+1})}e.cells=xz.newInstance(),e.cells.setCellTypes(u,l,c)},t.buildLinks=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;e.cells===void 0&&t.buildCells(),e.links=fz.newInstance(),o>0?e.links.allocate(o):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=o=>e.cells.getCellType(o),t.getCellPoints=o=>{const i=t.getCellType(o);let a=null;switch(i){case _t.VTK_VERTEX:case _t.VTK_POLY_VERTEX:a=e.verts;break;case _t.VTK_LINE:case _t.VTK_POLY_LINE:a=e.lines;break;case _t.VTK_TRIANGLE:case _t.VTK_QUAD:case _t.VTK_POLYGON:a=e.polys;break;case _t.VTK_TRIANGLE_STRIP:a=e.strips;break;default:return a=null,{type:0,cellPointIds:null}}const s=e.cells.getCellLocation(o),u=a.getCell(s);return{cellType:i,cellPointIds:u}},t.getPointCells=o=>e.links.getCells(o),t.getCellEdgeNeighbors=(o,i,a)=>{const s=e.links.getLink(i),u=e.links.getLink(a);return s.cells.filter(l=>l!==o&&u.cells.indexOf(l)!==-1)},t.getCell=function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const a=t.getCellPoints(o),s=i||Lz[a.cellType].newInstance();return s.initialize(t.getPoints(),a.cellPointIds),s}}const Bz={};function O7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Bz,n),Iz.extend(t,e,n),V.get(t,e,["cells","links"]),V.setGet(t,e,["verts","lines","polys","strips"]),Fz(t,e)}const Vz=V.newInstance(O7,"vtkPolyData");var bt={newInstance:Vz,extend:O7};function Uz(t,e){e.classHierarchy.push("vtkTexture"),t.imageLoaded=()=>{e.image.removeEventListener("load",t.imageLoaded),e.imageLoaded=!0,t.modified()},t.setJsImageData=n=>{e.jsImageData!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.canvas=null),e.jsImageData=n,e.imageLoaded=!0,t.modified())},t.setCanvas=n=>{e.canvas!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.image=null,e.jsImageData=null),e.canvas=n,t.modified())},t.setImage=n=>{e.image!==n&&(n!==null&&(t.setInputData(null),t.setInputConnection(null),e.canvas=null,e.jsImageData=null),e.image=n,e.imageLoaded=!1,n.complete?t.imageLoaded():n.addEventListener("load",t.imageLoaded),t.modified())},t.getDimensionality=()=>{let n=0,r=0,o=1;if(t.getInputData()){const i=t.getInputData();n=i.getDimensions()[0],r=i.getDimensions()[1],o=i.getDimensions()[2]}return e.jsImageData&&(n=e.jsImageData.width,r=e.jsImageData.height),e.canvas&&(n=e.canvas.width,r=e.canvas.height),e.image&&(n=e.image.width,r=e.image.height),(n>1)+(r>1)+(o>1)},t.getInputAsJsImageData=()=>{if(!e.imageLoaded||t.getInputData())return null;if(e.jsImageData)return e.jsImageData();if(e.canvas)return e.canvas.getContext("2d").getImageData(0,0,e.canvas.width,e.canvas.height);if(e.image){const n=document.createElement("canvas");n.width=e.image.width,n.height=e.image.height;const r=n.getContext("2d");return r.translate(0,n.height),r.scale(1,-1),r.drawImage(e.image,0,0,e.image.width,e.image.height),r.getImageData(0,0,n.width,n.height)}return null}}const Gz=(t,e,n,r)=>{const o=[1,2,1],i=4,a=o,s=i,u=t.length/(e*n);let l=e,f=n,c=t;const d=[c];for(let p=0;p<r;p++){const h=[...c];l/=2,f/=2,c=new Uint8ClampedArray(l*f*u);const m=u*l;let y=0;for(let v=0;v<c.length;v+=u){v%m===0&&(y+=2*u*l);for(let g=0;g<u;g++){let x=h[y+g];x+=h[y+u+g],x+=h[y-2*m+g],x+=h[y-2*m+u+g],x/=4,c[v+g]=x}y+=2*u}let b=[...c];for(let v=0;v<c.length;v+=u)for(let g=0;g<u;g++){let x=-(a.length-1)/2,S=s,C=0;for(let w=0;w<a.length;w++){let T=v+g+x*u;const _=T%m-(v+g)%m;_>u&&(T+=m),_<-u&&(T-=m),b[T]?C+=b[T]*a[w]:S-=a[w],x+=1}c[v+g]=C/S}b=[...c];for(let v=0;v<c.length;v+=u)for(let g=0;g<u;g++){let x=-(a.length-1)/2,S=s,C=0;for(let w=0;w<a.length;w++){const T=v+g+x*m;b[T]?C+=b[T]*a[w]:S-=a[w],x+=1}c[v+g]=C/S}d.push(c)}return d},zz={image:null,canvas:null,jsImageData:null,imageLoaded:!1,repeat:!1,interpolate:!1,edgeClamp:!1,mipLevel:0,resizable:!1};function N7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zz,n),V.obj(t,e),V.algo(t,e,6,0),V.get(t,e,["canvas","image","jsImageData","imageLoaded","resizable"]),V.setGet(t,e,["repeat","edgeClamp","interpolate","mipLevel"]),Uz(t,e)}const jz=V.newInstance(N7,"vtkTexture"),Wz={generateMipmaps:Gz};var Mg=q({newInstance:jz,extend:N7},Wz);const Hz=[[-1,0,0],[1,0,0],[0,-1,0],[0,1,0],[0,0,-1],[0,0,1]],T3=[[8,7,11,3],[9,1,10,5],[4,9,0,8],[2,11,6,10],[0,3,2,1],[4,5,6,7]],Pc=[[0,1],[1,3],[2,3],[0,2],[4,5],[5,7],[6,7],[4,6],[0,4],[1,5],[3,7],[2,6]],_3=[0,1,0,1,0,1,0,1,2,2,2,2],Mt=[[1,2],[1,2],[0,2],[0,2],[0,1],[0,1]],ze=new Float64Array(3),Oc=new Float64Array(3),yt=new Float64Array(3),Ji=new Float64Array(3),Bi=new Float64Array(3),Nc=new Float64Array(3),Ap=new Float64Array(16);function Ep(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font=`${e.fontStyle} ${e.fontSize}px ${e.fontFamily}`}function $z(t,e){e.classHierarchy.push("vtkCubeAxesActorHelper"),t.setRenderable=n=>{e.renderable!==n&&(e.renderable=n,e.tmActor.addTexture(e.renderable.getTmTexture()),e.tmActor.setProperty(n.getProperty()),e.tmActor.setParentProp(n),t.modified())},t.createPolyDataForOneLabel=(n,r,o,i,a,s,u)=>{const l=e.renderable.get_tmAtlas().get(n);if(!l)return;const f=e.renderable.getTextPolyData().getPoints().getData(),c=e.lastSize;ze[0]=f[r*3],ze[1]=f[r*3+1],ze[2]=f[r*3+2],Be(yt,ze,o),yt[0]+=.1,Be(Oc,yt,i),ui(Bi,Oc,ze),yt[0]-=.1,yt[1]+=.1,Be(Oc,yt,i),ui(Nc,Oc,ze);for(let h=0;h<3;h++)Bi[h]/=.5*.1*c[0],Nc[h]/=.5*.1*c[1];let d=u.ptIdx,p=u.cellIdx;ze[0]=f[r*3],ze[1]=f[r*3+1],ze[2]=f[r*3+2],a[0]<-.5?Zo(yt,Bi,a[0]*s-l.width):a[0]>.5?Zo(yt,Bi,a[0]*s):Zo(yt,Bi,a[0]*s-l.width/2),xc(ze,ze,yt),Zo(yt,Nc,a[1]*s-l.height/2),xc(ze,ze,yt),u.points[d*3]=ze[0],u.points[d*3+1]=ze[1],u.points[d*3+2]=ze[2],u.tcoords[d*2]=l.tcoords[0],u.tcoords[d*2+1]=l.tcoords[1],d++,Zo(yt,Bi,l.width),xc(ze,ze,yt),u.points[d*3]=ze[0],u.points[d*3+1]=ze[1],u.points[d*3+2]=ze[2],u.tcoords[d*2]=l.tcoords[2],u.tcoords[d*2+1]=l.tcoords[3],d++,Zo(yt,Nc,l.height),xc(ze,ze,yt),u.points[d*3]=ze[0],u.points[d*3+1]=ze[1],u.points[d*3+2]=ze[2],u.tcoords[d*2]=l.tcoords[4],u.tcoords[d*2+1]=l.tcoords[5],d++,Zo(yt,Bi,l.width),ui(ze,ze,yt),u.points[d*3]=ze[0],u.points[d*3+1]=ze[1],u.points[d*3+2]=ze[2],u.tcoords[d*2]=l.tcoords[6],u.tcoords[d*2+1]=l.tcoords[7],d++,u.polys[p*4]=3,u.polys[p*4+1]=d-4,u.polys[p*4+2]=d-3,u.polys[p*4+3]=d-2,p++,u.polys[p*4]=3,u.polys[p*4+1]=d-4,u.polys[p*4+2]=d-2,u.polys[p*4+3]=d-1,u.ptIdx+=4,u.cellIdx+=2},t.updateTexturePolyData=()=>{const n=e.camera.getCompositeProjectionMatrix(e.lastAspectRatio,-1,1);pt(n,n);const r=e.renderable.getTextValues().length,o=r*4,i=r*2,a=new Float64Array(o*3),s=new Uint16Array(i*4),u=new Float32Array(o*2);Jn(Ap,n);const l={ptIdx:0,cellIdx:0,polys:s,points:a,tcoords:u};let f=0,c=0,d=0;const p=e.renderable.getTextPolyData().getPoints().getData(),h=e.renderable.getTextValues();for(;f<p.length/3;){ze[0]=p[f*3],ze[1]=p[f*3+1],ze[2]=p[f*3+2],Be(yt,ze,n),ze[0]=p[f*3+3],ze[1]=p[f*3+4],ze[2]=p[f*3+5],Be(Ji,ze,n),ui(yt,yt,Ji);const y=[yt[0],yt[1]];rx(y),t.createPolyDataForOneLabel(h[c],f,n,Ap,y,e.renderable.getAxisTitlePixelOffset(),l),f+=2,c++;for(let b=0;b<e.renderable.getTickCounts()[d];b++)t.createPolyDataForOneLabel(h[c],f,n,Ap,y,e.renderable.getTickLabelPixelOffset(),l),f++,c++;d++}const m=Ce.newInstance({numberOfComponents:2,values:u,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(m),e.tmPolyData.getPoints().setData(a,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(s,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updateAPISpecificData=(n,r,o)=>{(e.lastSize[0]!==n[0]||e.lastSize[1]!==n[1])&&(e.lastSize[0]=n[0],e.lastSize[1]=n[1],e.lastAspectRatio=n[0]/n[1],e.forceUpdate=!0),e.camera=r,t.updateTexturePolyData()}}const Kz=V.newInstance(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},n),V.obj(t,e),e.tmPolyData=bt.newInstance(),e.tmMapper=Lo.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmActor=ko.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),V.setGet(t,e,["renderable"]),V.get(t,e,["lastSize","lastAspectRatio","axisTextStyle","tickTextStyle","tmActor","ticks"]),e.forceUpdate=!1,e.lastRedrawTime={},V.obj(e.lastRedrawTime,{mtime:0}),e.lastRebuildTime={},V.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.lastTickBounds=[],$z(t,e)},"vtkCubeAxesActorHelper");function qz(t,e){e.classHierarchy.push("vtkCubeAxesActor"),t.setCamera=r=>{e.camera!==r&&(e.cameraModifiedSub&&(e.cameraModifiedSub.unsubscribe(),e.cameraModifiedSub=null),e.camera=r,r&&(e.cameraModifiedSub=r.onModified(t.update)),t.update(),t.modified())},t.computeFacesToDraw=()=>{const r=e.camera.getViewMatrix();pt(r,r);let o=!1;const i=et.getDiagonalLength(e.dataBounds),a=Math.sin(e.faceVisibilityAngle*Math.PI/180);for(let s=0;s<6;s++){let u=!1;const l=Math.floor(s/2),f=(l+1)%3,c=(l+2)%3;e.dataBounds[f*2]!==e.dataBounds[f*2+1]&&e.dataBounds[c*2]!==e.dataBounds[c*2+1]&&(ze[l]=e.dataBounds[s]-.1*i*Hz[s][l],ze[f]=.5*(e.dataBounds[f*2]+e.dataBounds[f*2+1]),ze[c]=.5*(e.dataBounds[c*2]+e.dataBounds[c*2+1]),Be(yt,ze,r),ze[l]=e.dataBounds[s],Be(Ji,ze,r),ui(yt,Ji,yt),Gr(yt,yt),u=yt[2]>a,e.camera.getParallelProjection()||(Gr(Ji,Ji),u=su(Ji,yt)>a)),u!==e.lastFacesToDraw[s]&&(e.lastFacesToDraw[s]=u,o=!0)}return o},t.updatePolyData=(r,o,i)=>{let a=0,s=0;a+=8;let u=0;for(let p=0;p<12;p++)o[p]>0&&u++;if(s+=u,e.gridLines)for(let p=0;p<6;p++)r[p]&&(a+=i[Mt[p][0]].length*2+i[Mt[p][1]].length*2,s+=i[Mt[p][0]].length+i[Mt[p][1]].length);const l=new Float64Array(a*3),f=new Uint32Array(s*3);let c=0,d=0;for(let p=0;p<2;p++)for(let h=0;h<2;h++)for(let m=0;m<2;m++)l[c*3]=e.dataBounds[m],l[c*3+1]=e.dataBounds[2+h],l[c*3+2]=e.dataBounds[4+p],c++;for(let p=0;p<12;p++)o[p]>0&&(f[d*3]=2,f[d*3+1]=Pc[p][0],f[d*3+2]=Pc[p][1],d++);if(e.gridLines){for(let p=0;p<6;p++)if(r[p]){const h=Math.floor(p/2);let m=i[Mt[p][0]];for(let y=0;y<m.length;y++)l[c*3+h]=e.dataBounds[p],l[c*3+Mt[p][0]]=m[y],l[c*3+Mt[p][1]]=e.dataBounds[Mt[p][1]*2],c++,l[c*3+h]=e.dataBounds[p],l[c*3+Mt[p][0]]=m[y],l[c*3+Mt[p][1]]=e.dataBounds[Mt[p][1]*2+1],c++,f[d*3]=2,f[d*3+1]=c-2,f[d*3+2]=c-1,d++;m=i[Mt[p][1]];for(let y=0;y<m.length;y++)l[c*3+h]=e.dataBounds[p],l[c*3+Mt[p][1]]=m[y],l[c*3+Mt[p][0]]=e.dataBounds[Mt[p][0]*2],c++,l[c*3+h]=e.dataBounds[p],l[c*3+Mt[p][1]]=m[y],l[c*3+Mt[p][0]]=e.dataBounds[Mt[p][0]*2+1],c++,f[d*3]=2,f[d*3+1]=c-2,f[d*3+2]=c-1,d++}}e.polyData.getPoints().setData(l,3),e.polyData.getPoints().modified(),e.polyData.getLines().setData(f,1),e.polyData.getLines().modified(),e.polyData.modified()},t.updateTextData=(r,o,i,a)=>{let s=0;for(let p=0;p<12;p++)o[p]===1&&(s+=2,s+=i[_3[p]].length);const u=e.polyData.getPoints().getData(),l=new Float64Array(s*3);let f=0,c=0,d=0;for(let p=0;p<6;p++)if(r[p])for(let h=0;h<4;h++){const m=T3[p][h];if(o[m]===1){const y=_3[m],b=Pc[m][0]*3,v=Pc[m][1]*3;l[f*3]=.5*(u[b]+u[v]),l[f*3+1]=.5*(u[b+1]+u[v+1]),l[f*3+2]=.5*(u[b+2]+u[v+2]),f++;const g=Math.floor(p/2);l[f*3+g]=e.dataBounds[p],l[f*3+Mt[p][0]]=.5*(e.dataBounds[Mt[p][0]*2]+e.dataBounds[Mt[p][0]*2+1]),l[f*3+Mt[p][1]]=.5*(e.dataBounds[Mt[p][1]*2]+e.dataBounds[Mt[p][1]*2+1]),f++,e.textValues[c]=e.axisLabels[y],c++;const x=(y+1)%3,S=(y+2)%3,C=i[y],w=a[y];e.tickCounts[d]=C.length;for(let T=0;T<C.length;T++)l[f*3+y]=C[T],l[f*3+x]=u[b+x],l[f*3+S]=u[b+S],f++,e.textValues[c]=w[T],c++;d++}}e.textPolyData.getPoints().setData(l,3),e.textPolyData.modified()},t.update=()=>{if(!e.camera)return;const r=t.computeFacesToDraw(),o=e.lastFacesToDraw;let i=!1;for(let a=0;a<6;a++)e.dataBounds[a]!==e.lastTickBounds[a]&&(i=!0,e.lastTickBounds[a]=e.dataBounds[a]);if(r||i||e.forceUpdate){const a=new Array(12).fill(0);for(let l=0;l<6;l++)if(o[l])for(let f=0;f<4;f++)a[T3[l][f]]++;const s=[],u=[];for(let l=0;l<3;l++){const f=ug().domain([e.dataBounds[l*2],e.dataBounds[l*2+1]]);s[l]=f.ticks(5);const c=f.tickFormat(5);u[l]=s[l].map(c)}t.updatePolyData(o,a,s),t.updateTextData(o,a,s,u),(i||e.forceUpdate)&&t.updateTextureAtlas(u)}e.forceUpdate=!1},t.updateTextureAtlas=r=>{e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e._tmAtlas.clear();let o=0,i=1;for(let a=0;a<3;a++){if(!e._tmAtlas.has(e.axisLabels[a])){Ep(e.tmContext,e.axisTextStyle);const s=e.tmContext.measureText(e.axisLabels[a]),u={height:s.actualBoundingBoxAscent+2,startingHeight:i,width:s.width+2,textStyle:e.axisTextStyle};e._tmAtlas.set(e.axisLabels[a],u),i+=u.height,o<u.width&&(o=u.width)}Ep(e.tmContext,e.tickTextStyle);for(let s=0;s<r[a].length;s++)if(!e._tmAtlas.has(r[a][s])){const u=e.tmContext.measureText(r[a][s]),l={height:u.actualBoundingBoxAscent+2,startingHeight:i,width:u.width+2,textStyle:e.tickTextStyle};e._tmAtlas.set(r[a][s],l),i+=l.height,o<l.width&&(o=l.width)}}o=xr(o),i=xr(i),e._tmAtlas.forEach(a=>{a.tcoords=[0,(i-a.startingHeight-a.height)/i,a.width/o,(i-a.startingHeight-a.height)/i,a.width/o,(i-a.startingHeight)/i,0,(i-a.startingHeight)/i]}),e.tmCanvas.width=o,e.tmCanvas.height=i,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,o,i),e._tmAtlas.forEach((a,s)=>{Ep(e.tmContext,a.textStyle),e.tmContext.fillText(s,1,a.startingHeight+a.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified()},t.onModified(()=>{e.forceUpdate=!0,t.update()}),t.setTickTextStyle=r=>{e.tickTextStyle=q(q({},e.tickTextStyle),r),t.modified()},t.setAxisTextStyle=r=>{e.axisTextStyle=q(q({},e.axisTextStyle),r),t.modified()},t.get_tmAtlas=()=>e._tmAtlas,t.getBounds=()=>(t.update(),et.setBounds(e.bounds,e.gridActor.getBounds()),et.scaleAboutCenter(e.bounds,e.boundsScaleFactor,e.boundsScaleFactor,e.boundsScaleFactor),e.bounds);const n=V.chain(t.setProperty,e.gridActor.setProperty);t.setProperty=r=>n(r)[0]}function Xz(t){return q({boundsScaleFactor:1.3,camera:null,dataBounds:[...et.INIT_BOUNDS],faceVisibilityAngle:8,gridLines:!0,axisLabels:null,axisTitlePixelOffset:35,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:12,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"}},t)}function R7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Xz(n)),ko.extend(t,e,n),e.lastFacesToDraw=[!1,!1,!1,!1,!1,!1],e.axisLabels=["X-Axis","Y-Axis","Z-Axis"],e.tickCounts=[],e.textValues=[],e.lastTickBounds=[],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.tmTexture=Mg.newInstance(),e.tmTexture.setInterpolate(!1),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),e.gridMapper=Lo.newInstance(),e.polyData=bt.newInstance(),e.gridMapper.setInputData(e.polyData),e.gridActor=ko.newInstance(),e.gridActor.setMapper(e.gridMapper),e.gridActor.setProperty(t.getProperty()),e.gridActor.setParentProp(t),e.textPolyData=bt.newInstance(),V.setGet(t,e,["axisTitlePixelOffset","boundsScaleFactor","faceVisibilityAngle","gridLines","tickLabelPixelOffset"]),V.setGetArray(t,e,["dataBounds"],6),V.setGetArray(t,e,["axisLabels"],3),V.get(t,e,["axisTextStyle","tickTextStyle","camera","tmTexture","textValues","textPolyData","tickCounts","gridActor"]),qz(t,e)}const Yz=V.newInstance(R7,"vtkCubeAxesActor");var kg={newInstance:Yz,extend:R7,newCubeAxesActorHelper:Kz};function Jz(t,e){e.classHierarchy.push("vtkOpenGLCubeAxesActor"),t.buildPass=n=>{n&&(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.CubeAxesActorHelper.getRenderable()||e.CubeAxesActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.CubeAxesActorHelper.getTmActor()),t.addMissingNode(e.renderable.getGridActor()),t.removeUnusedNodes())},t.opaquePass=(n,r)=>{if(n){const o=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,i=e._openGLRenderer.getTiledSizeAndOrigin();e.CubeAxesActorHelper.updateAPISpecificData([i.usize,i.vsize],o,e._openGLRenderWindow.getRenderable())}}}const Zz={};function Qz(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Zz,n),bn.extend(t,e,n),e.CubeAxesActorHelper=kg.newCubeAxesActorHelper(),Jz(t,e)}const ej=Ct(Qz,"vtkOpenGLCubeAxesActor");Jt("vtkCubeAxesActor",ej);const Po={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2};var M7={ObjectType:Po};const{ObjectType:C0}=M7,tj={};function nj(t,e){e.classHierarchy.push("vtkOpenGLBufferObject");function n(s){switch(s){case C0.ELEMENT_ARRAY_BUFFER:return e.context.ELEMENT_ARRAY_BUFFER;case C0.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in e.context)return e.context.TEXTURE_BUFFER;case C0.ARRAY_BUFFER:default:return e.context.ARRAY_BUFFER}}let r=null,o=null,i=!0,a="";t.getType=()=>r,t.setType=s=>{r=s},t.getHandle=()=>o,t.isReady=()=>i===!1,t.generateBuffer=s=>{const u=n(s);return o===null&&(o=e.context.createBuffer(),r=s),n(r)===u},t.upload=(s,u)=>t.generateBuffer(u)?(e.context.bindBuffer(n(r),o),e.context.bufferData(n(r),s,e.context.STATIC_DRAW),e.allocatedGPUMemoryInBytes=s.length*s.BYTES_PER_ELEMENT,i=!1,!0):(a="Trying to upload array buffer to incompatible buffer.",!1),t.bind=()=>o?(e.context.bindBuffer(n(r),o),!0):!1,t.release=()=>o?(e.context.bindBuffer(n(r),null),!0):!1,t.releaseGraphicsResources=()=>{o!==null&&(e.context.bindBuffer(n(r),null),e.context.deleteBuffer(o),o=null,e.allocatedGPUMemoryInBytes=0)},t.setOpenGLRenderWindow=s=>{e._openGLRenderWindow!==s&&(t.releaseGraphicsResources(),e._openGLRenderWindow=s,e.context=null,s&&(e.context=e._openGLRenderWindow.getContext()))},t.getError=()=>a}const rj={objectType:C0.ARRAY_BUFFER,context:null,allocatedGPUMemoryInBytes:0};function k7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,rj,n),V.obj(t,e),V.get(t,e,["_openGLRenderWindow","allocatedGPUMemoryInBytes"]),V.moveToProtected(t,e,["openGLRenderWindow"]),nj(t,e)}const oj=V.newInstance(k7);var To=q(q({newInstance:oj,extend:k7},tj),M7);const{vtkErrorMacro:A3}=V;function ij(t,e){const n=new Float64Array(3);f8(n,e);const r=new Float64Array(16);return r8(r,wa(),t,n),r}function aj(t,e){return t===null||e===null?!1:!(Ul(t,[0,0,0])&&Ul(e,[1,1,1]))}function sj(t,e){e.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),t.setType(Po.ARRAY_BUFFER),t.createVBO=function(n,r,o,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!n.getData()||!n.getData().length)return e.elementCount=0,0;e.blockSize=3,e.vertexOffset=0,e.normalOffset=0,e.tCoordOffset=0,e.tCoordComponents=0,e.colorComponents=0,e.colorOffset=0,e.customData=[];const s=i.points.getData();let u=null,l=null,f=null;const c=i.colors?i.colors.getNumberOfComponents():0,d=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(e.normalOffset=4*e.blockSize,e.blockSize+=3,u=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(R=>{R&&(e.customData.push({data:R.getData(),offset:4*e.blockSize,components:R.getNumberOfComponents(),name:R.getName()}),e.blockSize+=R.getNumberOfComponents())}),i.tcoords&&(e.tCoordOffset=4*e.blockSize,e.tCoordComponents=d,e.blockSize+=d,l=i.tcoords.getData()),i.colors?(e.colorComponents=i.colors.getNumberOfComponents(),e.colorOffset=0,f=i.colors.getData(),e.colorBO||(e.colorBO=To.newInstance()),e.colorBO.setOpenGLRenderWindow(e._openGLRenderWindow)):e.colorBO=null,e.stride=4*e.blockSize;let p=0,h=0,m=0,y=0,b=0,v=0,g;const x={anythingToPoints(R,B,M){for(let z=0;z<R;++z)g(B[M+z])},linesToWireframe(R,B,M){for(let z=0;z<R-1;++z)g(B[M+z]),g(B[M+z+1])},polysToWireframe(R,B,M){if(R>2)for(let z=0;z<R;++z)g(B[M+z]),g(B[M+(z+1)%R])},stripsToWireframe(R,B,M){if(R>2){for(let z=0;z<R-1;++z)g(B[M+z]),g(B[M+z+1]);for(let z=0;z<R-2;z++)g(B[M+z]),g(B[M+z+2])}},polysToSurface(R,B,M){for(let z=0;z<R-2;z++)g(B[M+0]),g(B[M+z+1]),g(B[M+z+2])},stripsToSurface(R,B,M){for(let z=0;z<R-2;z++)g(B[M+z]),g(B[M+z+1+z%2]),g(B[M+z+1+(z+1)%2])}},S={anythingToPoints(R,B){return R},linesToWireframe(R,B){return R>1?(R-1)*2:0},polysToWireframe(R,B){return R>2?R*2:0},stripsToWireframe(R,B){return R>2?R*4-6:0},polysToSurface(R,B){return R>2?(R-2)*3:0},stripsToSurface(R,B,M){return R>2?(R-2)*3:0}};let C=null,w=null;o===zr.POINTS||r==="verts"?(C=x.anythingToPoints,w=S.anythingToPoints):o===zr.WIREFRAME||r==="lines"?(C=x[`${r}ToWireframe`],w=S[`${r}ToWireframe`]):(C=x[`${r}ToSurface`],w=S[`${r}ToSurface`]);const T=n.getData(),_=T.length;let A=0;for(let R=0;R<_;)A+=w(T[R],T),R+=T[R]+1;let E=null;const D=new Float32Array(A*e.blockSize);f&&(E=new Uint8Array(A*4));let O=0,P=0,k=0,U=0;for(let R=0;R<3;++R){const B=i.points.getRange(R),M=B[1]-B[0];k+=M*M;const z=.5*(B[1]+B[0]);U+=z*z}if(k>0&&(Math.abs(U)/k>1e6||Math.abs(Math.log10(k))>3||k===0&&U>1e6)){const R=new Float64Array(3),B=new Float64Array(3);for(let M=0;M<3;++M){const z=i.points.getRange(M),$=z[1]-z[0];R[M]=.5*(z[1]+z[0]),B[M]=$>0?1/$:1}t.setCoordShiftAndScale(R,B)}else e.coordShiftAndScaleEnabled===!0&&t.setCoordShiftAndScale(null,null);if(a)if(!a.points&&!a.cells)a.points=new Int32Array(A),a.cells=new Int32Array(A);else{const R=new Int32Array(A+a.points.length);R.set(a.points),a.points=R;const B=new Int32Array(A+a.cells.length);B.set(a.cells),a.cells=B}let H=i.vertexOffset;g=function(R){if(a&&(a.points[H]=R,a.cells[H]=v+i.cellOffset),++H,p=R*3,e.coordShiftAndScaleEnabled?(D[O++]=(s[p++]-e.coordShift[0])*e.coordScale[0],D[O++]=(s[p++]-e.coordShift[1])*e.coordScale[1],D[O++]=(s[p++]-e.coordShift[2])*e.coordScale[2]):(D[O++]=s[p++],D[O++]=s[p++],D[O++]=s[p++]),u!==null&&(i.haveCellNormals?h=(v+i.cellOffset)*3:h=R*3,D[O++]=u[h++],D[O++]=u[h++],D[O++]=u[h++]),e.customData.forEach(B=>{b=R*B.components;for(let M=0;M<B.components;++M)D[O++]=B.data[b++]}),l!==null){m=R*d;for(let B=0;B<d;++B)D[O++]=l[m++]}f!==null&&(i.haveCellScalars?y=(v+i.cellOffset)*c:y=R*c,E[P++]=f[y++],E[P++]=f[y++],E[P++]=f[y++],E[P++]=c===4?f[y++]:255)};for(let R=0;R<_;)C(T[R],T,R+1),R+=T[R]+1,v++;return e.elementCount=A,t.upload(D,Po.ARRAY_BUFFER),e.colorBO&&(e.colorBOStride=4,e.colorBO.upload(E,Po.ARRAY_BUFFER)),v},t.setCoordShiftAndScale=(n,r)=>{if(n!==null&&(n.constructor!==Float64Array||n.length!==3)){A3("Wrong type for coordShift, expected vec3 or null");return}if(r!==null&&(r.constructor!==Float64Array||r.length!==3)){A3("Wrong type for coordScale, expected vec3 or null");return}(e.coordShift===null||n===null||!Ry(n,e.coordShift))&&(e.coordShift=n),(e.coordScale===null||r===null||!Ry(r,e.coordScale))&&(e.coordScale=r),e.coordShiftAndScaleEnabled=aj(e.coordShift,e.coordScale),e.coordShiftAndScaleEnabled?e.inverseShiftAndScaleMatrix=ij(e.coordShift,e.coordScale):e.inverseShiftAndScaleMatrix=null}}const lj={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[],coordShift:null,coordScale:null,coordShiftAndScaleEnabled:!1,inverseShiftAndScaleMatrix:null};function L7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lj,n),To.extend(t,e,n),V.setGet(t,e,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),V.get(t,e,["coordShift","coordScale","coordShiftAndScaleEnabled","inverseShiftAndScaleMatrix"]),sj(t,e)}const uj=V.newInstance(L7);var cj={newInstance:uj,extend:L7};const{vtkErrorMacro:fj}=V;function dj(t,e){e.classHierarchy.push("vtkShader"),t.compile=()=>{let n=e.context.VERTEX_SHADER;if(!e.source||!e.source.length||e.shaderType==="Unknown")return!1;switch(e.handle!==0&&(e.context.deleteShader(e.handle),e.handle=0),e.shaderType){case"Fragment":n=e.context.FRAGMENT_SHADER;break;case"Vertex":default:n=e.context.VERTEX_SHADER;break}if(e.handle=e.context.createShader(n),e.context.shaderSource(e.handle,e.source),e.context.compileShader(e.handle),!e.context.getShaderParameter(e.handle,e.context.COMPILE_STATUS)){const r=e.context.getShaderInfoLog(e.handle);return fj(`Error compiling shader '${e.source}': ${r}`),e.context.deleteShader(e.handle),e.handle=0,!1}return!0},t.cleanup=()=>{e.shaderType==="Unknown"||e.handle===0||(e.context.deleteShader(e.handle),e.handle=0,e.dirty=!0)}}const pj={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null};function F7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pj,n),V.obj(t,e),V.setGet(t,e,["shaderType","source","error","handle","context"]),dj(t,e)}const hj=V.newInstance(F7,"vtkShader");var Dp={newInstance:hj,extend:F7};const{vtkErrorMacro:ho}=V;function mj(t,e,n,r){const o=typeof n=="string"?n:n.join(`
`),i=r===!1?e:new RegExp(e,"g"),a=t.replace(i,o);return{replace:a!==o,result:a}}function gj(t,e){e.classHierarchy.push("vtkShaderProgram"),t.compileShader=()=>e.vertexShader.compile()?e.fragmentShader.compile()?!t.attachShader(e.vertexShader)||!t.attachShader(e.fragmentShader)?(ho(e.error),0):t.link()?(t.setCompiled(!0),1):(ho(`Links failed: ${e.error}`),0):(ho(e.fragmentShader.getSource().split(`
`).map((n,r)=>`${r}: ${n}`).join(`
`)),ho(e.fragmentShader.getError()),0):(ho(e.vertexShader.getSource().split(`
`).map((n,r)=>`${r}: ${n}`).join(`
`)),ho(e.vertexShader.getError()),0),t.cleanup=()=>{e.shaderType==="Unknown"||e.handle===0||(t.release(),e.vertexShaderHandle!==0&&(e.context.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=0),e.fragmentShaderHandle!==0&&(e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=0),e.context.deleteProgram(e.handle),e.handle=0,t.setCompiled(!1))},t.bind=()=>!e.linked&&!t.link()?!1:(e.context.useProgram(e.handle),t.setBound(!0),!0),t.isBound=()=>!!e.bound,t.release=()=>{e.context.useProgram(null),t.setBound(!1)},t.setContext=n=>{e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.link=()=>{if(e.linked)return!0;if(e.handle===0)return e.error="Program has not been initialized, and/or does not have shaders.",!1;if(e.uniformLocs={},e.context.linkProgram(e.handle),!e.context.getProgramParameter(e.handle,e.context.LINK_STATUS)){const n=e.context.getProgramInfoLog(e.handle);return ho(`Error linking shader ${n}`),e.handle=0,!1}return t.setLinked(!0),e.attributeLocs={},!0},t.setUniformMatrix=(n,r)=>{const o=t.findUniform(n);if(o===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;const i=new Float32Array(r);return e.context.uniformMatrix4fv(o,!1,i),!0},t.setUniformMatrix3x3=(n,r)=>{const o=t.findUniform(n);if(o===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;const i=new Float32Array(r);return e.context.uniformMatrix3fv(o,!1,i),!0},t.setUniformf=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1f(o,r),!0)},t.setUniformfv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1fv(o,r),!0)},t.setUniformi=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1i(o,r),!0)},t.setUniformiv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform1iv(o,r),!0)},t.setUniform2f=(n,r,o)=>{const i=t.findUniform(n);if(i===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(o===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2f(i,r,o),!0},t.setUniform2fv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform2fv(o,r),!0)},t.setUniform2i=(n,r,o)=>{const i=t.findUniform(n);if(i===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(o===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform2i(i,r,o),!0},t.setUniform2iv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform2iv(o,r),!0)},t.setUniform3f=(n,r,o,i)=>{const a=t.findUniform(n);if(a===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(i===void 0)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(a,r,o,i),!0},t.setUniform3fArray=(n,r)=>{const o=t.findUniform(n);if(o===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;if(!Array.isArray(r)||r.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3f(o,r[0],r[1],r[2]),!0},t.setUniform3fv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform3fv(o,r),!0)},t.setUniform3i=function(n){const r=t.findUniform(n);if(r===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];let s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==3)throw new RangeError("Invalid number of values for array");return e.context.uniform3i(r,s[0],s[1],s[2]),!0},t.setUniform3iv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform3iv(o,r),!0)},t.setUniform4f=function(n){const r=t.findUniform(n);if(r===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];let s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4f(r,s[0],s[1],s[2],s[3]),!0},t.setUniform4fv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform4fv(o,r),!0)},t.setUniform4i=function(n){const r=t.findUniform(n);if(r===-1)return e.error=`Could not set uniform ${n} . No such uniform.`,!1;for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];let s=i;if(s.length===1&&Array.isArray(s[0])&&(s=s[0]),s.length!==4)throw new RangeError("Invalid number of values for array");return e.context.uniform4i(r,s[0],s[1],s[2],s[3]),!0},t.setUniform4iv=(n,r)=>{const o=t.findUniform(n);return o===-1?(e.error=`Could not set uniform ${n} . No such uniform.`,!1):(e.context.uniform4iv(o,r),!0)},t.findUniform=n=>{if(!n||!e.linked)return-1;let r=e.uniformLocs[n];return r!==void 0?r:(r=e.context.getUniformLocation(e.handle,n),r===null?(e.error=`Uniform ${n} not found in current shader program.`,e.uniformLocs[n]=-1,-1):(e.uniformLocs[n]=r,r))},t.isUniformUsed=n=>{if(!n)return!1;let r=e.uniformLocs[n];return r!==void 0?r!==null:e.linked?(r=e.context.getUniformLocation(e.handle,n),e.uniformLocs[n]=r,r!==null):(ho("attempt to find uniform when the shader program is not linked"),!1)},t.isAttributeUsed=n=>{if(!n)return!1;if(n in e.attributeLocs)return!0;if(!e.linked)return ho("attempt to find uniform when the shader program is not linked"),!1;const r=e.context.getAttribLocation(e.handle,n);return r===-1?!1:(e.attributeLocs[n]=r,!0)},t.attachShader=n=>{if(n.getHandle()===0)return e.error="Shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;if(e.handle===0){const r=e.context.createProgram();if(r===0)return e.error="Could not create shader program.",!1;e.handle=r,e.linked=!1}return n.getShaderType()==="Vertex"&&(e.vertexShaderHandle!==0&&e.context.detachShader(e.handle,e.vertexShaderHandle),e.vertexShaderHandle=n.getHandle()),n.getShaderType()==="Fragment"&&(e.fragmentShaderHandle!==0&&e.context.detachShader(e.handle,e.fragmentShaderHandle),e.fragmentShaderHandle=n.getHandle()),e.context.attachShader(e.handle,n.getHandle()),t.setLinked(!1),!0},t.detachShader=n=>{if(n.getHandle()===0)return e.error="shader object was not initialized, cannot attach it.",!1;if(n.getShaderType()==="Unknown")return e.error="Shader object is of type Unknown and cannot be used.",!1;switch(e.handle===0&&(e.error="This shader program has not been initialized yet."),n.getShaderType()){case"Vertex":return e.vertexShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.vertexShaderHandle=0,e.linked=!1,!0);case"Fragment":return e.fragmentShaderHandle!==n.getHandle()?(e.error="The supplied shader was not attached to this program.",!1):(e.context.detachShader(e.handle,n.getHandle()),e.fragmentShaderHandle=0,e.linked=!1,!0);default:return!1}},t.setContext=n=>{e.context=n,e.vertexShader.setContext(n),e.fragmentShader.setContext(n),e.geometryShader.setContext(n)},t.setLastCameraMTime=n=>{e.lastCameraMTime=n}}const vj={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null};function B7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vj,n),e.attributesLocs={},e.uniformLocs={},e.vertexShader=Dp.newInstance(),e.vertexShader.setShaderType("Vertex"),e.fragmentShader=Dp.newInstance(),e.fragmentShader.setShaderType("Fragment"),e.geometryShader=Dp.newInstance(),e.geometryShader.setShaderType("Geometry"),V.obj(t,e),V.get(t,e,["lastCameraMTime"]),V.setGet(t,e,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),gj(t,e)}const yj=V.newInstance(B7,"vtkShaderProgram");var ne={newInstance:yj,extend:B7,substitute:mj};function bj(t,e){e.classHierarchy.push("vtkOpenGLVertexArrayObject"),t.exposedMethod=()=>{},t.initialize=()=>{e.instancingExtension=null,e._openGLRenderWindow.getWebgl2()||(e.instancingExtension=e.context.getExtension("ANGLE_instanced_arrays")),!e.forceEmulation&&e._openGLRenderWindow&&e._openGLRenderWindow.getWebgl2()?(e.extension=null,e.supported=!0,e.handleVAO=e.context.createVertexArray()):(e.extension=e.context.getExtension("OES_vertex_array_object"),!e.forceEmulation&&e.extension?(e.supported=!0,e.handleVAO=e.extension.createVertexArrayOES()):e.supported=!1)},t.isReady=()=>e.handleVAO!==0||e.supported===!1,t.bind=()=>{if(t.isReady()||t.initialize(),t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(e.handleVAO):e.context.bindVertexArray(e.handleVAO);else if(t.isReady()){const n=e.context;for(let r=0;r<e.buffers.length;++r){const o=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,o.buffer);for(let i=0;i<o.attributes.length;++i){const a=o.attributes[i],s=a.isMatrix?a.size:1;for(let u=0;u<s;++u)n.enableVertexAttribArray(a.index+u),n.vertexAttribPointer(a.index+u,a.size,a.type,a.normalize,a.stride,a.offset+a.stride*u/a.size),a.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(a.index+u,1):n.vertexAttribDivisor(a.index+u,1))}}}},t.release=()=>{if(t.isReady()&&e.supported)e.extension?e.extension.bindVertexArrayOES(null):e.context.bindVertexArray(null);else if(t.isReady()){const n=e.context;for(let r=0;r<e.buffers.length;++r){const o=e.buffers[r];e.context.bindBuffer(n.ARRAY_BUFFER,o.buffer);for(let i=0;i<o.attributes.length;++i){const a=o.attributes[i],s=a.isMatrix?a.size:1;for(let u=0;u<s;++u)n.enableVertexAttribArray(a.index+u),n.vertexAttribPointer(a.index+u,a.size,a.type,a.normalize,a.stride,a.offset+a.stride*u/a.size),a.divisor>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(a.index+u,0):n.vertexAttribDivisor(a.index+u,0)),n.disableVertexAttribArray(a.index+u)}}}},t.shaderProgramChanged=()=>{t.release(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.handleProgram=0},t.releaseGraphicsResources=()=>{t.shaderProgramChanged(),e.handleVAO&&(e.extension?e.extension.deleteVertexArrayOES(e.handleVAO):e.context.deleteVertexArray(e.handleVAO)),e.handleVAO=0,e.supported=!0,e.handleProgram=0},t.addAttributeArray=(n,r,o,i,a,s,u,l)=>t.addAttributeArrayWithDivisor(n,r,o,i,a,s,u,l,0,!1),t.addAttributeArrayWithDivisor=(n,r,o,i,a,s,u,l,f,c)=>{if(!n||!n.isBound()||r.getHandle()===0||r.getType()!==Po.ARRAY_BUFFER||(e.handleProgram===0&&(e.handleProgram=n.getHandle()),t.isReady()||t.initialize(),!t.isReady()||e.handleProgram!==n.getHandle()))return!1;const d=e.context,p={};if(p.name=o,p.index=d.getAttribLocation(e.handleProgram,o),p.offset=i,p.stride=a,p.type=s,p.size=u,p.normalize=l,p.isMatrix=c,p.divisor=f,p.Index===-1)return!1;if(r.bind(),d.enableVertexAttribArray(p.index),d.vertexAttribPointer(p.index,p.size,p.type,p.normalize,p.stride,p.offset),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p.index,1):d.vertexAttribDivisor(p.index,1)),p.buffer=r.getHandle(),!e.supported){let h=!1;for(let m=0;m<e.buffers.length;++m){const y=e.buffers[m];if(y.buffer===p.buffer){h=!0;let b=!1;for(let v=0;v<y.attributes.length;++v)y.attributes[v].name===o&&(b=!0,y.attributes[v]=p);b||y.attributes.push(p)}}h||e.buffers.push({buffer:p.buffer,attributes:[p]})}return!0},t.addAttributeMatrixWithDivisor=(n,r,o,i,a,s,u,l,f)=>{const c=t.addAttributeArrayWithDivisor(n,r,o,i,a,s,u,l,f,!0);if(!c)return c;const d=e.context,p=d.getAttribLocation(e.handleProgram,o);for(let h=1;h<u;h++)d.enableVertexAttribArray(p+h),d.vertexAttribPointer(p+h,u,s,l,a,i+a*h/u),f>0&&(e.instancingExtension?e.instancingExtension.vertexAttribDivisorANGLE(p+h,1):d.vertexAttribDivisor(p+h,1));return!0},t.removeAttributeArray=n=>{if(!t.isReady()||e.handleProgram===0)return!1;if(!e.supported)for(let r=0;r<e.buffers.length;++r){const o=e.buffers[r];for(let i=0;i<o.attributes.length;++i)if(o.attributes[i].name===n)return o.attributes.splice(i,1),o.attributes.length||e.buffers.splice(r,1),!0}return!0},t.setOpenGLRenderWindow=n=>{e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))}}const xj={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null};function V7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xj,n),e.buffers=[],V.obj(t,e),V.get(t,e,["supported"]),V.setGet(t,e,["forceEmulation"]),bj(t,e)}const Sj=V.newInstance(V7,"vtkOpenGLVertexArrayObject");var Hu={newInstance:Sj,extend:V7};const Qo={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6};function Cj(t,e){e.classHierarchy.push("vtkOpenGLHelper"),t.setOpenGLRenderWindow=n=>{e.context=n.getContext(),e.program.setContext(e.context),e.VAO.setOpenGLRenderWindow(n),e.CABO.setOpenGLRenderWindow(n)},t.releaseGraphicsResources=n=>{e.VAO.releaseGraphicsResources(),e.CABO.releaseGraphicsResources(),e.CABO.setElementCount(0)},t.drawArrays=(n,r,o,i)=>{if(e.CABO.getElementCount()){const a=t.getOpenGLMode(o),s=t.haveWideLines(n,r),u=e.context,l=u.getParameter(u.DEPTH_WRITEMASK);e.pointPicking&&u.depthMask(!1),a===u.LINES&&s?(t.updateShaders(n,r,i),u.drawArraysInstanced(a,0,e.CABO.getElementCount(),2*Math.ceil(r.getProperty().getLineWidth()))):(u.lineWidth(r.getProperty().getLineWidth()),t.updateShaders(n,r,i),u.drawArrays(a,0,e.CABO.getElementCount()),u.lineWidth(1));const f=(a===u.POINTS?1:0)||(a===u.LINES?2:3);return e.pointPicking&&u.depthMask(l),e.CABO.getElementCount()/f}return 0},t.getOpenGLMode=n=>{if(e.pointPicking)return e.context.POINTS;const r=e.primitiveType;return n===zr.POINTS||r===Qo.Points?e.context.POINTS:n===zr.WIREFRAME||r===Qo.Lines||r===Qo.TrisEdges||r===Qo.TriStripsEdges?e.context.LINES:e.context.TRIANGLES},t.haveWideLines=(n,r)=>r.getProperty().getLineWidth()>1?!(e.CABO.getOpenGLRenderWindow()&&e.CABO.getOpenGLRenderWindow().getHardwareMaximumLineWidth()>=r.getProperty().getLineWidth()):!1,t.getNeedToRebuildShaders=(n,r,o)=>!!(o.getNeedToRebuildShaders(t,n,r)||t.getProgram()===0||t.getShaderSourceTime().getMTime()<o.getMTime()||t.getShaderSourceTime().getMTime()<r.getMTime()),t.updateShaders=(n,r,o)=>{if(t.getNeedToRebuildShaders(n,r,o)){const i={Vertex:null,Fragment:null,Geometry:null};o.buildShaders(i,n,r);const a=e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==t.getProgram()&&(t.setProgram(a),t.getVAO().releaseGraphicsResources()),t.getShaderSourceTime().modified()}else e.CABO.getOpenGLRenderWindow().getShaderCache().readyShaderProgram(t.getProgram());t.getVAO().bind(),o.setMapperShaderParameters(t,n,r),o.setPropertyShaderParameters(t,n,r),o.setCameraShaderParameters(t,n,r),o.setLightingShaderParameters(t,n,r),o.invokeShaderCallbacks(t,n,r)},t.setMapperShaderParameters=(n,r,o)=>{if(t.haveWideLines(n,r)){t.getProgram().setUniform2f("viewportSize",o.usize,o.vsize);const i=parseFloat(r.getProperty().getLineWidth()),a=i/2;t.getProgram().setUniformf("lineWidthStepSize",i/Math.ceil(i)),t.getProgram().setUniformf("halfLineWidth",a)}e.primitiveType===Qo.Points||r.getProperty().getRepresentation()===zr.POINTS?t.getProgram().setUniformf("pointSize",r.getProperty().getPointSize()):e.pointPicking&&t.getProgram().setUniformf("pointSize",t.getPointPickingPrimitiveSize())},t.replaceShaderPositionVC=(n,r,o)=>{let i=n.Vertex;i=ne.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform float pointSize;"]).result,i=ne.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = pointSize;"],!1).result,t.getOpenGLMode(o.getProperty().getRepresentation())===e.context.LINES&&t.haveWideLines(r,o)&&(i=ne.substitute(i,"//VTK::PositionVC::Dec",["//VTK::PositionVC::Dec","uniform vec2 viewportSize;","uniform float lineWidthStepSize;","uniform float halfLineWidth;"]).result,i=ne.substitute(i,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl"," if (halfLineWidth > 0.0)","   {","   float offset = float(gl_InstanceID / 2) * lineWidthStepSize - halfLineWidth;","   vec4 tmpPos = gl_Position;","   vec3 tmpPos2 = tmpPos.xyz / tmpPos.w;","   tmpPos2.x = tmpPos2.x + 2.0 * mod(float(gl_InstanceID), 2.0) * offset / viewportSize[0];","   tmpPos2.y = tmpPos2.y + 2.0 * mod(float(gl_InstanceID + 1), 2.0) * offset / viewportSize[1];","   gl_Position = vec4(tmpPos2.xyz * tmpPos.w, tmpPos.w);","   }"]).result),n.Vertex=i},t.getPointPickingPrimitiveSize=()=>e.primitiveType===Qo.Points?2:e.primitiveType===Qo.Lines?4:6,t.getAllocatedGPUMemoryInBytes=()=>t.getCABO().getAllocatedGPUMemoryInBytes()}const wj={context:null,program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0,pointPicking:!1};function U7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,wj,n),V.obj(t,e),e.shaderSourceTime={},V.obj(e.shaderSourceTime),e.attributeUpdateTime={},V.obj(e.attributeUpdateTime),V.setGet(t,e,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType","pointPicking"]),e.program=ne.newInstance(),e.VAO=Hu.newInstance(),e.CABO=cj.newInstance(),Cj(t,e)}const Tj=V.newInstance(U7);var Tr={newInstance:Tj,extend:U7,primTypes:Qo};const hu={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},Re={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5};var G7={Wrap:hu,Filter:Re};const z7=new Float32Array(1),_j=new Int32Array(z7.buffer);function Aj(t){z7[0]=t;const e=_j[0];let n=e>>16&32768,r=e>>12&2047;const o=e>>23&255;return o<103?n:o>142?(n|=31744,n|=(o===255?0:1)&&e&8388607,n):o<113?(r|=2048,n|=(r>>114-o)+(r>>113-o&1),n):(n|=o-112<<10|r>>1,n+=r&1,n)}function Ej(t){const e=(t&32768)>>15,n=(t&31744)>>10,r=t&1023;return n===0?(e?-1:1)*_e(2,-14)*(r/_e(2,10)):n===31?r?NaN:(e?-1:1)*(1/0):(e?-1:1)*_e(2,n-15)*(1+r/_e(2,10))}var Ya={fromHalf:Ej,toHalf:Aj};const{Wrap:xo,Filter:xn}=G7,{VtkDataTypes:it}=Ce,{vtkDebugMacro:Ip,vtkErrorMacro:ja,vtkWarningMacro:Dj}=Mn,{toHalf:Ij}=Ya;function Pj(t,e){e.classHierarchy.push("vtkOpenGLTexture"),t.render=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(l?e._openGLRenderWindow=l:(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent()),e.context=e._openGLRenderWindow.getContext(),e.renderable.getInterpolate()?(e.generateMipmap?t.setMinificationFilter(xn.LINEAR_MIPMAP_LINEAR):t.setMinificationFilter(xn.LINEAR),t.setMagnificationFilter(xn.LINEAR)):(t.setMinificationFilter(xn.NEAREST),t.setMagnificationFilter(xn.NEAREST)),e.renderable.getRepeat()&&(t.setWrapR(xo.REPEAT),t.setWrapS(xo.REPEAT),t.setWrapT(xo.REPEAT)),e.renderable.getInputData()&&e.renderable.setImage(null),!e.handle||e.renderable.getMTime()>e.textureBuildTime.getMTime()){if(e.renderable.getImage()!==null&&(e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(xn.LINEAR_MIPMAP_LINEAR)),e.renderable.getImage()&&e.renderable.getImageLoaded()&&(t.create2DFromImage(e.renderable.getImage()),t.activate(),t.sendParameters(),e.textureBuildTime.modified())),e.renderable.getCanvas()!==null){e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(xn.LINEAR_MIPMAP_LINEAR));const c=e.renderable.getCanvas();t.create2DFromRaw(c.width,c.height,4,it.UNSIGNED_CHAR,c,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}if(e.renderable.getJsImageData()!==null){const c=e.renderable.getJsImageData();e.renderable.getInterpolate()&&(e.generateMipmap=!0,t.setMinificationFilter(xn.LINEAR_MIPMAP_LINEAR)),t.create2DFromRaw(c.width,c.height,4,it.UNSIGNED_CHAR,c.data,!0),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}const f=e.renderable.getInputData(0);if(f&&f.getPointData().getScalars()){const c=f.getExtent(),d=f.getPointData().getScalars(),p=[];for(let h=0;h<e.renderable.getNumberOfInputPorts();++h){const m=e.renderable.getInputData(h),y=m?m.getPointData().getScalars().getData():null;y&&p.push(y)}e.renderable.getInterpolate()&&d.getNumberOfComponents()===4&&(e.generateMipmap=!0,t.setMinificationFilter(xn.LINEAR_MIPMAP_LINEAR)),p.length%6===0?t.createCubeFromRaw(c[1]-c[0]+1,c[3]-c[2]+1,d.getNumberOfComponents(),d.getDataType(),p):t.create2DFromRaw(c[1]-c[0]+1,c[3]-c[2]+1,d.getNumberOfComponents(),d.getDataType(),d.getData()),t.activate(),t.sendParameters(),e.textureBuildTime.modified()}}e.handle&&t.activate()},t.destroyTexture=()=>{t.deactivate(),e.context&&e.handle&&e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.components=0,e.width=0,e.height=0,e.depth=0,t.resetFormatAndType()},t.createTexture=()=>{e.handle||(e.handle=e.context.createTexture(),e.target&&(e.context.bindTexture(e.target,e.handle),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.bindTexture(e.target,null)))},t.getTextureUnit=()=>e._openGLRenderWindow?e._openGLRenderWindow.getTextureUnitForTexture(t):-1,t.activate=()=>{e._openGLRenderWindow.activateTexture(t),t.bind()},t.deactivate=()=>{e._openGLRenderWindow&&e._openGLRenderWindow.deactivateTexture(t)},t.releaseGraphicsResources=l=>{l&&e.handle&&(l.activateTexture(t),l.deactivateTexture(t),e.context.deleteTexture(e.handle),e.handle=0,e.numberOfDimensions=0,e.target=0,e.internalFormat=0,e.format=0,e.openGLDataType=0,e.components=0,e.width=0,e.height=0,e.depth=0,e.allocatedGPUMemoryInBytes=0),e.shaderProgram&&(e.shaderProgram.releaseGraphicsResources(l),e.shaderProgram=null)},t.bind=()=>{e.context.bindTexture(e.target,e.handle),e.autoParameters&&t.getMTime()>e.sendParametersTime.getMTime()&&t.sendParameters()},t.isBound=()=>{let l=!1;if(e.context&&e.handle){let f=0;switch(e.target){case e.context.TEXTURE_2D:f=e.context.TEXTURE_BINDING_2D;break;default:Dj("impossible case");break}l=e.context.getIntegerv(f)===e.handle}return l},t.sendParameters=()=>{e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_S,t.getOpenGLWrapMode(e.wrapS)),e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_T,t.getOpenGLWrapMode(e.wrapT)),e._openGLRenderWindow.getWebgl2()&&e.context.texParameteri(e.target,e.context.TEXTURE_WRAP_R,t.getOpenGLWrapMode(e.wrapR)),e.context.texParameteri(e.target,e.context.TEXTURE_MIN_FILTER,t.getOpenGLFilterMode(e.minificationFilter)),e.context.texParameteri(e.target,e.context.TEXTURE_MAG_FILTER,t.getOpenGLFilterMode(e.magnificationFilter)),e._openGLRenderWindow.getWebgl2()&&(e.context.texParameteri(e.target,e.context.TEXTURE_BASE_LEVEL,e.baseLevel),e.context.texParameteri(e.target,e.context.TEXTURE_MAX_LEVEL,e.maxLevel)),e.sendParametersTime.modified()},t.getInternalFormat=(l,f)=>(e._forceInternalFormat||(e.internalFormat=t.getDefaultInternalFormat(l,f)),e.internalFormat||Ip(`Unable to find suitable internal format for T=${l} NC= ${f}`),e.internalFormat),t.getDefaultInternalFormat=(l,f)=>{let c=0;return c=e._openGLRenderWindow.getDefaultTextureInternalFormat(l,f,e.oglNorm16Ext,e.useHalfFloat),c||(c||(Ip("Unsupported internal texture type!"),Ip(`Unable to find suitable internal format for T=${l} NC= ${f}`)),c)},t.setInternalFormat=l=>{e._forceInternalFormat=!0,l!==e.internalFormat&&(e.internalFormat=l,t.modified())},t.getFormat=(l,f)=>(e.format=t.getDefaultFormat(l,f),e.format),t.getDefaultFormat=(l,f)=>{if(e._openGLRenderWindow.getWebgl2())switch(f){case 1:return e.context.RED;case 2:return e.context.RG;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}else switch(f){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:return e.context.RGBA;default:return e.context.RGB}},t.resetFormatAndType=()=>{e.format=0,e.internalFormat=0,e._forceInternalFormat=!1,e.openGLDataType=0},t.getDefaultDataType=l=>{if(e._openGLRenderWindow.getWebgl2())switch(l){case it.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case(e.oglNorm16Ext&&!e.useHalfFloat&&it.SHORT):return e.context.SHORT;case(e.oglNorm16Ext&&!e.useHalfFloat&&it.UNSIGNED_SHORT):return e.context.UNSIGNED_SHORT;case(e.useHalfFloat&&it.SHORT):return e.context.HALF_FLOAT;case(e.useHalfFloat&&it.UNSIGNED_SHORT):return e.context.HALF_FLOAT;case it.FLOAT:case it.VOID:default:return e.context.FLOAT}switch(l){case it.UNSIGNED_CHAR:return e.context.UNSIGNED_BYTE;case it.FLOAT:case it.VOID:default:if(e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))return e.context.FLOAT;{const f=e.context.getExtension("OES_texture_half_float");if(f&&e.context.getExtension("OES_texture_half_float_linear"))return f.HALF_FLOAT_OES}return e.context.UNSIGNED_BYTE}},t.getOpenGLDataType=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!e.openGLDataType||f)&&(e.openGLDataType=t.getDefaultDataType(l)),e.openGLDataType},t.getShiftAndScale=()=>{let l=0,f=1;switch(e.openGLDataType){case e.context.BYTE:f=127.5,l=f-128;break;case e.context.UNSIGNED_BYTE:f=255,l=0;break;case e.context.SHORT:f=32767.5,l=f-32768;break;case e.context.UNSIGNED_SHORT:f=65536,l=0;break;case e.context.INT:f=21474836475e-1,l=f-2147483648;break;case e.context.UNSIGNED_INT:f=4294967295,l=0;break;case e.context.FLOAT:}return{shift:l,scale:f}},t.getOpenGLFilterMode=l=>{switch(l){case xn.NEAREST:return e.context.NEAREST;case xn.LINEAR:return e.context.LINEAR;case xn.NEAREST_MIPMAP_NEAREST:return e.context.NEAREST_MIPMAP_NEAREST;case xn.NEAREST_MIPMAP_LINEAR:return e.context.NEAREST_MIPMAP_LINEAR;case xn.LINEAR_MIPMAP_NEAREST:return e.context.LINEAR_MIPMAP_NEAREST;case xn.LINEAR_MIPMAP_LINEAR:return e.context.LINEAR_MIPMAP_LINEAR;default:return e.context.NEAREST}},t.getOpenGLWrapMode=l=>{switch(l){case xo.CLAMP_TO_EDGE:return e.context.CLAMP_TO_EDGE;case xo.REPEAT:return e.context.REPEAT;case xo.MIRRORED_REPEAT:return e.context.MIRRORED_REPEAT;default:return e.context.CLAMP_TO_EDGE}};function n(l,f){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const d=[];let p=e.width*e.height*e.components;if(c&&(p*=e.depth),l!==it.FLOAT&&e.openGLDataType===e.context.FLOAT)for(let m=0;m<f.length;m++)if(f[m]){const y=f[m].length>p?f[m].subarray(0,p):f[m];d.push(new Float32Array(y))}else d.push(null);if(l!==it.UNSIGNED_CHAR&&e.openGLDataType===e.context.UNSIGNED_BYTE)for(let m=0;m<f.length;m++)if(f[m]){const y=f[m].length>p?f[m].subarray(0,p):f[m];d.push(new Uint8Array(y))}else d.push(null);let h=!1;if(e._openGLRenderWindow.getWebgl2())h=e.openGLDataType===e.context.HALF_FLOAT;else{const m=e.context.getExtension("OES_texture_half_float");h=m&&e.openGLDataType===m.HALF_FLOAT_OES}if(h)for(let m=0;m<f.length;m++)if(f[m]){const y=new Uint16Array(p),b=f[m];for(let v=0;v<p;v++)y[v]=Ij(b[v]);d.push(y)}else d.push(null);if(d.length===0)for(let m=0;m<f.length;m++)d.push(f[m]);return d}function r(l){if(e._openGLRenderWindow.getWebgl2())return l;const f=[],c=e.width,d=e.height,p=e.components;if(l&&(!Al(c)||!Al(d))){const h=e.context.getExtension("OES_texture_half_float"),m=xr(c),y=xr(d),b=m*y*e.components;for(let v=0;v<l.length;v++)if(l[v]!==null){let g=null;const x=d/y,S=c/m;let C=!1;e.openGLDataType===e.context.FLOAT?g=new Float32Array(b):h&&e.openGLDataType===h.HALF_FLOAT_OES?(g=new Uint16Array(b),C=!0):g=new Uint8Array(b);for(let w=0;w<y;w++){const T=w*m*p,_=w*x;let A=Math.floor(_),E=Math.ceil(_);E>=d&&(E=d-1);const D=_-A,O=1-D;A=A*c*p,E=E*c*p;for(let P=0;P<m;P++){const k=P*p,U=P*S;let H=Math.floor(U),R=Math.ceil(U);R>=c&&(R=c-1);const B=U-H;H*=p,R*=p;for(let M=0;M<p;M++)C?g[T+k+M]=Ya.toHalf(Ya.fromHalf(l[v][A+H+M])*O*(1-B)+Ya.fromHalf(l[v][A+R+M])*O*B+Ya.fromHalf(l[v][E+H+M])*D*(1-B)+Ya.fromHalf(l[v][E+R+M])*D*B):g[T+k+M]=l[v][A+H+M]*O*(1-B)+l[v][A+R+M]*O*B+l[v][E+H+M]*D*(1-B)+l[v][E+R+M]*D*B}}f.push(g),e.width=m,e.height=y}else f.push(null)}if(f.length===0)for(let h=0;h<l.length;h++)f.push(l[h]);return f}function o(l){var f;return e._openGLRenderWindow?e.resizable||(f=e.renderable)!=null&&f.getResizable()?!1:e._openGLRenderWindow.getWebgl2()?!(e._openGLRenderWindow.getGLInformations().RENDERER.value.match(/WebKit/gi)&&navigator.platform.match(/Mac/gi)&&e.oglNorm16Ext&&(l===it.UNSIGNED_SHORT||l===it.SHORT)):!1:!1}t.create2DFromRaw=function(l,f,c,d,p){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(t.getOpenGLDataType(d,!0),t.getInternalFormat(d,c),t.getFormat(d,c),!e.internalFormat||!e.format||!e.openGLDataType)return ja("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=c,e.width=l,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();const m=n(d,[p]),y=r(m);return e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,h),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),o(d)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),y[0]!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,y[0])):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,y[0]),e.generateMipmap&&e.context.generateMipmap(e.target),h&&e.context.pixelStorei(e.context.UNPACK_FLIP_Y_WEBGL,!1),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*c*e._openGLRenderWindow.getDefaultTextureByteSize(d,e.oglNorm16Ext,e.useHalfFloat),t.deactivate(),!0},t.createCubeFromRaw=(l,f,c,d,p)=>{if(t.getOpenGLDataType(d),t.getInternalFormat(d,c),t.getFormat(d,c),!e.internalFormat||!e.format||!e.openGLDataType)return ja("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_CUBE_MAP,e.components=c,e.width=l,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),e.maxLevel=p.length/6-1,t.createTexture(),t.bind();const h=n(d,p),m=r(h),y=[];let b=e.width,v=e.height;for(let g=0;g<m.length;g++){g%6===0&&g!==0&&(b/=2,v/=2),y[g]=Ta(d,v*b*e.components);for(let x=0;x<v;++x){const S=x*b*e.components,C=(v-x-1)*b*e.components;y[g].set(m[g].slice(C,C+b*e.components),S)}}e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),o(d)&&e.context.texStorage2D(e.target,6,e.internalFormat,e.width,e.height);for(let g=0;g<6;g++){let x=0,S=e.width,C=e.height;for(;S>=1&&C>=1;){let w=null;x<=e.maxLevel&&(w=y[6*x+g]),o(d)?w!=null&&e.context.texSubImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+g,x,0,0,S,C,e.format,e.openGLDataType,w):e.context.texImage2D(e.context.TEXTURE_CUBE_MAP_POSITIVE_X+g,x,e.internalFormat,S,C,0,e.format,e.openGLDataType,w),x++,S/=2,C/=2}}return e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*c*e._openGLRenderWindow.getDefaultTextureByteSize(d,e.oglNorm16Ext,e.useHalfFloat),t.deactivate(),!0},t.createDepthFromRaw=(l,f,c,d)=>(t.getOpenGLDataType(c),e.format=e.context.DEPTH_COMPONENT,e._openGLRenderWindow.getWebgl2()?c===it.FLOAT?e.internalFormat=e.context.DEPTH_COMPONENT32F:e.internalFormat=e.context.DEPTH_COMPONENT16:e.internalFormat=e.context.DEPTH_COMPONENT,!e.internalFormat||!e.format||!e.openGLDataType?(ja("Failed to determine texture parameters."),!1):(e.target=e.context.TEXTURE_2D,e.components=1,e.width=l,e.height=f,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),o(c)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),d!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,d)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,d),e.generateMipmap&&e.context.generateMipmap(e.target),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*e.components*e._openGLRenderWindow.getDefaultTextureByteSize(c,e.oglNorm16Ext,e.useHalfFloat),t.deactivate(),!0)),t.create2DFromImage=l=>{if(t.getOpenGLDataType(it.UNSIGNED_CHAR),t.getInternalFormat(it.UNSIGNED_CHAR,4),t.getFormat(it.UNSIGNED_CHAR,4),!e.internalFormat||!e.format||!e.openGLDataType)return ja("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=4,e.depth=1,e.numberOfDimensions=2,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1);const f=!e._openGLRenderWindow.getWebgl2()&&(!Al(l.width)||!Al(l.height)),c=document.createElement("canvas");c.width=f?xr(l.width):l.width,c.height=f?xr(l.height):l.height,e.width=c.width,e.height=c.height;const d=c.getContext("2d");d.translate(0,c.height),d.scale(1,-1),d.drawImage(l,0,0,l.width,l.height,0,0,c.width,c.height);const p=c;return o(it.UNSIGNED_CHAR)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),p!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,p)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,p),e.generateMipmap&&e.context.generateMipmap(e.target),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*e.components*e._openGLRenderWindow.getDefaultTextureByteSize(it.UNSIGNED_CHAR,e.oglNorm16Ext,e.useHalfFloat),t.deactivate(),!0};function i(l,f,c){const d=new Array(c),p=new Array(c);for(let h=0;h<c;++h)d[h]=l[h],p[h]=f[h]-l[h]||1;return{scale:p,offset:d}}function a(l,f){for(let c=0;c<l.length;c++){const d=l[c],p=f[c]+d;if(d<-2048||d>2048||p<-2048||p>2048)return!1}return!0}function s(l,f,c,d){t.getOpenGLDataType(l);let p=!1;if(e._openGLRenderWindow.getWebgl2())p=e.openGLDataType===e.context.HALF_FLOAT;else{const m=e.context.getExtension("OES_texture_half_float");p=m&&e.openGLDataType===m.HALF_FLOAT_OES}const h=p&&(a(f,c)||d);e.useHalfFloat=h}function u(l,f){const c=l.getNumberOfComponents(),d=l.getDataType(),p=l.getData(),h=new Array(c),m=new Array(c);for(let b=0;b<c;++b){const[v,g]=l.getRange(b);h[b]=v,m[b]=g}const y=i(h,m,c);return s(d,y.offset,y.scale,f),e.useHalfFloat||t.getOpenGLDataType(d,!0),{numComps:c,dataType:d,data:p,scaleOffsets:y}}t.create2DFilterableFromRaw=function(l,f,c,d,p){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;return t.create2DFilterableFromDataArray(l,f,Ce.newInstance({numberOfComponents:c,dataType:d,values:p}),h)},t.create2DFilterableFromDataArray=function(l,f,c){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const{numComps:p,dataType:h,data:m}=u(c,d);t.create2DFromRaw(l,f,p,h,m)},t.create3DFromRaw=(l,f,c,d,p,h)=>{if(t.getOpenGLDataType(p),t.getInternalFormat(p,d),t.getFormat(p,d),!e.internalFormat||!e.format||!e.openGLDataType)return ja("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_3D,e.components=d,e.width=l,e.height=f,e.depth=c,e.numberOfDimensions=3,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind();const m=n(p,[h],!0),y=r(m);return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),o(p)?(e.context.texStorage3D(e.target,1,e.internalFormat,e.width,e.height,e.depth),y[0]!=null&&e.context.texSubImage3D(e.target,0,0,0,0,e.width,e.height,e.depth,e.format,e.openGLDataType,y[0])):e.context.texImage3D(e.target,0,e.internalFormat,e.width,e.height,e.depth,0,e.format,e.openGLDataType,y[0]),e.generateMipmap&&e.context.generateMipmap(e.target),e.allocatedGPUMemoryInBytes=e.width*e.height*e.depth*e.components*e._openGLRenderWindow.getDefaultTextureByteSize(p,e.oglNorm16Ext,e.useHalfFloat),t.deactivate(),!0},t.create3DFilterableFromRaw=function(l,f,c,d,p,h){let m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1;return t.create3DFilterableFromDataArray(l,f,c,Ce.newInstance({numberOfComponents:d,dataType:p,values:h}),m)},t.create3DFilterableFromDataArray=function(l,f,c,d){let p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const{numComps:h,dataType:m,data:y,scaleOffsets:b}=u(d,p),v=l*f*c,g=[],x=[];for(let M=0;M<h;++M)g[M]=0,x[M]=1;e.volumeInfo={scale:x,offset:g,dataComputedScale:b.scale,dataComputedOffset:b.offset,width:l,height:f,depth:c};const S=structuredClone(b);if(e._openGLRenderWindow.getWebgl2()){if(e.oglNorm16Ext&&!e.useHalfFloat&&m===it.SHORT){for(let J=0;J<h;++J)e.volumeInfo.scale[J]=32767;return t.create3DFromRaw(l,f,c,h,m,y)}if(e.oglNorm16Ext&&!e.useHalfFloat&&m===it.UNSIGNED_SHORT){for(let J=0;J<h;++J)e.volumeInfo.scale[J]=65535;return t.create3DFromRaw(l,f,c,h,m,y)}if(m===it.FLOAT||e.useHalfFloat&&(m===it.SHORT||m===it.UNSIGNED_SHORT))return t.create3DFromRaw(l,f,c,h,m,y);if(m===it.UNSIGNED_CHAR){for(let J=0;J<h;++J)e.volumeInfo.scale[J]=255;return t.create3DFromRaw(l,f,c,h,m,y)}const M=new Float32Array(v*h);e.volumeInfo.offset=S.offset,e.volumeInfo.scale=S.scale;let z=0;const $=S.scale.map(J=>1/J);for(let J=0;J<v;J++)for(let Z=0;Z<h;Z++)M[z]=(y[z]-S.offset[Z])*$[Z],z++;return t.create3DFromRaw(l,f,c,h,it.FLOAT,M)}let C=(M,z,$,J,Z)=>{M[z]=$},w=it.UNSIGNED_CHAR;if(m===it.UNSIGNED_CHAR)for(let M=0;M<h;++M)S.offset[M]=0,S.scale[M]=255;else e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear")?(w=it.FLOAT,C=(M,z,$,J,Z)=>{M[z]=($-J)/Z}):(w=it.UNSIGNED_CHAR,C=(M,z,$,J,Z)=>{M[z]=255*($-J)/Z});if(t.getOpenGLDataType(w),t.getInternalFormat(w,h),t.getFormat(w,h),!e.internalFormat||!e.format||!e.openGLDataType)return ja("Failed to determine texture parameters."),!1;e.target=e.context.TEXTURE_2D,e.components=h,e.depth=1,e.numberOfDimensions=2;let T=e.context.getParameter(e.context.MAX_TEXTURE_SIZE);T>4096&&(w===it.FLOAT||h>=3)&&(T=4096);let _=1,A=1;v>T*T&&(_=Math.ceil(Math.sqrt(v/(T*T))),A=_);let E=Math.sqrt(v)/_;E=xr(E);const D=Math.floor(E*_/l),O=Math.ceil(c/D),P=xr(f*O/A);e.width=E,e.height=P,e._openGLRenderWindow.activateTexture(t),t.createTexture(),t.bind(),e.volumeInfo.xreps=D,e.volumeInfo.yreps=O,e.volumeInfo.xstride=_,e.volumeInfo.ystride=A,e.volumeInfo.offset=S.offset,e.volumeInfo.scale=S.scale;let k;const U=E*P*h;w===it.FLOAT?k=new Float32Array(U):k=new Uint8Array(U);let H=0;const R=Math.floor(l/_),B=Math.floor(f/A);for(let M=0;M<O;M++){const z=Math.min(D,c-M*D),$=h*(e.width-z*Math.floor(l/_));for(let J=0;J<B;J++){for(let Z=0;Z<z;Z++){const X=h*((M*D+Z)*l*f+A*J*l);for(let te=0;te<R;te++)for(let ae=0;ae<h;ae++)C(k,H,y[X+_*te*h+ae],S.offset[ae],S.scale[ae]),H++}H+=$}}return e.context.pixelStorei(e.context.UNPACK_ALIGNMENT,1),o(w)?(e.context.texStorage2D(e.target,1,e.internalFormat,e.width,e.height),k!=null&&e.context.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.openGLDataType,k)):e.context.texImage2D(e.target,0,e.internalFormat,e.width,e.height,0,e.format,e.openGLDataType,k),t.deactivate(),!0},t.setOpenGLRenderWindow=l=>{e._openGLRenderWindow!==l&&(t.releaseGraphicsResources(),e._openGLRenderWindow=l,e.context=null,l&&(e.context=e._openGLRenderWindow.getContext()))},t.getMaximumTextureSize=l=>l&&l.isCurrent()?l.getIntegerv(l.MAX_TEXTURE_SIZE):-1}const Oj={_openGLRenderWindow:null,_forceInternalFormat:!1,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:xo.CLAMP_TO_EDGE,wrapT:xo.CLAMP_TO_EDGE,wrapR:xo.CLAMP_TO_EDGE,minificationFilter:xn.NEAREST,magnificationFilter:xn.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1,useHalfFloat:!0,oglNorm16Ext:null,allocatedGPUMemoryInBytes:0};function j7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Oj,n),bn.extend(t,e,n),e.sendParametersTime={},Yt(e.sendParametersTime,{mtime:0}),e.textureBuildTime={},Yt(e.textureBuildTime,{mtime:0}),Bu(t,e,["format","openGLDataType"]),en(t,e,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap","oglNorm16Ext"]),mr(t,e,["width","height","volumeInfo","components","handle","target","allocatedGPUMemoryInBytes"]),Uu(t,e,["openGLRenderWindow"]),Pj(t,e)}const W7=Ct(j7,"vtkOpenGLTexture");var Xe=q({newInstance:W7,extend:j7},G7);Jt("vtkTexture",W7);var Lg=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexMC;

// frag position in VC
//VTK::PositionVC::Dec

// optional normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// Texture coordinates
//VTK::TCoord::Dec

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

// Apple Bug
//VTK::PrimID::Dec

// picking support
//VTK::Picking::Dec

void main()
{
  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  //VTK::PrimID::Impl

  //VTK::PositionVC::Impl

  //VTK::Light::Impl

  //VTK::Picking::Impl
}
`,$u=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the polydata mappers fragment shader

uniform int PrimitiveIDOffset;

// VC position of this fragment
//VTK::PositionVC::Dec

// optional color passed in from the vertex shader, vertexColor
//VTK::Color::Dec

// optional surface normal declaration
//VTK::Normal::Dec

// extra lighting parameters
//VTK::Light::Dec

// define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// Depth Peeling Support
//VTK::DepthPeeling::Dec

// clipping plane vars
//VTK::Clip::Dec

// label outline 
//VTK::LabelOutline::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

//VTK::LabelOutlineHelperFunction

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Clip::Impl

  //VTK::Color::Impl

  // Generate the normal if we are not passed in one
  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Light::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;function Nj(t,e){t.replaceShaderCoincidentOffset=(n,r,o)=>{const i=t.getCoincidentParameters(r,o);if(i&&(i.factor!==0||i.offset!==0)){let a=n.Fragment;a=ne.substitute(a,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,e.context.getExtension("EXT_frag_depth")&&(i.factor!==0?(a=ne.substitute(a,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,a=ne.substitute(a,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):a=ne.substitute(a,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),e._openGLRenderWindow.getWebgl2()&&(i.factor!==0?(a=ne.substitute(a,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,a=ne.substitute(a,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):a=ne.substitute(a,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),n.Fragment=a}}}function Rj(t,e){t.applyShaderReplacements=(n,r,o)=>{let i=null;if(r&&(i=r.ShaderReplacements),i)for(let a=0;a<i.length;a++){const s=i[a];if(o&&s.replaceFirst||!o&&!s.replaceFirst){const u=s.shaderType,l=n[u],f=ne.substitute(l,s.originalValue,s.replacementValue,s.replaceAll);n[u]=f.result}}},t.buildShaders=(n,r,o)=>{t.getReplacedShaderTemplate(n,r,o),e.lastRenderPassShaderReplacement=e.currentRenderPass?e.currentRenderPass.getShaderReplacement():null,e.lastRenderPassShaderReplacement&&e.lastRenderPassShaderReplacement(n);const i=e.renderable.getViewSpecificProperties().OpenGL;t.applyShaderReplacements(n,i,!0),t.replaceShaderValues(n,r,o),t.applyShaderReplacements(n,i)},t.getReplacedShaderTemplate=(n,r,o)=>{const i=e.renderable.getViewSpecificProperties().OpenGL;t.getShaderTemplate(n,r,o);let a=n.Vertex;if(i){const l=i.VertexShaderCode;l!==void 0&&l!==""&&(a=l)}n.Vertex=a;let s=n.Fragment;if(i){const l=i.FragmentShaderCode;l!==void 0&&l!==""&&(s=l)}n.Fragment=s;let u=n.Geometry;if(i){const l=i.GeometryShaderCode;l!==void 0&&(u=l)}n.Geometry=u}}var Bo={implementReplaceShaderCoincidentOffset:Nj,implementBuildShadersWithReplacements:Rj};const{FieldAssociations:Pp}=ka,{primTypes:tn}=Tr,{Representation:Wa,Shading:E3}=Ma,{ScalarMode:Rc}=Lo,{Filter:D3,Wrap:I3}=Xe,{vtkErrorMacro:Vi}=Mn,Mj={type:"StartEvent"},kj={type:"EndEvent"},{CoordinateSystem:Lj}=Xx;function Fj(t){const e=t.getSelector();return e?e.getCurrentPass():Gn.MIN_KNOWN_PASS-1}function Bj(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper"),t.buildPass=r=>{r&&(e.currentRenderPass=null,e.openGLActor=t.getFirstAncestorOfType("vtkOpenGLActor"),e._openGLRenderer=e.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()))},t.translucentPass=(r,o)=>{r&&(e.currentRenderPass=o,t.render())},t.zBufferPass=r=>{r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaqueZBufferPass=r=>t.zBufferPass(r),t.opaquePass=r=>{r&&t.render()},t.render=()=>{const r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(let a=tn.Start;a<tn.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}const o=e.openGLActor.getRenderable(),i=e._openGLRenderer.getRenderable();t.renderPiece(i,o)},t.getShaderTemplate=(r,o,i)=>{r.Vertex=Lg,r.Fragment=$u,r.Geometry=""},t.replaceShaderColor=(r,o,i)=>{let a=r.Vertex,s=r.Geometry,u=r.Fragment;const l=e.lastBoundBO.getReferenceByName("lastLightComplexity");let f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];l&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));let c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];l&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),l&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges&&(f=f.concat(["varying vec4 vertexColorVSOutput;"]),a=ne.substitute(a,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,a=ne.substitute(a,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,s=ne.substitute(s,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,s=ne.substitute(s,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0&&!e.drawingEdges?u=ne.substitute(u,"//VTK::Color::Impl",c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result:e.renderable.getInterpolateScalarsBeforeMapping()&&e.renderable.getColorCoordinates()&&!e.drawingEdges?u=ne.substitute(u,"//VTK::Color::Impl",c.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:(i.getBackfaceProperty()&&!e.drawingEdges&&(f=f.concat(["uniform float opacityUniformBF; // the fragment opacity","uniform float ambientIntensityBF; // the material ambient","uniform float diffuseIntensityBF; // the material diffuse","uniform vec3 ambientColorUniformBF; // ambient material color","uniform vec3 diffuseColorUniformBF; // diffuse material color"]),l?(f=f.concat(["uniform float specularIntensityBF; // the material specular intensity","uniform vec3 specularColorUniformBF; // intensity weighted color","uniform float specularPowerUniformBF;"]),c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  specularColor = specularIntensityBF * specularColorUniformBF;","  specularPower = specularPowerUniformBF;","  opacity = opacityUniformBF; }"])):c=c.concat(["if (gl_FrontFacing == false) {","  ambientColor = ambientIntensityBF * ambientColorUniformBF;","  diffuseColor = diffuseIntensityBF * diffuseColorUniformBF;","  opacity = opacityUniformBF; }"])),e.haveCellScalars&&!e.drawingEdges&&(f=f.concat(["uniform samplerBuffer texture1;"])),u=ne.substitute(u,"//VTK::Color::Impl",c).result),u=ne.substitute(u,"//VTK::Color::Dec",f).result,r.Vertex=a,r.Geometry=s,r.Fragment=u},t.replaceShaderLight=(r,o,i)=>{let a=r.Fragment;const s="",u=e.lastBoundBO.getReferenceByName("lastLightComplexity"),l=e.lastBoundBO.getReferenceByName("lastLightCount");let f=[];switch(u){case 0:a=ne.substitute(a,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:a=ne.substitute(a,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(let c=0;c<l;++c)f=f.concat([`uniform vec3 lightColor${c};`,`uniform vec3 lightDirectionVC${c}; // normalized`,`uniform vec3 lightHalfAngleVC${c}; // normalized`]);a=ne.substitute(a,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(let c=0;c<l;++c)f=f.concat([`  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC${c}));`,`  diffuseL += ((df${s}) * lightColor${c});`,`  if (dot(normalVCVSOutput, lightDirectionVC${c}) < 0.0)`,"    {",`    float sf = sign(df)*pow(max(1e-5,
                                              dot(reflect(lightDirectionVC${c},normalVCVSOutput),
                                                  normalize(-vertexVC.xyz))),
                                         specularPower);`,`    specularL += (sf${s} * lightColor${c});`,"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),a=ne.substitute(a,"//VTK::Light::Impl",f,!1).result;break;case 3:for(let c=0;c<l;++c)f=f.concat([`uniform vec3 lightColor${c};`,`uniform vec3 lightDirectionVC${c}; // normalized`,`uniform vec3 lightHalfAngleVC${c}; // normalized`,`uniform vec3 lightPositionVC${c};`,`uniform vec3 lightAttenuation${c};`,`uniform float lightConeAngle${c};`,`uniform float lightExponent${c};`,`uniform int lightPositional${c};`]);a=ne.substitute(a,"//VTK::Light::Dec",f).result,f=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(let c=0;c<l;++c)f=f.concat(["  attenuation = 1.0;",`  if (lightPositional${c} == 0)`,"    {",`      vertLightDirectionVC = lightDirectionVC${c};`,"    }","  else","    {",`    vertLightDirectionVC = vertexVC.xyz - lightPositionVC${c};`,"    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /",`      (lightAttenuation${c}.x`,`       + lightAttenuation${c}.y * distanceVC`,`       + lightAttenuation${c}.z * distanceVC * distanceVC);`,"    // per OpenGL standard cone angle is 90 or less for a spot light",`    if (lightConeAngle${c} <= 90.0)`,"      {",`      float coneDot = dot(vertLightDirectionVC, lightDirectionVC${c});`,"      // if inside the cone",`      if (coneDot >= cos(radians(lightConeAngle${c})))`,"        {",`        attenuation = attenuation * pow(coneDot, lightExponent${c});`,"        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));",`    diffuseL += ((df${s}) * lightColor${c});`,"    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {",`      float sf = sign(df)*attenuation*pow(max(1e-5,
                                                           dot(reflect(lightDirectionVC${c},
                                                                       normalVCVSOutput),
                                                               normalize(-vertexVC.xyz))),
                                                       specularPower);`,`    specularL += ((sf${s}) * lightColor${c});`,"    }"]);f=f.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),a=ne.substitute(a,"//VTK::Light::Impl",f,!1).result;break;default:Vi("bad light complexity")}r.Fragment=a},t.replaceShaderNormal=(r,o,i)=>{if(e.lastBoundBO.getReferenceByName("lastLightComplexity")>0){let a=r.Vertex,s=r.Geometry,u=r.Fragment;e.lastBoundBO.getCABO().getNormalOffset()?(a=ne.substitute(a,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,a=ne.substitute(a,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,s=ne.substitute(s,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,s=ne.substitute(s,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,u=ne.substitute(u,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,u=ne.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.haveCellNormals?(u=ne.substitute(u,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,u=ne.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.lastBoundBO.getOpenGLMode(i.getProperty().getRepresentation())===e.context.LINES?(u=ne.substitute(u,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,u=ne.substitute(u,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  if (abs(fdx.x) > 0.0)","    { fdx = normalize(fdx); normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { fdy = normalize(fdy); normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(u=ne.substitute(u,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,u=ne.substitute(u,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,u=ne.substitute(u,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),r.Vertex=a,r.Geometry=s,r.Fragment=u}},t.replaceShaderPositionVC=(r,o,i)=>{e.lastBoundBO.replaceShaderPositionVC(r,o,i);let a=r.Vertex,s=r.Geometry,u=r.Fragment;e.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(a=ne.substitute(a,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,a=ne.substitute(a,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCPCMatrix * vertexMC;"]).result,a=ne.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result,s=ne.substitute(s,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,s=ne.substitute(s,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,u=ne.substitute(u,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,u=ne.substitute(u,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(a=ne.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,a=ne.substitute(a,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result),r.Vertex=a,r.Geometry=s,r.Fragment=u},t.replaceShaderTCoord=(r,o,i)=>{if(e.lastBoundBO.getCABO().getTCoordOffset()){let a=r.Vertex,s=r.Geometry,u=r.Fragment;if(e.drawingEdges)return;a=ne.substitute(a,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;const l=e.openGLActor.getActiveTextures();let f=2,c=2;if(l&&l.length>0&&(f=l[0].getComponents(),l[0].getTarget()===e.context.TEXTURE_CUBE_MAP&&(c=3)),e.renderable.getColorTextureMap()&&(f=e.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),c=2),c===2){if(a=ne.substitute(a,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,s=ne.substitute(s,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,s=ne.substitute(s,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,u=ne.substitute(u,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,l&&l.length>=1)switch(f){case 1:u=ne.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:u=ne.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:u=ne.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}}else switch(a=ne.substitute(a,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,s=ne.substitute(s,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,s=ne.substitute(s,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,u=ne.substitute(u,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,f){case 1:u=ne.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;"]).result;break;case 2:u=ne.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.r;","  diffuseColor = diffuseColor*tcolor.r;","  opacity = opacity * tcolor.g;"]).result;break;default:u=ne.substitute(u,"//VTK::TCoord::Impl",["  vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","  ambientColor = ambientColor*tcolor.rgb;","  diffuseColor = diffuseColor*tcolor.rgb;","  opacity = opacity * tcolor.a;"]).result}r.Vertex=a,r.Geometry=s,r.Fragment=u}},t.replaceShaderClip=(r,o,i)=>{let a=r.Vertex,s=r.Fragment;if(e.renderable.getNumberOfClippingPlanes()){const u=e.renderable.getNumberOfClippingPlanes();a=ne.substitute(a,"//VTK::Clip::Dec",["uniform int numClipPlanes;",`uniform vec4 clipPlanes[${u}];`,`varying float clipDistancesVSOutput[${u}];`]).result,a=ne.substitute(a,"//VTK::Clip::Impl",[`for (int planeNum = 0; planeNum < ${u}; planeNum++)`,"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,s=ne.substitute(s,"//VTK::Clip::Dec",["uniform int numClipPlanes;",`varying float clipDistancesVSOutput[${u}];`]).result,s=ne.substitute(s,"//VTK::Clip::Impl",[`for (int planeNum = 0; planeNum < ${u}; planeNum++)`,"    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}r.Vertex=a,r.Fragment=s},t.getCoincidentParameters=(r,o)=>{let i={factor:0,offset:0};const a=o.getProperty();if(e.renderable.getResolveCoincidentTopology()||a.getEdgeVisibility()&&a.getRepresentation()===Wa.SURFACE){const u=e.lastBoundBO.getPrimitiveType();u===tn.Points||a.getRepresentation()===Wa.POINTS?i=e.renderable.getCoincidentTopologyPointOffsetParameter():u===tn.Lines||a.getRepresentation()===Wa.WIREFRAME?i=e.renderable.getCoincidentTopologyLineOffsetParameters():(u===tn.Tris||u===tn.TriStrips)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters()),(u===tn.TrisEdges||u===tn.TriStripsEdges)&&(i=e.renderable.getCoincidentTopologyPolygonOffsetParameters(),i.factor/=2,i.offset/=2)}const s=e._openGLRenderer.getSelector();return s&&s.getFieldAssociation()===Pp.FIELD_ASSOCIATION_POINTS&&(i.offset-=2),i},t.replaceShaderPicking=(r,o,i)=>{let a=r.Fragment,s=r.Vertex;if(a=ne.substitute(a,"//VTK::Picking::Dec",["uniform int picking;","//VTK::Picking::Dec"]).result,!!e._openGLRenderer.getSelector()){switch((e.lastSelectionState===Gn.ID_LOW24||e.lastSelectionState===Gn.ID_HIGH24)&&(s=ne.substitute(s,"//VTK::Picking::Dec",[`flat out int vertexIDVSOutput;
`,`uniform int VertexIDOffset;
`]).result,s=ne.substitute(s,"//VTK::Picking::Impl",`  vertexIDVSOutput = gl_VertexID + VertexIDOffset;
`).result,a=ne.substitute(a,"//VTK::Picking::Dec",`flat in int vertexIDVSOutput;
`).result,a=ne.substitute(a,"//VTK::Picking::Impl",["  int idx = vertexIDVSOutput;","//VTK::Picking::Impl"]).result),e.lastSelectionState){case Gn.ID_LOW24:a=ne.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx%256)/255.0, float((idx/256)%256)/255.0, float((idx/65536)%256)/255.0, 1.0);").result;break;case Gn.ID_HIGH24:a=ne.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(float(idx)/255.0, 0.0, 0.0, 1.0);").result;break;default:a=ne.substitute(a,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,a=ne.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result}r.Fragment=a,r.Vertex=s}},t.replaceShaderValues=(r,o,i)=>{if(t.replaceShaderColor(r,o,i),t.replaceShaderNormal(r,o,i),t.replaceShaderLight(r,o,i),t.replaceShaderTCoord(r,o,i),t.replaceShaderPicking(r,o,i),t.replaceShaderClip(r,o,i),t.replaceShaderCoincidentOffset(r,o,i),t.replaceShaderPositionVC(r,o,i),e.haveSeenDepthRequest){let a=r.Fragment;a=ne.substitute(a,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,a=ne.substitute(a,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,r.Fragment=a}},t.getNeedToRebuildShaders=(r,o,i)=>{let a=0,s=0;const u=r.getPrimitiveType(),l=e.currentInput;let f=!1;const c=l.getPointData().getNormals(),d=l.getCellData().getNormals(),p=i.getProperty().getInterpolation()===E3.FLAT,h=i.getProperty().getRepresentation(),m=r.getOpenGLMode(h,u);if((m===e.context.TRIANGLES||d&&!c||!p&&c||!p&&m===e.context.LINES)&&(f=!0),i.getProperty().getLighting()&&f){a=0;const g=o.getLightsByReference();for(let x=0;x<g.length;++x){const S=g[x];S.getSwitch()>0&&(s++,a===0&&(a=1)),a===1&&(s>1||S.getIntensity()!==1||!S.lightTypeIsHeadLight())&&(a=2),a<3&&S.getPositional()&&(a=3)}}let y=!1;const b=e.lastBoundBO.getReferenceByName("lastLightComplexity"),v=e.lastBoundBO.getReferenceByName("lastLightCount");return(b!==a||v!==s)&&(e.lastBoundBO.set({lastLightComplexity:a},!0),e.lastBoundBO.set({lastLightCount:s},!0),y=!0),(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(y=!0),e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()||r.getShaderSourceTime().getMTime()<e.selectionStateChanged.getMTime()||y?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,!0):!1},t.invokeShaderCallbacks=(r,o,i)=>{const a=e.renderable.getViewSpecificProperties().ShadersCallbacks;a&&a.forEach(s=>{s.callback(s.userData,r,o,i)})},t.setMapperShaderParameters=(r,o,i)=>{if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isUniformUsed("VertexIDOffset")&&r.getProgram().setUniformi("VertexIDOffset",e.vertexIDOffset),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){const u=e.lastBoundBO.getReferenceByName("lastLightComplexity");r.getProgram().isAttributeUsed("vertexMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexMC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||Vi("Error setting vertexMC in shader VAO.")),r.getProgram().isAttributeUsed("normalMC")&&r.getCABO().getNormalOffset()&&u>0?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"normalMC",r.getCABO().getNormalOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||Vi("Error setting normalMC in shader VAO."):r.getVAO().removeAttributeArray("normalMC"),e.renderable.getCustomShaderAttributes().forEach((l,f)=>{r.getProgram().isAttributeUsed(`${l}MC`)&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),`${l}MC`,r.getCABO().getCustomData()[f].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[f].components,!1)||Vi(`Error setting ${l}MC in shader VAO.`))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||Vi("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),r.getProgram().isAttributeUsed("scalarColor")&&r.getCABO().getColorComponents()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),"scalarColor",r.getCABO().getColorOffset(),r.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,4,!0)||Vi("Error setting scalarColor in shader VAO."):r.getVAO().removeAttributeArray("scalarColor"),r.getAttributeUpdateTime().modified()}if(e.renderable.getNumberOfClippingPlanes()){const u=e.renderable.getNumberOfClippingPlanes(),l=[],f=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null,c=f?gn(e.tmpMat4,i.getMatrix()):i.getMatrix();f&&(pt(c,c),lt(c,c,f),pt(c,c));for(let d=0;d<u;d++){const p=[];e.renderable.getClippingPlaneInDataCoords(c,d,p);for(let h=0;h<4;h++)l.push(p[h])}r.getProgram().setUniformi("numClipPlanes",u),r.getProgram().setUniform4fv("clipPlanes",l)}e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());const a=e.openGLActor.getActiveTextures();if(a)for(let u=0;u<a.length;++u){const l=a[u].getTextureUnit(),f=`texture${l+1}`;r.getProgram().isUniformUsed(f)&&r.getProgram().setUniformi(f,l)}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){const u=t.getCoincidentParameters(o,i);r.getProgram().setUniformf("coffset",u.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",u.factor)}r.setMapperShaderParameters(o,i,e._openGLRenderer.getTiledSizeAndOrigin());const s=e._openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",s?s.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",s?s.getCurrentPass()+1:0)},t.setLightingShaderParameters=(r,o,i)=>{const a=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(a<2)return;const s=r.getProgram();let u=0;const l=o.getLightsByReference();for(let c=0;c<l.length;++c){const d=l[c];if(d.getSwitch()>0){const p=d.getColorByReference(),h=d.getIntensity();e.lightColor[0]=p[0]*h,e.lightColor[1]=p[1]*h,e.lightColor[2]=p[2]*h;const m=d.getDirection(),y=o.getActiveCamera().getViewMatrix(),b=[...m];d.lightTypeIsSceneLight()&&(b[0]=y[0]*m[0]+y[1]*m[1]+y[2]*m[2],b[1]=y[4]*m[0]+y[5]*m[1]+y[6]*m[2],b[2]=y[8]*m[0]+y[9]*m[1]+y[10]*m[2],Ft(b)),e.lightDirection[0]=b[0],e.lightDirection[1]=b[1],e.lightDirection[2]=b[2],Ft(e.lightDirection),s.setUniform3fArray(`lightColor${u}`,e.lightColor),s.setUniform3fArray(`lightDirectionVC${u}`,e.lightDirection),u++}}if(a<3)return;const f=o.getActiveCamera().getViewMatrix();pt(f,f),u=0;for(let c=0;c<l.length;++c){const d=l[c];if(d.getSwitch()>0){const p=d.getTransformedPosition(),h=new Float64Array(3);Be(h,p,f),s.setUniform3fArray(`lightAttenuation${u}`,d.getAttenuationValuesByReference()),s.setUniformi(`lightPositional${u}`,d.getPositional()),s.setUniformf(`lightExponent${u}`,d.getExponent()),s.setUniformf(`lightConeAngle${u}`,d.getConeAngle()),s.setUniform3fArray(`lightPositionVC${u}`,[h[0],h[1],h[2]]),u++}}};function n(r,o,i){return o.identity(i),r.reduce((a,s,u)=>u===0?s?o.copy(a,s):o.identity(a):s?o.multiply(a,a,s):a,i)}t.setCameraShaderParameters=(r,o,i)=>{const a=r.getProgram(),s=e.openGLCamera.getKeyMatrices(o),u=o.getActiveCamera(),l=e.openGLCamera.getKeyMatrixTime().getMTime(),f=a.getLastCameraMTime(),c=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null,d=i.getIsIdentity(),p=d?{mcwc:null,normalMatrix:null}:e.openGLActor.getKeyMatrices();if(i.getCoordinateSystem()===Lj.DISPLAY){const h=e._openGLRenderer.getTiledSizeAndOrigin();Le(e.tmpMat4),e.tmpMat4[0]=2/h.usize,e.tmpMat4[12]=-1,e.tmpMat4[5]=2/h.vsize,e.tmpMat4[13]=-1,lt(e.tmpMat4,e.tmpMat4,c),a.setUniformMatrix("MCPCMatrix",e.tmpMat4)}else a.setUniformMatrix("MCPCMatrix",n([s.wcpc,p.mcwc,c],au,e.tmpMat4));a.isUniformUsed("MCVCMatrix")&&a.setUniformMatrix("MCVCMatrix",n([s.wcvc,p.mcwc,c],au,e.tmpMat4)),a.isUniformUsed("normalMatrix")&&a.setUniformMatrix3x3("normalMatrix",n([s.normalMatrix,p.normalMatrix],Lk,e.tmpMat3)),f!==l&&(a.isUniformUsed("cameraParallel")&&a.setUniformi("cameraParallel",u.getParallelProjection()),a.setLastCameraMTime(l)),d||a.setLastCameraMTime(0)},t.setPropertyShaderParameters=(r,o,i)=>{const a=r.getProgram();let s=i.getProperty(),u=s.getOpacity(),l=e.drawingEdges?s.getEdgeColorByReference():s.getAmbientColorByReference(),f=e.drawingEdges?s.getEdgeColorByReference():s.getDiffuseColorByReference(),c=e.drawingEdges?1:s.getAmbient(),d=e.drawingEdges?0:s.getDiffuse(),p=e.drawingEdges?0:s.getSpecular();const h=s.getSpecularPower();a.setUniformf("opacityUniform",u),a.setUniform3fArray("ambientColorUniform",l),a.setUniform3fArray("diffuseColorUniform",f),a.setUniformf("ambient",c),a.setUniformf("diffuse",d);const m=e.lastBoundBO.getReferenceByName("lastLightComplexity");if(m<1)return;let y=s.getSpecularColorByReference();if(a.setUniform3fArray("specularColorUniform",y),a.setUniformf("specularPowerUniform",h),a.setUniformf("specular",p),a.isUniformUsed("ambientIntensityBF")){if(s=i.getBackfaceProperty(),u=s.getOpacity(),l=s.getAmbientColor(),c=s.getAmbient(),f=s.getDiffuseColor(),d=s.getDiffuse(),y=s.getSpecularColor(),p=s.getSpecular(),a.setUniformf("ambientIntensityBF",c),a.setUniformf("diffuseIntensityBF",d),a.setUniformf("opacityUniformBF",u),a.setUniform3fArray("ambientColorUniformBF",l),a.setUniform3fArray("diffuseColorUniformBF",f),m<1)return;a.setUniformf("specularIntensityBF",p),a.setUniform3fArray("specularColorUniformBF",y),a.setUniformf("specularPowerUniformBF",h)}},t.updateMaximumPointCellIds=(r,o)=>{var i,a,s,u;const l=e._openGLRenderer.getSelector();if(l){if((a=(i=e.selectionWebGLIdsToVTKIds)==null?void 0:i.points)!=null&&a.length){const f=e.selectionWebGLIdsToVTKIds.points.length;l.setMaximumPointId(f-1)}if((u=(s=e.selectionWebGLIdsToVTKIds)==null?void 0:s.cells)!=null&&u.length){const f=e.selectionWebGLIdsToVTKIds.cells.length;l.setMaximumCellId(f-1)}l.getFieldAssociation()===Pp.FIELD_ASSOCIATION_POINTS&&(e.pointPicking=!0)}},t.renderPieceStart=(r,o)=>{e.primitiveIDOffset=0,e.vertexIDOffset=0;const i=Fj(e._openGLRenderer);if(e.lastSelectionState!==i&&(e.selectionStateChanged.modified(),e.lastSelectionState=i),e._openGLRenderer.getSelector())switch(i){default:e._openGLRenderer.getSelector().renderProp(o)}t.updateBufferObjects(r,o),e.renderable.getColorTextureMap()&&e.internalColorTexture.activate(),e.lastBoundBO=null},t.renderPieceDraw=(r,o)=>{const i=o.getProperty().getRepresentation(),a=o.getProperty().getEdgeVisibility()&&i===Wa.SURFACE,s=e._openGLRenderer.getSelector(),u=s&&s.getFieldAssociation()===Pp.FIELD_ASSOCIATION_POINTS&&(e.lastSelectionState===Gn.ID_LOW24||e.lastSelectionState===Gn.ID_HIGH24);for(let l=tn.Start;l<tn.End;l++)e.primitives[l].setPointPicking(u),e.primitives[l].getCABO().getElementCount()&&(e.drawingEdges=a&&(l===tn.TrisEdges||l===tn.TriStripsEdges),(!e.drawingEdges||!(e.renderDepth||e.lastSelectionState>=0))&&(e.lastBoundBO=e.primitives[l],e.primitiveIDOffset+=e.primitives[l].drawArrays(r,o,i,t),e.vertexIDOffset+=e.primitives[l].getCABO().getElementCount()))},t.renderPieceFinish=(r,o)=>{e.LastBoundBO&&e.LastBoundBO.getVAO().release(),e.renderable.getColorTextureMap()&&e.internalColorTexture.deactivate()},t.renderPiece=(r,o)=>{if(t.invokeEvent(Mj),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(kj),!e.currentInput){Vi("No input!");return}if(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())return;const i=e.context,a=o.getProperty().getBackfaceCulling(),s=o.getProperty().getFrontfaceCulling();!a&&!s?e._openGLRenderWindow.disableCullFace():s?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,o),t.renderPieceDraw(r,o),t.renderPieceFinish(r,o)},t.computeBounds=(r,o)=>{if(!t.getInput()){Js(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=(r,o)=>{t.getNeedToRebuildBufferObjects(r,o)&&t.buildBufferObjects(r,o)},t.getNeedToRebuildBufferObjects=(r,o)=>{const i=e.VBOBuildTime.getMTime();return i<t.getMTime()||i<e.renderable.getMTime()||i<o.getMTime()||i<e.currentInput.getMTime()},t.buildBufferObjects=(r,o)=>{const i=e.currentInput;if(i===null)return;e.renderable.mapScalars(i,1);const a=e.renderable.getColorMapColors();e.haveCellScalars=!1;const s=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(s===Rc.USE_CELL_DATA||s===Rc.USE_CELL_FIELD_DATA||s===Rc.USE_FIELD_DATA||!i.getPointData().getScalars())&&s!==Rc.USE_POINT_FIELD_DATA&&a&&(e.haveCellScalars=!0);let u=o.getProperty().getInterpolation()!==E3.FLAT?i.getPointData().getNormals():null;u===null&&i.getCellData().getNormals()&&(e.haveCellNormals=!0,u=i.getCellData().getNormals());const l=o.getProperty().getRepresentation();let f=i.getPointData().getTCoords();if(e.openGLActor.getActiveTextures()||(f=null),e.renderable.getColorCoordinates()){f=e.renderable.getColorCoordinates(),e.internalColorTexture||(e.internalColorTexture=Xe.newInstance({resizable:!0}));const d=e.internalColorTexture;d.setMinificationFilter(D3.NEAREST),d.setMagnificationFilter(D3.NEAREST),d.setWrapS(I3.CLAMP_TO_EDGE),d.setWrapT(I3.CLAMP_TO_EDGE),d.setOpenGLRenderWindow(e._openGLRenderWindow);const p=e.renderable.getColorTextureMap(),h=p.getExtent(),m=p.getPointData().getScalars();d.create2DFromRaw(h[1]-h[0]+1,h[3]-h[2]+1,m.getNumberOfComponents(),m.getDataType(),m.getData()),d.activate(),d.sendParameters(),d.deactivate()}const c=`${i.getMTime()}A${l}B${i.getMTime()}C${u?u.getMTime():1}D${a?a.getMTime():1}E${o.getProperty().getEdgeVisibility()}F${f?f.getMTime():1}`;if(e.VBOBuildString!==c){const d={points:i.getPoints(),normals:u,tcoords:f,colors:a,cellOffset:0,vertexOffset:0,haveCellScalars:e.haveCellScalars,haveCellNormals:e.haveCellNormals,customAttributes:e.renderable.getCustomShaderAttributes().map(m=>i.getPointData().getArrayByName(m))};e.renderable.getPopulateSelectionSettings()&&(e.selectionWebGLIdsToVTKIds={points:null,cells:null});const p=[{inRep:"verts",cells:i.getVerts()},{inRep:"lines",cells:i.getLines()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()},{inRep:"polys",cells:i.getPolys()},{inRep:"strips",cells:i.getStrips()}],h=o.getProperty().getEdgeVisibility()&&l===Wa.SURFACE;for(let m=tn.Start;m<tn.End;m++)m!==tn.TrisEdges&&m!==tn.TriStripsEdges?(d.cellOffset+=e.primitives[m].getCABO().createVBO(p[m].cells,p[m].inRep,l,d,e.selectionWebGLIdsToVTKIds),d.vertexOffset+=e.primitives[m].getCABO().getElementCount()):h?e.primitives[m].getCABO().createVBO(p[m].cells,p[m].inRep,Wa.WIREFRAME,Oe(q({},d),{tcoords:null,colors:null,haveCellScalars:!1,haveCellNormals:!1})):e.primitives[m].releaseGraphicsResources();e.renderable.getPopulateSelectionSettings()&&(e.renderable.setSelectionWebGLIdsToVTKIds(e.selectionWebGLIdsToVTKIds),t.updateMaximumPointCellIds()),e.VBOBuildTime.modified(),e.VBOBuildString=c}},t.getAllocatedGPUMemoryInBytes=()=>{let r=0;return e.primitives.forEach(o=>{r+=o.getAllocatedGPUMemoryInBytes()}),r}}const Vj={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastSelectionState:Gn.MIN_KNOWN_PASS-1,selectionStateChanged:null,selectionWebGLIdsToVTKIds:null,pointPicking:!1};function H7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Vj,n),bn.extend(t,e,n),Bo.implementReplaceShaderCoincidentOffset(t,e,n),Bo.implementBuildShadersWithReplacements(t,e,n),e.primitives=[],e.primTypes=tn,e.tmpMat3=Wr(new Float64Array(9)),e.tmpMat4=Le(new Float64Array(16));for(let r=tn.Start;r<tn.End;r++)e.primitives[r]=Tr.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);en(t,e,["context"]),e.VBOBuildTime={},Yt(e.VBOBuildTime,{mtime:0}),e.selectionStateChanged={},Yt(e.selectionStateChanged,{mtime:0}),Bj(t,e)}const $7=Ct(H7,"vtkOpenGLPolyDataMapper");var Td={newInstance:$7,extend:H7};Jt("vtkMapper",$7);const{ColorMode:Uj,ScalarMode:Ui,GetArray:Op}=xd;function Gj(t,e){e.classHierarchy.push("vtkMapper2D"),t.createDefaultLookupTable=()=>{e.lookupTable=es.newInstance()},t.getColorModeAsString=()=>V.enumToString(Uj,e.colorMode),t.setColorModeToDefault=()=>t.setColorMode(0),t.setColorModeToMapScalars=()=>t.setColorMode(1),t.setColorModeToDirectScalars=()=>t.setColorMode(2),t.getScalarModeAsString=()=>V.enumToString(Ui,e.scalarMode),t.setScalarModeToDefault=()=>t.setScalarMode(0),t.setScalarModeToUsePointData=()=>t.setScalarMode(1),t.setScalarModeToUseCellData=()=>t.setScalarMode(2),t.setScalarModeToUsePointFieldData=()=>t.setScalarMode(3),t.setScalarModeToUseCellFieldData=()=>t.setScalarMode(4),t.setScalarModeToUseFieldData=()=>t.setScalarMode(5),t.getAbstractScalars=(n,r,o,i,a)=>{if(!n||!e.scalarVisibility)return{scalars:null,cellFLag:!1};let s=null,u=!1;if(r===Ui.DEFAULT)s=n.getPointData().getScalars(),s||(s=n.getCellData().getScalars(),u=!0);else if(r===Ui.USE_POINT_DATA)s=n.getPointData().getScalars();else if(r===Ui.USE_CELL_DATA)s=n.getCellData().getScalars(),u=!0;else if(r===Ui.USE_POINT_FIELD_DATA){const l=n.getPointData();o===Op.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(a)}else if(r===Ui.USE_CELL_FIELD_DATA){const l=n.getCellData();u=!0,o===Op.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(a)}else if(r===Ui.USE_FIELD_DATA){const l=n.getFieldData();o===Op.BY_ID?s=l.getArrayByIndex(i):s=l.getArrayByName(a)}return{scalars:s,cellFlag:u}},t.getLookupTable=()=>(e.lookupTable||t.createDefaultLookupTable(),e.lookupTable),t.getMTime=()=>{let n=e.mtime;if(e.lookupTable!==null){const r=e.lookupTable.getMTime();n=r>n?r:n}return n},t.mapScalars=(n,r)=>{const o=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;if(!o){e.colorMapColors=null;return}const i=`${t.getMTime()}${o.getMTime()}${r}`;if(e.colorBuildString===i)return;e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]);const a=t.getLookupTable();a&&(a.build(),e.colorMapColors=a.mapScalars(o,e.colorMode,e.fieldDataTupleId)),e.colorBuildString=`${t.getMTime()}${o.getMTime()}${r}`},t.getPrimitiveCount=()=>{const n=t.getInputData();return{points:n.getPoints().getNumberOfValues()/3,verts:n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells(),lines:n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells(),triangles:n.getPolys().getNumberOfValues()-3*n.getPolys().getNumberOfCells()}}}const zj={static:!1,lookupTable:null,scalarVisibility:!1,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,transformCoordinate:null,viewSpecificProperties:null,customShaderAttributes:[]};function K7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zj,n),Eg.extend(t,e,n),V.get(t,e,["colorMapColors"]),V.setGet(t,e,["arrayAccessMode","colorByArrayName","colorMode","lookupTable","renderTime","scalarMode","scalarVisibility","static","transformCoordinate","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),V.setGetArray(t,e,["scalarRange"],2),e.viewSpecificProperties||(e.viewSpecificProperties={}),Gj(t,e)}const jj=V.newInstance(K7,"vtkMapper2D");var Wj={newInstance:jj,extend:K7},Hj=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

uniform int PrimitiveIDOffset;

// Texture coordinates
//VTK::TCoord::Dec

// Scalar coloring
//VTK::Color::Dec

// Depth Peeling
//VTK::DepthPeeling::Dec

// picking support
//VTK::Picking::Dec

// the output of this shader
//VTK::Output::Dec

// Apple Bug
//VTK::PrimID::Dec

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  //VTK::Color::Impl
  //VTK::TCoord::Impl

  //VTK::DepthPeeling::Impl
  //VTK::Picking::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }
}
`,$j=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyData2DVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model Coordinates
// WC - WC world coordinates
// VC - View Coordinates
// DC - Display Coordinates

in vec4 vertexWC;

// frag position in VC
//VTK::PositionVC::Dec

// material property values
//VTK::Color::Dec

// Texture coordinates
//VTK::TCoord::Dec

// Apple Bug
//VTK::PrimID::Dec

uniform mat4 WCVCMatrix;  // World to view matrix

void main()
{
  // Apple Bug
  //VTK::PrimID::Impl

  gl_Position = WCVCMatrix*vertexWC;

  //VTK::TCoord::Impl

  //VTK::Color::Impl

  //VTK::PositionVC::Impl
}
`;const Kj={BACKGROUND:0,FOREGROUND:1},{primTypes:Ir}=Tr,{ScalarMode:Mc}=Wj,{vtkErrorMacro:kc}=Mn,qj={type:"StartEvent"},Xj={type:"EndEvent"};function Yj(t,e){e.classHierarchy.push("vtkOpenGLPolyDataMapper2D"),t.buildPass=r=>{r&&(e.openGLActor2D=t.getFirstAncestorOfType("vtkOpenGLActor2D"),e._openGLRenderer=e.openGLActor2D.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()))},t.overlayPass=r=>{r&&t.render()},t.getShaderTemplate=(r,o,i)=>{r.Vertex=$j,r.Fragment=Hj,r.Geometry=""},t.render=()=>{const r=e._openGLRenderWindow.getContext();if(e.context!==r){e.context=r;for(let a=Ir.Start;a<Ir.End;a++)e.primitives[a].setOpenGLRenderWindow(e._openGLRenderWindow)}const o=e.openGLActor2D.getRenderable(),i=e._openGLRenderer.getRenderable();t.renderPiece(i,o)},t.renderPiece=(r,o)=>{if(t.invokeEvent(qj),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent(Xj),!e.currentInput){kc("No input!");return}!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues()||(t.renderPieceStart(r,o),t.renderPieceDraw(r,o),t.renderPieceFinish(r,o))},t.renderPieceStart=(r,o)=>{if(e.primitiveIDOffset=0,e._openGLRenderer.getSelector())switch(e._openGLRenderer.getSelector().getCurrentPass()){default:e._openGLRenderer.getSelector().renderProp(o)}t.updateBufferObjects(r,o),e.lastBoundBO=null},t.getNeedToRebuildShaders=(r,o,i)=>r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime(),t.updateBufferObjects=(r,o)=>{t.getNeedToRebuildBufferObjects(r,o)&&t.buildBufferObjects(r,o)},t.getNeedToRebuildBufferObjects=(r,o)=>{const i=e.VBOBuildTime.getMTime();return!!(i<t.getMTime()||i<e._openGLRenderWindow.getMTime()||i<e.renderable.getMTime()||i<o.getMTime()||i<e.currentInput.getMTime()||e.renderable.getTransformCoordinate()&&i<r.getMTime())},t.buildBufferObjects=(r,o)=>{const i=e.currentInput;if(i===null)return;e.renderable.mapScalars(i,o.getProperty().getOpacity());const a=e.renderable.getColorMapColors();e.haveCellScalars=!1;const s=e.renderable.getScalarMode();e.renderable.getScalarVisibility()&&(s===Mc.USE_CELL_DATA||s===Mc.USE_CELL_FIELD_DATA||s===Mc.USE_FIELD_DATA||!i.getPointData().getScalars())&&s!==Mc.USE_POINT_FIELD_DATA&&a&&(e.haveCellScalars=!0);const u=o.getProperty().getRepresentation();let l=i.getPointData().getTCoords();e.openGLActor2D.getActiveTextures()||(l=null);const f=e.renderable.getTransformCoordinate(),c=r.getRenderWindow().getViews()[0].getViewportSize(r),d=`${i.getMTime()}A${u}B${i.getMTime()}C${a?a.getMTime():1}D${l?l.getMTime():1}E${f?r.getMTime():1}F${c}`;if(e.VBOBuildString!==d){let p=i.getPoints();if(f){const m=Fo.newInstance(),y=p.getNumberOfPoints();m.setNumberOfPoints(y);const b=[];for(let v=0;v<y;++v){p.getPoint(v,b),f.setValue(b);const g=f.getComputedDoubleViewportValue(r);m.setPoint(v,g[0],g[1],0)}p=m}const h={points:p,tcoords:l,colors:a,cellOffset:0,haveCellScalars:e.haveCellSCalars,customAttributes:e.renderable.getCustomShaderAttributes().map(m=>i.getPointData().getArrayByName(m))};h.cellOffset+=e.primitives[Ir.Points].getCABO().createVBO(i.getVerts(),"verts",u,h),h.cellOffset+=e.primitives[Ir.Lines].getCABO().createVBO(i.getLines(),"lines",u,h),h.cellOffset+=e.primitives[Ir.Tris].getCABO().createVBO(i.getPolys(),"polys",u,h),h.cellOffset+=e.primitives[Ir.TriStrips].getCABO().createVBO(i.getStrips(),"strips",u,h),e.VBOBuildTime.modified(),e.VBOBuildString=d}},t.renderPieceDraw=(r,o)=>{const i=o.getProperty().getRepresentation();e.context.depthMask(!0);for(let a=Ir.Start;a<Ir.End;a++)e.primitives[a].getCABO().getElementCount()&&(e.lastBoundBO=e.primitives[a],e.primitiveIDOffset+=e.primitives[a].drawArrays(r,o,i,t))},t.renderPieceFinish=(r,o)=>{e.lastBoundBO&&e.lastBoundBO.getVAO().release()},t.replaceShaderValues=(r,o,i)=>{t.replaceShaderColor(r,o,i),t.replaceShaderTCoord(r,o,i),t.replaceShaderPicking(r,o,i),t.replaceShaderPositionVC(r,o,i)},t.replaceShaderColor=(r,o,i)=>{let a=r.Vertex,s=r.Geometry,u=r.Fragment;e.haveCellScalars&&(u=ne.substitute(u,"//VTK::Color::Dec",["uniform samplerBuffer texture1;"]).result,u=ne.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = texelFetchBuffer(texture1, gl_PrimitiveID + PrimitiveIDOffset);"]).result),e.lastBoundBO.getCABO().getColorComponents()!==0?(a=ne.substitute(a,"//VTK::Color::Dec",["in vec4 diffuseColor;","out vec4 fcolorVSOutput;"]).result,a=ne.substitute(a,"//VTK::Color::Impl",["fcolorVSOutput = diffuseColor;"]).result,s=ne.substitute(s,"//VTK::Color::Dec",[`in vec4 fcolorVSOutput[];
`,"out vec4 fcolorGSOutput;"]).result,s=ne.substitute(s,"//VTK::Color::Impl",["fcolorGSOutput = fcolorVSOutput[i];"]).result,u=ne.substitute(u,"//VTK::Color::Dec",["in vec4 fcolorVSOutput;"]).result,u=ne.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = fcolorVSOutput;"]).result):(u=ne.substitute(u,"//VTK::Color::Dec",["uniform vec4 diffuseColor;"]).result,u=ne.substitute(u,"//VTK::Color::Impl",["gl_FragData[0] = diffuseColor;"]).result),r.Vertex=a,r.Geometry=s,r.Fragment=u},t.replaceShaderTCoord=(r,o,i)=>{if(e.lastBoundBO.getCABO().getTCoordOffset()){let a=r.Vertex,s=r.Geometry,u=r.Fragment;const l=e.lastBoundBO.getCABO().getTCoordComponents();l===1?(a=ne.substitute(a,"//VTK::TCoord::Dec",["in float tcoordMC;","out float tcoordVCVSOutput;"]).result,a=ne.substitute(a,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,s=ne.substitute(s,"//VTK::TCoord::Dec",[`in float tcoordVCVSOutput[];
`,"out float tcoordVCGSOutput;"]).result,s=ne.substitute(s,["//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,u=ne.substitute(u,"//VTK::TCoord::Dec",["in float tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u=ne.substitute(u,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));"]).result):l===2&&(a=ne.substitute(a,"//VTK::TCoord::Dec",["in vec2 tcoordMC;","out vec2 tcoordVCVSOutput;"]).result,a=ne.substitute(a,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,s=ne.substitute(s,"//VTK::TCoord::Dec",[`in vec2 tcoordVCVSOutput[];
`,"out vec2 tcoordVCGSOutput;"]).result,s=ne.substitute(s,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,u=ne.substitute(u,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,u=ne.substitute(u,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);"]).result),e.haveCellScalars&&(s=ne.substitute(s,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result),r.Vertex=a,r.Geometry=s,r.Fragment=u}},t.replaceShaderPicking=(r,o,i)=>{let a=r.Fragment;a=ne.substitute(a,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,a=ne.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,r.Fragment=a},t.replaceShaderPositionVC=(r,o,i)=>{e.lastBoundBO.replaceShaderPositionVC(r,o,i)},t.invokeShaderCallbacks=(r,o,i)=>{const a=e.renderable.getViewSpecificProperties().ShadersCallbacks;a&&a.forEach(s=>{s.callback(s.userData,r,o,i)})},t.setMapperShaderParameters=(r,o,i)=>{if(r.getProgram().isUniformUsed("PrimitiveIDOffset")&&r.getProgram().setUniformi("PrimitiveIDOffset",e.primitiveIDOffset),r.getProgram().isAttributeUsed("vertexWC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"vertexWC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,!1)||kc("Error setting vertexWC in shader VAO.")),r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){e.renderable.getCustomShaderAttributes().forEach((u,l)=>{r.getProgram().isAttributeUsed(`${u}MC`)&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),`${u}MC`,r.getCABO().getCustomData()[l].offset,r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getCustomData()[l].components,!1)||kc(`Error setting ${u}MC in shader VAO.`))}),r.getProgram().isAttributeUsed("tcoordMC")&&r.getCABO().getTCoordOffset()?r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"tcoordMC",r.getCABO().getTCoordOffset(),r.getCABO().getStride(),e.context.FLOAT,r.getCABO().getTCoordComponents(),!1)||kc("Error setting tcoordMC in shader VAO."):r.getVAO().removeAttributeArray("tcoordMC"),e.internalColorTexture&&r.getProgram().isUniformUsed("texture1")&&r.getProgram().setUniformi("texture1",e.internalColorTexture.getTextureUnit());const a=e.openGLActor2D.getActiveTextures();if(a)for(let u=0;u<a.length;++u){const l=a[u].getTextureUnit(),f=`texture${l+1}`;r.getProgram().isUniformUsed(f)&&r.getProgram().setUniformi(f,l)}r.setMapperShaderParameters(o,i,e._openGLRenderer.getTiledSizeAndOrigin());const s=e._openGLRenderer.getSelector();r.getProgram().setUniform3fArray("mapperIndex",s?s.getPropColorValue():[0,0,0]),r.getProgram().setUniformi("picking",s?s.getCurrentPass()+1:0)}},t.setPropertyShaderParameters=(r,o,i)=>{const a=e.renderable.getColorMapColors();if(!a||a.getNumberOfComponents()===0){const s=r.getProgram(),u=i.getProperty(),l=u.getOpacity(),f=u.getColor(),c=[f[0],f[1],f[2],l];s.setUniform4f("diffuseColor",c)}},t.setLightingShaderParameters=(r,o,i)=>{};function n(r,o,i){return o.identity(i),r.reduce((a,s,u)=>u===0?s?o.copy(a,s):o.identity(a):s?o.multiply(a,a,s):a,i)}t.setCameraShaderParameters=(r,o,i)=>{const a=r.getProgram(),s=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null,u=o.getRenderWindow().getViews()[0].getViewportSize(o),l=o.getViewport(),f=i.getActualPositionCoordinate().getComputedDoubleViewportValue(o),c=[0,0,1,1],d=[0,0,1,1];if(d[0]=l[0]>=c[0]?l[0]:c[0],d[1]=l[1]>=c[1]?l[1]:c[1],d[2]=l[2]<=c[2]?l[2]:c[2],d[3]=l[3]<=c[3]?l[3]:c[3],d[0]>=d[2]||d[1]>=d[3])return;u[0]=_l(u[0]*(d[2]-d[0])/(l[2]-l[0])),u[1]=_l(u[1]*(d[3]-d[1])/(l[3]-l[1]));const p=e._openGLRenderer.getParent().getSize(),h=_l(f[0]-(d[0]-l[0])*p[0]),m=_l(f[1]-(d[1]-l[1])*p[1]),y=-h;let b=-h+u[0];const v=-m;let g=-m+u[1];y===b&&(b=y+1),v===g&&(g=v+1);const x=Le(new Float64Array(16));x[0]=2/(b-y),x[1*4+1]=2/(g-v),x[0*4+3]=-1*(b+y)/(b-y),x[1*4+3]=-1*(g+v)/(g-v),x[2*4+2]=0,x[2*4+3]=i.getProperty().getDisplayLocation()===Kj.FOREGROUND?-1:1,x[3*4+3]=1,pt(x,x),a.setUniformMatrix("WCVCMatrix",n([x,s],au,e.tmpMat4))},t.getAllocatedGPUMemoryInBytes=()=>{let r=0;return e.primitives.forEach(o=>{r+=o.getAllocatedGPUMemoryInBytes()}),r}}const Jj={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null};function Zj(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Jj,n),bn.extend(t,e,n),Bo.implementReplaceShaderCoincidentOffset(t,e,n),Bo.implementBuildShadersWithReplacements(t,e,n),e.primitives=[],e.primTypes=Ir,e.tmpMat4=Le(new Float64Array(16));for(let r=Ir.Start;r<Ir.End;r++)e.primitives[r]=Tr.newInstance(),e.primitives[r].setPrimitiveType(r),e.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);en(t,e,["context"]),e.VBOBuildTime={},Yt(e.VBOBuildTime,{mtime:0}),Yj(t,e)}const Qj=Ct(Zj,"vtkOpenGLPolyDataMapper2D");Jt("vtkMapper2D",Qj);const{VectorMode:eW}=Sd;function Np(t,e){t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeSize,t.fillStyle=e.fontColor,t.font=`${e.fontStyle} ${e.fontSize}px ${e.fontFamily}`}function q7(t,e){return n=>{const r=n.getLastSize(),o=_e(r[0]/700,.8),i=_e(r[1]/700,.8),a=Math.min(o,i),s=n.getAxisTextStyle(),u=n.getTickTextStyle();Object.assign(s,e.axisTextStyle),Object.assign(u,e.tickTextStyle),s.fontSize=Math.max(24*a,12),n.getLastAspectRatio()>1?u.fontSize=Math.max(20*a,10):u.fontSize=Math.max(16*a,10);const l=n.updateTextureAtlas();n.setTopTitle(!1);const f=n.getBoxSizeByReference();if(n.getLastAspectRatio()>1)n.setTickLabelPixelOffset(.3*u.fontSize),l.titleWidth<=l.tickWidth+n.getTickLabelPixelOffset()+.8*u.fontSize?(n.setTopTitle(!0),n.setAxisTitlePixelOffset(.2*u.fontSize),f[0]=2*(l.tickWidth+n.getTickLabelPixelOffset()+.8*u.fontSize)/r[0],n.setBoxPosition([.98-f[0],-.92])):(n.setAxisTitlePixelOffset(.2*u.fontSize),f[0]=2*(l.titleHeight+n.getAxisTitlePixelOffset()+l.tickWidth+n.getTickLabelPixelOffset()+.8*u.fontSize)/r[0],n.setBoxPosition([.99-f[0],-.92])),f[1]=Math.max(1.2,Math.min(1.84/i,1.84));else{n.setAxisTitlePixelOffset(1.2*u.fontSize),n.setTickLabelPixelOffset(.1*u.fontSize);const c=2*(.8*u.fontSize+l.titleHeight+n.getAxisTitlePixelOffset())/r[1],d=2*l.tickWidth/r[0];f[0]=Math.min(1.9,Math.max(1.4,1.4*d*(n.getTicks().length+3))),f[1]=c,n.setBoxPosition([-.5*f[0],-.97])}n.recomputeBarSegments(l)}}function X7(t,e){return n=>{const r=n.getLastTickBounds(),o=ug().domain([r[0],r[1]]),i=o.ticks(5),a=o.tickFormat(5);n.setTicks(i),n.setTickStrings(i.map(a))}}function tW(t,e){e.classHierarchy.push("vtkScalarBarActorHelper"),t.setRenderable=o=>{e.renderable!==o&&(e.renderable=o,e.barActor.setProperty(o.getProperty()),e.barActor.setParentProp(o),e.barActor.setCoordinateSystemToDisplay(),e.tmActor.setProperty(o.getProperty()),e.tmActor.setParentProp(o),e.tmActor.setCoordinateSystemToDisplay(),e.generateTicks=o.generateTicks,e.axisTextStyle=q({},o.getAxisTextStyle()),e.tickTextStyle=q({},o.getTickTextStyle()),t.modified())},t.updateAPISpecificData=(o,i,a)=>{(e.lastSize[0]!==o[0]||e.lastSize[1]!==o[1])&&(e.lastSize[0]=o[0],e.lastSize[1]=o[1],e.lastAspectRatio=o[0]/o[1],e.forceUpdate=!0);const s=e.renderable.getScalarsToColors();if(!(!s||!e.renderable.getVisibility())&&(e.barMapper.setLookupTable(s),e.camera=i,e.renderWindow=a,e.forceUpdate||Math.max(s.getMTime(),t.getMTime(),e.renderable.getMTime())>e.lastRebuildTime.getMTime())){const u=s.getMappingRange();if(e.lastTickBounds=[...u],e.renderable.getGenerateTicks()(t),e.renderable.getAutomated())e.renderable.getAutoLayout()(t);else{e.axisTextStyle=q({},e.renderable.getAxisTextStyle()),e.tickTextStyle=q({},e.renderable.getTickTextStyle()),e.barPosition=[...e.renderable.getBarPosition()],e.barSize=[...e.renderable.getBarSize()],e.boxPosition=[...e.renderable.getBoxPosition()],e.boxSize=[...e.renderable.getBoxSize()],e.axisTitlePixelOffset=e.renderable.getAxisTitlePixelOffset(),e.tickLabelPixelOffset=e.renderable.getTickLabelPixelOffset();const l=t.updateTextureAtlas();t.recomputeBarSegments(l)}t.updatePolyDataForLabels(),t.updatePolyDataForBarSegments(),e.lastRebuildTime.modified(),e.forceUpdate=!1}},t.updateTextureAtlas=()=>{e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left";const o={},i=new Map;let a=0,s=1;Np(e.tmContext,e.axisTextStyle);let u=e.tmContext.measureText(e.renderable.getAxisLabel()),l={height:u.actualBoundingBoxAscent+2,startingHeight:s,width:u.width+2,textStyle:e.axisTextStyle};i.set(e.renderable.getAxisLabel(),l),s+=l.height,a=l.width,o.titleWidth=l.width,o.titleHeight=l.height,o.tickWidth=0,o.tickHeight=0,Np(e.tmContext,e.tickTextStyle);const f=[...t.getTickStrings(),"NaN","Below","Above"];for(let c=0;c<f.length;c++)i.has(f[c])||(u=e.tmContext.measureText(f[c]),l={height:u.actualBoundingBoxAscent+2,startingHeight:s,width:u.width+2,textStyle:e.tickTextStyle},i.set(f[c],l),s+=l.height,a<l.width&&(a=l.width),o.tickWidth<l.width&&(o.tickWidth=l.width),o.tickHeight<l.height&&(o.tickHeight=l.height));return a=xr(a),s=xr(s),i.forEach(c=>{c.tcoords=[0,(s-c.startingHeight-c.height)/s,c.width/a,(s-c.startingHeight-c.height)/s,c.width/a,(s-c.startingHeight)/s,0,(s-c.startingHeight)/s]}),e.tmCanvas.width=a,e.tmCanvas.height=s,e.tmContext.textBaseline="bottom",e.tmContext.textAlign="left",e.tmContext.clearRect(0,0,a,s),i.forEach((c,d)=>{Np(e.tmContext,c.textStyle),e.tmContext.fillText(d,1,c.startingHeight+c.height-1)}),e.tmTexture.setCanvas(e.tmCanvas),e.tmTexture.modified(),e._tmAtlas=i,o},t.computeBarSize=o=>{e.vertical=e.boxSize[1]>e.boxSize[0];const i=2*o.tickHeight/e.lastSize[1],a=[1,1];if(e.vertical){const s=2*(o.tickWidth+e.tickLabelPixelOffset)/e.lastSize[0];if(e.topTitle){const u=2*(o.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0]-s,e.barSize[1]=e.boxSize[1]-u}else{const u=2*(o.titleHeight+e.axisTitlePixelOffset)/e.lastSize[0];e.barSize[0]=e.boxSize[0]-u-s,e.barSize[1]=e.boxSize[1]}e.barPosition[0]=e.boxPosition[0]+s,e.barPosition[1]=e.boxPosition[1],a[1]=i}else{const s=(2*o.tickWidth-8)/e.lastSize[0],u=2*(o.titleHeight+e.axisTitlePixelOffset)/e.lastSize[1];e.barSize[0]=e.boxSize[0],e.barPosition[0]=e.boxPosition[0],e.barSize[1]=e.boxSize[1]-u,e.barPosition[1]=e.boxPosition[1],a[0]=s}return a},t.recomputeBarSegments=o=>{var i,a,s,u;const l=t.computeBarSize(o);e.barSegments=[];const f=[0,0],c=e.vertical?1:0,d=e.vertical?.01:.02;function p(y,b){e.barSegments.push({corners:[[...f],[f[0]+l[0],f[1]],[f[0]+l[0],f[1]+l[1]],[f[0],f[1]+l[1]]],scalars:b,title:y}),f[c]+=l[c]+d}e.renderable.getDrawNanAnnotation()&&e.renderable.getScalarsToColors().getNanColor()&&p("NaN",[NaN,NaN,NaN,NaN]),e.renderable.getDrawBelowRangeSwatch()&&(a=(i=e.renderable.getScalarsToColors()).getUseBelowRangeColor)!=null&&a.call(i)&&p("Below",[-.1,-.1,-.1,-.1]);const h=(u=(s=e.renderable.getScalarsToColors()).getUseAboveRangeColor)==null?void 0:u.call(s);f[c]+=d;const m=l[c];l[c]=h?1-2*d-l[c]-f[c]:1-d-f[c],p("ticks",e.vertical?[0,0,.995,.995]:[0,.995,.995,0]),e.renderable.getDrawAboveRangeSwatch()&&h&&(l[c]=m,f[c]+=d,p("Above",[1.1,1.1,1.1,1.1]))};const n=new Float64Array(3);t.createPolyDataForOneLabel=(o,i,a,s,u,l)=>{const f=e._tmAtlas.get(o);if(!f)return;let c=l.ptIdx,d=l.cellIdx;n[0]=(.5*i[0]+.5)*e.lastSize[0],n[1]=(.5*i[1]+.5)*e.lastSize[1],n[2]=i[2],n[0]+=u[0],n[1]+=u[1];const p=[],h=s==="vertical"?[1,0]:[0,1];s==="vertical"?(p[0]=f.width,p[1]=-f.height,a[0]==="middle"?n[1]-=f.width/2:a[0]==="right"&&(n[1]-=f.width),a[1]==="middle"?n[0]+=f.height/2:a[1]==="top"&&(n[0]+=f.height)):(p[0]=f.width,p[1]=f.height,a[0]==="middle"?n[0]-=f.width/2:a[0]==="right"&&(n[0]-=f.width),a[1]==="middle"?n[1]-=f.height/2:a[1]==="top"&&(n[1]-=f.height)),l.points[c*3]=n[0],l.points[c*3+1]=n[1],l.points[c*3+2]=n[2],l.tcoords[c*2]=f.tcoords[0],l.tcoords[c*2+1]=f.tcoords[1],c++,n[h[0]]+=p[0],l.points[c*3]=n[0],l.points[c*3+1]=n[1],l.points[c*3+2]=n[2],l.tcoords[c*2]=f.tcoords[2],l.tcoords[c*2+1]=f.tcoords[3],c++,n[h[1]]+=p[1],l.points[c*3]=n[0],l.points[c*3+1]=n[1],l.points[c*3+2]=n[2],l.tcoords[c*2]=f.tcoords[4],l.tcoords[c*2+1]=f.tcoords[5],c++,n[h[0]]-=p[0],l.points[c*3]=n[0],l.points[c*3+1]=n[1],l.points[c*3+2]=n[2],l.tcoords[c*2]=f.tcoords[6],l.tcoords[c*2+1]=f.tcoords[7],c++,l.polys[d*4]=3,l.polys[d*4+1]=c-4,l.polys[d*4+2]=c-3,l.polys[d*4+3]=c-2,d++,l.polys[d*4]=3,l.polys[d*4+1]=c-4,l.polys[d*4+2]=c-2,l.polys[d*4+3]=c-1,l.ptIdx+=4,l.cellIdx+=2};const r=new Float64Array(3);t.updatePolyDataForLabels=()=>{const o=t.getTickStrings().length+e.barSegments.length,i=o*4,a=o*2,s=new Float64Array(i*3),u=new Uint16Array(a*4),l=new Float32Array(i*2),f={ptIdx:0,cellIdx:0,polys:u,points:s,tcoords:l},c=e.vertical?0:1,d=e.vertical?1:0;r[2]=-.99;const p=e.vertical?["right","middle"]:["middle","bottom"];let h=[0,1];const m=[0,0];e.vertical?(m[0]=-e.tickLabelPixelOffset,e.topTitle?(r[0]=e.boxPosition[0]+.5*e.boxSize[0],r[1]=e.barPosition[1]+e.barSize[1],t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),r,["middle","bottom"],"horizontal",[0,e.axisTitlePixelOffset],f)):(r[0]=e.barPosition[0]+e.barSize[0],r[1]=e.barPosition[1]+.5*e.barSize[1],t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),r,["middle","top"],"vertical",[e.axisTitlePixelOffset,0],f)),h=[-1,0]):(m[1]=e.tickLabelPixelOffset,r[0]=e.barPosition[0]+.5*e.barSize[0],r[1]=e.barPosition[1]+e.barSize[1],t.createPolyDataForOneLabel(e.renderable.getAxisLabel(),r,["middle","bottom"],"horizontal",[0,e.axisTitlePixelOffset],f)),r[c]=e.barPosition[c]+(.5*h[c]+.5)*e.barSize[c],r[d]=e.barPosition[d]+e.barSize[d]*.5;let y=null;for(let C=0;C<e.barSegments.length;C++){const w=e.barSegments[C];w.title==="ticks"?y=w:(r[d]=e.barPosition[d]+.5*e.barSize[d]*(w.corners[2][d]+w.corners[0][d]),t.createPolyDataForOneLabel(w.title,r,p,"horizontal",m,f))}const b=e.barPosition[d]+e.barSize[d]*y.corners[0][d],v=e.barSize[d]*(y.corners[2][d]-y.corners[0][d]),g=t.getTicks(),x=t.getTickStrings();for(let C=0;C<g.length;C++){const w=(g[C]-e.lastTickBounds[0])/(e.lastTickBounds[1]-e.lastTickBounds[0]);r[d]=b+v*w,t.createPolyDataForOneLabel(x[C],r,p,"horizontal",m,f)}const S=Ce.newInstance({numberOfComponents:2,values:l,name:"TextureCoordinates"});e.tmPolyData.getPointData().setTCoords(S),e.tmPolyData.getPoints().setData(s,3),e.tmPolyData.getPoints().modified(),e.tmPolyData.getPolys().setData(u,1),e.tmPolyData.getPolys().modified(),e.tmPolyData.modified()},t.updatePolyDataForBarSegments=()=>{var o,i;const a=e.renderable.getScalarsToColors();let s=0;e.renderable.getDrawNanAnnotation()&&a.getNanColor()&&(s+=1),e.renderable.getDrawBelowRangeSwatch()&&(o=a.getUseBelowRangeColor)!=null&&o.call(a)&&(s+=1),e.renderable.getDrawAboveRangeSwatch()&&(i=a.getUseAboveRangeColor)!=null&&i.call(a)&&(s+=1);const u=4*(1+s),l=u;let f=1;a.getVectorMode()===eW.COMPONENT&&(f=a.getVectorComponent()+1);const c=new Float64Array(u*3),d=new Uint16Array(l*5),p=new Float32Array(u*f);let h=0,m=0;for(let b=0;b<e.barSegments.length;b++){const v=e.barSegments[b];for(let g=0;g<4;g++){r[0]=e.barPosition[0]+v.corners[g][0]*e.barSize[0],r[1]=e.barPosition[1]+v.corners[g][1]*e.barSize[1],c[h*3]=(.5*r[0]+.5)*e.lastSize[0],c[h*3+1]=(.5*r[1]+.5)*e.lastSize[1],c[h*3+2]=r[2];for(let x=0;x<f;x++)p[h*f+x]=e.lastTickBounds[0]+v.scalars[g]*(e.lastTickBounds[1]-e.lastTickBounds[0]);h++}d[m*5]=4,d[m*5+1]=h-4,d[m*5+2]=h-3,d[m*5+3]=h-2,d[m*5+4]=h-1,m++}const y=Ce.newInstance({numberOfComponents:f,values:p,name:"Scalars"});e.polyData.getPointData().setScalars(y),e.polyData.getPoints().setData(c,3),e.polyData.getPoints().modified(),e.polyData.getPolys().setData(d,1),e.polyData.getPolys().modified(),e.polyData.modified()}}const nW=V.newInstance(function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{renderable:null};Object.assign(e,{},n),V.obj(t,e),V.setGet(t,e,["axisTitlePixelOffset","tickLabelPixelOffset","renderable","topTitle","ticks","tickStrings"]),V.get(t,e,["lastSize","lastAspectRatio","lastTickBounds","axisTextStyle","tickTextStyle","barActor","tmActor"]),V.getArray(t,e,["boxPosition","boxSize"]),V.setArray(t,e,["boxPosition","boxSize"],2),e.forceUpdate=!1,e.lastRebuildTime={},V.obj(e.lastRebuildTime,{mtime:0}),e.lastSize=[-1,-1],e.tmCanvas=document.createElement("canvas"),e.tmContext=e.tmCanvas.getContext("2d"),e._tmAtlas=new Map,e.barMapper=Lo.newInstance(),e.barMapper.setInterpolateScalarsBeforeMapping(!0),e.barMapper.setUseLookupTableScalarRange(!0),e.polyData=bt.newInstance(),e.barMapper.setInputData(e.polyData),e.barActor=ko.newInstance(),e.barActor.setMapper(e.barMapper),e.tmPolyData=bt.newInstance(),e.tmMapper=Lo.newInstance(),e.tmMapper.setInputData(e.tmPolyData),e.tmTexture=Mg.newInstance({resizable:!0}),e.tmTexture.setInterpolate(!1),e.tmActor=ko.newInstance({parentProp:t}),e.tmActor.setMapper(e.tmMapper),e.tmActor.addTexture(e.tmTexture),e.barPosition=[0,0],e.barSize=[0,0],e.boxPosition=[.88,-.92],e.boxSize=[.1,1.1],e.lastTickBounds=[],tW(t,e)},"vtkScalarBarActorHelper");function rW(t,e){e.classHierarchy.push("vtkScalarBarActor"),t.setTickTextStyle=n=>{e.tickTextStyle=q(q({},e.tickTextStyle),n),t.modified()},t.setAxisTextStyle=n=>{e.axisTextStyle=q(q({},e.axisTextStyle),n),t.modified()},t.resetAutoLayoutToDefault=()=>{t.setAutoLayout(q7(t,e))},t.resetGenerateTicksToDefault=()=>{t.setGenerateTicks(X7())}}function oW(t){return q({automated:!0,autoLayout:null,axisLabel:"Scalar Value",barPosition:[0,0],barSize:[0,0],boxPosition:[.88,-.92],boxSize:[.1,1.1],scalarToColors:null,axisTitlePixelOffset:36,axisTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:18,fontFamily:"serif"},tickLabelPixelOffset:14,tickTextStyle:{fontColor:"white",fontStyle:"normal",fontSize:14,fontFamily:"serif"},generateTicks:null,drawNanAnnotation:!0,drawBelowRangeSwatch:!0,drawAboveRangeSwatch:!0},t)}function Y7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,oW(n)),e.autoLayout||(e.autoLayout=q7(t,e)),e.generateTicks||(e.generateTicks=X7()),ko.extend(t,e,n),t.getProperty().setDiffuse(0),t.getProperty().setAmbient(1),V.setGet(t,e,["automated","autoLayout","axisTitlePixelOffset","axisLabel","scalarsToColors","tickLabelPixelOffset","generateTicks","drawNanAnnotation","drawBelowRangeSwatch","drawAboveRangeSwatch"]),V.get(t,e,["axisTextStyle","tickTextStyle"]),V.getArray(t,e,["barPosition","barSize","boxPosition","boxSize"]),V.setArray(t,e,["barPosition","barSize","boxPosition","boxSize"],2),rW(t,e)}const iW=V.newInstance(Y7,"vtkScalarBarActor");var J7={newInstance:iW,extend:Y7,newScalarBarActorHelper:nW};function aW(t,e){e.classHierarchy.push("vtkOpenGLScalarBarActor"),t.buildPass=n=>{n&&(e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.scalarBarActorHelper.getRenderable()||e.scalarBarActorHelper.setRenderable(e.renderable),t.prepareNodes(),t.addMissingNode(e.scalarBarActorHelper.getBarActor()),t.addMissingNode(e.scalarBarActorHelper.getTmActor()),t.removeUnusedNodes())},t.opaquePass=(n,r)=>{if(n){const o=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,i=e._openGLRenderer.getTiledSizeAndOrigin();e.scalarBarActorHelper.updateAPISpecificData([i.usize,i.vsize],o,e._openGLRenderWindow.getRenderable())}}}const sW={};function lW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sW,n),bn.extend(t,e,n),e.scalarBarActorHelper=J7.newScalarBarActorHelper(),aW(t,e)}const uW=Ct(lW,"vtkOpenGLScalarBarActor");Jt("vtkScalarBarActor",uW);const{vtkErrorMacro:P3}=Mn;function cW(t,e){e.classHierarchy.push("vtkOpenGLSkybox"),t.buildPass=n=>{if(n){e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow);const r=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(r.getActiveCamera())}},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementOpaqueActorCount()}},t.opaquePass=(n,r)=>{if(n&&!e._openGLRenderer.getSelector()){t.updateBufferObjects(),e.context.depthMask(!0),e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.tris.getProgram()),e.openGLTexture.render(e._openGLRenderWindow);const o=e.openGLTexture.getTextureUnit();e.tris.getProgram().setUniformi("sbtexture",o);const i=e._openGLRenderer.getRenderable(),a=e.openGLCamera.getKeyMatrices(i),s=new Float64Array(16);if(Jn(s,a.wcpc),e.tris.getProgram().setUniformMatrix("IMCPCMatrix",s),e.lastFormat==="box"){const u=i.getActiveCamera().getPosition();e.tris.getProgram().setUniform3f("camPos",u[0],u[1],u[2])}e.tris.getVAO().bind(),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate()}},t.updateBufferObjects=()=>{if(!e.tris.getCABO().getElementCount()){const r=new Float32Array(12);for(let s=0;s<4;s++)r[s*3]=s%2*2-1,r[s*3+1]=s>1?1:-1,r[s*3+2]=1;const o=Ce.newInstance({numberOfComponents:3,values:r});o.setName("points");const i=new Uint16Array(8);i[0]=3,i[1]=0,i[2]=1,i[3]=3,i[4]=3,i[5]=0,i[6]=3,i[7]=2;const a=Ce.newInstance({numberOfComponents:1,values:i});e.tris.getCABO().createVBO(a,"polys",zr.SURFACE,{points:o,cellOffset:0})}e.renderable.getFormat()!==e.lastFormat&&(e.lastFormat=e.renderable.getFormat(),e.lastFormat==="box"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec3 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = wpos.xyz/wpos.w;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec3 TexCoords;
             uniform samplerCube sbtexture;
             uniform vec3 camPos;
             void main () {
               // skybox looks from inside out
               // which means we have to adjust
               // our tcoords. Otherwise text would
               // be flipped
               vec3 tc = normalize(TexCoords - camPos);
               if (abs(tc.z) < max(abs(tc.x),abs(tc.y)))
               {
                 tc = vec3(1.0, 1.0, -1.0) * tc;
               }
               else
               {
                 tc = vec3(-1.0, 1.0, 1.0) * tc;
               }
               gl_FragData[0] = textureCube(sbtexture, tc);
             }`,"")),e.lastFormat==="background"&&e.tris.setProgram(e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(`//VTK::System::Dec
             attribute vec3 vertexMC;
             uniform mat4 IMCPCMatrix;
             varying vec2 TexCoords;
             void main () {
              gl_Position = vec4(vertexMC.xyz, 1.0);
              vec4 wpos = IMCPCMatrix * gl_Position;
              TexCoords = vec2(vertexMC.x, vertexMC.y)*0.5 + 0.5;
             }`,`//VTK::System::Dec
             //VTK::Output::Dec
             varying vec2 TexCoords;
             uniform sampler2D sbtexture;
             void main () {
               gl_FragData[0] = texture2D(sbtexture, TexCoords);
             }`,"")),e.tris.getShaderSourceTime().modified(),e.tris.getVAO().bind(),e.tris.getVAO().addAttributeArray(e.tris.getProgram(),e.tris.getCABO(),"vertexMC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||P3("Error setting vertexMC in shader VAO."));const n=e.renderable.getTextures();n.length||P3("vtkSkybox requires a texture map"),e.openGLTexture.getRenderable()!==n[0]&&(e.openGLTexture.releaseGraphicsResources(e._openGLRenderWindow),e.openGLTexture.setRenderable(n[0]))}}const fW={context:null};function dW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,fW,n),bn.extend(t,e,n),e.openGLTexture=Xe.newInstance(),e.tris=Tr.newInstance(),e.keyMatrixTime={},Yt(e.keyMatrixTime,{mtime:0}),e.keyMatrices={normalMatrix:Wr(new Float64Array(9)),mcwc:Le(new Float64Array(16))},en(t,e,["context"]),mr(t,e,["activeTextures"]),cW(t,e)}const pW=Ct(dW);Jt("vtkSkybox",pW);const{FieldAssociations:hW}=ka;function mW(t,e){e.classHierarchy.push("vtkHardwareSelector"),t.getSourceDataAsync=(n,r,o,i,a)=>vt(this,null,function*(){}),t.selectAsync=(n,r,o,i,a)=>vt(this,null,function*(){const s=yield t.getSourceDataAsync(n,r,o,i,a);return s?s.generateSelection(r,o,i,a):[]})}const gW={fieldAssociation:hW.FIELD_ASSOCIATION_CELLS,captureZValues:!1};function Z7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gW,n),V.obj(t,e),V.setGet(t,e,["fieldAssociation","captureZValues"]),mW(t,e)}const vW=V.newInstance(Z7,"vtkHardwareSelector");var yW={newInstance:vW,extend:Z7};function bW(t,e){e.classHierarchy.push("vtkFramebuffer"),t.getBothMode=()=>e.context.FRAMEBUFFER,t.saveCurrentBindingsAndBuffers=n=>{const r=typeof n<"u"?n:t.getBothMode();t.saveCurrentBindings(r),t.saveCurrentBuffers(r)},t.saveCurrentBindings=n=>{if(!e.context){ct("you must set the OpenGLRenderWindow before calling saveCurrentBindings");return}const r=e.context;e.previousDrawBinding=r.getParameter(e.context.FRAMEBUFFER_BINDING),e.previousActiveFramebuffer=e._openGLRenderWindow.getActiveFramebuffer()},t.saveCurrentBuffers=n=>{},t.restorePreviousBindingsAndBuffers=n=>{const r=typeof n<"u"?n:t.getBothMode();t.restorePreviousBindings(r),t.restorePreviousBuffers(r)},t.restorePreviousBindings=n=>{if(!e.context){ct("you must set the OpenGLRenderWindow before calling restorePreviousBindings");return}const r=e.context;r.bindFramebuffer(r.FRAMEBUFFER,e.previousDrawBinding),e._openGLRenderWindow.setActiveFramebuffer(e.previousActiveFramebuffer)},t.restorePreviousBuffers=n=>{},t.bind=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;n===null&&(n=e.context.FRAMEBUFFER),e.context.bindFramebuffer(n,e.glFramebuffer);for(let r=0;r<e.colorBuffers.length;r++)e.colorBuffers[r].bind();e._openGLRenderWindow.setActiveFramebuffer(t)},t.create=(n,r)=>{if(!e.context){ct("you must set the OpenGLRenderWindow before calling create");return}e.glFramebuffer=e.context.createFramebuffer(),e.glFramebuffer.width=n,e.glFramebuffer.height=r},t.setColorBuffer=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const o=e.context;if(!o){ct("you must set the OpenGLRenderWindow before calling setColorBuffer");return}let i=o.COLOR_ATTACHMENT0;if(r>0)if(e._openGLRenderWindow.getWebgl2())i+=r;else{ct("Using multiple framebuffer attachments requires WebGL 2");return}e.colorBuffers[r]=n,o.framebufferTexture2D(o.FRAMEBUFFER,i,o.TEXTURE_2D,n.getHandle(),0)},t.removeColorBuffer=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const r=e.context;if(!r){ct("you must set the OpenGLRenderWindow before calling removeColorBuffer");return}let o=r.COLOR_ATTACHMENT0;if(n>0)if(e._openGLRenderWindow.getWebgl2())o+=n;else{ct("Using multiple framebuffer attachments requires WebGL 2");return}r.framebufferTexture2D(r.FRAMEBUFFER,o,r.TEXTURE_2D,null,0),e.colorBuffers=e.colorBuffers.splice(n,1)},t.setDepthBuffer=n=>{if(!e.context){ct("you must set the OpenGLRenderWindow before calling setDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){const r=e.context;r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,n.getHandle(),0)}else ct("Attaching depth buffer textures to fbo requires WebGL 2")},t.removeDepthBuffer=()=>{if(!e.context){ct("you must set the OpenGLRenderWindow before calling removeDepthBuffer");return}if(e._openGLRenderWindow.getWebgl2()){const n=e.context;n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,null,0)}else ct("Attaching depth buffer textures to framebuffers requires WebGL 2")},t.getGLFramebuffer=()=>e.glFramebuffer,t.setOpenGLRenderWindow=n=>{e._openGLRenderWindow!==n&&(t.releaseGraphicsResources(),e._openGLRenderWindow=n,e.context=null,n&&(e.context=e._openGLRenderWindow.getContext()))},t.releaseGraphicsResources=()=>{e.glFramebuffer&&e.context.deleteFramebuffer(e.glFramebuffer)},t.getSize=()=>{const n=[0,0];return e.glFramebuffer!==null&&(n[0]=e.glFramebuffer.width,n[1]=e.glFramebuffer.height),n},t.populateFramebuffer=()=>{if(!e.context){ct("you must set the OpenGLRenderWindow before calling populateFrameBuffer");return}t.bind();const n=e.context,r=Xe.newInstance();r.setOpenGLRenderWindow(e._openGLRenderWindow),r.setMinificationFilter(Re.LINEAR),r.setMagnificationFilter(Re.LINEAR),r.create2DFromRaw(e.glFramebuffer.width,e.glFramebuffer.height,4,Ye.UNSIGNED_CHAR,null),t.setColorBuffer(r),e.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,e.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,e.glFramebuffer.width,e.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,e.depthTexture)},t.getColorTexture=()=>e.colorBuffers[0]}const xW={glFramebuffer:null,colorBuffers:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null};function Q7(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xW,n),Yt(t,e),e.colorBuffers&&ct("you cannot initialize colorBuffers through the constructor. You should call setColorBuffer() instead."),e.colorBuffers=[],Vu(t,e,["colorBuffers"]),bW(t,e)}const SW=Ct(Q7,"vtkFramebuffer");var Ea={newInstance:SW,extend:Q7};const CW={GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},wW={CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5};var TW={SelectionContent:CW,SelectionField:wW};function _W(t,e){e.classHierarchy.push("vtkSelectionNode"),t.getBounds=()=>e.points.getBounds()}const AW={contentType:-1,fieldType:-1,properties:null,selectionList:[]};function eS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,AW,n),V.obj(t,e),e.properties={},V.setGet(t,e,["contentType","fieldType","properties","selectionList"]),_W(t,e)}const EW=V.newInstance(eS,"vtkSelectionNode");var tS=q({newInstance:EW,extend:eS},TW);const{PassTypes:Zt}=v7,{SelectionContent:DW,SelectionField:O3}=tS,{FieldAssociations:jl}=ka,{vtkErrorMacro:nS}=V,li=1;function rS(t){return`${t.propID} ${t.compositeID}`}function oS(t,e,n,r){if(!n)return 0;const o=(e*(r[2]-r[0]+1)+t)*4;return n[o+3]}function wo(t,e,n,r){if(!n)return 0;const o=(e*(r[2]-r[0]+1)+t)*4,i=n[o],a=n[o+1];return(n[o+2]*256+a)*256+i}function iS(t,e){let n=e;return n<<=24,n|=t,n}function IW(t,e,n,r){{if(r[0]=e[0],r[1]=e[1],e[0]<t.area[0]||e[0]>t.area[2]||e[1]<t.area[1]||e[1]>t.area[3])return null;const o=[e[0]-t.area[0],e[1]-t.area[1]],i=wo(o[0],o[1],t.pixBuffer[Zt.ACTOR_PASS],t.area);if(i<=0||i-li>=t.props.length)return null;const a={};a.valid=!0,a.propID=i-li,a.prop=t.props[a.propID];let s=wo(o[0],o[1],t.pixBuffer[Zt.COMPOSITE_INDEX_PASS],t.area);if((s<0||s>16777215)&&(s=0),a.compositeID=s-li,t.captureZValues){const f=(o[1]*(t.area[2]-t.area[0]+1)+o[0])*4;a.zValue=(256*t.zBuffer[f]+t.zBuffer[f+1])/65535,a.displayPosition=e}if(t.pixBuffer[Zt.ID_LOW24]&&oS(o[0],o[1],t.pixBuffer[Zt.ID_LOW24],t.area)===0)return a;const u=wo(o[0],o[1],t.pixBuffer[Zt.ID_LOW24],t.area),l=wo(o[0],o[1],t.pixBuffer[Zt.ID_HIGH24],t.area);return a.attributeID=iS(u,l),a}}function aS(t,e,n,r,o){const i=[];let a=0;return e.forEach((s,u)=>{const l=tS.newInstance();switch(l.setContentType(DW.INDICES),t){case jl.FIELD_ASSOCIATION_CELLS:l.setFieldType(O3.CELL);break;case jl.FIELD_ASSOCIATION_POINTS:l.setFieldType(O3.POINT);break;default:nS("Unknown field association")}l.getProperties().propID=s.info.propID,l.getProperties().prop=s.info.prop,l.getProperties().compositeID=s.info.compositeID,l.getProperties().attributeID=s.info.attributeID,l.getProperties().pixelCount=s.pixelCount,n&&(l.getProperties().displayPosition=[s.info.displayPosition[0],s.info.displayPosition[1],s.info.zValue],l.getProperties().worldPosition=o.displayToWorld(s.info.displayPosition[0],s.info.displayPosition[1],s.info.zValue,r)),l.setSelectionList(s.attributeIDs),i[a]=l,a++}),i}function PW(t,e,n,r,o){const i=Math.floor(e),a=Math.floor(n),s=Math.floor(r),u=Math.floor(o),l=new Map,f=[0,0];for(let c=a;c<=u;c++)for(let d=i;d<=s;d++){const p=IW(t,[d,c],0,f);if(p&&p.valid){const h=rS(p);if(!l.has(h))l.set(h,{info:p,pixelCount:1,attributeIDs:[p.attributeID]});else{const m=l.get(h);m.pixelCount++,t.captureZValues&&p.zValue<m.info.zValue&&(m.info=p),m.attributeIDs.indexOf(p.attributeID)===-1&&m.attributeIDs.push(p.attributeID)}}}return aS(t.fieldAssociation,l,t.captureZValues,t.renderer,t.openGLRenderWindow)}function OW(t,e){e.classHierarchy.push("vtkOpenGLHardwareSelector"),t.releasePixBuffers=()=>{e.rawPixBuffer=[],e.pixBuffer=[],e.zBuffer=null},t.beginSelection=()=>{e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e.maxAttributeId=0;const r=e._openGLRenderWindow.getSize();if(!e.framebuffer)e.framebuffer=Ea.newInstance(),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer();else{e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.saveCurrentBindingsAndBuffers();const o=e.framebuffer.getSize();o[0]!==r[0]||o[1]!==r[1]?(e.framebuffer.create(r[0],r[1]),e.framebuffer.populateFramebuffer()):e.framebuffer.bind()}if(e._openGLRenderer.clear(),e._openGLRenderer.setSelector(t),e.hitProps={},e.propPixels={},e.props=[],t.releasePixBuffers(),e.fieldAssociation===jl.FIELD_ASSOCIATION_POINTS){const o=e._openGLRenderWindow.getContext(),i=o.isEnabled(o.BLEND);o.disable(o.BLEND),e._openGLRenderWindow.traverseAllPasses(),i&&o.enable(o.BLEND)}},t.endSelection=()=>{e.hitProps={},e._openGLRenderer.setSelector(null),e.framebuffer.restorePreviousBindingsAndBuffers()},t.preCapturePass=()=>{const r=e._openGLRenderWindow.getContext();e.originalBlending=r.isEnabled(r.BLEND),r.disable(r.BLEND)},t.postCapturePass=()=>{const r=e._openGLRenderWindow.getContext();e.originalBlending&&r.enable(r.BLEND)},t.select=()=>{let r=null;return t.captureBuffers()&&(r=t.generateSelection(e.area[0],e.area[1],e.area[2],e.area[3]),t.releasePixBuffers()),r},t.getSourceDataAsync=(r,o,i,a,s)=>vt(this,null,function*(){if(e._renderer=r,o===void 0){const l=e._openGLRenderWindow.getSize();t.setArea(0,0,l[0]-1,l[1]-1)}else t.setArea(o,i,a,s);if(!t.captureBuffers())return!1;const u={area:[...e.area],pixBuffer:[...e.pixBuffer],captureZValues:e.captureZValues,zBuffer:e.zBuffer,props:[...e.props],fieldAssociation:e.fieldAssociation,renderer:r,openGLRenderWindow:e._openGLRenderWindow};return u.generateSelection=function(){for(var l=arguments.length,f=new Array(l),c=0;c<l;c++)f[c]=arguments[c];return PW(u,...f)},u}),t.captureBuffers=()=>{if(!e._renderer||!e._openGLRenderWindow)return nS("Renderer and view must be set before calling Select."),!1;e._openGLRenderer=e._openGLRenderWindow.getViewNodeFor(e._renderer),e._openGLRenderWindow.getRenderable().preRender(),t.invokeEvent({type:"StartEvent"}),e.originalBackground=e._renderer.getBackgroundByReference(),e._renderer.setBackground(0,0,0,0);const r=e._openGLRenderWindow.getRenderPasses();for(t.beginSelection(),e.currentPass=Zt.MIN_KNOWN_PASS;e.currentPass<=Zt.MAX_KNOWN_PASS;e.currentPass++)t.passRequired(e.currentPass)&&(t.preCapturePass(e.currentPass),e.captureZValues&&e.currentPass===Zt.ACTOR_PASS&&typeof r[0].requestDepth=="function"&&typeof r[0].getFramebuffer=="function"&&r[0].requestDepth(),e._openGLRenderWindow.traverseAllPasses(),t.postCapturePass(e.currentPass),t.savePixelBuffer(e.currentPass),t.processPixelBuffers());return t.endSelection(),e._renderer.setBackground(e.originalBackground),t.invokeEvent({type:"EndEvent"}),!0},t.processPixelBuffers=()=>{e.props.forEach((r,o)=>{t.isPropHit(o)&&r.processSelectorPixelBuffers(t,e.propPixels[o])})},t.passRequired=r=>{if(r===Zt.ID_HIGH24){if(e.fieldAssociation===jl.FIELD_ASSOCIATION_POINTS)return e.maximumPointId>16777215;if(e.fieldAssociation===jl.FIELD_ASSOCIATION_CELLS)return e.maximumCellId>16777215}return!0},t.savePixelBuffer=r=>{if(e.pixBuffer[r]=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),!e.rawPixBuffer[r]){const o=(e.area[2]-e.area[0]+1)*(e.area[3]-e.area[1]+1)*4;e.rawPixBuffer[r]=new Uint8Array(o),e.rawPixBuffer[r].set(e.pixBuffer[r])}if(r===Zt.ACTOR_PASS){if(e.captureZValues){const o=e._openGLRenderWindow.getRenderPasses();if(typeof o[0].requestDepth=="function"&&typeof o[0].getFramebuffer=="function"){const i=o[0].getFramebuffer();i.saveCurrentBindingsAndBuffers(),i.bind(),e.zBuffer=e._openGLRenderWindow.getPixelData(e.area[0],e.area[1],e.area[2],e.area[3]),i.restorePreviousBindingsAndBuffers()}}t.buildPropHitList(e.rawPixBuffer[r])}},t.buildPropHitList=r=>{let o=0;for(let i=0;i<=e.area[3]-e.area[1];i++)for(let a=0;a<=e.area[2]-e.area[0];a++){let s=wo(a,i,r,e.area);s>0&&(s--,s in e.hitProps||(e.hitProps[s]=!0,e.propPixels[s]=[]),e.propPixels[s].push(o*4)),++o}},t.renderProp=r=>{e.currentPass===Zt.ACTOR_PASS&&(t.setPropColorValueFromInt(e.props.length+li),e.props.push(r))},t.renderCompositeIndex=r=>{e.currentPass===Zt.COMPOSITE_INDEX_PASS&&t.setPropColorValueFromInt(r+li)},t.renderAttributeId=r=>{r<0||(e.maxAttributeId=r>e.maxAttributeId?r:e.maxAttributeId)},t.passTypeToString=r=>V.enumToString(Zt,r),t.isPropHit=r=>!!e.hitProps[r],t.setPropColorValueFromInt=r=>{e.propColorValue[0]=r%256/255,e.propColorValue[1]=Math.floor(r/256)%256/255,e.propColorValue[2]=Math.floor(r/65536)%256/255},t.getPixelInformation=(r,o,i)=>{const a=o<0?0:o;if(a===0){if(i[0]=r[0],i[1]=r[1],r[0]<e.area[0]||r[0]>e.area[2]||r[1]<e.area[1]||r[1]>e.area[3])return null;const f=[r[0]-e.area[0],r[1]-e.area[1]],c=wo(f[0],f[1],e.pixBuffer[Zt.ACTOR_PASS],e.area);if(c<=0||c-li>=e.props.length)return null;const d={};d.valid=!0,d.propID=c-li,d.prop=e.props[d.propID];let p=wo(f[0],f[1],e.pixBuffer[Zt.COMPOSITE_INDEX_PASS],e.area);if((p<0||p>16777215)&&(p=0),d.compositeID=p-li,e.captureZValues){const y=(f[1]*(e.area[2]-e.area[0]+1)+f[0])*4;d.zValue=(256*e.zBuffer[y]+e.zBuffer[y+1])/65535,d.displayPosition=r}if(e.pixBuffer[Zt.ID_LOW24]&&oS(f[0],f[1],e.pixBuffer[Zt.ID_LOW24],e.area)===0)return d;const h=wo(f[0],f[1],e.pixBuffer[Zt.ID_LOW24],e.area),m=wo(f[0],f[1],e.pixBuffer[Zt.ID_HIGH24],e.area);return d.attributeID=iS(h,m),d}const s=[r[0],r[1]],u=[0,0];let l=t.getPixelInformation(r,0,i);if(l&&l.valid)return l;for(let f=1;f<a;++f){for(let c=s[1]>f?s[1]-f:0;c<=s[1]+f;++c)if(u[1]=c,s[0]>=f&&(u[0]=s[0]-f,l=t.getPixelInformation(u,0,i),l&&l.valid)||(u[0]=s[0]+f,l=t.getPixelInformation(u,0,i),l&&l.valid))return l;for(let c=s[0]>=f?s[0]-(f-1):0;c<=s[0]+(f-1);++c)if(u[0]=c,s[1]>=f&&(u[1]=s[1]-f,l=t.getPixelInformation(u,0,i),l&&l.valid)||(u[1]=s[1]+f,l=t.getPixelInformation(u,0,i),l&&l.valid))return l}return i[0]=r[0],i[1]=r[1],null},t.generateSelection=(r,o,i,a)=>{const s=Math.floor(r),u=Math.floor(o),l=Math.floor(i),f=Math.floor(a),c=new Map,d=[0,0];for(let p=u;p<=f;p++)for(let h=s;h<=l;h++){const m=[h,p],y=t.getPixelInformation(m,0,d);if(y&&y.valid){const b=rS(y);if(!c.has(b))c.set(b,{info:y,pixelCount:1,attributeIDs:[y.attributeID]});else{const v=c.get(b);v.pixelCount++,e.captureZValues&&y.zValue<v.info.zValue&&(v.info=y),v.attributeIDs.indexOf(y.attributeID)===-1&&v.attributeIDs.push(y.attributeID)}}}return aS(e.fieldAssociation,c,e.captureZValues,e._renderer,e._openGLRenderWindow)},t.getRawPixelBuffer=r=>e.rawPixBuffer[r],t.getPixelBuffer=r=>e.pixBuffer[r],t.attach=(r,o)=>{e._openGLRenderWindow=r,e._renderer=o};const n=t.setArea;t.setArea=function(){return n(...arguments)?(e.area[0]=Math.floor(e.area[0]),e.area[1]=Math.floor(e.area[1]),e.area[2]=Math.floor(e.area[2]),e.area[3]=Math.floor(e.area[3]),!0):!1}}const NW={area:void 0,currentPass:-1,propColorValue:null,props:null,maximumPointId:0,maximumCellId:0,idOffset:1};function sS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,NW,n),yW.extend(t,e,n),e.propColorValue=[0,0,0],e.props=[],e.area||(e.area=[0,0,0,0]),V.setGetArray(t,e,["area"],4),V.setGet(t,e,["_renderer","currentPass","_openGLRenderWindow","maximumPointId","maximumCellId"]),V.setGetArray(t,e,["propColorValue"],3),V.moveToProtected(t,e,["renderer","openGLRenderWindow"]),V.event(t,e,"event"),OW(t,e)}const RW=V.newInstance(sS,"vtkOpenGLHardwareSelector");var Ku=q({newInstance:RW,extend:sS},v7);const{vtkErrorMacro:fl}=Mn,{Representation:MW}=Ma,{ObjectType:Lc}=To,{PassTypes:kW}=Ku,LW={type:"StartEvent"},FW={type:"EndEvent"};function BW(t,e){e.classHierarchy.push("vtkOpenGLGlyph3DMapper");const n=q({},t);t.renderPiece=(r,o)=>{if(t.invokeEvent(LW),e.renderable.getStatic()||e.renderable.update(),e.currentInput=e.renderable.getInputData(1),t.invokeEvent(FW),!e.currentInput){fl("No input!");return}if(!e.currentInput.getPoints||!e.currentInput.getPoints().getNumberOfValues())return;const i=e.context;e._openGLRenderWindow.getWebgl2()?(e.hardwareSupport=!0,e.extension=null):e.extension||(e.extension=e.context.getExtension("ANGLE_instanced_arrays"),e.hardwareSupport=!!e.extension);const a=o.getProperty().getBackfaceCulling(),s=o.getProperty().getFrontfaceCulling();!a&&!s?e._openGLRenderWindow.disableCullFace():s?(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.FRONT)):(e._openGLRenderWindow.enableCullFace(),i.cullFace(i.BACK)),t.renderPieceStart(r,o),t.renderPieceDraw(r,o),t.renderPieceFinish(r,o)},t.multiply4x4WithOffset=(r,o,i,a)=>{const s=o[0],u=o[1],l=o[2],f=o[3],c=o[4],d=o[5],p=o[6],h=o[7],m=o[8],y=o[9],b=o[10],v=o[11],g=o[12],x=o[13],S=o[14],C=o[15];let w=i[a],T=i[a+1],_=i[a+2],A=i[a+3];r[0]=w*s+T*c+_*m+A*g,r[1]=w*u+T*d+_*y+A*x,r[2]=w*l+T*p+_*b+A*S,r[3]=w*f+T*h+_*v+A*C,w=i[a+4],T=i[a+5],_=i[a+6],A=i[a+7],r[4]=w*s+T*c+_*m+A*g,r[5]=w*u+T*d+_*y+A*x,r[6]=w*l+T*p+_*b+A*S,r[7]=w*f+T*h+_*v+A*C,w=i[a+8],T=i[a+9],_=i[a+10],A=i[a+11],r[8]=w*s+T*c+_*m+A*g,r[9]=w*u+T*d+_*y+A*x,r[10]=w*l+T*p+_*b+A*S,r[11]=w*f+T*h+_*v+A*C,w=i[a+12],T=i[a+13],_=i[a+14],A=i[a+15],r[12]=w*s+T*c+_*m+A*g,r[13]=w*u+T*d+_*y+A*x,r[14]=w*l+T*p+_*b+A*S,r[15]=w*f+T*h+_*v+A*C},t.replaceShaderNormal=(r,o,i)=>{if(e.hardwareSupport&&e.lastBoundBO.getReferenceByName("lastLightComplexity")>0){let a=r.Vertex;e.lastBoundBO.getCABO().getNormalOffset()&&(a=ne.substitute(a,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,a=ne.substitute(a,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),r.Vertex=a}n.replaceShaderNormal(r,o,i)},t.replaceShaderColor=(r,o,i)=>{if(e.hardwareSupport&&e.renderable.getColorArray()){let a=r.Vertex,s=r.Geometry,u=r.Fragment;const l=e.lastBoundBO.getReferenceByName("lastLightComplexity");let f=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];l&&(f=f.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));let c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];l&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  opacity = opacityUniform;"]),l&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),e.drawingEdges||(f=f.concat(["varying vec4 vertexColorVSOutput;"]),a=ne.substitute(a,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,a=ne.substitute(a,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,s=ne.substitute(s,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,s=ne.substitute(s,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,c=c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),u=ne.substitute(u,"//VTK::Color::Impl",c).result,u=ne.substitute(u,"//VTK::Color::Dec",f).result,r.Vertex=a,r.Geometry=s,r.Fragment=u}n.replaceShaderColor(r,o,i)},t.replaceShaderPositionVC=(r,o,i)=>{if(e.hardwareSupport){let a=r.Vertex;e.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(a=ne.substitute(a,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result,a=ne.substitute(a,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result):(a=ne.substitute(a,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCPCMatrix;"]).result,a=ne.substitute(a,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCPCMatrix * gVertexMC;"]).result),r.Vertex=a}n.replaceShaderPositionVC(r,o,i)},t.replaceShaderPicking=(r,o,i)=>{if(e.hardwareSupport){let a=r.Fragment,s=r.Vertex;s=ne.substitute(s,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,s=ne.substitute(s,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,r.Vertex=s,a=ne.substitute(a,"//VTK::Picking::Dec",["varying vec3 mapperIndexVSOutput;","uniform vec3 mapperIndex;","uniform int picking;"]).result,a=ne.substitute(a,"//VTK::Picking::Impl",["  vec4 pickColor = picking == 2 ? vec4(mapperIndexVSOutput,1.0) : vec4(mapperIndex,1.0);","  gl_FragData[0] = picking != 0 ? pickColor : gl_FragData[0];"]).result,r.Fragment=a}else n.replaceShaderPicking(r,o,i)},t.updateGlyphShaderParameters=(r,o,i,a,s,u,l,f)=>{const c=i.getProgram();if(r){const d=e.normalMatrix,p=u,h=l*9,m=e.tmpMat3,y=d[0],b=d[1],v=d[2],g=d[3],x=d[4],S=d[5],C=d[6],w=d[7],T=d[8],_=p[h],A=p[h+1],E=p[h+2],D=p[h+3],O=p[h+4],P=p[h+5],k=p[h+6],U=p[h+7],H=p[h+8];m[0]=_*y+A*g+E*C,m[1]=_*b+A*x+E*w,m[2]=_*v+A*S+E*T,m[3]=D*y+O*g+P*C,m[4]=D*b+O*x+P*w,m[5]=D*v+O*S+P*T,m[6]=k*y+U*g+H*C,m[7]=k*b+U*x+H*w,m[8]=k*v+U*S+H*T,c.setUniformMatrix3x3("normalMatrix",e.tmpMat3)}if(t.multiply4x4WithOffset(e.tmpMat4,e.mcpcMatrix,s,l*16),c.setUniformMatrix("MCPCMatrix",e.tmpMat4),o&&(t.multiply4x4WithOffset(e.tmpMat4,e.mcvcMatrix,s,l*16),c.setUniformMatrix("MCVCMatrix",e.tmpMat4)),a){const d=a.getData();e.tmpColor[0]=d[l*4]/255,e.tmpColor[1]=d[l*4+1]/255,e.tmpColor[2]=d[l*4+2]/255,c.setUniform3fArray("ambientColorUniform",e.tmpColor),c.setUniform3fArray("diffuseColorUniform",e.tmpColor)}f&&c.setUniform3fArray("mapperIndex",f.getPropColorValue())},t.renderPieceDraw=(r,o)=>{const i=o.getProperty().getRepresentation(),a=e.context,s=o.getProperty().getEdgeVisibility()&&i===MW.SURFACE,u=e.openGLCamera.getKeyMatrices(r),l=e.openGLActor.getKeyMatrices();Ns(e.normalMatrix,u.normalMatrix,l.normalMatrix),lt(e.mcpcMatrix,u.wcpc,l.mcwc),lt(e.mcvcMatrix,u.wcvc,l.mcwc);const f=e.renderable.getMatrixArray(),c=e.renderable.getNormalArray(),d=e.renderable.getColorArray(),p=f.length/16;let h=!1;e._openGLRenderer.getSelector()&&e._openGLRenderer.getSelector().getCurrentPass()===kW.COMPOSITE_INDEX_PASS&&(h=!0);for(let m=e.primTypes.Start;m<e.primTypes.End;m++){const y=e.primitives[m].getCABO();if(y.getElementCount()){e.drawingEdges=s&&(m===e.primTypes.TrisEdges||m===e.primTypes.TriStripsEdges),e.lastBoundBO=e.primitives[m],e.primitives[m].updateShaders(r,o,t);const b=e.primitives[m].getProgram(),v=e.primitives[m].getOpenGLMode(i),g=b.isUniformUsed("normalMatrix"),x=b.isUniformUsed("MCVCMatrix");if(e.hardwareSupport)e.extension?e.extension.drawArraysInstancedANGLE(v,0,y.getElementCount(),p):a.drawArraysInstanced(v,0,y.getElementCount(),p);else for(let S=0;S<p;++S)h&&e._openGLRenderer.getSelector().renderCompositeIndex(S),t.updateGlyphShaderParameters(g,x,e.primitives[m],d,f,c,S,h?e._openGLRenderer.getSelector():null),a.drawArrays(v,0,y.getElementCount())}}},t.setMapperShaderParameters=(r,o,i)=>{if(r.getCABO().getElementCount()&&(e.glyphBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){r.getProgram().isAttributeUsed("gMatrix")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.matrixBuffer,"gMatrix",0,64,e.context.FLOAT,4,!1,1)||fl("Error setting gMatrix in shader VAO."):r.getVAO().removeAttributeArray("gMatrix"),r.getProgram().isAttributeUsed("gNormal")?r.getVAO().addAttributeMatrixWithDivisor(r.getProgram(),e.normalBuffer,"gNormal",0,36,e.context.FLOAT,3,!1,1)||fl("Error setting gNormal in shader VAO."):r.getVAO().removeAttributeArray("gNormal"),r.getProgram().isAttributeUsed("gColor")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.colorBuffer,"gColor",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||fl("Error setting gColor in shader VAO."):r.getVAO().removeAttributeArray("gColor"),r.getProgram().isAttributeUsed("mapperIndexVS")?r.getVAO().addAttributeArrayWithDivisor(r.getProgram(),e.pickBuffer,"mapperIndexVS",0,4,e.context.UNSIGNED_BYTE,4,!0,1,!1)||fl("Error setting mapperIndexVS in shader VAO."):r.getVAO().removeAttributeArray("mapperIndexVS"),n.setMapperShaderParameters(r,o,i),r.getAttributeUpdateTime().modified();return}n.setMapperShaderParameters(r,o,i)},t.getNeedToRebuildBufferObjects=(r,o)=>(e.renderable.buildArrays(),e.VBOBuildTime.getMTime()<e.renderable.getBuildTime().getMTime()?!0:n.getNeedToRebuildBufferObjects(r,o)),t.getNeedToRebuildShaders=(r,o,i)=>!!(n.getNeedToRebuildShaders(r,o,i)||r.getShaderSourceTime().getMTime()<e.renderable.getMTime()||r.getShaderSourceTime().getMTime()<e.currentInput.getMTime()),t.buildBufferObjects=(r,o)=>{if(e.hardwareSupport){const i=e.renderable.getMatrixArray(),a=e.renderable.getNormalArray(),s=e.renderable.getColorArray();if(e.matrixBuffer||(e.matrixBuffer=To.newInstance(),e.matrixBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.normalBuffer=To.newInstance(),e.normalBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorBuffer=To.newInstance(),e.colorBuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.pickBuffer=To.newInstance(),e.pickBuffer.setOpenGLRenderWindow(e._openGLRenderWindow)),e.renderable.getBuildTime().getMTime()>e.glyphBOBuildTime.getMTime()){e.matrixBuffer.upload(i,Lc.ARRAY_BUFFER),e.normalBuffer.upload(a,Lc.ARRAY_BUFFER),s?e.colorBuffer.upload(s.getData(),Lc.ARRAY_BUFFER):e.colorBuffer.releaseGraphicsResources();const u=i.length/16,l=new Uint8Array(4*u);for(let f=0;f<u;++f){let c=f+1;const d=f*4;l[d]=c%256,c-=l[d],c/=256,l[d+1]=c%256,c-=l[d+1],c/=256,l[d+2]=c%256,l[d+3]=255}e.pickBuffer.upload(l,Lc.ARRAY_BUFFER),e.glyphBOBuildTime.modified()}}return n.buildBufferObjects(r,o)}}const VW={normalMatrix:null,mcpcMatrix:null,mcwcMatrix:null};function UW(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VW,n),Td.extend(t,e,n),e.tmpMat3=Wr(new Float64Array(9)),e.normalMatrix=Wr(new Float64Array(9)),e.mcpcMatrix=Le(new Float64Array(16)),e.mcvcMatrix=Le(new Float64Array(16)),e.tmpColor=[],e.glyphBOBuildTime={},Yt(e.glyphBOBuildTime,{mtime:0}),BW(t,e)}const GW=Ct(UW,"vtkOpenGLGlyph3DMapper");Jt("vtkGlyph3DMapper",GW);const{vtkErrorMacro:zW}=V;class jW{constructor(){this.segmentMapping={},this.segments=[null],this.faces=[]}addSegment(e){const n=e[0],r=e[e.length-1];if(n===r||e.length<2)return;const o=this.segmentMapping[n],i=this.segmentMapping[r];if(o!==void 0&&i!==void 0)if(Math.abs(o)===Math.abs(i)){const a=o<i?i:o,s=this.segments[a];if(o>0)for(let u=1;u<e.length-1;u++)s.push(e[u]);else for(let u=1;u<e.length-1;u++)s.unshift(e[e.length-1-u]);this.faces.push(s),this.segments[a]=null,this.segmentMapping[n]=void 0,this.segmentMapping[r]=void 0}else{const a=Math.abs(o),s=Math.abs(i),u=this.segments[a],l=this.segments[s];this.segments[a]=null,this.segments[s]=null,this.segmentMapping[u[0]]=void 0,this.segmentMapping[l[0]]=void 0,this.segmentMapping[u[u.length-1]]=void 0,this.segmentMapping[l[l.length-1]]=void 0,this.addSegment(e),this.addSegment(u),this.addSegment(l)}else if(o!==void 0){if(o>0){const a=this.segments[o];for(let s=1;s<e.length;s++)a.push(e[s]);this.segmentMapping[r]=o}else{const a=this.segments[-o];this.segmentMapping[r]=o;for(let s=1;s<e.length;s++)a.unshift(e[s])}this.segmentMapping[n]=void 0}else if(i!==void 0){if(i>0){const a=this.segments[i];for(let s=1;s<e.length;s++)a.push(e[e.length-1-s]);this.segmentMapping[n]=i}else{const a=this.segments[-i];this.segmentMapping[n]=i;for(let s=1;s<e.length;s++)a.unshift(e[e.length-s-1])}this.segmentMapping[r]=void 0}else{const a=this.segments.length;this.segments.push(e),this.segmentMapping[n]=-a,this.segmentMapping[r]=a}}}function WW(t,e){e.classHierarchy.push("vtkClosedPolyLineToSurfaceFilter"),t.requestData=(n,r)=>{const o=n[0];if(!o){zW("Invalid or missing input");return}const i=bt.newInstance();i.shallowCopy(o);const a=new jW,s=o.getLines().getData();let u=0;for(;u<s.length;){const d=s[u++],p=[];for(let h=0;h<d;h++)p.push(s[u+h]);a.addSegment(p),u+=d}const{faces:l}=a;let f=l.length;for(let d=0;d<l.length;d++)f+=l[d].length;const c=new Uint16Array(f);u=0;for(let d=0;d<l.length;d++){const p=l[d];c[u++]=p.length;for(let h=0;h<p.length;h++)c[u++]=p[h]}i.setPolys(wi.newInstance({values:c,name:"faces"})),r[0]=i}}const HW={};function lS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,HW,n),V.obj(t,e),V.algo(t,e,1,1),WW(t,e)}const $W=V.newInstance(lS,"vtkClosedPolyLineToSurfaceFilter");var KW={newInstance:$W,extend:lS};const{vtkErrorMacro:N3}=Mn;function qW(t){const e=t.getPolys().getData(),n=t.getStrips().getData(),r={cellSize:0,cell:[],done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next(){if(r.polyIdx<e.length){r.cellSize=e[r.polyIdx];const o=r.polyIdx+1,i=o+r.cellSize;r.polyIdx=i;let a=0;for(let s=o;s<i;++s)r.cell[a++]=e[s]}else if(r.stripIdx<n.length){r.cellSize=3,r.remainingStripLength===0&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);const o=r.stripIdx-2,i=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--;let a=0;for(let s=o;s<i;++s)r.cell[a++]=n[s]}else if(!r.done)r.done=!0;else throw new Error("Iterator is done")}};return r.next(),r}function XW(t,e){e.classHierarchy.push("vtkCutter");const n=q({},t);t.getMTime=()=>{let o=n.getMTime();return e.cutFunction&&(o=Math.max(o,e.cutFunction.getMTime())),o};function r(o,i){const a=o.getPoints(),s=a.getData(),u=a.getNumberOfPoints(),l=[],f=[],c=[];(!e.cutScalars||e.cutScalars.length<u)&&(e.cutScalars=new Float32Array(u));let d=0,p=0;for(;d<s.length;)e.cutScalars[p++]=e.cutFunction.evaluateFunction(s[d++],s[d++],s[d++]);const h=[],m=new Array(3),y=new Array(3),b=[];for(const v=qW(o);!v.done;v.next()){if(v.cellSize<=2)continue;for(let w=0;w<v.cellSize;)b[w]=e.cutScalars[v.cell[w++]];const g=b[0]>0;let x=!0;for(let w=1;w<v.cell.length;w++)if(b[w]>0!==g){x=!1;break}if(x)continue;const S=[];for(let w=0;w<v.cellSize;w++){const T=w+1===v.cellSize?0:w+1,_=b[w]>0;if(b[T]>0===_)continue;let A=w,E=T,D=b[E]-b[A];D<=0&&(A=T,E=w,D*=-1);let O=0;D!==0&&(O=(e.cutValue-b[A])/D);const P=v.cell[A],k=v.cell[E];m[0]=s[P*3],m[1]=s[P*3+1],m[2]=s[P*3+2],y[0]=s[k*3],y[1]=s[k*3+1],y[2]=s[k*3+2];const U=[m[0]+O*(y[0]-m[0]),m[1]+O*(y[1]-m[1]),m[2]+O*(y[2]-m[2])];S.push({pointEdge1:P,pointEdge2:k,intersectedPoint:U,newPointID:-1})}for(let w=0;w<S.length;w++){const T=S[w];let _=!1;for(let A=0;A<h.length;A++){const E=h[A],D=T.pointEdge1===E.pointEdge1&&T.pointEdge2===E.pointEdge2,O=T.intersectedPoint[0]===E.intersectedPoint[0]&&T.intersectedPoint[1]===E.intersectedPoint[1]&&T.intersectedPoint[2]===E.intersectedPoint[2];if(D||O){_=!0,S[w].newPointID=h[A].newPointID;break}}_||(l.push(T.intersectedPoint[0]),l.push(T.intersectedPoint[1]),l.push(T.intersectedPoint[2]),S[w].newPointID=l.length/3-1,h.push(S[w]))}const C=S.length;C===2?f.push(C,S[0].newPointID,S[1].newPointID):C>2&&(c.push(C),S.forEach(w=>{c.push(w.newPointID)}))}i.getPoints().setData(hd(a.getDataType(),l),3),f.length!==0&&i.getLines().setData(Uint16Array.from(f)),c.length!==0&&i.getPolys().setData(Uint16Array.from(c))}t.requestData=(o,i)=>{const a=o[0];if(!a){N3("Invalid or missing input");return}if(!e.cutFunction){N3("Missing cut function");return}const s=bt.newInstance();r(a,s),i[0]=s}}const YW={cutFunction:null,cutScalars:null,cutValue:0};function uS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,YW,n),Yt(t,e),tg(t,e,1,1),en(t,e,["cutFunction","cutValue"]),XW(t,e)}const JW=Ct(uS,"vtkCutter");var ZW={newInstance:JW,extend:uS};const QW=t=>t,R3=1e-6;class cS{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.matrix=Le(new Float64Array(16)),this.tmp=new Float64Array(3),this.angleConv=e?fk:QW}rotateFromDirections(e,n){const r=new Float64Array(3),o=new Float64Array(3),i=new Float64Array(16);xt(r,e[0],e[1],e[2]),xt(o,n[0],n[1],n[2]),Gr(r,r),Gr(o,o);const a=su(r,o);return a>=1?this:(ms(this.tmp,r,o),hs(this.tmp)<R3&&(ms(this.tmp,[1,0,0],e),hs(this.tmp)<R3&&ms(this.tmp,[0,1,0],e)),Q9(i,Math.acos(a),this.tmp),lt(this.matrix,this.matrix,i),this)}rotate(e,n){return xt(this.tmp,...n),Gr(this.tmp,this.tmp),Cn(this.matrix,this.matrix,this.angleConv(e),this.tmp),this}rotateX(e){return dd(this.matrix,this.matrix,this.angleConv(e)),this}rotateY(e){return iu(this.matrix,this.matrix,this.angleConv(e)),this}rotateZ(e){return pd(this.matrix,this.matrix,this.angleConv(e)),this}translate(e,n,r){return xt(this.tmp,e,n,r),Ot(this.matrix,this.matrix,this.tmp),this}scale(e,n,r){return xt(this.tmp,e,n,r),xi(this.matrix,this.matrix,this.tmp),this}multiply(e){return lt(this.matrix,this.matrix,e),this}multiply3x3(e){return lt(this.matrix,this.matrix,[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]),this}invert(){return Jn(this.matrix,this.matrix),this}identity(){return Le(this.matrix),this}apply(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ju(cg,this.matrix))return this;const o=r===-1?e.length:n+r*3;for(let i=n;i<o;i+=3)xt(this.tmp,e[i],e[i+1],e[i+2]),Be(this.tmp,this.tmp,this.matrix),e[i]=this.tmp[0],e[i+1]=this.tmp[1],e[i+2]=this.tmp[2];return this}getMatrix(){return this.matrix}setMatrix(e){return e&&e.length===16&&gn(this.matrix,e),this}}function eH(){return new cS(!0)}function tH(){return new cS(!1)}var In={buildFromDegree:eH,buildFromRadian:tH};const nH=[2,0,1,2,2,3,2,4,5,2,6,7,2,0,2,2,1,3,2,4,6,2,5,7,2,0,4,2,1,5,2,2,6,2,3,7],rH=[4,0,1,3,2,4,4,6,7,5,4,8,10,11,9,4,12,13,15,14,4,16,18,19,17,4,20,21,23,22];function oH(t,e){e.classHierarchy.push("vtkCubeSource");function n(r,o){if(e.deleted)return;const i=bt.newInstance();o[0]=i;const a=24,s=V.newTypedArray(e.pointType,a*3);i.getPoints().setData(s,3);const u=V.newTypedArray(e.pointType,a*3),l=Ce.newInstance({name:"Normals",values:u,numberOfComponents:3});i.getPointData().setNormals(l);let f=2;e.generate3DTextureCoordinates===!0&&(f=3);const c=V.newTypedArray(e.pointType,a*f),d=Ce.newInstance({name:"TextureCoordinates",values:c,numberOfComponents:f});i.getPointData().setTCoords(d);const p=[0,0,0],h=[0,0,0],m=[0,0];let y=0;p[0]=-e.xLength/2,h[0]=-1,h[1]=0,h[2]=0;for(let b=0;b<2;b++){p[1]=-e.yLength/2;for(let v=0;v<2;v++){m[1]=p[1]+.5,p[2]=-e.zLength/2;for(let g=0;g<2;g++)m[0]=(p[2]+.5)*(1-2*b),s[y*3]=p[0],s[y*3+1]=p[1],s[y*3+2]=p[2],u[y*3]=h[0],u[y*3+1]=h[1],u[y*3+2]=h[2],f===2?(c[y*f]=m[0],c[y*f+1]=m[1]):(c[y*f]=2*b-1,c[y*f+1]=2*v-1,c[y*f+2]=2*g-1),y++,p[2]+=e.zLength;p[1]+=e.yLength}p[0]+=e.xLength,h[0]+=2}p[1]=-e.yLength/2,h[1]=-1,h[0]=0,h[2]=0;for(let b=0;b<2;b++){p[0]=-e.xLength/2;for(let v=0;v<2;v++){m[0]=(p[0]+.5)*(2*b-1),p[2]=-e.zLength/2;for(let g=0;g<2;g++)m[1]=(p[2]+.5)*-1,s[y*3]=p[0],s[y*3+1]=p[1],s[y*3+2]=p[2],u[y*3]=h[0],u[y*3+1]=h[1],u[y*3+2]=h[2],f===2?(c[y*f]=m[0],c[y*f+1]=m[1]):(c[y*f]=2*v-1,c[y*f+1]=2*b-1,c[y*f+2]=2*g-1),y++,p[2]+=e.zLength;p[0]+=e.xLength}p[1]+=e.yLength,h[1]+=2}p[2]=-e.zLength/2,h[2]=-1,h[0]=0,h[1]=0;for(let b=0;b<2;b++){p[1]=-e.yLength/2;for(let v=0;v<2;v++){m[1]=p[1]+.5,p[0]=-e.xLength/2;for(let g=0;g<2;g++)m[0]=(p[0]+.5)*(2*b-1),s[y*3]=p[0],s[y*3+1]=p[1],s[y*3+2]=p[2],u[y*3]=h[0],u[y*3+1]=h[1],u[y*3+2]=h[2],f===2?(c[y*f]=m[0],c[y*f+1]=m[1]):(c[y*f]=2*g-1,c[y*f+1]=2*v-1,c[y*f+2]=2*b-1),y++,p[0]+=e.xLength;p[1]+=e.yLength}p[2]+=e.zLength,h[2]+=2}if(e.rotations&&In.buildFromDegree().rotateX(e.rotations[0]).rotateY(e.rotations[1]).rotateZ(e.rotations[2]).apply(s).apply(u),e.center&&In.buildFromRadian().translate(...e.center).apply(s),e.matrix){In.buildFromRadian().setMatrix(e.matrix).apply(s);const b=[e.matrix[0],e.matrix[1],e.matrix[2],0,e.matrix[4],e.matrix[5],e.matrix[6],0,e.matrix[8],e.matrix[9],e.matrix[10],0,0,0,0,1];In.buildFromRadian().setMatrix(b).apply(u)}e.generateFaces?i.getPolys().deepCopy(e._polys):i.getPolys().initialize(),e.generateLines?(i.getLines().deepCopy(e._lineCells),i.getPointData().setNormals(null)):i.getLines().initialize(),i.modified()}t.setBounds=function(){let r=[];if(Array.isArray(arguments.length<=0?void 0:arguments[0]))r=arguments.length<=0?void 0:arguments[0];else for(let o=0;o<arguments.length;o++)r.push(o<0||arguments.length<=o?void 0:arguments[o]);r.length===6&&(t.setXLength(r[1]-r[0]),t.setYLength(r[3]-r[2]),t.setZLength(r[5]-r[4]),t.setCenter([(r[0]+r[1])/2,(r[2]+r[3])/2,(r[4]+r[5])/2]))},t.requestData=n}const iH={xLength:1,yLength:1,zLength:1,pointType:"Float64Array",generate3DTextureCoordinates:!1,generateFaces:!0,generateLines:!1};function fS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iH,n),V.obj(t,e),V.setGet(t,e,["xLength","yLength","zLength","generate3DTextureCoordinates","generateFaces","generateLines"]),V.setGetArray(t,e,["center","rotations"],3),V.setGetArray(t,e,["matrix"],16),e._polys=wi.newInstance({values:Uint16Array.from(rH)}),e._lineCells=wi.newInstance({values:Uint16Array.from(nH)}),V.moveToProtected(t,e,["polys","lineCells"]),V.algo(t,e,0,1),oH(t,e)}const aH=V.newInstance(fS,"vtkCubeSource");var sH={newInstance:aH,extend:fS};const{vtkErrorMacro:M3}=V;function lH(t,e){e.classHierarchy.push("vtkImageDataOutlineFilter");const n=q({},t);t.requestData=(r,o)=>{const i=r[0];if(!i||!i.isA("vtkImageData")){M3("Invalid or missing input");return}const a=i.getSpatialExtent();if(!a){M3("Unable to fetch spatial extents of input image.");return}e._cubeSource.setBounds(a),e._cubeSource.setMatrix(i.getIndexToWorld()),o[0]=e._cubeSource.getOutputData()},t.getMTime=()=>Math.max(n.getMTime(),e._cubeSource.getMTime()),t.setGenerateFaces=e._cubeSource.setGenerateFaces,t.setGenerateLines=e._cubeSource.setGenerateLines,t.getGenerateFaces=e._cubeSource.getGenerateFaces,t.getGenerateLines=e._cubeSource.getGenerateLines}const uH={};function dS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,uH,n),V.obj(t,e),V.algo(t,e,1,1),e._cubeSource=sH.newInstance(),V.moveToProtected(t,e,["cubeSource","tmpOut"]),lH(t,e)}const cH=V.newInstance(dS,"vtkImageDataOutlineFilter");var fH={newInstance:cH,extend:dS};let Fg;function dH(t,e){e.classHierarchy.push("vtkAbstractTransform","vtkHomogeneousTransform","vtkTransform"),t.transformPoint=(n,r)=>(Be(r,n,e.matrix),r),t.transformPoints=(n,r)=>{const o=new Float64Array(3),i=new Float64Array(3);for(let a=0;a<n.length;a+=3)o[0]=n[a],o[1]=n[a+1],o[2]=n[a+2],Be(i,o,e.matrix),r[a]=i[0],r[a+1]=i[1],r[a+2]=i[2];return r},t.preMultiply=()=>{t.setPreMultiplyFlag(!0)},t.postMultiply=()=>{t.setPreMultiplyFlag(!1)},t.transformMatrix=(n,r)=>(e.preMultiplyFlag?lt(r,e.matrix,n):lt(r,n,e.matrix),r),t.transformMatrices=(n,r)=>{const o=new Float64Array(16),i=new Float64Array(16),a=e.preMultiplyFlag?()=>lt(i,e.matrix,o):()=>lt(i,o,e.matrix);for(let s=0;s<n.length;s+=16){for(let u=0;u<16;++u)o[u]=n[s+u];a();for(let u=0;u<16;++u)r[s+u]=i[u]}return r},t.getInverse=()=>Fg({matrix:Dl.invertMatrix(Array.from(e.matrix),[],4),preMultiplyFlag:e.preMultiplyFlag})}const pH={preMultiplyFlag:!1,matrix:[...cg]};function pS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pH,n),V.obj(t,e),V.setGet(t,e,["preMultiplyFlag"]),V.setGetArray(t,e,["matrix"],16),dH(t,e)}Fg=V.newInstance(pS,"vtkTransform");var hH={newInstance:Fg,extend:pS},mH=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkImageResliceMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

// all variables that represent positions or directions have a suffix
// indicating the coordinate system they are in. The possible values are
// MC - Model coordinates
// WC - World coordinates
// VC - View coordinates
// DC - Display coordinates
// TC - Texture coordinates

// frag position in VC
//VTK::PositionVC::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// camera and actor matrix values
//VTK::Camera::Dec

void main()
{
  //VTK::PositionVC::Impl

  //VTK::TCoord::Impl

  //VTK::Picking::Impl
}
`,gH=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkImageResliceMapperFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the gpu image mapper fragment shader

// VC position of this fragment
//VTK::PositionVC::Dec

// Texture coordinates
//VTK::TCoord::Dec

// picking support
//VTK::Picking::Dec

// handle coincident offsets
//VTK::Coincident::Dec

//VTK::ZBuffer::Dec

// the output of this shader
//VTK::Output::Dec

void main()
{
  // VC position of this fragment. This should not branch/return/discard.
  //VTK::PositionVC::Impl

  // Place any calls that require uniform flow (e.g. dFdx) here.
  //VTK::UniformFlow::Impl

  // Set gl_FragDepth here (gl_FragCoord.z by default)
  //VTK::Depth::Impl

  // Early depth peeling abort:
  //VTK::DepthPeeling::PreColor

  //VTK::TCoord::Impl

  if (gl_FragData[0].a <= 0.0)
    {
    discard;
    }

  //VTK::DepthPeeling::Impl

  //VTK::Picking::Impl

  // handle coincident offsets
  //VTK::Coincident::Impl

  //VTK::ZBuffer::Impl

  //VTK::RenderPassFragmentShader::Impl
}
`;const bs={NEAREST:0,LINEAR:1};var vH={InterpolationType:bs};const{vtkErrorMacro:Gi}=Mn;function k3(t,e,n){if(e){const r=t.getIndependentComponents();return`${e.getMTime()}-${r}-${n}`}return"0"}function L3(t,e,n){return e.identity(n),t.reduce((r,o,i)=>i===0?o?e.copy(r,o):e.identity(r):o?e.multiply(r,r,o):r,n)}function yH(t,e){e.classHierarchy.push("vtkOpenGLImageResliceMapper"),t.buildPass=r=>{if(r){e.currentRenderPass=null,e._openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");const o=e._openGLRenderer.getRenderable();e._openGLCamera=e._openGLRenderer.getViewNodeFor(o.getActiveCamera()),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow)}},t.translucentPass=(r,o)=>{r&&(e.currentRenderPass=o,t.render())},t.zBufferPass=r=>{r&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaqueZBufferPass=r=>t.zBufferPass(r),t.opaquePass=r=>{r&&t.render()},t.getCoincidentParameters=(r,o)=>e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null,t.render=()=>{const r=e._openGLImageSlice.getRenderable(),o=e._openGLRenderer.getRenderable();t.renderPiece(o,r)},t.renderPiece=(r,o)=>{if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),!e.currentInput){Gi("No input!");return}t.updateResliceGeometry(),t.renderPieceStart(r,o),t.renderPieceDraw(r,o),t.renderPieceFinish(r,o),t.invokeEvent({type:"EndEvent"})},t.renderPieceStart=(r,o)=>{t.updateBufferObjects(r,o),o.getProperty().getInterpolationType()===bs.NEAREST?(e.openGLTexture.setMinificationFilter(Re.NEAREST),e.openGLTexture.setMagnificationFilter(Re.NEAREST),e.colorTexture.setMinificationFilter(Re.NEAREST),e.colorTexture.setMagnificationFilter(Re.NEAREST),e.pwfTexture.setMinificationFilter(Re.NEAREST),e.pwfTexture.setMagnificationFilter(Re.NEAREST)):(e.openGLTexture.setMinificationFilter(Re.LINEAR),e.openGLTexture.setMagnificationFilter(Re.LINEAR),e.colorTexture.setMinificationFilter(Re.LINEAR),e.colorTexture.setMagnificationFilter(Re.LINEAR),e.pwfTexture.setMinificationFilter(Re.LINEAR),e.pwfTexture.setMagnificationFilter(Re.LINEAR)),e.lastBoundBO=null},t.renderPieceDraw=(r,o)=>{const i=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),t.updateShaders(e.tris,r,o),i.drawArrays(i.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=(r,o)=>{},t.updateBufferObjects=(r,o)=>{t.getNeedToRebuildBufferObjects(r,o)&&t.buildBufferObjects(r,o)},t.getNeedToRebuildBufferObjects=(r,o)=>e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<o.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<o.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime()||e.VBOBuildTime.getMTime()<e.resliceGeom.getMTime(),t.buildBufferObjects=(r,o)=>{var i;const a=e.currentInput;if(!a)return;const s=(i=a.getPointData())==null?void 0:i.getScalars();if(!s)return;e._scalars!==s&&(e._openGLRenderWindow.releaseGraphicsResourcesForObject(e._scalars),e._scalars=s);const u=s.getNumberOfComponents();let l=`${a.getMTime()}A${s.getMTime()}`;const f=e._openGLRenderWindow.getGraphicsResourceForObject(s);if(!(f!=null&&f.vtkObj)||(f==null?void 0:f.hash)!==l||e.openGLTextureString!==l){e.openGLTexture||(e.openGLTexture=Xe.newInstance(),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow));const x=a.getDimensions();e.openGLTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),e.openGLTexture.releaseGraphicsResources(e._openGLRenderWindow),e.openGLTexture.resetFormatAndType(),e.openGLTexture.create3DFilterableFromDataArray(x[0],x[1],x[2],s),e.openGLTextureString=l,s&&e._openGLRenderWindow.setGraphicsResourceForObject(s,e.openGLTexture,e.openGLTextureString)}else e.openGLTexture=f.vtkObj,e.openGLTextureString=f.hash;const c=o.getProperty(),d=c.getIndependentComponents(),p=d?u:1,h=d?2*p:1,m=c.getRGBTransferFunction();l=k3(c,m,p);const y=e._openGLRenderWindow.getGraphicsResourceForObject(m);if(!(y!=null&&y.vtkObj)||(y==null?void 0:y.hash)!==l||e.colorTextureString!==l){const x=1024*h*3,S=new Uint8Array(x);if(e.colorTexture||(e.colorTexture=Xe.newInstance(),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow)),m){const C=new Float32Array(3072);for(let w=0;w<p;w++){const T=c.getRGBTransferFunction(w),_=T.getRange();if(T.getTable(_[0],_[1],1024,C,1),d)for(let A=0;A<1024*3;A++)S[w*1024*6+A]=255*C[A],S[w*1024*6+A+1024*3]=255*C[A];else for(let A=0;A<1024*3;A++)S[w*1024*6+A]=255*C[A]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,h,3,Ye.UNSIGNED_CHAR,S)}else{for(let C=0;C<1024*3;++C)S[C]=255*C/(1023*3),S[C+1]=255*C/(1023*3),S[C+2]=255*C/(1023*3);e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,1,3,Ye.UNSIGNED_CHAR,S)}e.colorTextureString=l,m&&e._openGLRenderWindow.setGraphicsResourceForObject(m,e.colorTexture,e.colorTextureString)}else e.colorTexture=y.vtkObj,e.colorTextureString=y.hash;const b=c.getPiecewiseFunction();l=k3(c,b,p);const v=e._openGLRenderWindow.getGraphicsResourceForObject(b);if(!(v!=null&&v.vtkObj)||(v==null?void 0:v.hash)!==l||e.pwfTextureString!==l){const x=1024*h,S=new Uint8Array(x);if(e.pwfTexture||(e.pwfTexture=Xe.newInstance(),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow)),b){const C=new Float32Array(x),w=new Float32Array(1024);for(let T=0;T<p;++T){const _=c.getPiecewiseFunction(T);if(_===null)C.fill(1);else{const A=_.getRange();if(_.getTable(A[0],A[1],1024,w,1),d)for(let E=0;E<1024;E++)C[T*1024*2+E]=w[E],C[T*1024*2+E+1024]=w[E];else for(let E=0;E<1024;E++)C[T*1024*2+E]=w[E]}}e.pwfTexture.releaseGraphicsResources(e._openGLRenderWindow),e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,h,1,Ye.FLOAT,C)}else S.fill(255),e.pwfTexture.releaseGraphicsResources(e._openGLRenderWindow),e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,1,1,Ye.UNSIGNED_CHAR,S);e.pwfTextureString=l,b&&e._openGLRenderWindow.setGraphicsResourceForObject(b,e.pwfTexture,e.pwfTextureString)}else e.pwfTexture=v.vtkObj,e.pwfTextureString=v.hash;const g=`${e.resliceGeom.getMTime()}A${e.renderable.getSlabThickness()}`;if(!e.tris.getCABO().getElementCount()||e.VBOBuildString!==g){const x=Ce.newInstance({numberOfComponents:3,values:e.resliceGeom.getPoints().getData()});x.setName("points");const S=Ce.newInstance({numberOfComponents:1,values:e.resliceGeom.getPolys().getData()}),C={points:x,cellOffset:0};if(e.renderable.getSlabThickness()>0){const w=e.resliceGeom.getPointData().getNormals();w?C.normals=w:Gi("Slab mode requested without normals")}e.tris.getCABO().createVBO(S,"polys",zr.SURFACE,C)}e.VBOBuildString=g,e.VBOBuildTime.modified()},t.updateShaders=(r,o,i)=>{if(e.lastBoundBO=r,t.getNeedToRebuildShaders(r,o,i)){const a={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(a,o,i);const s=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(a.Vertex,a.Fragment,a.Geometry);s!==r.getProgram()&&(r.setProgram(s),r.getVAO().releaseGraphicsResources()),r.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(r.getProgram());r.getVAO().bind(),t.setMapperShaderParameters(r,o,i),t.setCameraShaderParameters(r,o,i),t.setPropertyShaderParameters(r,o,i)},t.setMapperShaderParameters=(r,o,i)=>{const a=r.getProgram();if(r.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())){a.isUniformUsed("texture1")&&a.setUniformi("texture1",e.openGLTexture.getTextureUnit()),a.isAttributeUsed("vertexWC")&&(r.getVAO().addAttributeArray(a,r.getCABO(),"vertexWC",r.getCABO().getVertexOffset(),r.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Gi("Error setting vertexWC in shader VAO.")),a.isAttributeUsed("normalWC")&&(r.getVAO().addAttributeArray(a,r.getCABO(),"normalWC",r.getCABO().getNormalOffset(),r.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Gi("Error setting normalWC in shader VAO.")),a.isUniformUsed("slabThickness")&&a.setUniformf("slabThickness",e.renderable.getSlabThickness()),a.isUniformUsed("spacing")&&a.setUniform3fv("spacing",e.currentInput.getSpacing()),a.isUniformUsed("slabType")&&a.setUniformi("slabType",e.renderable.getSlabType()),a.isUniformUsed("slabType")&&a.setUniformi("slabType",e.renderable.getSlabType()),a.isUniformUsed("slabTrapezoid")&&a.setUniformi("slabTrapezoid",e.renderable.getSlabTrapezoidIntegration());const s=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null;if(a.isUniformUsed("WCTCMatrix")){const u=e.currentInput,l=u.getDimensions();gn(e.tmpMat4,u.getIndexToWorld()),xi(e.tmpMat4,e.tmpMat4,l),Jn(e.tmpMat4,e.tmpMat4),s&&lt(e.tmpMat4,e.tmpMat4,s),a.setUniformMatrix("WCTCMatrix",e.tmpMat4)}a.isUniformUsed("vboScaling")&&a.setUniform3fv("vboScaling",r.getCABO().getCoordScale()),r.getAttributeUpdateTime().modified()}if(e.haveSeenDepthRequest&&r.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),r.getProgram().isUniformUsed("coffset")){const s=t.getCoincidentParameters(o,i);r.getProgram().setUniformf("coffset",s.offset),r.getProgram().isUniformUsed("cfactor")&&r.getProgram().setUniformf("cfactor",s.factor)}},t.setCameraShaderParameters=(r,o,i)=>{const a=e._openGLCamera.getKeyMatrices(o),s=e._openGLImageSlice.getKeyMatrices(),u=r.getCABO().getCoordShiftAndScaleEnabled()?r.getCABO().getInverseShiftAndScaleMatrix():null,l=r.getProgram();l.isUniformUsed("MCPCMatrix")&&(Le(e.tmpMat4),l.setUniformMatrix("MCPCMatrix",L3([a.wcpc,s.mcwc,u],au,e.tmpMat4))),l.isUniformUsed("MCVCMatrix")&&(Le(e.tmpMat4),l.setUniformMatrix("MCVCMatrix",L3([a.wcvc,s.mcwc,u],au,e.tmpMat4)))},t.setPropertyShaderParameters=(r,o,i)=>{const a=r.getProgram(),s=i.getProperty(),u=s.getOpacity();a.setUniformf("opacity",u);const l=e.openGLTexture.getComponents(),f=s.getIndependentComponents();if(f)for(let h=0;h<l;++h)a.setUniformf(`mix${h}`,s.getComponentWeight(h));const c=e.openGLTexture.getVolumeInfo();for(let h=0;h<l;h++){let m=s.getColorWindow(),y=s.getColorLevel();const b=f?h:0,v=s.getRGBTransferFunction(b);if(v&&s.getUseLookupTableScalarRange()){const S=v.getRange();m=S[1]-S[0],y=.5*(S[1]+S[0])}const g=c.scale[h]/m,x=(c.offset[h]-y)/m+.5;a.setUniformf(`cshift${h}`,x),a.setUniformf(`cscale${h}`,g)}const d=e.colorTexture.getTextureUnit();a.setUniformi("colorTexture1",d);for(let h=0;h<l;h++){let m=1,y=0;const b=f?h:0,v=s.getPiecewiseFunction(b);if(v){const g=v.getRange(),x=g[1]-g[0],S=.5*(g[0]+g[1]);m=c.scale[h]/x,y=(c.offset[h]-S)/x+.5}a.setUniformf(`pwfshift${h}`,y),a.setUniformf(`pwfscale${h}`,m)}const p=e.pwfTexture.getTextureUnit();a.setUniformi("pwfTexture1",p),a.setUniform4fv("backgroundColor",e.renderable.getBackgroundColor())},t.getNeedToRebuildShaders=(r,o,i)=>{var a;const s=e.openGLTexture.getComponents(),u=i.getProperty().getIndependentComponents(),l=e.renderable.getSlabThickness(),f=e.renderable.getSlabType(),c=e.renderable.getSlabTrapezoidIntegration();let d=!1;return(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(d=!0),d||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||((a=r.getProgram())==null?void 0:a.getHandle())===0||e.lastTextureComponents!==s||e.lastIndependentComponents!==u||e.lastSlabThickness!==l||e.lastSlabType!==f||e.lastSlabTrapezoidIntegration!==c?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=s,e.lastIndependentComponents=u,e.lastSlabThickness=l,e.lastSlabType=f,e.lastSlabTrapezoidIntegration=c,!0):!1},t.getShaderTemplate=(r,o,i)=>{r.Vertex=mH,r.Fragment=gH,r.Geometry=""},t.replaceShaderValues=(r,o,i)=>{if(t.replaceShaderTCoord(r,o,i),t.replaceShaderPositionVC(r,o,i),e.haveSeenDepthRequest){let a=r.Fragment;a=ne.substitute(a,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,a=ne.substitute(a,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,r.Fragment=a}t.replaceShaderCoincidentOffset(r,o,i)},t.replaceShaderTCoord=(r,o,i)=>{let a=r.Vertex;const s=r.Geometry;let u=r.Fragment;const l=["uniform mat4 WCTCMatrix;","out vec3 fragTexCoord;"],f=e.renderable.getSlabThickness();a=ne.substitute(a,"//VTK::TCoord::Dec",l).result;const c=["fragTexCoord = (WCTCMatrix * vertexWC).xyz;"];a=ne.substitute(a,"//VTK::TCoord::Impl",c).result;const d=e.openGLTexture.getComponents(),p=i.getProperty().getIndependentComponents();let h=["in vec3 fragTexCoord;","uniform highp sampler3D texture1;","uniform mat4 WCTCMatrix;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;","uniform vec4 backgroundColor;"];if(p){for(let y=1;y<d;y++)h=h.concat([`uniform float cshift${y};`,`uniform float cscale${y};`,`uniform float pwfshift${y};`,`uniform float pwfscale${y};`]);switch(d){case 1:h=h.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:h=h.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:h=h.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:h=h.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Gi("Unsupported number of independent coordinates.")}}f>0&&(h=h.concat(["uniform vec3 spacing;","uniform float slabThickness;","uniform int slabType;","uniform int slabTrapezoid;","uniform vec3 vboScaling;"]),h=h.concat(["vec4 compositeValue(vec4 currVal, vec4 valToComp, int trapezoid)","{","  vec4 retVal = vec4(1.0);","  if (slabType == 0) // min","  {","    retVal = min(currVal, valToComp);","  }","  else if (slabType == 1) // max","  {","    retVal = max(currVal, valToComp);","  }","  else if (slabType == 3) // sum","  {","    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); ","  }","  else // mean","  {","    retVal = currVal + (trapezoid > 0 ? 0.5 * valToComp : valToComp); ","  }","  return retVal;","}"])),u=ne.substitute(u,"//VTK::TCoord::Dec",h).result;let m=["if (any(greaterThan(fragTexCoord, vec3(1.0))) || any(lessThan(fragTexCoord, vec3(0.0))))","{","  // set the background color and exit","  gl_FragData[0] = backgroundColor;","  return;","}","vec4 tvalue = texture(texture1, fragTexCoord);"];if(f>0&&(m=m.concat(["// Get the first and last samples","int numSlices = 1;","float scaling = min(min(spacing.x, spacing.y), spacing.z) * 0.5;","vec3 normalxspacing = scaling * normalWCVSOutput;","float distTraveled = length(normalxspacing);","int trapezoid = 0;","while (distTraveled < slabThickness * 0.5)","{","  distTraveled += length(normalxspacing);","  float fnumSlices = float(numSlices);","  if (distTraveled > slabThickness * 0.5)","  {","    // Before stepping outside the slab, sample at the boundaries","    normalxspacing = normalWCVSOutput * slabThickness * 0.5 / fnumSlices;","    trapezoid = slabTrapezoid;","  }","  vec3 fragTCoordNeg = (WCTCMatrix * vec4(vertexWCVSOutput.xyz - fnumSlices * normalxspacing * vboScaling, 1.0)).xyz;","  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))","  {","    vec4 newVal = texture(texture1, fragTCoordNeg);","    tvalue = compositeValue(tvalue, newVal, trapezoid);","    numSlices += 1;","  }","  vec3 fragTCoordPos = (WCTCMatrix * vec4(vertexWCVSOutput.xyz + fnumSlices * normalxspacing * vboScaling, 1.0)).xyz;","  if (!any(greaterThan(fragTCoordNeg, vec3(1.0))) && !any(lessThan(fragTCoordNeg, vec3(0.0))))","  {","    vec4 newVal = texture(texture1, fragTCoordPos);","    tvalue = compositeValue(tvalue, newVal, trapezoid);","    numSlices += 1;","  }","}","// Finally, if slab type is *mean*, divide the sum by the numSlices","if (slabType == 2)","{","  tvalue = tvalue / float(numSlices);","}"])),p){const y=["r","g","b","a"];for(let b=0;b<d;++b)m=m.concat([`vec3 tcolor${b} = mix${b} * texture2D(colorTexture1, vec2(tvalue.${y[b]} * cscale${b} + cshift${b}, height${b})).rgb;`,`float compWeight${b} = mix${b} * texture2D(pwfTexture1, vec2(tvalue.${y[b]} * pwfscale${b} + pwfshift${b}, height${b})).r;`]);switch(d){case 1:m=m.concat(["gl_FragData[0] = vec4(tcolor0.rgb, compWeight0 * opacity);"]);break;case 2:m=m.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:m=m.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:m=m.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Gi("Unsupported number of independent coordinates.")}}else switch(d){case 1:m=m.concat(["// Dependent components","float intensity = tvalue.r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]);break;case 2:m=m.concat(["float intensity = tvalue.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tvalue.g + pwfshift0);"]);break;case 3:m=m.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]);break;default:m=m.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"])}u=ne.substitute(u,"//VTK::TCoord::Impl",m).result,r.Vertex=a,r.Fragment=u,r.Geometry=s},t.replaceShaderPositionVC=(r,o,i)=>{let a=r.Vertex;const s=r.Geometry;let u=r.Fragment;const l=e.renderable.getSlabThickness();let f=["attribute vec4 vertexWC;"];f=f.concat([`//${t.getMTime()}${e.resliceGeomUpdateString}`]),l>0&&(f=f.concat(["attribute vec3 normalWC;","varying vec3 normalWCVSOutput;","varying vec4 vertexWCVSOutput;"])),a=ne.substitute(a,"//VTK::PositionVC::Dec",f).result;let c=["gl_Position = MCPCMatrix * vertexWC;"];l>0&&(c=c.concat(["normalWCVSOutput = normalWC;","vertexWCVSOutput = vertexWC;"])),a=ne.substitute(a,"//VTK::PositionVC::Impl",c).result,a=ne.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;","uniform mat4 MCVCMatrix;"]).result;let d=[];l>0&&(d=d.concat(["varying vec3 normalWCVSOutput;","varying vec4 vertexWCVSOutput;"])),u=ne.substitute(u,"//VTK::PositionVC::Dec",d).result,r.Vertex=a,r.Geometry=s,r.Fragment=u};function n(r){Dl.normalize(r);const o=[0,0,0];for(let i=0;i<3;++i){fL(o),o[i]=1;const a=Dl.dot(r,o);if(a<-.999||a>.999)return[!0,i]}return[!1,2]}t.updateResliceGeometry=()=>{var r;let o="";const i=e.currentInput,a=i==null?void 0:i.getBounds();let s=!0,u=2;const l=e.renderable.getSlicePolyData(),f=e.renderable.getSlicePlane();if(l)o=o.concat(`PolyData${l.getMTime()}`);else if(f){o=o.concat(`Plane${f.getMTime()}`),i&&(o=o.concat(`Image${i.getMTime()}`));const c=Y9(i==null?void 0:i.getDirection());qs(c,c);const d=[...f.getNormal()];p0(d,d,c),[s,u]=n(d)}else{const c=Ci.newInstance();c.setNormal(0,0,1);let d=[0,1,0,1,0,1];i&&(d=a),c.setOrigin(d[0],d[2],.5*(d[5]+d[4])),e.renderable.setSlicePlane(c),o=o.concat(`Plane${f==null?void 0:f.getMTime()}`),i&&(o=o.concat(`Image${i.getMTime()}`))}if(!e.resliceGeom||e.resliceGeomUpdateString!==o){if(l)e.resliceGeom||(e.resliceGeom=bt.newInstance()),e.resliceGeom.getPoints().setData(l.getPoints().getData(),3),e.resliceGeom.getPolys().setData(l.getPolys().getData(),1),e.resliceGeom.getPointData().setNormals(l.getPointData().getNormals());else if(f)if(s){const c=new Float32Array(12),d=i.worldToIndex(f.getOrigin(),[0,0,0]),p=[(u+1)%3,(u+2)%3].sort(),h=i.getDimensions(),m=[0,h[0]-1,0,h[1]-1,0,h[2]-1];let y=0;for(let S=0;S<2;++S)for(let C=0;C<2;++C)c[y+u]=d[u],c[y+p[0]]=m[2*p[0]+C],c[y+p[1]]=m[2*p[1]+S],y+=3;e.transform.setMatrix(i.getIndexToWorld()),e.transform.transformPoints(c,c);const b=new Uint16Array(8);b[0]=3,b[1]=0,b[2]=1,b[3]=3,b[4]=3,b[5]=0,b[6]=3,b[7]=2;const v=f.getNormal();Dl.normalize(v);const g=new Float32Array(12);for(let S=0;S<4;++S)g[3*S]=v[0],g[3*S+1]=v[1],g[3*S+2]=v[2];e.resliceGeom||(e.resliceGeom=bt.newInstance()),e.resliceGeom.getPoints().setData(c,3),e.resliceGeom.getPolys().setData(b,1);const x=Ce.newInstance({numberOfComponents:3,values:g,name:"Normals"});e.resliceGeom.getPointData().setNormals(x)}else{e.outlineFilter.setInputData(i),e.cutter.setInputConnection(e.outlineFilter.getOutputPort()),e.cutter.setCutFunction(f),e.lineToSurfaceFilter.setInputConnection(e.cutter.getOutputPort()),e.lineToSurfaceFilter.update(),e.resliceGeom||(e.resliceGeom=bt.newInstance());const c=e.lineToSurfaceFilter.getOutputData();e.resliceGeom.getPoints().setData(c.getPoints().getData(),3),e.resliceGeom.getPolys().setData(c.getPolys().getData(),1),e.resliceGeom.getPointData().setNormals(c.getPointData().getNormals());const d=f.getNormal(),p=e.resliceGeom.getNumberOfPoints();Dl.normalize(d);const h=new Float32Array(p*3);for(let y=0;y<p;++y)h[3*y]=d[0],h[3*y+1]=d[1],h[3*y+2]=d[2];const m=Ce.newInstance({numberOfComponents:3,values:h,name:"Normals"});e.resliceGeom.getPointData().setNormals(m)}else Gi("Something went wrong.","A default slice plane should have been created in the beginning of","updateResliceGeometry.");e.resliceGeomUpdateString=o,(r=e.resliceGeom)==null||r.modified()}},t.setOpenGLTexture=r=>{r&&(e.openGLTexture=r,e._externalOpenGLTexture=!0)}}const bH={VBOBuildTime:{},VBOBuildString:null,haveSeenDepthRequest:!1,lastHaveSeenDepthRequest:!1,lastIndependentComponents:!1,lastTextureComponents:0,lastSlabThickness:0,lastSlabTrapezoidIntegration:0,lastSlabType:-1,openGLTexture:null,openGLTextureString:null,colorTextureString:null,pwfTextureString:null,resliceGeom:null,resliceGeomUpdateString:null,tris:null,colorTexture:null,pwfTexture:null,_externalOpenGLTexture:!1,_scalars:null};function xH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,bH,n),bn.extend(t,e,n),Bo.implementReplaceShaderCoincidentOffset(t,e,n),Bo.implementBuildShadersWithReplacements(t,e,n),e.tris=Tr.newInstance(),e.openGLTexture=null,e.colorTexture=null,e.pwfTexture=null,e.VBOBuildTime={},Yt(e.VBOBuildTime),e.tmpMat4=Le(new Float64Array(16)),e.outlineFilter=fH.newInstance(),e.outlineFilter.setGenerateFaces(!0),e.outlineFilter.setGenerateLines(!1),e.cubePolyData=bt.newInstance(),e.cutter=ZW.newInstance(),e.lineToSurfaceFilter=KW.newInstance(),e.transform=hH.newInstance(),mr(t,e,["openGLTexture"]),yH(t,e)}const SH=Ct(xH,"vtkOpenGLImageResliceMapper");Jt("vtkImageResliceMapper",SH);const CH={NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5};var Bg={SlicingMode:CH};const{vtkErrorMacro:Ha}=Mn,{SlicingMode:_r}=Bg;function F3(t,e,n){if(e){const r=t.getIndependentComponents();return`${e.getMTime()}-${r}-${n}`}return"0"}function wH(t){const e=t.split(`
`),n=[];for(let r=0;r<e.length;++r){const o=e[r].trim();o.length>0&&n.push(o)}return n}function TH(t,e){e.classHierarchy.push("vtkOpenGLImageMapper"),t.buildPass=n=>{if(n){e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow);const r=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(r.getActiveCamera()),e.renderable.isA("vtkImageMapper")&&e.renderable.getSliceAtFocalPoint()&&e.renderable.setSliceFromCamera(r.getActiveCamera())}},t.translucentPass=(n,r)=>{n&&(e.currentRenderPass=r,t.render())},t.zBufferPass=n=>{n&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.opaqueZBufferPass=n=>t.zBufferPass(n),t.opaquePass=n=>{n&&t.render()},t.getCoincidentParameters=(n,r)=>e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null,t.render=()=>{const n=e.openGLImageSlice.getRenderable(),r=e._openGLRenderer.getRenderable();t.renderPiece(r,n)},t.getShaderTemplate=(n,r,o)=>{n.Vertex=Lg,n.Fragment=$u,n.Geometry=""},t.replaceShaderValues=(n,r,o)=>{let i=n.Vertex,a=n.Fragment;i=ne.substitute(i,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,i=ne.substitute(i,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result,i=ne.substitute(i,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result,i=ne.substitute(i,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result;const s=e.openGLTexture.getComponents(),u=o.getProperty().getIndependentComponents();let l=["varying vec2 tcoordVCVSOutput;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform sampler2D labelOutlineTexture1;","uniform float opacity;","uniform float outlineOpacity;"];if(u){for(let f=1;f<s;f++)l=l.concat([`uniform float cshift${f};`,`uniform float cscale${f};`,`uniform float pwfshift${f};`,`uniform float pwfscale${f};`]);switch(s){case 1:l=l.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:l=l.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:l=l.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:l=l.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Ha("Unsupported number of independent coordinates.")}}if(a=ne.substitute(a,"//VTK::TCoord::Dec",l).result,o.getProperty().getUseLabelOutline()===!0&&(a=ne.substitute(a,"//VTK::LabelOutline::Dec",["uniform int outlineThickness;","uniform float vpWidth;","uniform float vpHeight;","uniform float vpOffsetX;","uniform float vpOffsetY;","uniform mat4 PCWCMatrix;","uniform mat4 vWCtoIDX;","uniform ivec3 imageDimensions;"]).result,a=ne.substitute(a,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result,a=ne.substitute(a,"//VTK::LabelOutlineHelperFunction",["#ifdef vtkImageLabelOutlineOn","vec3 fragCoordToIndexSpace(vec4 fragCoord) {","  vec4 pcPos = vec4(","    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,","    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,","    (fragCoord.z - 0.5) * 2.0,","    1.0);","","  vec4 worldCoord = PCWCMatrix * pcPos;","  vec4 vertex = (worldCoord/worldCoord.w);","","  vec3 index = (vWCtoIDX * vertex).xyz;","","  // half voxel fix for labelmapOutline","  return (index + vec3(0.5)) / vec3(imageDimensions);","}","#endif"]).result),u){const f=["r","g","b","a"];let c=["vec4 tvalue = texture2D(texture1, tcoordVCVSOutput);"];for(let d=0;d<s;d++)c=c.concat([`vec3 tcolor${d} = mix${d} * texture2D(colorTexture1, vec2(tvalue.${f[d]} * cscale${d} + cshift${d}, height${d})).rgb;`,`float compWeight${d} = mix${d} * texture2D(pwfTexture1, vec2(tvalue.${f[d]} * pwfscale${d} + pwfshift${d}, height${d})).r;`]);switch(s){case 1:c=c.concat(["gl_FragData[0] = vec4(tcolor0.rgb, opacity);"]);break;case 2:c=c.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:c=c.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:c=c.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Ha("Unsupported number of independent coordinates.")}a=ne.substitute(a,"//VTK::TCoord::Impl",c).result}else switch(s){case 1:a=ne.substitute(a,"//VTK::TCoord::Impl",[...wH(`
                #ifdef vtkImageLabelOutlineOn
                  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); 
                  float centerValue = texture2D(texture1, centerPosIS.xy).r;
                  bool pixelOnBorder = false;
                  vec3 tColor = texture2D(colorTexture1, vec2(centerValue * cscale0 + cshift0, 0.5)).rgb;
                  float scalarOpacity = texture2D(pwfTexture1, vec2(centerValue * pwfscale0 + pwfshift0, 0.5)).r;
                  float opacityToUse = scalarOpacity * opacity;
                  int segmentIndex = int(centerValue * 255.0);
                  float textureCoordinate = float(segmentIndex - 1) / 1024.0;
                  float textureValue = texture2D(labelOutlineTexture1, vec2(textureCoordinate, 0.5)).r;
                  int actualThickness = int(textureValue * 255.0);

                  if (actualThickness == 0) {
                    gl_FragData[0] = vec4(0.0, 0.0, 1.0, 1.0);
                    return;
                  }
                  if (opacityToUse > 0.01) {
                    for (int i = -actualThickness; i <= actualThickness; i++) {
                      for (int j = -actualThickness; j <= actualThickness; j++) {
                        if (i == 0 || j == 0) {
                          continue;
                        }
                        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
                          gl_FragCoord.y + float(j),
                          gl_FragCoord.z, gl_FragCoord.w);
                        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
                        float value = texture2D(texture1, neighborPosIS.xy).r;
                        if (value != centerValue) {
                          pixelOnBorder = true;
                          break;
                        }
                      }
                      if (pixelOnBorder == true) {
                        break;
                      }
                    }
                    if (pixelOnBorder == true) {
                      gl_FragData[0] = vec4(tColor, outlineOpacity);
                    }
                    else {
                      gl_FragData[0] = vec4(tColor, opacityToUse);
                    }
                  }
                #else
                  float intensity = texture2D(texture1, tcoordVCVSOutput).r;
                  vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;
                  float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;
                  gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);
                #endif
                `)]).result;break;case 2:a=ne.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tcolor.g + pwfshift0);"]).result;break;case 3:a=ne.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]).result;break;default:a=ne.substitute(a,"//VTK::TCoord::Impl",["vec4 tcolor = cscale0*texture2D(texture1, tcoordVCVSOutput.st) + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}e.haveSeenDepthRequest&&(a=ne.substitute(a,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,a=ne.substitute(a,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=i,n.Fragment=a,t.replaceShaderClip(n,r,o),t.replaceShaderCoincidentOffset(n,r,o)},t.replaceShaderClip=(n,r,o)=>{let i=n.Vertex,a=n.Fragment;if(e.renderable.getNumberOfClippingPlanes()){let s=e.renderable.getNumberOfClippingPlanes();s>6&&(ct("OpenGL has a limit of 6 clipping planes"),s=6),i=ne.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,i=ne.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,a=ne.substitute(a,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,a=ne.substitute(a,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}n.Vertex=i,n.Fragment=a},t.getNeedToRebuildShaders=(n,r,o)=>{var i;const a=e.openGLTexture.getComponents(),s=o.getProperty().getIndependentComponents();let u=!1;return(!e.currentRenderPass&&e.lastRenderPassShaderReplacement||e.currentRenderPass&&e.currentRenderPass.getShaderReplacement()!==e.lastRenderPassShaderReplacement)&&(u=!0),u||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||((i=n.getProgram())==null?void 0:i.getHandle())===0||e.lastTextureComponents!==a||e.lastIndependentComponents!==s?(e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=a,e.lastIndependentComponents=s,!0):!1},t.updateShaders=(n,r,o)=>{if(e.lastBoundBO=n,t.getNeedToRebuildShaders(n,r,o)){const i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,o);const a=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),t.setMapperShaderParameters(n,r,o),t.setCameraShaderParameters(n,r,o),t.setPropertyShaderParameters(n,r,o)},t.setMapperShaderParameters=(n,r,o)=>{n.getCABO().getElementCount()&&(e.VBOBuildTime>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Ha("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),e.context.FLOAT,n.getCABO().getTCoordComponents(),e.context.FALSE)||Ha("Error setting tcoordMC in shader VAO.")),n.getAttributeUpdateTime().modified());const i=e.openGLTexture.getTextureUnit();n.getProgram().setUniformi("texture1",i);const a=e.openGLTexture.getComponents(),s=o.getProperty().getIndependentComponents();if(s)for(let d=0;d<a;d++)n.getProgram().setUniformf(`mix${d}`,o.getProperty().getComponentWeight(d));const u=e.openGLTexture.getShiftAndScale();for(let d=0;d<a;d++){let p=o.getProperty().getColorWindow(),h=o.getProperty().getColorLevel();const m=s?d:0,y=o.getProperty().getRGBTransferFunction(m);if(y&&o.getProperty().getUseLookupTableScalarRange()){const g=y.getRange();p=g[1]-g[0],h=.5*(g[1]+g[0])}const b=u.scale/p,v=(u.shift-h)/p+.5;n.getProgram().setUniformf(`cshift${d}`,v),n.getProgram().setUniformf(`cscale${d}`,b)}for(let d=0;d<a;d++){let p=1,h=0;const m=s?d:0,y=o.getProperty().getPiecewiseFunction(m);if(y){const b=y.getRange(),v=b[1]-b[0],g=.5*(b[0]+b[1]);p=u.scale/v,h=(u.shift-g)/v+.5}n.getProgram().setUniformf(`pwfshift${d}`,h),n.getProgram().setUniformf(`pwfscale${d}`,p)}if(e.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){const d=t.getCoincidentParameters(r,o);n.getProgram().setUniformf("coffset",d.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",d.factor)}const l=e.colorTexture.getTextureUnit();n.getProgram().setUniformi("colorTexture1",l);const f=e.pwfTexture.getTextureUnit();n.getProgram().setUniformi("pwfTexture1",f);const c=e.labelOutlineThicknessTexture.getTextureUnit();if(n.getProgram().setUniformi("labelOutlineTexture1",c),e.renderable.getNumberOfClippingPlanes()){let d=e.renderable.getNumberOfClippingPlanes();d>6&&(ct("OpenGL has a limit of 6 clipping planes"),d=6);const p=n.getCABO().getCoordShiftAndScaleEnabled()?n.getCABO().getInverseShiftAndScaleMatrix():null,h=p?gn(e.imagematinv,o.getMatrix()):o.getMatrix();p&&(pt(h,h),lt(h,h,p),pt(h,h)),pt(e.imagemat,e.currentInput.getIndexToWorld()),lt(e.imagematinv,h,e.imagemat);const m=[];for(let y=0;y<d;y++){const b=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,y,b);for(let v=0;v<4;v++)m.push(b[v])}n.getProgram().setUniformi("numClipPlanes",d),n.getProgram().setUniform4fv("clipPlanes",m)}if(o.getProperty().getUseLabelOutline()===!0){const d=o.getProperty().getLabelOutlineOpacity();n.getProgram().setUniformf("outlineOpacity",d)}},t.setCameraShaderParameters=(n,r,o)=>{const i=n.getProgram(),a=e.openGLImageSlice.getKeyMatrices(),s=e.currentInput,u=s.getIndexToWorld();lt(e.imagemat,a.mcwc,u);const l=e.openGLCamera.getKeyMatrices(r);if(lt(e.imagemat,l.wcpc,e.imagemat),n.getCABO().getCoordShiftAndScaleEnabled()){const f=n.getCABO().getInverseShiftAndScaleMatrix();lt(e.imagemat,e.imagemat,f)}if(i.setUniformMatrix("MCPCMatrix",e.imagemat),o.getProperty().getUseLabelOutline()===!0){const f=s.getWorldToIndex(),c=s.getDimensions();i.setUniform3i("imageDimensions",c[0],c[1],1),i.setUniformMatrix("vWCtoIDX",f);const d=e.openGLCamera.getKeyMatrices(r);Jn(e.projectionToWorld,d.wcpc),e.openGLCamera.getKeyMatrices(r),i.setUniformMatrix("PCWCMatrix",e.projectionToWorld);const p=t.getRenderTargetSize();i.setUniformf("vpWidth",p[0]),i.setUniformf("vpHeight",p[1]);const h=t.getRenderTargetOffset();i.setUniformf("vpOffsetX",h[0]/p[0]),i.setUniformf("vpOffsetY",h[1]/p[1])}},t.setPropertyShaderParameters=(n,r,o)=>{const i=n.getProgram(),a=o.getProperty().getOpacity();i.setUniformf("opacity",a)},t.renderPieceStart=(n,r)=>{t.updateBufferObjects(n,r),e.lastBoundBO=null},t.renderPieceDraw=(n,r)=>{const o=e.context;e.openGLTexture.activate(),e.colorTexture.activate(),e.labelOutlineThicknessTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,n,r),o.drawArrays(o.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.openGLTexture.deactivate(),e.colorTexture.deactivate(),e.labelOutlineThicknessTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=(n,r)=>{},t.renderPiece=(n,r)=>{if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getCurrentImage(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){Ha("No input!");return}t.renderPieceStart(n,r),t.renderPieceDraw(n,r),t.renderPieceFinish(n,r)},t.computeBounds=(n,r)=>{if(!t.getInput()){Js(e.bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=(n,r)=>{t.getNeedToRebuildBufferObjects(n,r)&&t.buildBufferObjects(n,r)},t.getNeedToRebuildBufferObjects=(n,r)=>e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime(),t.buildBufferObjects=(n,r)=>{var o,i;const a=e.currentInput;if(!a)return;const s=a.getPointData()&&a.getPointData().getScalars();if(!s)return;const u=s.getDataType(),l=s.getNumberOfComponents(),f=r.getProperty(),c=f.getInterpolationType(),d=f.getIndependentComponents(),p=d?l:1,h=d?2*p:1,m=f.getRGBTransferFunction(),y=F3(f,m,p),b=e._openGLRenderWindow.getGraphicsResourceForObject(m);if(!(b!=null&&b.vtkObj)||(b==null?void 0:b.hash)!==y||e.colorTextureString!==y){const E=1024*h*3,D=new Uint8Array(E);if(e.colorTexture||(e.colorTexture=Xe.newInstance({resizable:!0}),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow)),c===bs.NEAREST?(e.colorTexture.setMinificationFilter(Re.NEAREST),e.colorTexture.setMagnificationFilter(Re.NEAREST)):(e.colorTexture.setMinificationFilter(Re.LINEAR),e.colorTexture.setMagnificationFilter(Re.LINEAR)),m){const O=new Float32Array(3072);for(let P=0;P<p;P++){const k=f.getRGBTransferFunction(P),U=k.getRange();if(k.getTable(U[0],U[1],1024,O,1),d)for(let H=0;H<1024*3;H++)D[P*1024*6+H]=255*O[H],D[P*1024*6+H+1024*3]=255*O[H];else for(let H=0;H<1024*3;H++)D[P*1024*6+H]=255*O[H]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,h,3,Ye.UNSIGNED_CHAR,D)}else{for(let O=0;O<1024*3;++O)D[O]=255*O/(1023*3),D[O+1]=255*O/(1023*3),D[O+2]=255*O/(1023*3);e.colorTexture.create2DFromRaw(1024,1,3,Ye.UNSIGNED_CHAR,D)}e.colorTextureString=y,m&&e._openGLRenderWindow.setGraphicsResourceForObject(m,e.colorTexture,e.colorTextureString)}else e.colorTexture=b.vtkObj,e.colorTextureString=b.hash;const v=f.getPiecewiseFunction(),g=F3(f,v,p),x=e._openGLRenderWindow.getGraphicsResourceForObject(v);if(!(x!=null&&x.vtkObj)||(x==null?void 0:x.hash)!==g||e.pwfTextureString!==g){const E=1024*h,D=new Uint8Array(E);if(e.pwfTexture||(e.pwfTexture=Xe.newInstance({resizable:!0}),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow)),c===bs.NEAREST?(e.pwfTexture.setMinificationFilter(Re.NEAREST),e.pwfTexture.setMagnificationFilter(Re.NEAREST)):(e.pwfTexture.setMinificationFilter(Re.LINEAR),e.pwfTexture.setMagnificationFilter(Re.LINEAR)),v){const O=new Float32Array(E),P=new Float32Array(1024);for(let k=0;k<p;++k){const U=f.getPiecewiseFunction(k);if(U===null)O.fill(1);else{const H=U.getRange();if(U.getTable(H[0],H[1],1024,P,1),d)for(let R=0;R<1024;R++)O[k*1024*2+R]=P[R],O[k*1024*2+R+1024]=P[R];else for(let R=0;R<1024;R++)O[k*1024*2+R]=P[R]}}e.pwfTexture.releaseGraphicsResources(e._openGLRenderWindow),e.pwfTexture.resetFormatAndType(),e.pwfTexture.create2DFromRaw(1024,h,1,Ye.FLOAT,O)}else D.fill(255),e.pwfTexture.create2DFromRaw(1024,1,1,Ye.UNSIGNED_CHAR,D);e.pwfTextureString=g,v&&e._openGLRenderWindow.setGraphicsResourceForObject(v,e.pwfTexture,e.pwfTextureString)}else e.pwfTexture=x.vtkObj,e.pwfTextureString=x.hash;t.updatelabelOutlineThicknessTexture(r);const{ijkMode:S}=e.renderable.getClosestIJKAxis();let C=e.renderable.getSlice();S!==e.renderable.getSlicingMode()&&(C=e.renderable.getSliceAtPosition(C));const w=e.renderable.isA("vtkImageArrayMapper")?e.renderable.getSubSlice():Math.round(C),T=a.getExtent();let _;S===_r.I&&(_=w-T[0]),S===_r.J&&(_=w-T[2]),(S===_r.K||S===_r.NONE)&&(_=w-T[4]);const A=`${C}A${a.getMTime()}A${s.getMTime()}B${t.getMTime()}C${e.renderable.getSlicingMode()}D${r.getProperty().getInterpolationType()}`;if(e.VBOBuildString!==A){const E=a.getDimensions();e.openGLTexture||(e.openGLTexture=Xe.newInstance({resizable:!0}),e.openGLTexture.setOpenGLRenderWindow(e._openGLRenderWindow)),c===bs.NEAREST?(new Set([1,3,4]).has(l)&&u===Ye.UNSIGNED_CHAR&&!d&&e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Re.NEAREST),e.openGLTexture.setMagnificationFilter(Re.NEAREST)):(l===4&&u===Ye.UNSIGNED_CHAR&&!d?(e.openGLTexture.setGenerateMipmap(!0),e.openGLTexture.setMinificationFilter(Re.LINEAR_MIPMAP_LINEAR)):e.openGLTexture.setMinificationFilter(Re.LINEAR),e.openGLTexture.setMagnificationFilter(Re.LINEAR)),e.openGLTexture.setWrapS(hu.CLAMP_TO_EDGE),e.openGLTexture.setWrapT(hu.CLAMP_TO_EDGE);const D=E[0]*E[1]*l,O=new Float32Array(12),P=new Float32Array(8);for(let Z=0;Z<4;Z++)P[Z*2]=Z%2?1:0,P[Z*2+1]=Z>1?1:0;const k=[_r.X,_r.Y,_r.Z].includes(e.renderable.getSlicingMode())?C:w,U=a.getSpatialExtent(),H=s.getData();let R=null;if(S===_r.I){R=new H.constructor(E[2]*E[1]*l);let Z=0;for(let X=0;X<E[2];X++)for(let te=0;te<E[1];te++){let ae=(_+te*E[0]+X*E[0]*E[1])*l;Z=(X*E[1]+te)*l;const ue=ae+l;for(;ae<ue;)R[Z++]=H[ae++]}E[0]=E[1],E[1]=E[2],O[0]=k,O[1]=U[2],O[2]=U[4],O[3]=k,O[4]=U[3],O[5]=U[4],O[6]=k,O[7]=U[2],O[8]=U[5],O[9]=k,O[10]=U[3],O[11]=U[5]}else if(S===_r.J){R=new H.constructor(E[2]*E[0]*l);let Z=0;for(let X=0;X<E[2];X++)for(let te=0;te<E[0];te++){let ae=(te+_*E[0]+X*E[0]*E[1])*l;Z=(X*E[0]+te)*l;const ue=ae+l;for(;ae<ue;)R[Z++]=H[ae++]}E[1]=E[2],O[0]=U[0],O[1]=k,O[2]=U[4],O[3]=U[1],O[4]=k,O[5]=U[4],O[6]=U[0],O[7]=k,O[8]=U[5],O[9]=U[1],O[10]=k,O[11]=U[5]}else S===_r.K||S===_r.NONE?(R=H.subarray(_*D,(_+1)*D),O[0]=U[0],O[1]=U[2],O[2]=k,O[3]=U[1],O[4]=U[2],O[5]=k,O[6]=U[0],O[7]=U[3],O[8]=k,O[9]=U[1],O[10]=U[3],O[11]=k):Ha("Reformat slicing not yet supported.");const B=e._openGLRenderWindow.getGraphicsResourceForObject(R);B!=null&&B.vtkObj?(e.openGLTexture=B.vtkObj,e.VBOBuildString=B.hash):(e._scalars!==R&&(e._openGLRenderWindow.releaseGraphicsResourcesForObject(e._scalars),e._scalars=R),e.openGLTexture.resetFormatAndType(),e.openGLTexture.create2DFilterableFromRaw(E[0],E[1],l,s.getDataType(),R,(i=(o=e.renderable).getPreferSizeOverAccuracy)==null?void 0:i.call(o)),e._openGLRenderWindow.setGraphicsResourceForObject(R,e.openGLTexture,e.VBOBuildString)),e.openGLTexture.activate(),e.openGLTexture.sendParameters(),e.openGLTexture.deactivate();const M=Ce.newInstance({numberOfComponents:3,values:O});M.setName("points");const z=Ce.newInstance({numberOfComponents:2,values:P});z.setName("tcoords");const $=new Uint16Array(8);$[0]=3,$[1]=0,$[2]=1,$[3]=3,$[4]=3,$[5]=0,$[6]=3,$[7]=2;const J=Ce.newInstance({numberOfComponents:1,values:$});e.tris.getCABO().createVBO(J,"polys",zr.SURFACE,{points:M,tcoords:z,cellOffset:0}),e.VBOBuildTime.modified(),e.VBOBuildString=A}},t.updatelabelOutlineThicknessTexture=n=>{e.labelOutlineThicknessTexture||(e.labelOutlineThicknessTexture=Xe.newInstance({resizable:!1}),e.labelOutlineThicknessTexture.setOpenGLRenderWindow(e._openGLRenderWindow));const r=n.getProperty().getLabelOutlineThickness(),o=e._openGLRenderWindow.getGraphicsResourceForObject(r),i=`${r.join("-")}`;if(!(o!=null&&o.vtkObj)||(o==null?void 0:o.hash)!==i||e.labelOutlineThicknessTextureString!==i){const a=new Uint8Array(1024);for(let s=0;s<1024;++s){const u=r[s]||r[0];a[s]=u}e.labelOutlineThicknessTexture.releaseGraphicsResources(e._openGLRenderWindow),e.labelOutlineThicknessTexture.resetFormatAndType(),e.labelOutlineThicknessTexture.setMinificationFilter(Re.NEAREST),e.labelOutlineThicknessTexture.setMagnificationFilter(Re.NEAREST),e.labelOutlineThicknessTexture.create2DFromRaw(1024,1,1,Ye.UNSIGNED_CHAR,a),e.labelOutlineThicknessTextureString=i,r&&e._openGLRenderWindow.setGraphicsResourceForObject(r,e.labelOutlineThicknessTexture,e.labelOutlineThicknessTextureString)}else e.labelOutlineThicknessTexture=o.vtkObj,e.labelOutlineThicknessTextureString=o.hash},t.getRenderTargetSize=()=>{if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];const{usize:n,vsize:r}=e._openGLRenderer.getTiledSizeAndOrigin();return[n,r]},t.getRenderTargetOffset=()=>{const{lowerLeftU:n,lowerLeftV:r}=e._openGLRenderer.getTiledSizeAndOrigin();return[n,r]}}const _H={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,imagematinv:null,colorTexture:null,pwfTexture:null,labelOutlineThicknessTexture:null,labelOutlineThicknessTextureString:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0,_scalars:null};function AH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,_H,n),bn.extend(t,e,n),Bo.implementReplaceShaderCoincidentOffset(t,e,n),Bo.implementBuildShadersWithReplacements(t,e,n),e.tris=Tr.newInstance(),e.imagemat=Le(new Float64Array(16)),e.imagematinv=Le(new Float64Array(16)),e.projectionToWorld=Le(new Float64Array(16)),e.idxToView=Le(new Float64Array(16)),e.idxNormalMatrix=Wr(new Float64Array(9)),e.modelToView=Le(new Float64Array(16)),e.projectionToView=Le(new Float64Array(16)),en(t,e,[]),e.VBOBuildTime={},Yt(e.VBOBuildTime),TH(t,e)}const EH=Ct(AH,"vtkOpenGLImageMapper");Jt("vtkAbstractImageMapper",EH);const{vtkErrorMacro:Fc}=V;function B3(t,e,n){if(e.apply(t)){const r=t.getIndependentComponents();return`${t.getMTime()}-${r}-${n}`}return"0"}function DH(t,e){e.classHierarchy.push("vtkOpenGLImageCPRMapper"),t.buildPass=n=>{n&&(e.currentRenderPass=null,e.openGLImageSlice=t.getFirstAncestorOfType("vtkOpenGLImageSlice"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent(),e.context=e._openGLRenderWindow.getContext(),e.openGLCamera=e._openGLRenderer.getViewNodeFor(e._openGLRenderer.getRenderable().getActiveCamera()),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.volumeTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.pwfTexture.setOpenGLRenderWindow(e._openGLRenderWindow))},t.opaquePass=(n,r)=>{n&&(e.currentRenderPass=r,t.render())},t.opaqueZBufferPass=n=>{n&&(e.haveSeenDepthRequest=!0,e.renderDepth=!0,t.render(),e.renderDepth=!1)},t.getCoincidentParameters=(n,r)=>e.renderable.getResolveCoincidentTopology()?e.renderable.getCoincidentTopologyPolygonOffsetParameters():null,t.render=()=>{const n=e.openGLImageSlice.getRenderable(),r=e._openGLRenderer.getRenderable();t.renderPiece(r,n)},t.renderPiece=(n,r)=>{t.invokeEvent({type:"StartEvent"}),e.renderable.update(),t.invokeEvent({type:"EndEvent"}),e.renderable.preRenderCheck()&&(e.currentImageDataInput=e.renderable.getInputData(0),e.currentCenterlineInput=e.renderable.getOrientedCenterline(),t.renderPieceStart(n,r),t.renderPieceDraw(n,r),t.renderPieceFinish(n,r))},t.renderPieceStart=(n,r)=>{t.updateBufferObjects(n,r)},t.renderPieceDraw=(n,r)=>{const o=e.context;e.volumeTexture.activate(),e.colorTexture.activate(),e.pwfTexture.activate(),e.tris.getCABO().getElementCount()&&(t.updateShaders(e.tris,n,r),o.drawArrays(o.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release()),e.volumeTexture.deactivate(),e.colorTexture.deactivate(),e.pwfTexture.deactivate()},t.renderPieceFinish=(n,r)=>{},t.updateBufferObjects=(n,r)=>{t.getNeedToRebuildBufferObjects(n,r)&&t.buildBufferObjects(n,r)},t.getNeedToRebuildBufferObjects=(n,r)=>{const o=e.VBOBuildTime.getMTime();return o<t.getMTime()||o<e.renderable.getMTime()||o<r.getMTime()||o<e.currentImageDataInput.getMTime()||o<e.currentCenterlineInput.getMTime()},t.buildBufferObjects=(n,r)=>{const o=e.currentImageDataInput,i=e.currentCenterlineInput;r.getProperty().getInterpolationType()===bs.NEAREST?(e.volumeTexture.setMinificationFilter(Re.NEAREST),e.volumeTexture.setMagnificationFilter(Re.NEAREST),e.colorTexture.setMinificationFilter(Re.NEAREST),e.colorTexture.setMagnificationFilter(Re.NEAREST),e.pwfTexture.setMinificationFilter(Re.NEAREST),e.pwfTexture.setMagnificationFilter(Re.NEAREST)):(e.volumeTexture.setMinificationFilter(Re.LINEAR),e.volumeTexture.setMagnificationFilter(Re.LINEAR),e.colorTexture.setMinificationFilter(Re.LINEAR),e.colorTexture.setMagnificationFilter(Re.LINEAR),e.pwfTexture.setMinificationFilter(Re.LINEAR),e.pwfTexture.setMagnificationFilter(Re.LINEAR));const a=o.getMTime();if(e.volumeTextureTime!==a){const m=o.getDimensions(),y=o.getPointData().getScalars();if(!y)return;e.volumeTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),e.volumeTexture.releaseGraphicsResources(e._openGLRenderWindow),e.volumeTexture.resetFormatAndType(),e.volumeTexture.create3DFilterableFromRaw(m[0],m[1],m[2],y.getNumberOfComponents(),y.getDataType(),y.getData(),e.renderable.getPreferSizeOverAccuracy()),e.volumeTextureTime=a}const s=o.getPointData()&&o.getPointData().getScalars();if(!s)return;const u=s.getNumberOfComponents(),l=r.getProperty(),f=l.getIndependentComponents(),c=f?u:1,d=f?2*c:1,p=B3(l,l.getRGBTransferFunction,c);if(e.colorTextureString!==p){const m=1024*d*3,y=new Uint8Array(m);let b=l.getRGBTransferFunction();if(b){const v=new Float32Array(3072);for(let g=0;g<c;g++){b=l.getRGBTransferFunction(g);const x=b.getRange();if(b.getTable(x[0],x[1],1024,v,1),f)for(let S=0;S<1024*3;S++)y[g*1024*6+S]=255*v[S],y[g*1024*6+S+1024*3]=255*v[S];else for(let S=0;S<1024*3;S++)y[g*1024*6+S]=255*v[S]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.resetFormatAndType(),e.colorTexture.create2DFromRaw(1024,d,3,Ye.UNSIGNED_CHAR,y)}else{for(let v=0;v<1024*3;++v)y[v]=255*v/(1023*3),y[v+1]=255*v/(1023*3),y[v+2]=255*v/(1023*3);e.colorTexture.create2DFromRaw(1024,1,3,Ye.UNSIGNED_CHAR,y)}e.colorTextureString=p}const h=B3(l,l.getPiecewiseFunction,c);if(e.pwfTextureString!==h){const m=1024*d,y=new Uint8Array(m);let b=l.getPiecewiseFunction();if(e.pwfTexture.releaseGraphicsResources(e._openGLRenderWindow),e.pwfTexture.resetFormatAndType(),b){const v=new Float32Array(m),g=new Float32Array(1024);for(let x=0;x<c;++x)if(b=l.getPiecewiseFunction(x),b===null)v.fill(1);else{const S=b.getRange();if(b.getTable(S[0],S[1],1024,g,1),f)for(let C=0;C<1024;C++)v[x*1024*2+C]=g[C],v[x*1024*2+C+1024]=g[C];else for(let C=0;C<1024;C++)v[x*1024*2+C]=g[C]}e.pwfTexture.create2DFromRaw(1024,d,1,Ye.FLOAT,v)}else y.fill(255),e.pwfTexture.create2DFromRaw(1024,1,1,Ye.UNSIGNED_CHAR,y);e.pwfTextureString=h}if(e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<i.getMTime()){const m=i.getNumberOfPoints(),y=m<=1?0:m-1,b=i.getDistancesToFirstPoint(),v=e.renderable.getHeight(),g=4*y,x=new Float32Array(3*g),S=e.renderable.getWidth();for(let H=0,R=0;H<y;++H)x.set([0,v-b[H],0],R),R+=3,x.set([S,v-b[H],0],R),R+=3,x.set([S,v-b[H+1],0],R),R+=3,x.set([0,v-b[H+1],0],R),R+=3;const C=Ce.newInstance({numberOfComponents:3,values:x});C.setName("points");const w=new Uint16Array(5*y);for(let H=0,R=0,B=0;H<y;++H)w.set([4,B+3,B+2,B+1,B],R),R+=5,B+=4;const T=Ce.newInstance({numberOfComponents:1,values:w}),_=i.getPoints(),A=new Float32Array(3*g),E=new Array(3),D=new Array(3);for(let H=0,R=0;H<y;++H)_.getPoint(H,E),_.getPoint(H+1,D),A.set(E,R),R+=3,A.set(E,R),R+=3,A.set(D,R),R+=3,A.set(D,R),R+=3;const O=Ce.newInstance({numberOfComponents:3,values:A,name:"centerlinePosition"}),P=new Float32Array(g);for(let H=0,R=0;H<y;++H)P.set([0,1,3,2],R),R+=4;const k=Ce.newInstance({numberOfComponents:1,values:P,name:"quadIndex"}),U=[O,k];if(!e.renderable.getUseUniformOrientation()){const H=e.renderable.getCenterlineTangentDirections(),R=new Float32Array(3*g),B=new Float32Array(3*g);for(let $=0,J=0;$<y;++$){const Z=3*$;for(let X=0;X<4;++X)R[J+0]=H[Z+0],R[J+1]=H[Z+1],R[J+2]=H[Z+2],B[J+0]=H[Z+3],B[J+1]=H[Z+4],B[J+2]=H[Z+5],J+=3}const M=Ce.newInstance({numberOfComponents:3,values:R,name:"centerlineTopDirection"}),z=Ce.newInstance({numberOfComponents:3,values:B,name:"centerlineBotDirection"});U.push(M,z)}e.tris.getCABO().createVBO(T,"polys",zr.SURFACE,{points:C,customAttributes:U}),e.VBOBuildTime.modified()}},t.getNeedToRebuildShaders=(n,r,o)=>{const i=e.volumeTexture.getComponents(),a=o.getProperty().getIndependentComponents(),s=!!e.renderable.getCenterPoint(),u=e.renderable.getUseUniformOrientation();return n.getProgram()===0||e.lastUseCenterPoint!==s||e.lastUseUniformOrientation!==u||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||e.lastTextureComponents!==i||e.lastIndependentComponents!==a?(e.lastUseCenterPoint=s,e.lastUseUniformOrientation=u,e.lastHaveSeenDepthRequest=e.haveSeenDepthRequest,e.lastTextureComponents=i,e.lastIndependentComponents=a,!0):!1},t.buildShaders=(n,r,o)=>{t.getShaderTemplate(n,r,o),t.replaceShaderValues(n,r,o)},t.replaceShaderValues=(n,r,o)=>{let i=n.Vertex,a=n.Fragment;i=ne.substitute(i,"//VTK::Camera::Dec",["uniform mat4 MCPCMatrix;"]).result,i=ne.substitute(i,"//VTK::PositionVC::Impl",["  gl_Position = MCPCMatrix * vertexMC;"]).result;const s=["attribute vec3 centerlinePosition;","attribute float quadIndex;","uniform float width;","out vec2 quadOffsetVSOutput;","out vec3 centerlinePosVSOutput;"],u=e.renderable.getUseUniformOrientation();u?s.push("out vec3 centerlineDirVSOutput;","uniform vec3 centerlineDirection;"):s.push("out vec3 centerlineTopDirVSOutput;","out vec3 centerlineBotDirVSOutput;","out float centerlineAngleVSOutput;","attribute vec3 centerlineTopDirection;","attribute vec3 centerlineBotDirection;"),i=ne.substitute(i,"//VTK::Color::Dec",s).result;const l=["quadOffsetVSOutput = vec2(width * (mod(quadIndex, 2.0) == 0.0 ? -0.5 : 0.5), quadIndex > 1.0 ? 0.0 : 1.0);","centerlinePosVSOutput = centerlinePosition;"];u?l.push("centerlineDirVSOutput = centerlineDirection;"):l.push("vec3 sumVec = centerlineTopDirection + centerlineBotDirection;","float sumLen2 = dot(sumVec, sumVec);","float diffLen2 = 4.0 - sumLen2;","if (diffLen2 < 0.001) {","  // vectors are too close to each other, use lerp","  centerlineAngleVSOutput = -1.0; // use negative angle as a flag for lerp","  centerlineTopDirVSOutput = centerlineTopDirection;","  centerlineBotDirVSOutput = centerlineBotDirection;","} else if (sumLen2 == 0.0) {","  // vector are opposite to each other, don't make a choice for the user","  // use slerp without direction, it will display the centerline color on each row of pixel","  centerlineAngleVSOutput = 0.0;","  centerlineTopDirVSOutput = vec3(0.0);","  centerlineBotDirVSOutput = vec3(0.0);","} else {","  // use slerp","  centerlineAngleVSOutput = 2.0 * atan(sqrt(diffLen2/sumLen2));","  float sinAngle = sin(centerlineAngleVSOutput);","  centerlineTopDirVSOutput = centerlineTopDirection / sinAngle;","  centerlineBotDirVSOutput = centerlineBotDirection / sinAngle;","}"),i=ne.substitute(i,"//VTK::Color::Impl",l).result;const f=e.volumeTexture.getComponents(),c=o.getProperty().getIndependentComponents();let d=["uniform mat4 MCTCMatrix; // Model coordinates to texture coordinates","in vec2 quadOffsetVSOutput;","in vec3 centerlinePosVSOutput;","uniform highp sampler3D volumeTexture;","uniform sampler2D colorTexture1;","uniform sampler2D pwfTexture1;","uniform float opacity;","uniform vec4 backgroundColor;","uniform float cshift0;","uniform float cscale0;","uniform float pwfshift0;","uniform float pwfscale0;"];u?d.push("in vec3 centerlineDirVSOutput;"):d.push("in vec3 centerlineTopDirVSOutput;","in vec3 centerlineBotDirVSOutput;","in float centerlineAngleVSOutput;");const p=e.renderable.getCenterPoint();if(p&&d.push("uniform vec3 globalCenterPoint;"),c){for(let m=1;m<f;m++)d=d.concat([`uniform float cshift${m};`,`uniform float cscale${m};`,`uniform float pwfshift${m};`,`uniform float pwfscale${m};`]);switch(f){case 1:d=d.concat(["uniform float mix0;","#define height0 0.5"]);break;case 2:d=d.concat(["uniform float mix0;","uniform float mix1;","#define height0 0.25","#define height1 0.75"]);break;case 3:d=d.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","#define height0 0.17","#define height1 0.5","#define height2 0.83"]);break;case 4:d=d.concat(["uniform float mix0;","uniform float mix1;","uniform float mix2;","uniform float mix3;","#define height0 0.125","#define height1 0.375","#define height2 0.625","#define height3 0.875"]);break;default:Fc("Unsupported number of independent coordinates.")}}a=ne.substitute(a,"//VTK::TCoord::Dec",d).result;let h=[];if(u?h.push("vec3 interpolatedCenterlineDir = centerlineDirVSOutput;"):h.push("vec3 interpolatedCenterlineDir;","if (centerlineAngleVSOutput < 0.0) {","  // Lerp","  interpolatedCenterlineDir = quadOffsetVSOutput.y * centerlineTopDirVSOutput + (1.0 - quadOffsetVSOutput.y) * centerlineBotDirVSOutput;","} else {","  // Slerp","  float topInterpolationAngle = quadOffsetVSOutput.y * centerlineAngleVSOutput;","  float botInterpolationAngle = centerlineAngleVSOutput - topInterpolationAngle;","  interpolatedCenterlineDir = sin(topInterpolationAngle) * centerlineTopDirVSOutput + sin(botInterpolationAngle) * centerlineBotDirVSOutput;","}","// Slerp should give a normalized vector but when sin(angle) is small, rounding error occurs","// Normalize for both lerp and slerp","interpolatedCenterlineDir = normalize(interpolatedCenterlineDir);"),p?h.push("float baseOffset = dot(interpolatedCenterlineDir, globalCenterPoint - centerlinePosVSOutput);","float horizontalOffset = quadOffsetVSOutput.x + baseOffset;"):h.push("float horizontalOffset = quadOffsetVSOutput.x;"),h.push("vec3 volumePosMC = centerlinePosVSOutput + horizontalOffset * interpolatedCenterlineDir;","vec3 volumePosTC = (MCTCMatrix * vec4(volumePosMC, 1.0)).xyz;","if (any(lessThan(volumePosTC, vec3(0.0))) || any(greaterThan(volumePosTC, vec3(1.0))))","{","  // set the background color and exit","  gl_FragData[0] = backgroundColor;","  return;","}","vec4 tvalue = texture(volumeTexture, volumePosTC);"),c){const m=["r","g","b","a"];for(let y=0;y<f;++y)h=h.concat([`vec3 tcolor${y} = mix${y} * texture2D(colorTexture1, vec2(tvalue.${m[y]} * cscale${y} + cshift${y}, height${y})).rgb;`,`float compWeight${y} = mix${y} * texture2D(pwfTexture1, vec2(tvalue.${m[y]} * pwfscale${y} + pwfshift${y}, height${y})).r;`]);switch(f){case 1:h=h.concat(["gl_FragData[0] = vec4(tcolor0.rgb, compWeight0 * opacity);"]);break;case 2:h=h.concat(["float weightSum = compWeight0 + compWeight1;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum))), opacity);"]);break;case 3:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum))), opacity);"]);break;case 4:h=h.concat(["float weightSum = compWeight0 + compWeight1 + compWeight2 + compWeight3;","gl_FragData[0] = vec4(vec3((tcolor0.rgb * (compWeight0 / weightSum)) + (tcolor1.rgb * (compWeight1 / weightSum)) + (tcolor2.rgb * (compWeight2 / weightSum)) + (tcolor3.rgb * (compWeight3 / weightSum))), opacity);"]);break;default:Fc("Unsupported number of independent coordinates.")}}else switch(f){case 1:h=h.concat(["// Dependent components","float intensity = tvalue.r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * cscale0 + cshift0, 0.5)).rgb;","float scalarOpacity = texture2D(pwfTexture1, vec2(intensity * pwfscale0 + pwfshift0, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]);break;case 2:h=h.concat(["float intensity = tvalue.r*cscale0 + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)).rgb, pwfscale0*tvalue.g + pwfshift0);"]);break;case 3:h=h.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, opacity);"]);break;default:h=h.concat(["vec4 tcolor = cscale0*tvalue + cshift0;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"])}a=ne.substitute(a,"//VTK::TCoord::Impl",h).result,e.haveSeenDepthRequest&&(a=ne.substitute(a,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,a=ne.substitute(a,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),n.Vertex=i,n.Fragment=a,t.replaceShaderClip(n,r,o),t.replaceShaderCoincidentOffset(n,r,o)},t.replaceShaderClip=(n,r,o)=>{let i=n.Vertex,a=n.Fragment;if(e.renderable.getNumberOfClippingPlanes()){let s=e.renderable.getNumberOfClippingPlanes();s>6&&(V.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),s=6),i=ne.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,i=ne.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,a=ne.substitute(a,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,a=ne.substitute(a,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}n.Vertex=i,n.Fragment=a},t.getShaderTemplate=(n,r,o)=>{n.Vertex=Lg,n.Fragment=$u,n.Geometry=""},t.setMapperShaderParameters=(n,r,o)=>{n.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Fc("Error setting vertexMC in shader VAO.")),n.getCABO().getCustomData().forEach(f=>{f&&n.getProgram().isAttributeUsed(f.name)&&!n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),f.name,f.offset,n.getCABO().getStride(),e.context.FLOAT,f.components,e.context.FALSE)&&Fc(`Error setting ${f.name} in shader VAO.`)}),n.getAttributeUpdateTime().modified());const i=e.volumeTexture.getTextureUnit();if(n.getProgram().setUniformi("volumeTexture",i),n.getProgram().setUniformf("width",e.renderable.getWidth()),n.getProgram().setUniform4f("backgroundColor",...e.renderable.getBackgroundColor()),n.getProgram().isUniformUsed("centerlineDirection")){const f=e.renderable.getUniformDirection();n.getProgram().setUniform3fArray("centerlineDirection",f)}if(n.getProgram().isUniformUsed("globalCenterPoint")){const f=e.renderable.getCenterPoint();n.getProgram().setUniform3fArray("globalCenterPoint",f)}const a=e.currentImageDataInput,s=a.getWorldToIndex(),u=X1(new Float32Array(16),f8([],a.getDimensions())),l=u8(u,u,s);if(n.getProgram().setUniformMatrix("MCTCMatrix",l),e.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",e.renderDepth?1:0),e.renderable.getNumberOfClippingPlanes()){let f=e.renderable.getNumberOfClippingPlanes();f>6&&(V.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),f=6);const c=n.getCABO().getCoordShiftAndScaleEnabled()?n.getCABO().getInverseShiftAndScaleMatrix():null,d=c?gn(e.imagematinv,o.getMatrix()):o.getMatrix();c&&(pt(d,d),lt(d,d,c),pt(d,d)),pt(e.imagemat,e.currentImageDataInput.getIndexToWorld()),lt(e.imagematinv,d,e.imagemat);const p=[];for(let h=0;h<f;h++){const m=[];e.renderable.getClippingPlaneInDataCoords(e.imagematinv,h,m);for(let y=0;y<4;y++)p.push(m[y])}n.getProgram().setUniformi("numClipPlanes",f),n.getProgram().setUniform4fv("clipPlanes",p)}if(n.getProgram().isUniformUsed("coffset")){const f=t.getCoincidentParameters(r,o);n.getProgram().setUniformf("coffset",f.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",f.factor)}},t.setCameraShaderParameters=(n,r,o)=>{const i=e.openGLImageSlice.getKeyMatrices().mcwc,a=e.openGLCamera.getKeyMatrices(r).wcpc;if(lt(e.imagemat,a,i),n.getCABO().getCoordShiftAndScaleEnabled()){const s=n.getCABO().getInverseShiftAndScaleMatrix();lt(e.imagemat,e.imagemat,s)}n.getProgram().setUniformMatrix("MCPCMatrix",e.imagemat)},t.setPropertyShaderParameters=(n,r,o)=>{const i=n.getProgram(),a=o.getProperty(),s=a.getOpacity();i.setUniformf("opacity",s);const u=e.volumeTexture.getComponents(),l=a.getIndependentComponents();if(l)for(let p=0;p<u;++p)i.setUniformf(`mix${p}`,a.getComponentWeight(p));const f=e.volumeTexture.getVolumeInfo();for(let p=0;p<u;p++){let h=a.getColorWindow(),m=a.getColorLevel();const y=l?p:0,b=a.getRGBTransferFunction(y);if(b&&a.getUseLookupTableScalarRange()){const x=b.getRange();h=x[1]-x[0],m=.5*(x[1]+x[0])}const v=f.scale[p]/h,g=(f.offset[p]-m)/h+.5;i.setUniformf(`cshift${p}`,g),i.setUniformf(`cscale${p}`,v)}const c=e.colorTexture.getTextureUnit();i.setUniformi("colorTexture1",c);for(let p=0;p<u;p++){let h=1,m=0;const y=l?p:0,b=a.getPiecewiseFunction(y);if(b){const v=b.getRange(),g=v[1]-v[0],x=.5*(v[0]+v[1]);h=f.scale[p]/g,m=(f.offset[p]-x)/g+.5}i.setUniformf(`pwfshift${p}`,m),i.setUniformf(`pwfscale${p}`,h)}const d=e.pwfTexture.getTextureUnit();i.setUniformi("pwfTexture1",d)},t.updateShaders=(n,r,o)=>{if(t.getNeedToRebuildShaders(n,r,o)){const i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,o);const a=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),t.setMapperShaderParameters(n,r,o),t.setCameraShaderParameters(n,r,o),t.setPropertyShaderParameters(n,r,o)}}const IH={currentRenderPass:null,volumeTexture:null,volumeTextureTime:0,colorTexture:null,colorTextureString:null,pwfTexture:null,pwfTextureString:null,tris:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0,lastIndependentComponents:0,imagemat:null,imagematinv:null};function PH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,IH,n),bn.extend(t,e,n),Bo.implementReplaceShaderCoincidentOffset(t,e,n),V.algo(t,e,2,0),e.tris=Tr.newInstance(),e.volumeTexture=Xe.newInstance(),e.colorTexture=Xe.newInstance(),e.pwfTexture=Xe.newInstance(),e.imagemat=Le(new Float64Array(16)),e.imagematinv=Le(new Float64Array(16)),e.VBOBuildTime={},V.obj(e.VBOBuildTime,{mtime:0}),DH(t,e)}const OH=V.newInstance(PH,"vtkOpenGLImageCPRMapper");Jt("vtkImageCPRMapper",OH);function NH(t,e){e.classHierarchy.push("vtkOpenGLImageSlice"),t.buildPass=n=>{if(!(!e.renderable||!e.renderable.getVisibility())&&n){if(!e.renderable)return;e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes()}},t.traverseZBufferPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.traverseOpaqueZBufferPass=n=>t.traverseOpaquePass(n),t.traverseOpaquePass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||!e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.traverseTranslucentPass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e.renderable.getIsOpaque()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children.forEach(r=>{r.traverse(n)}),t.apply(n,!1))},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;e.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount()}},t.zBufferPass=(n,r)=>t.opaquePass(n,r),t.opaqueZBufferPass=(n,r)=>t.opaquePass(n,r),t.opaquePass=(n,r)=>{n&&e.context.depthMask(!0)},t.translucentPass=(n,r)=>{e.context.depthMask(!n)},t.getKeyMatrices=()=>(e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(gn(e.keyMatrices.mcwc,e.renderable.getMatrix()),pt(e.keyMatrices.mcwc,e.keyMatrices.mcwc),e.keyMatrixTime.modified()),e.keyMatrices)}const RH={context:null,keyMatrixTime:null,keyMatrices:null};function MH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,RH,n),bn.extend(t,e,n),e.keyMatrixTime={},Yt(e.keyMatrixTime,{mtime:0}),e.keyMatrices={mcwc:Le(new Float64Array(16))},en(t,e,["context"]),NH(t,e)}const kH=Ct(MH,"vtkOpenGLImageSlice");Jt("vtkImageSlice",kH);function LH(t,e){e.classHierarchy.push("vtkOpenGLVolume"),t.buildPass=n=>{!e.renderable||!e.renderable.getVisibility()||n&&(e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e.context=e._openGLRenderWindow.getContext(),t.prepareNodes(),t.addMissingNode(e.renderable.getMapper()),t.removeUnusedNodes())},t.queryPass=(n,r)=>{if(n){if(!e.renderable||!e.renderable.getVisibility())return;r.incrementVolumeCount()}},t.traverseVolumePass=n=>{!e.renderable||!e.renderable.getNestedVisibility()||e._openGLRenderer.getSelector()&&!e.renderable.getNestedPickable()||(t.apply(n,!0),e.children[0].traverse(n),t.apply(n,!1))},t.volumePass=n=>{!e.renderable||!e.renderable.getVisibility()||e.context.depthMask(!n)},t.getKeyMatrices=()=>(e.renderable.getMTime()>e.keyMatrixTime.getMTime()&&(e.renderable.computeMatrix(),gn(e.MCWCMatrix,e.renderable.getMatrix()),pt(e.MCWCMatrix,e.MCWCMatrix),e.renderable.getIsIdentity()?Wr(e.normalMatrix):(Lu(e.normalMatrix,e.MCWCMatrix),qs(e.normalMatrix,e.normalMatrix),fd(e.normalMatrix,e.normalMatrix)),e.keyMatrixTime.modified()),{mcwc:e.MCWCMatrix,normalMatrix:e.normalMatrix})}const FH={};function BH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,FH,n),bn.extend(t,e,n),e.keyMatrixTime={},Yt(e.keyMatrixTime,{mtime:0}),e.normalMatrix=new Float64Array(9),e.MCWCMatrix=new Float64Array(16),en(t,e,["context"]),LH(t,e)}const VH=Ct(BH,"vtkOpenGLVolume");Jt("vtkVolume",VH);const Sm={NEAREST:0,LINEAR:1,FAST_LINEAR:2},hS={FRACTIONAL:0,PROPORTIONAL:1};var mS={InterpolationType:Sm,OpacityMode:hS};const gS={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3,ADDITIVE_INTENSITY_BLEND:4,RADON_TRANSFORM_BLEND:5},UH={OFF:0,NORMALIZED:1,RAW:2};var GH={BlendMode:gS,FilterMode:UH},zH=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkPolyDataVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;

varying vec3 vertexVCVSOutput;
uniform mat4 PCVCMatrix;

uniform float dcxmin;
uniform float dcxmax;
uniform float dcymin;
uniform float dcymax;

void main()
{
  // dcsmall is the device coords reduced to the
  // x y area covered by the volume
  vec4 dcsmall = vec4(
    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),
    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),
    vertexDC.z,
    vertexDC.w);
  vec4 vcpos = PCVCMatrix * dcsmall;
  vertexVCVSOutput = vcpos.xyz/vcpos.w;
  gl_Position = dcsmall;
}
`,jH=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkVolumeFS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// Template for the volume mappers fragment shader

// the output of this shader
//VTK::Output::Dec

varying vec3 vertexVCVSOutput;

// first declare the settings from the mapper
// that impact the code paths in here

// always set vtkNumComponents 1,2,3,4
//VTK::NumComponents

// possibly define vtkTrilinearOn
//VTK::TrilinearOn

// possibly define vtkIndependentComponents
//VTK::IndependentComponentsOn

// possibly define any "proportional" components
//VTK::vtkProportionalComponents

// Define the blend mode to use
#define vtkBlendMode //VTK::BlendMode

// Possibly define vtkImageLabelOutlineOn
//VTK::ImageLabelOutlineOn

#ifdef vtkImageLabelOutlineOn

uniform float outlineOpacity;
uniform float vpWidth;
uniform float vpHeight;
uniform float vpOffsetX;
uniform float vpOffsetY;
uniform mat4 PCWCMatrix;
uniform mat4 vWCtoIDX;
#endif

// define vtkLightComplexity
//VTK::LightComplexity
#if vtkLightComplexity > 0
uniform float vSpecularPower;
uniform float vAmbient;
uniform float vDiffuse;
uniform float vSpecular;
//VTK::Light::Dec
#endif

//VTK::VolumeShadowOn
//VTK::SurfaceShadowOn
//VTK::localAmbientOcclusionOn
//VTK::LAO::Dec
//VTK::VolumeShadow::Dec

// define vtkComputeNormalFromOpacity
//VTK::vtkComputeNormalFromOpacity

// possibly define vtkGradientOpacityOn
//VTK::GradientOpacityOn
#ifdef vtkGradientOpacityOn
uniform float goscale0;
uniform float goshift0;
uniform float gomin0;
uniform float gomax0;
#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
uniform float goscale1;
uniform float goshift1;
uniform float gomin1;
uniform float gomax1;
#if vtkNumComponents >= 3
uniform float goscale2;
uniform float goshift2;
uniform float gomin2;
uniform float gomax2;
#endif
#if vtkNumComponents >= 4
uniform float goscale3;
uniform float goshift3;
uniform float gomin3;
uniform float gomax3;
#endif
#endif
#endif

// if you want to see the raw tiled
// data in webgl1 uncomment the following line
// #define debugtile

// camera values
uniform float camThick;
uniform float camNear;
uniform float camFar;
uniform int cameraParallel;

// values describing the volume geometry
uniform vec3 vOriginVC;
uniform vec3 vSpacing;
uniform ivec3 volumeDimensions; // 3d texture dimensions
uniform vec3 vPlaneNormal0;
uniform float vPlaneDistance0;
uniform vec3 vPlaneNormal1;
uniform float vPlaneDistance1;
uniform vec3 vPlaneNormal2;
uniform float vPlaneDistance2;
uniform vec3 vPlaneNormal3;
uniform float vPlaneDistance3;
uniform vec3 vPlaneNormal4;
uniform float vPlaneDistance4;
uniform vec3 vPlaneNormal5;
uniform float vPlaneDistance5;

//VTK::ClipPlane::Dec

// opacity and color textures
uniform sampler2D otexture;
uniform float oshift0;
uniform float oscale0;
uniform sampler2D ctexture;
uniform float cshift0;
uniform float cscale0;

// jitter texture
uniform sampler2D jtexture;
uniform sampler2D ttexture;


// some 3D texture values
uniform float sampleDistance;
uniform vec3 vVCToIJK;

// the heights defined below are the locations
// for the up to four components of the tfuns
// the tfuns have a height of 2XnumComps pixels so the
// values are computed to hit the middle of the two rows
// for that component
#ifdef vtkIndependentComponentsOn
#if vtkNumComponents == 2
uniform float mix0;
uniform float mix1;
#define height0 0.25
#define height1 0.75
#endif
#if vtkNumComponents == 3
uniform float mix0;
uniform float mix1;
uniform float mix2;
#define height0 0.17
#define height1 0.5
#define height2 0.83
#endif
#if vtkNumComponents == 4
uniform float mix0;
uniform float mix1;
uniform float mix2;
uniform float mix3;
#define height0 0.125
#define height1 0.375
#define height2 0.625
#define height3 0.875
#endif
#endif

#if vtkNumComponents >= 2
uniform float oshift1;
uniform float oscale1;
uniform float cshift1;
uniform float cscale1;
#endif
#if vtkNumComponents >= 3
uniform float oshift2;
uniform float oscale2;
uniform float cshift2;
uniform float cscale2;
#endif
#if vtkNumComponents >= 4
uniform float oshift3;
uniform float oscale3;
uniform float cshift3;
uniform float cscale3;
#endif

uniform vec4 ipScalarRangeMin;
uniform vec4 ipScalarRangeMax;

// declaration for intermixed geometry
//VTK::ZBuffer::Dec

//=======================================================================
// global and custom variables (a temporary section before photorealistics rendering module is complete)
vec3 rayDirVC;
float sampleDistanceISVS;
float sampleDistanceIS;

#define SQRT3    1.7321
#define INV4PI   0.0796
#define EPSILON  0.001
#define PI       3.1415
#define PI2      9.8696

//=======================================================================
// Webgl2 specific version of functions
#if __VERSION__ == 300

uniform highp sampler3D texture1;

vec4 getTextureValue(vec3 pos)
{
  vec4 tmp = texture(texture1, pos);
#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.a = tmp.g;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
  return tmp;
}

//=======================================================================
// WebGL1 specific version of functions
#else

uniform sampler2D texture1;

uniform float texWidth;
uniform float texHeight;
uniform int xreps;
uniform int xstride;
uniform int ystride;

// if computing trilinear values from multiple z slices
#ifdef vtkTrilinearOn
vec4 getTextureValue(vec3 ijk)
{
  float zoff = 1.0/float(volumeDimensions.z);
  vec4 val1 = getOneTextureValue(ijk);
  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));

  float indexZ = float(volumeDimensions)*ijk.z;
  float zmix =  indexZ - floor(indexZ);

  return mix(val1, val2, zmix);
}

vec4 getOneTextureValue(vec3 ijk)
#else // nearest or fast linear
vec4 getTextureValue(vec3 ijk)
#endif
{
  vec3 tdims = vec3(volumeDimensions);

#ifdef debugtile
  vec2 tpos = vec2(ijk.x, ijk.y);
  vec4 tmp = texture2D(texture1, tpos);
  tmp.a = 1.0;

#else
  int z = int(ijk.z * tdims.z);
  int yz = z / xreps;
  int xz = z - yz*xreps;

  int tileWidth = volumeDimensions.x/xstride;
  int tileHeight = volumeDimensions.y/ystride;

  xz *= tileWidth;
  yz *= tileHeight;

  float ni = float(xz) + (ijk.x*float(tileWidth));
  float nj = float(yz) + (ijk.y*float(tileHeight));

  vec2 tpos = vec2(ni/texWidth, nj/texHeight);

  vec4 tmp = texture2D(texture1, tpos);

#if vtkNumComponents == 1
  tmp.a = tmp.r;
#endif
#if vtkNumComponents == 2
  tmp.g = tmp.a;
#endif
#if vtkNumComponents == 3
  tmp.a = length(tmp.rgb);
#endif
#endif

  return tmp;
}

// End of Webgl1 specific code
//=======================================================================
#endif

//=======================================================================
// transformation between VC and IS space

// convert vector position from idx to vc
#if (vtkLightComplexity > 0) || (defined vtkClippingPlanesOn)
vec3 IStoVC(vec3 posIS){
  vec3 posVC = posIS / vVCToIJK;
  return posVC.x * vPlaneNormal0 +
         posVC.y * vPlaneNormal2 +
         posVC.z * vPlaneNormal4 +
         vOriginVC;
}

// convert vector position from vc to idx
vec3 VCtoIS(vec3 posVC){
  posVC = posVC - vOriginVC;
  posVC = vec3(
    dot(posVC, vPlaneNormal0),
    dot(posVC, vPlaneNormal2),
    dot(posVC, vPlaneNormal4));
  return posVC * vVCToIJK;
}
#endif

//Rotate vector to view coordinate
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
void rotateToViewCoord(inout vec3 dirIS){
  dirIS.xyz =
    dirIS.x * vPlaneNormal0 +
    dirIS.y * vPlaneNormal2 +
    dirIS.z * vPlaneNormal4;
}

//Rotate vector to idx coordinate
vec3 rotateToIDX(vec3 dirVC){
  vec3 dirIS;
  dirIS.xyz = vec3(
    dot(dirVC, vPlaneNormal0),
    dot(dirVC, vPlaneNormal2),
    dot(dirVC, vPlaneNormal4));
  return dirIS;
}
#endif

//=======================================================================
// Given a normal compute the gradient opacity factors
float computeGradientOpacityFactor(
  float normalMag, float goscale, float goshift, float gomin, float gomax)
{
#if defined(vtkGradientOpacityOn)
  return clamp(normalMag * goscale + goshift, gomin, gomax);
#else
  return 1.0;
#endif
}

//=======================================================================
// compute the normal and gradient magnitude for a position, uses forward difference
#if (vtkLightComplexity > 0) || (defined vtkGradientOpacityOn)
#ifdef vtkClippingPlanesOn
  void adjustClippedVoxelValues(vec3 pos, vec3 texPos[3], inout vec3 g1)
  {
    vec3 g1VC[3];
    for (int i = 0; i < 3; ++i)
    {
      g1VC[i] = IStoVC(texPos[i]);
    }
    vec3 posVC = IStoVC(pos);
    for (int i = 0; i < clip_numPlanes; ++i)
    {
      for (int j = 0; j < 3; ++j)
      {
        if(dot(vec3(vClipPlaneOrigins[i] - g1VC[j].xyz), vClipPlaneNormals[i]) > 0.0)
        {
          g1[j] = 0.0;
        }
      }
    }
  }
#endif

  #ifdef vtkComputeNormalFromOpacity
    #ifdef vtkGradientOpacityOn
      vec4 computeDensityNormal(float gradientMag, vec3 scalarInterp[2])
      {
    #else
      //if gradient opacity not on but using density gradient
      vec4 computeDensityNormal(vec3 scalarInterp[2])
      {
    #endif
        vec3 opacityG1, opacityG2;
        opacityG1.x = texture2D(otexture, vec2(scalarInterp[0].x * oscale0 + oshift0, 0.5)).r;
        opacityG1.y = texture2D(otexture, vec2(scalarInterp[0].y * oscale0 + oshift0, 0.5)).r;
        opacityG1.z = texture2D(otexture, vec2(scalarInterp[0].z * oscale0 + oshift0, 0.5)).r;
        opacityG2.x = texture2D(otexture, vec2(scalarInterp[1].x * oscale0 + oshift0, 0.5)).r;
        opacityG2.y = texture2D(otexture, vec2(scalarInterp[1].y * oscale0 + oshift0, 0.5)).r;
        opacityG2.z = texture2D(otexture, vec2(scalarInterp[1].z * oscale0 + oshift0, 0.5)).r;
    #ifdef vtkGradientOpacityOn
        float gradOpacityFactor = 1.0f;
        if (gradientMag >= 0.0){
          gradOpacityFactor = computeGradientOpacityFactor(gradientMag, goscale0, goshift0, gomin0, gomax0);
        }
        opacityG1.xyz *= gradOpacityFactor;
        opacityG2.xyz *= gradOpacityFactor;
    #endif

        vec4 opacityG = vec4(opacityG1 - opacityG2, 1.0f);
        // divide by spacing
        opacityG.xyz /= vSpacing;
        opacityG.w = length(opacityG.xyz);
        // rotate to View Coords
        rotateToViewCoord(opacityG.xyz);
        if (length(opacityG.xyz) > 0.0) {
          return vec4(normalize(opacityG.xyz),opacityG.w);
        } else {
          return vec4(0.0);
        }
      }

      vec4 computeNormalForDensity(vec3 pos, vec3 tstep, out vec3 scalarInterp[2])
      {
        vec3 xvec = vec3(tstep.x, 0.0, 0.0);
        vec3 yvec = vec3(0.0, tstep.y, 0.0);
        vec3 zvec = vec3(0.0, 0.0, tstep.z);
        vec3 texPosPVec[3];
        texPosPVec[0] = pos + xvec;
        texPosPVec[1] = pos + yvec;
        texPosPVec[2] = pos + zvec;
        vec3 texPosNVec[3];
        texPosNVec[0] = pos - xvec;
        texPosNVec[1] = pos - yvec;
        texPosNVec[2] = pos - zvec;
        vec3 g1, g2;

        scalarInterp[0].x = getTextureValue(texPosPVec[0]).a;
        scalarInterp[0].y = getTextureValue(texPosPVec[1]).a;
        scalarInterp[0].z = getTextureValue(texPosPVec[2]).a;
        scalarInterp[1].x = getTextureValue(texPosNVec[0]).a;
        scalarInterp[1].y = getTextureValue(texPosNVec[1]).a;
        scalarInterp[1].z = getTextureValue(texPosNVec[2]).a;

        #ifdef vtkClippingPlanesOn
          adjustClippedVoxelValues(pos, texPosPVec, scalarInterp[0]);
          adjustClippedVoxelValues(pos, texPosNVec, scalarInterp[1]);
        #endif
        vec4 result;
        result.x = scalarInterp[0].x - scalarInterp[1].x;
        result.y = scalarInterp[0].y - scalarInterp[1].y;
        result.z = scalarInterp[0].z - scalarInterp[1].z;
        // divide by spacing
        result.xyz /= vSpacing;
        result.w = length(result.xyz);
        // rotate to View Coords
        rotateToViewCoord(result.xyz);
        if (length(result.xyz) > 0.0) {
          return vec4(normalize(result.xyz),result.w);
        } else {
          return vec4(0.0);
        }
      }
  #endif

  vec4 computeNormal(vec3 pos, vec3 tstep)
  {
    vec3 xvec = vec3(tstep.x, 0.0, 0.0);
    vec3 yvec = vec3(0.0, tstep.y, 0.0);
    vec3 zvec = vec3(0.0, 0.0, tstep.z);
    vec3 texPosPVec[3];
    texPosPVec[0] = pos + xvec;
    texPosPVec[1] = pos + yvec;
    texPosPVec[2] = pos + zvec;
    vec3 texPosNVec[3];
    texPosNVec[0] = pos - xvec;
    texPosNVec[1] = pos - yvec;
    texPosNVec[2] = pos - zvec;
    vec3 g1, g2;
    g1.x = getTextureValue(texPosPVec[0]).a;
    g1.y = getTextureValue(texPosPVec[1]).a;
    g1.z = getTextureValue(texPosPVec[2]).a;
    g2.x = getTextureValue(texPosNVec[0]).a;
    g2.y = getTextureValue(texPosNVec[1]).a;
    g2.z = getTextureValue(texPosNVec[2]).a;
    #ifdef vtkClippingPlanesOn
      adjustClippedVoxelValues(pos, texPosPVec, g1);
      adjustClippedVoxelValues(pos, texPosNVec, g2);
    #endif
    vec4 result;
    result = vec4(g1 - g2, -1.0);
    // divide by spacing
    result.xyz /= vSpacing;
    result.w = length(result.xyz);
    if (result.w > 0.0){
      // rotate to View Coords
      rotateToViewCoord(result.xyz);
      return vec4(normalize(result.xyz),result.w);
    } else {
      return vec4(0.0);
    }
  }
#endif

#ifdef vtkImageLabelOutlineOn
vec3 fragCoordToIndexSpace(vec4 fragCoord) {
  vec4 pcPos = vec4(
    (fragCoord.x / vpWidth - vpOffsetX - 0.5) * 2.0,
    (fragCoord.y / vpHeight - vpOffsetY - 0.5) * 2.0,
    (fragCoord.z - 0.5) * 2.0,
    1.0);

  vec4 worldCoord = PCWCMatrix * pcPos;
  vec4 vertex = (worldCoord/worldCoord.w);

  vec3 index = (vWCtoIDX * vertex).xyz;

  // half voxel fix for labelmapOutline
  return (index + vec3(0.5)) / vec3(volumeDimensions);
}
#endif

//=======================================================================
// compute the normals and gradient magnitudes for a position
// for independent components
mat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)
{
  mat4 result;
  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;
  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;
  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;

  // divide by spacing
  distX /= vSpacing.x;
  distY /= vSpacing.y;
  distZ /= vSpacing.z;

  mat3 rot;
  rot[0] = vPlaneNormal0;
  rot[1] = vPlaneNormal2;
  rot[2] = vPlaneNormal4;

#if !defined(vtkComponent0Proportional)
  result[0].xyz = vec3(distX.r, distY.r, distZ.r);
  result[0].a = length(result[0].xyz);
  result[0].xyz *= rot;
  if (result[0].w > 0.0)
  {
    result[0].xyz /= result[0].w;
  }
#endif

// optionally compute the 2nd component
#if vtkNumComponents >= 2 && !defined(vtkComponent1Proportional)
  result[1].xyz = vec3(distX.g, distY.g, distZ.g);
  result[1].a = length(result[1].xyz);
  result[1].xyz *= rot;
  if (result[1].w > 0.0)
  {
    result[1].xyz /= result[1].w;
  }
#endif

// optionally compute the 3rd component
#if vtkNumComponents >= 3 && !defined(vtkComponent2Proportional)
  result[2].xyz = vec3(distX.b, distY.b, distZ.b);
  result[2].a = length(result[2].xyz);
  result[2].xyz *= rot;
  if (result[2].w > 0.0)
  {
    result[2].xyz /= result[2].w;
  }
#endif

// optionally compute the 4th component
#if vtkNumComponents >= 4 && !defined(vtkComponent3Proportional)
  result[3].xyz = vec3(distX.a, distY.a, distZ.a);
  result[3].a = length(result[3].xyz);
  result[3].xyz *= rot;
  if (result[3].w > 0.0)
  {
    result[3].xyz /= result[3].w;
  }
#endif

  return result;
}

//=======================================================================
// global shadow - secondary ray
#if defined(VolumeShadowOn) || defined(localAmbientOcclusionOn)
float random()
{
  float rand = fract(sin(dot(gl_FragCoord.xy,vec2(12.9898,78.233)))*43758.5453123);
  float jitter=texture2D(jtexture,gl_FragCoord.xy/32.).r;
  uint pcg_state = floatBitsToUint(jitter);
  uint state = pcg_state;
  pcg_state = pcg_state * uint(747796405) + uint(2891336453);
  uint word = ((state >> ((state >> uint(28)) + uint(4))) ^ state) * uint(277803737);
  return (float((((word >> uint(22)) ^ word) >> 1 ))/float(2147483647) + rand)/2.0;
}
#endif

#ifdef VolumeShadowOn
// henyey greenstein phase function
float phase_function(float cos_angle)
{
  // divide by 2.0 instead of 4pi to increase intensity
  return ((1.0-anisotropy2)/pow(1.0+anisotropy2-2.0*anisotropy*cos_angle, 1.5))/2.0;
}

// Computes the intersection between a ray and a box
struct Hit
{
  float tmin;
  float tmax;
};

struct Ray
{
  vec3 origin;
  vec3 dir;
  vec3 invDir;
};

bool BBoxIntersect(vec3 boundMin, vec3 boundMax, const Ray r, out Hit hit)
{
  vec3 tbot = r.invDir * (boundMin - r.origin);
  vec3 ttop = r.invDir * (boundMax - r.origin);
  vec3 tmin = min(ttop, tbot);
  vec3 tmax = max(ttop, tbot);
  vec2 t = max(tmin.xx, tmin.yz);
  float t0 = max(t.x, t.y);
  t = min(tmax.xx, tmax.yz);
  float t1 = min(t.x, t.y);
  hit.tmin = t0;
  hit.tmax = t1;
  return t1 > max(t0,0.0);
}

// As BBoxIntersect requires the inverse of the ray coords,
// this function is used to avoid numerical issues
void safe_0_vector(inout Ray ray)
{
  if(abs(ray.dir.x) < EPSILON) ray.dir.x = sign(ray.dir.x) * EPSILON;
  if(abs(ray.dir.y) < EPSILON) ray.dir.y = sign(ray.dir.y) * EPSILON;
  if(abs(ray.dir.z) < EPSILON) ray.dir.z = sign(ray.dir.z) * EPSILON;
}

float volume_shadow(vec3 posIS, vec3 lightDirNormIS)
{
  float shadow = 1.0;
  float opacity = 0.0;

  // modify sample distance with a random number between 1.5 and 3.0
  float sampleDistanceISVS_jitter = sampleDistanceISVS * mix(1.5, 3.0, random());
  float opacityPrev = texture2D(otexture, vec2(getTextureValue(posIS).r * oscale0 + oshift0, 0.5)).r;

  // in case the first sample near surface has a very tiled light ray, we need to offset start position
  posIS += sampleDistanceISVS_jitter * lightDirNormIS;

  // compute the start and end points for the ray
  Ray ray;
  Hit hit;
  ray.origin = posIS;
  ray.dir = lightDirNormIS;
  safe_0_vector(ray);
  ray.invDir = 1.0/ray.dir;

  if(!BBoxIntersect(vec3(0.0),vec3(1.0), ray, hit))
  {
    return 1.0;
  }
  float maxdist = hit.tmax;

  // interpolate shadow ray length between: 1 unit of sample distance in IS to SQRT3, based on globalIlluminationReach
  float maxgi = mix(sampleDistanceISVS_jitter,SQRT3,giReach);
  maxdist = min(maxdist,maxgi);
  if(maxdist < EPSILON) {
    return 1.0;
  }

  // support gradient opacity
  #ifdef vtkGradientOpacityOn
    vec4 normal;
  #endif

  float current_dist = 0.0;
  float current_step = length(sampleDistanceISVS_jitter * lightDirNormIS);
  float clamped_step = 0.0;

  vec4 scalar = vec4(0.0);
  while(current_dist < maxdist)
  {
#ifdef vtkClippingPlanesOn
    vec3 posVC = IStoVC(posIS);
    for (int i = 0; i < clip_numPlanes; ++i)
    {
      if (dot(vec3(vClipPlaneOrigins[i] - posVC), vClipPlaneNormals[i]) > 0.0)
      {
        current_dist = maxdist;
      }
    }
#endif
    scalar = getTextureValue(posIS);
    opacity = texture2D(otexture, vec2(scalar.r * oscale0 + oshift0, 0.5)).r;
    #ifdef vtkGradientOpacityOn
      normal = computeNormal(posIS, vec3(1.0/vec3(volumeDimensions)));
      opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);
    #endif
    shadow *= 1.0 - opacity;

    // optimization: early termination
    if (shadow < EPSILON){
      return 0.0;
    }

    clamped_step = min(maxdist - current_dist, current_step);
    posIS += clamped_step * lightDirNormIS;
    current_dist += current_step;
  }

  return shadow;
}

vec3 applyShadowRay(vec3 tColor, vec3 posIS, vec3 viewDirectionVC)
{
  vec3 vertLight = vec3(0.0);
  vec3 secondary_contrib = vec3(0.0);
  // here we assume only positional light, no effect of cones
  for (int i = 0; i < lightNum; i++)
  {
    #if(vtkLightComplexity==3)
      if (lightPositional[i] == 1){
        vertLight = lightPositionVC[i] - IStoVC(posIS);
      }else{
        vertLight = - lightDirectionVC[i];
      }
    #else
      vertLight = - lightDirectionVC[i];
    #endif
    // here we assume achromatic light, only intensity
    float dDotL = dot(viewDirectionVC, normalize(vertLight));
    // isotropic scatter returns 0.5 instead of 1/4pi to increase intensity
    float phase_attenuation = 0.5;
    if (abs(anisotropy) > EPSILON){
      phase_attenuation = phase_function(dDotL);
    }
    float vol_shadow = volume_shadow(posIS, normalize(rotateToIDX(vertLight)));
    secondary_contrib += tColor * vDiffuse * lightColor[i] * vol_shadow * phase_attenuation;
    secondary_contrib += tColor * vAmbient;
  }
  return secondary_contrib;
}
#endif

//=======================================================================
// local ambient occlusion
#ifdef localAmbientOcclusionOn
vec3 sample_direction_uniform(int i)
{
  float rand = random() * 0.5;
  float theta = PI2 * (kernelSample[i][0] + rand);
  float phi = acos(2.0 * (kernelSample[i][1] + rand) -1.0) / 2.5;
  return normalize(vec3(cos(theta)*sin(phi), sin(theta)*sin(phi), cos(phi)));
}

// return a matrix that transform startDir into z axis; startDir should be normalized
mat3 zBaseRotationalMatrix(vec3 startDir){
  vec3 axis = cross(startDir, vec3(0.0,0.0,1.0));
  float cosA = startDir.z;
  float k = 1.0 / (1.0 + cosA);
  mat3 matrix = mat3((axis.x * axis.x * k) + cosA, (axis.y * axis.x * k) - axis.z, (axis.z * axis.x * k) + axis.y,
              (axis.x * axis.y * k) + axis.z, (axis.y * axis.y * k) + cosA, (axis.z * axis.y * k) - axis.x,
              (axis.x * axis.z * k) - axis.y, (axis.y * axis.z * k) + axis.x, (axis.z * axis.z * k) + cosA);
  return matrix;
}

float computeLAO(vec3 posIS, float op, vec3 lightDir, vec4 normal){
  // apply LAO only at selected locations, otherwise return full brightness
  if (normal.w > 0.0 && op > 0.05){
    float total_transmittance = 0.0;
    mat3 inverseRotateBasis = inverse(zBaseRotationalMatrix(normalize(-normal.xyz)));
    vec3 currPos, randomDirStep;
    float weight, transmittance, opacity;
    for (int i = 0; i < kernelSize; i++)
    {
      randomDirStep = inverseRotateBasis * sample_direction_uniform(i) * sampleDistanceIS;
      weight = 1.0 - dot(normalize(lightDir), normalize(randomDirStep));
      currPos = posIS;
      transmittance = 1.0;
      for (int j = 0; j < kernelRadius ; j++){
        currPos += randomDirStep;
        // check if it's at clipping plane, if so return full brightness
        if (all(greaterThan(currPos, vec3(EPSILON))) && all(lessThan(currPos,vec3(1.0-EPSILON)))){
          opacity = texture2D(otexture, vec2(getTextureValue(currPos).r * oscale0 + oshift0, 0.5)).r;
          #ifdef vtkGradientOpacityOn
             opacity *= computeGradientOpacityFactor(normal.w, goscale0, goshift0, gomin0, gomax0);
          #endif
          transmittance *= 1.0 - opacity;
        }
        else{
          break;
        }
      }
      total_transmittance += transmittance / float(kernelRadius) * weight;

      // early termination if fully translucent
      if (total_transmittance > 1.0 - EPSILON){
        return 1.0;
      }
    }
    // average transmittance and reduce variance
    return clamp(total_transmittance / float(kernelSize), 0.3, 1.0);
  } else {
    return 1.0;
  }
}
#endif

//=======================================================================
// surface light contribution
#if vtkLightComplexity > 0
  void applyLighting(inout vec3 tColor, vec4 normal)
  {
    vec3 diffuse = vec3(0.0, 0.0, 0.0);
    vec3 specular = vec3(0.0, 0.0, 0.0);
    float df, sf = 0.0;
    for (int i = 0; i < lightNum; i++){
        df = abs(dot(normal.rgb, -lightDirectionVC[i]));
        diffuse += df * lightColor[i];
        sf = pow( abs(dot(lightHalfAngleVC[i],normal.rgb)), vSpecularPower);
        specular += sf * lightColor[i];
    }
    tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;
  }
  #ifdef SurfaceShadowOn
  #if vtkLightComplexity < 3
    vec3 applyLightingDirectional(vec3 posIS, vec4 tColor, vec4 normal)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      #ifdef localAmbientOcclusionOn
        vec3 ambient = vec3(0.0);
      #endif
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float ndotL,vdotR;
        vertLightDirection = lightDirectionVC[i];
        ndotL = dot(normal.xyz, vertLightDirection);
        if (ndotL < 0.0 && twoSidedLighting)
        {
          ndotL = -ndotL;
        }
        if (ndotL > 0.0)
        {
          diffuse += ndotL * lightColor[i];
          //specular
          vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
          if (vdotR > 0.0)
          {
            specular += pow(vdotR, vSpecularPower) * lightColor[i];
          }
        }
        #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
        #endif
      }
      #ifdef localAmbientOcclusionOn
        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;
      #else
        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
      #endif
    }
  #else
    vec3 applyLightingPositional(vec3 posIS, vec4 tColor, vec4 normal, vec3 posVC)
    {
      // everything in VC
      vec3 diffuse = vec3(0.0);
      vec3 specular = vec3(0.0);
      #ifdef localAmbientOcclusionOn
        vec3 ambient = vec3(0.0);
      #endif
      vec3 vertLightDirection;
      for (int i = 0; i < lightNum; i++){
        float distance,attenuation,ndotL,vdotR;
        vec3 lightDir;
        if (lightPositional[i] == 1){
          lightDir = lightDirectionVC[i];
          vertLightDirection = posVC - lightPositionVC[i];
          distance = length(vertLightDirection);
          vertLightDirection = normalize(vertLightDirection);
          attenuation = 1.0 / (lightAttenuation[i].x
                              + lightAttenuation[i].y * distance
                              + lightAttenuation[i].z * distance * distance);
          // per OpenGL standard cone angle is 90 or less for a spot light
          if (lightConeAngle[i] <= 90.0){
            float coneDot = dot(vertLightDirection, lightDir);
            if (coneDot >= cos(radians(lightConeAngle[i]))){  // if inside cone
              attenuation = attenuation * pow(coneDot, lightExponent[i]);
            }
            else {
              attenuation = 0.0;
            }
          }
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * attenuation * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * attenuation * lightColor[i];
            }
          }
          #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
          #endif
        } else {
          vertLightDirection = lightDirectionVC[i];
          ndotL = dot(normal.xyz, vertLightDirection);
          if (ndotL < 0.0 && twoSidedLighting)
          {
            ndotL = -ndotL;
          }
          if (ndotL > 0.0)
          {
            diffuse += ndotL * lightColor[i];
            //specular
            vdotR = dot(-rayDirVC, normalize(2.0 * ndotL * -normal.xyz + vertLightDirection));
            if (vdotR > 0.0)
            {
              specular += pow(vdotR, vSpecularPower) * lightColor[i];
            }
          }
          #ifdef localAmbientOcclusionOn
            ambient += computeLAO(posIS, tColor.a, vertLightDirection, normal);
          #endif
        }
      }
      #ifdef localAmbientOcclusionOn
        return tColor.rgb * (diffuse * vDiffuse + vAmbient * ambient) + specular*vSpecular;
      #else
        return tColor.rgb * (diffuse * vDiffuse + vAmbient) + specular*vSpecular;
      #endif
    }
  #endif
  #endif
#endif

//=======================================================================
// Given a texture value compute the color and opacity
//
vec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)
{
#ifdef vtkImageLabelOutlineOn
  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space
  vec4 centerValue = getTextureValue(centerPosIS);
  bool pixelOnBorder = false;
  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));

  // Get alpha of segment from opacity function.
  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;

  int segmentIndex = int(centerValue.r * 255.0);
  
  // Use texture sampling for outlineThickness
  float textureCoordinate = float(segmentIndex - 1) / 1024.0;
  float textureValue = texture2D(ttexture, vec2(textureCoordinate, 0.5)).r;

  int actualThickness = int(textureValue * 255.0);

  if (actualThickness == 0) {
    return vec4(0, 0, 1, 1);
  }

  // Only perform outline check on fragments rendering voxels that aren't invisible.
  // Saves a bunch of needless checks on the background.
  // TODO define epsilon when building shader?
  if (float(tColor.a) > 0.01) {
    for (int i = -actualThickness; i <= actualThickness; i++) {
      for (int j = -actualThickness; j <= actualThickness; j++) {
        if (i == 0 || j == 0) {
          continue;
        }

        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),
          gl_FragCoord.y + float(j),
          gl_FragCoord.z, gl_FragCoord.w);

        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);
        vec4 value = getTextureValue(neighborPosIS);

        // If any of my neighbours are not the same value as I
        // am, this means I am on the border of the segment.
        // We can break the loops
        if (any(notEqual(value, centerValue))) {
          pixelOnBorder = true;
          break;
        }
      }

      if (pixelOnBorder == true) {
        break;
      }
    }

    // If I am on the border, I am displayed at full opacity
    if (pixelOnBorder == true) {
      tColor.a = outlineOpacity;
    }
  }

#else
  // compute the normal and gradient magnitude if needed
  // We compute it as a vec4 if possible otherwise a mat4
  //
  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);

  // compute the normal vectors as needed
  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);
      #if !defined(vtkComponent0Proportional)
        vec4 normal0 = normalMat[0];
      #endif
      #if !defined(vtkComponent1Proportional)
        vec4 normal1 = normalMat[1];
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          vec4 normal2 = normalMat[2];
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            vec4 normal3 = normalMat[3];
          #endif
        #endif
      #endif
    #else
      vec4 normalLight;
      #ifdef vtkComputeNormalFromOpacity
        vec3 scalarInterp[2];
        vec4 normal0 = computeNormalForDensity(posIS, tstep, scalarInterp);
        if (length(normal0)>0.0){
          #ifdef vtkGradientOpacityOn
            normalLight = computeDensityNormal(normal0.w, scalarInterp);
          #else
            normalLight = computeDensityNormal(scalarInterp);
          #endif
          if (length(normalLight) == 0.0){
            normalLight = normal0;
          }
        }
      #else
        vec4 normal0 = computeNormal(posIS, tstep);
        normalLight = normal0;
      #endif
    #endif
  #endif

  // compute gradient opacity factors as needed
  #if defined(vtkGradientOpacityOn)
    #if !defined(vtkComponent0Proportional)
      goFactor.x =
        computeGradientOpacityFactor(normal0.a, goscale0, goshift0, gomin0, gomax0);
    #endif
    #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)
      #if !defined(vtkComponent1Proportional)
        goFactor.y =
          computeGradientOpacityFactor(normal1.a, goscale1, goshift1, gomin1, gomax1);
      #endif
      #if vtkNumComponents > 2
        #if !defined(vtkComponent2Proportional)
          goFactor.z =
            computeGradientOpacityFactor(normal2.a, goscale2, goshift2, gomin2, gomax2);
        #endif
        #if vtkNumComponents > 3
          #if !defined(vtkComponent3Proportional)
            goFactor.w =
              computeGradientOpacityFactor(normal3.a, goscale3, goshift3, gomin3, gomax3);
          #endif
        #endif
      #endif
    #endif
  #endif

  // single component is always independent
  #if vtkNumComponents == 1
    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
    if (tColor.a < EPSILON){
      return vec4(0.0);
    }
  #endif

  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));
    #if !defined(vtkComponent0Proportional)
      tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;
      tColor *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix0));
    #endif

    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;
    #if !defined(vtkComponent1Proportional)
      tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
    #else
      float pwfValue = texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;
      tColor1 *= pwfValue;
      tColor.a *= mix(pwfValue, 1.0, (1.0 - mix1));
    #endif

    #if vtkNumComponents >= 3
      vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;
      #if !defined(vtkComponent2Proportional)
        tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
      #else
        float pwfValue = texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;
        tColor2 *= pwfValue;
        tColor.a *= mix(pwfValue, 1.0, (1.0 - mix2));
      #endif

      #if vtkNumComponents >= 4
        vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;
        #if !defined(vtkComponent3Proportional)
          tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
        #else
          float pwfValue = texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;
          tColor3 *= pwfValue;
          tColor.a *= mix(pwfValue, 1.0, (1.0 - mix3));
        #endif
      #endif
    #endif
  #else // then not independent

  #if vtkNumComponents == 2
    float lum = tValue.r * cscale0 + cshift0;
    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;
    vec4 tColor = vec4(lum, lum, lum, alpha);
  #endif
  #if vtkNumComponents == 3
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;
  #endif
  #if vtkNumComponents == 4
    vec4 tColor;
    tColor.r = tValue.r * cscale0 + cshift0;
    tColor.g = tValue.g * cscale1 + cshift1;
    tColor.b = tValue.b * cscale2 + cshift2;
    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;
  #endif
  #endif // dependent

  // apply lighting if requested as appropriate
  #if vtkLightComplexity > 0
    #if !defined(vtkComponent0Proportional)
      #if vtkNumComponents == 1
        #ifdef SurfaceShadowOn
            #if vtkLightComplexity < 3
                vec3 tColorS = applyLightingDirectional(posIS, tColor, normalLight);
            #else
                vec3 tColorS = applyLightingPositional(posIS, tColor, normalLight, IStoVC(posIS));
            #endif
        #endif

        #ifdef VolumeShadowOn
          vec3 tColorVS = applyShadowRay(tColor.rgb, posIS, rayDirVC);
          #ifdef SurfaceShadowOn
            float vol_coef = volumetricScatteringBlending * (1.0 - tColor.a / 2.0) * (1.0 - atan(normalLight.w) * INV4PI);
            tColor.rgb = (1.0-vol_coef) * tColorS + vol_coef * tColorVS;
          #else
            tColor.rgb = tColorVS;
          #endif
        #else
            tColor.rgb = tColorS;
        #endif

      #else
        applyLighting(tColor.rgb, normal0);
      #endif
    #endif

    #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
      #if !defined(vtkComponent1Proportional)
        applyLighting(tColor1, normal1);
      #endif
    #if vtkNumComponents >= 3
      #if !defined(vtkComponent2Proportional)
        applyLighting(tColor2, normal2);
      #endif
    #if vtkNumComponents >= 4
      #if !defined(vtkComponent3Proportional)
        applyLighting(tColor3, normal3);
      #endif
    #endif
    #endif
    #endif
  #endif

// perform final independent blend as needed
#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2
  tColor.rgb += tColor1;
#if vtkNumComponents >= 3
  tColor.rgb += tColor2;
#if vtkNumComponents >= 4
  tColor.rgb += tColor3;
#endif
#endif
#endif

#endif
return tColor;
}

bool valueWithinScalarRange(vec4 val, vec4 min, vec4 max) {
  bool withinRange = false;
  #if vtkNumComponents == 1
    if (val.r >= min.r && val.r <= max.r) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents == 2
     if (val.r >= min.r && val.r <= max.r &&
        val.g >= min.g && val.g <= max.g) {
      withinRange = true;
    }
  #endif
  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 3
    if (all(greaterThanEqual(val, ipScalarRangeMin)) &&
        all(lessThanEqual(val, ipScalarRangeMax))) {
      withinRange = true;
    }
  #endif
  return withinRange;
}

//=======================================================================
// Apply the specified blend mode operation along the ray's path.
//
void applyBlend(vec3 posIS, vec3 endIS, vec3 tdims)
{
  vec3 tstep = 1.0/tdims;

  // start slightly inside and apply some jitter
  vec3 delta = endIS - posIS;
  vec3 stepIS = normalize(delta)*sampleDistanceIS;
  float raySteps = length(delta)/sampleDistanceIS;

  // avoid 0.0 jitter
  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;
  float stepsTraveled = jitter;

  // local vars for the loop
  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);
  vec4 tValue;
  vec4 tColor;

  // if we have less than one step then pick the middle point
  // as our value
  // if (raySteps <= 1.0)
  // {
  //   posIS = (posIS + endIS)*0.5;
  // }

  // Perform initial step at the volume boundary
  // compute the scalar
  tValue = getTextureValue(posIS);

  #if vtkBlendMode == 0 // COMPOSITE_BLEND
    // now map through opacity and color
    tColor = getColorForValue(tValue, posIS, tstep);

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);
      gl_FragData[0] = tColor;
      return;
    }

    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);
    color = vec4(tColor.rgb*tColor.a, tColor.a);
    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);

      float mix = (1.0 - color.a);

      // this line should not be needed but nvidia seems to not handle
      // the break correctly on windows/chrome 58 angle
      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));

      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
      stepsTraveled++;
      posIS += stepIS;
      if (color.a > 0.99) { color.a = 1.0; break; }
    }

    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)
    {
      posIS = endIS;

      // compute the scalar
      tValue = getTextureValue(posIS);

      // now map through opacity and color
      tColor = getColorForValue(tValue, posIS, tstep);
      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);

      float mix = (1.0 - color.a);
      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;
    }

    gl_FragData[0] = vec4(color.rgb/color.a, color.a);
  #endif
  #if vtkBlendMode == 1 || vtkBlendMode == 2
    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND
    // Find maximum/minimum intensity along the ray.

    // Define the operation we will use (min or max)
    #if vtkBlendMode == 1
    #define OP max
    #else
    #define OP min
    #endif

    // If the clipping range is shorter than the sample distance
    // we can skip the sampling loop along the ray.
    if (raySteps <= 1.0)
    {
      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);
      return;
    }

    vec4 value = tValue;
    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // Update the maximum value if necessary
      value = OP(tValue, value);

      // Otherwise, continue along the ray
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;
    tValue = getTextureValue(posIS);
    value = OP(tValue, value);

    // Now map through opacity and color
    gl_FragData[0] = getColorForValue(value, posIS, tstep);
  #endif
  #if vtkBlendMode == 3 || vtkBlendMode == 4 //AVERAGE_INTENSITY_BLEND || ADDITIVE_BLEND
    vec4 sum = vec4(0.);

    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;
    }

    if (raySteps <= 1.0) {
      gl_FragData[0] = getColorForValue(sum, posIS, tstep);
      return;
    }

    posIS += (jitter*stepIS);

    // Sample along the ray until MaximumSamplesValue,
    // ending slightly inside the total distance
    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      // If we have reached the last step, break
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar
      tValue = getTextureValue(posIS);

      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.
      // Notes:
      // - We are comparing all values in the texture to see if any of them
      //   are outside of the scalar range. In the future we might want to allow
      //   scalar ranges for each component.
      if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
        // Sum the values across each step in the path
        sum += tValue;
      }
      stepsTraveled++;
      posIS += stepIS;
    }

    // Perform the last step along the ray using the
    // residual distance
    posIS = endIS;

    // compute the scalar
    tValue = getTextureValue(posIS);

    // One can control the scalar range by setting the IPScalarRange to disregard scalar values, not in the range of interest, from the average computation
    if (valueWithinScalarRange(tValue, ipScalarRangeMin, ipScalarRangeMax)) {
      sum += tValue;

      stepsTraveled++;
    }

    #if vtkBlendMode == 3 // Average
      sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);
    #endif

    gl_FragData[0] = getColorForValue(sum, posIS, tstep);
  #endif
  #if vtkBlendMode == 5 // RADON
    float normalizedRayIntensity = 1.0;

    // handle very thin volumes
    if (raySteps <= 1.0)
    {
      tValue = getTextureValue(posIS);
      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;
      gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity, 0.5));
      return;
    }

    posIS += (jitter*stepIS);

    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)
    {
      if (stepsTraveled + 1.0 >= raySteps) { break; }

      // compute the scalar value
      tValue = getTextureValue(posIS);

      // Convert scalar value to normalizedRayIntensity coefficient and accumulate normalizedRayIntensity
      normalizedRayIntensity = normalizedRayIntensity - sampleDistance*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;

      posIS += stepIS;
      stepsTraveled++;
    }

    // map normalizedRayIntensity to color
    gl_FragData[0] = texture2D(ctexture, vec2(normalizedRayIntensity , 0.5));

  #endif
}

//=======================================================================
// Compute a new start and end point for a given ray based
// on the provided bounded clipping plane (aka a rectangle)
void getRayPointIntersectionBounds(
  vec3 rayPos, vec3 rayDir,
  vec3 planeDir, float planeDist,
  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,
  float vSize1, float vSize2)
{
  float result = dot(rayDir, planeDir);
  if (abs(result) < 1e-6)
  {
    return;
  }
  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;
  vec3 xposVC = rayPos + rayDir*result;
  vec3 vxpos = xposVC - vOriginVC;
  vec2 vpos = vec2(
    dot(vxpos, vPlaneX),
    dot(vxpos, vPlaneY));

  // on some apple nvidia systems this does not work
  // if (vpos.x < 0.0 || vpos.x > vSize1 ||
  //     vpos.y < 0.0 || vpos.y > vSize2)
  // even just
  // if (vpos.x < 0.0 || vpos.y < 0.0)
  // fails
  // so instead we compute a value that represents in and out
  //and then compute the return using this value
  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds
  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out

  tbounds = mix(
   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value
   tbounds, // out value
   check);  // 0 in 1 out
}

//=======================================================================
// given a
// - ray direction (rayDir)
// - starting point (vertexVCVSOutput)
// - bounding planes of the volume
// - optionally depth buffer values
// - far clipping plane
// compute the start/end distances of the ray we need to cast
vec2 computeRayDistances(vec3 rayDir, vec3 tdims)
{
  vec2 dists = vec2(100.0*camFar, -1.0);

  vec3 vSize = vSpacing*tdims;

  // all this is in View Coordinates
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,
    vSize.y, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,
    vSize.x, vSize.z);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);
  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,
    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,
    vSize.x, vSize.y);

  //VTK::ClipPlane::Impl

  // do not go behind front clipping plane
  dists.x = max(0.0,dists.x);

  // do not go PAST far clipping plane
  float farDist = -camThick/rayDir.z;
  dists.y = min(farDist,dists.y);

  // Do not go past the zbuffer value if set
  // This is used for intermixing opaque geometry
  //VTK::ZBuffer::Impl

  return dists;
}

//=======================================================================
// Compute the index space starting position (pos) and end
// position
//
void computeIndexSpaceValues(out vec3 pos, out vec3 endPos, vec3 rayDir, vec2 dists)
{
  // compute starting and ending values in volume space
  pos = vertexVCVSOutput + dists.x*rayDir;
  pos = pos - vOriginVC;
  // convert to volume basis and origin
  pos = vec3(
    dot(pos, vPlaneNormal0),
    dot(pos, vPlaneNormal2),
    dot(pos, vPlaneNormal4));

  endPos = vertexVCVSOutput + dists.y*rayDir;
  endPos = endPos - vOriginVC;
  endPos = vec3(
    dot(endPos, vPlaneNormal0),
    dot(endPos, vPlaneNormal2),
    dot(endPos, vPlaneNormal4));

  float delta = length(endPos - pos);

  pos *= vVCToIJK;
  endPos *= vVCToIJK;

  float delta2 = length(endPos - pos);
  sampleDistanceIS = sampleDistance*delta2/delta;
  #ifdef VolumeShadowOn
    sampleDistanceISVS = sampleDistanceIS * volumeShadowSamplingDistFactor;
  #endif
}

void main()
{

  if (cameraParallel == 1)
  {
    // Camera is parallel, so the rayDir is just the direction of the camera.
    rayDirVC = vec3(0.0, 0.0, -1.0);
  } else {
    // camera is at 0,0,0 so rayDir for perspective is just the vc coord
    rayDirVC = normalize(vertexVCVSOutput);
  }

  vec3 tdims = vec3(volumeDimensions);

  // compute the start and end points for the ray
  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);

  // do we need to composite? aka does the ray have any length
  // If not, bail out early
  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)
  {
    discard;
  }

  // IS = Index Space
  vec3 posIS;
  vec3 endIS;
  computeIndexSpaceValues(posIS, endIS, rayDirVC, rayStartEndDistancesVC);

  // Perform the blending operation along the ray
  applyBlend(posIS, endIS, tdims);
}
`;const{vtkWarningMacro:WH,vtkErrorMacro:Rp}=Mn;function HH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function V3(t,e,n){if(e){const r=t.getIndependentComponents();return`${e.getMTime()}-${r}-${n}`}return"0"}function $H(t,e){e.classHierarchy.push("vtkOpenGLVolumeMapper"),t.buildPass=()=>{e.zBufferTexture=null},t.zBufferPass=(n,r)=>{if(n){const o=r.getZBufferTexture();o!==e.zBufferTexture&&(e.zBufferTexture=o)}},t.opaqueZBufferPass=(n,r)=>t.zBufferPass(n,r),t.volumePass=(n,r)=>{if(n){e._openGLRenderWindow=t.getFirstAncestorOfType("vtkOpenGLRenderWindow"),e.context=e._openGLRenderWindow.getContext(),e.tris.setOpenGLRenderWindow(e._openGLRenderWindow),e.jitterTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.framebuffer.setOpenGLRenderWindow(e._openGLRenderWindow),e.scalarTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.colorTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.opacityTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.labelOutlineThicknessTexture.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLVolume=t.getFirstAncestorOfType("vtkOpenGLVolume");const o=e.openGLVolume.getRenderable();e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer");const i=e._openGLRenderer.getRenderable();e.openGLCamera=e._openGLRenderer.getViewNodeFor(i.getActiveCamera()),t.renderPiece(i,o)}},t.buildShaders=(n,r,o)=>{t.getShaderTemplate(n,r,o),t.replaceShaderValues(n,r,o)},t.getShaderTemplate=(n,r,o)=>{n.Vertex=zH,n.Fragment=jH,n.Geometry=""},t.replaceShaderValues=(n,r,o)=>{let i=n.Fragment;o.getProperty().getInterpolationType()===Sm.LINEAR&&(i=ne.substitute(i,"//VTK::TrilinearOn","#define vtkTrilinearOn").result),o.getProperty().getUseLabelOutline()===!0&&(i=ne.substitute(i,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);const a=e.scalarTexture.getComponents();i=ne.substitute(i,"//VTK::NumComponents",`#define vtkNumComponents ${a}`).result;const s=o.getProperty().getIndependentComponents();if(s){i=ne.substitute(i,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result;const d=[];for(let p=0;p<a;p++)o.getProperty().getOpacityMode(p)===hS.PROPORTIONAL&&d.push(`#define vtkComponent${p}Proportional`);d.length>0&&(i=ne.substitute(i,"//VTK::vtkProportionalComponents",d.join(`
`)).result)}const u=e.currentInput.getSpatialExtent(),l=e.currentInput.getSpacing(),f=new Float64Array(3);xt(f,(u[1]-u[0])*l[0],(u[3]-u[2])*l[1],(u[5]-u[4])*l[2]);const c=hs(f)/t.getCurrentSampleDistance(r);i=ne.substitute(i,"//VTK::MaximumSamplesValue",`${Math.ceil(c)}`).result,i=ne.substitute(i,"//VTK::LightComplexity",`#define vtkLightComplexity ${e.lastLightComplexity}`).result,e.lastLightComplexity>0&&(e.renderable.getVolumetricScatteringBlending()>0&&(i=ne.substitute(i,"//VTK::VolumeShadowOn","#define VolumeShadowOn").result),e.renderable.getVolumetricScatteringBlending()<1&&(i=ne.substitute(i,"//VTK::SurfaceShadowOn","#define SurfaceShadowOn").result),e.renderable.getLocalAmbientOcclusion()&&o.getProperty().getAmbient()>0&&(i=ne.substitute(i,"//VTK::localAmbientOcclusionOn","#define localAmbientOcclusionOn").result)),e.gopacity=o.getProperty().getUseGradientOpacity(0);for(let d=1;s&&!e.gopacity&&d<a;++d)o.getProperty().getUseGradientOpacity(d)&&(e.gopacity=!0);e.gopacity&&(i=ne.substitute(i,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),e.renderable.getComputeNormalFromOpacity()&&(i=ne.substitute(i,"//VTK::vtkComputeNormalFromOpacity","#define vtkComputeNormalFromOpacity").result),e.zBufferTexture!==null&&(i=ne.substitute(i,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpZWidth;","uniform float vpZHeight;"]).result,i=ne.substitute(i,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpZWidth, gl_FragCoord.y/vpZHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","if (cameraParallel == 0) {","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;}","else {",`zdepth = (zdepth + 1.0) * 0.5 * (camFar - camNear);}
`,"zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),i=ne.substitute(i,"//VTK::BlendMode",`${e.renderable.getBlendMode()}`).result,n.Fragment=i,t.replaceShaderLight(n,r,o),t.replaceShaderClippingPlane(n,r,o)},t.replaceShaderLight=(n,r,o)=>{if(e.lastLightComplexity===0)return;let i=n.Fragment,a=0;r.getLights().forEach(s=>{s.getSwitch()&&(a+=1)}),i=ne.substitute(i,"//VTK::Light::Dec",["uniform int lightNum;","uniform bool twoSidedLighting;",`uniform vec3 lightColor[${a}];`,`uniform vec3 lightDirectionVC[${a}]; // normalized`,`uniform vec3 lightHalfAngleVC[${a}];`,"//VTK::Light::Dec"],!1).result,e.lastLightComplexity===3&&(i=ne.substitute(i,"//VTK::Light::Dec",[`uniform vec3 lightPositionVC[${a}];`,`uniform vec3 lightAttenuation[${a}];`,`uniform float lightConeAngle[${a}];`,`uniform float lightExponent[${a}];`,`uniform int lightPositional[${a}];`],!1).result),e.renderable.getVolumetricScatteringBlending()>0&&(i=ne.substitute(i,"//VTK::VolumeShadow::Dec",["uniform float volumetricScatteringBlending;","uniform float giReach;","uniform float volumeShadowSamplingDistFactor;","uniform float anisotropy;","uniform float anisotropy2;"],!1).result),e.renderable.getLocalAmbientOcclusion()&&o.getProperty().getAmbient()>0&&(i=ne.substitute(i,"//VTK::LAO::Dec",["uniform int kernelRadius;",`uniform vec2 kernelSample[${e.renderable.getLAOKernelRadius()}];`,"uniform int kernelSize;"],!1).result),n.Fragment=i},t.replaceShaderClippingPlane=(n,r,o)=>{let i=n.Fragment;if(e.renderable.getClippingPlanes().length>0){const a=e.renderable.getClippingPlanes().length;i=ne.substitute(i,"//VTK::ClipPlane::Dec",["uniform vec3 vClipPlaneNormals[6];","uniform float vClipPlaneDistances[6];","uniform vec3 vClipPlaneOrigins[6];","uniform int clip_numPlanes;","//VTK::ClipPlane::Dec","#define vtkClippingPlanesOn"],!1).result,i=ne.substitute(i,"//VTK::ClipPlane::Impl",[`for(int i = 0; i < ${a}; i++) {`,"  float rayDirRatio = dot(rayDir, vClipPlaneNormals[i]);","  float equationResult = dot(vertexVCVSOutput, vClipPlaneNormals[i]) + vClipPlaneDistances[i];","  if (rayDirRatio == 0.0)","  {","    if (equationResult < 0.0) dists.x = dists.y;","    continue;","  }","  float result = -1.0 * equationResult / rayDirRatio;","  if (rayDirRatio < 0.0) dists.y = min(dists.y, result);","  else dists.x = max(dists.x, result);","}","//VTK::ClipPlane::Impl"],!1).result}n.Fragment=i},t.getNeedToRebuildShaders=(n,r,o)=>{var i;let a=0;o.getProperty().getShade()&&e.renderable.getBlendMode()===gS.COMPOSITE_BLEND&&(a=0,e.numberOfLights=0,r.getLights().forEach(b=>{b.getSwitch()>0&&(e.numberOfLights++,a===0&&(a=1)),a===1&&(e.numberOfLights>1||b.getIntensity()!==1||!b.lightTypeIsHeadLight())&&(a=2),a<3&&b.getPositional()&&(a=3)}));let s=!1;e.lastLightComplexity!==a&&(e.lastLightComplexity=a,s=!0);const u=e.scalarTexture.getComponents(),l=o.getProperty().getIndependentComponents();let f=!1;const c=[];if(l){for(let b=0;b<u;b++)c.push(o.getProperty().getOpacityMode(b));c.length>0&&(f=!0)}const d=e.currentInput.getSpatialExtent(),p=e.currentInput.getSpacing(),h=new Float64Array(3);xt(h,(d[1]-d[0])*p[0],(d[3]-d[2])*p[1],(d[5]-d[4])*p[2]);const m=hs(h)/t.getCurrentSampleDistance(r),y={interpolationType:o.getProperty().getInterpolationType(),useLabelOutline:o.getProperty().getUseLabelOutline(),numComp:u,usesProportionalComponents:f,iComps:l,maxSamples:m,useGradientOpacity:o.getProperty().getUseGradientOpacity(0),blendMode:e.renderable.getBlendMode(),proportionalComponents:c};return!e.previousState||e.previousState.interpolationType!==y.interpolationType||e.previousState.useLabelOutline!==y.useLabelOutline||e.previousState.numComp!==y.numComp||e.previousState.usesProportionalComponents!==y.usesProportionalComponents||e.previousState.iComps!==y.iComps||e.previousState.maxSamples!==y.maxSamples||e.previousState.useGradientOpacity!==y.useGradientOpacity||e.previousState.blendMode!==y.blendMode||!HH(e.previousState.proportionalComponents,y.proportionalComponents)?(e.previousState=q({},y),!0):((i=n.getProgram())==null?void 0:i.getHandle())===0||s||e.lastHaveSeenDepthRequest!==e.haveSeenDepthRequest||!!e.lastZBufferTexture!=!!e.zBufferTexture||n.getShaderSourceTime().getMTime()<t.getMTime()||n.getShaderSourceTime().getMTime()<e.renderable.getMTime()?(e.lastZBufferTexture=e.zBufferTexture,!0):!1},t.updateShaders=(n,r,o)=>{if(e.lastBoundBO=n,t.getNeedToRebuildShaders(n,r,o)){const i={Vertex:null,Fragment:null,Geometry:null};t.buildShaders(i,r,o);const a=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);a!==n.getProgram()&&(n.setProgram(a),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),t.setMapperShaderParameters(n,r,o),t.setCameraShaderParameters(n,r,o),t.setPropertyShaderParameters(n,r,o),t.getClippingPlaneShaderParameters(n,r,o)},t.setMapperShaderParameters=(n,r,o)=>{const i=n.getProgram();n.getCABO().getElementCount()&&(e.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(i.isAttributeUsed("vertexDC")&&(n.getVAO().addAttributeArray(i,n.getCABO(),"vertexDC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Rp("Error setting vertexDC in shader VAO.")),n.getAttributeUpdateTime().modified()),i.setUniformi("texture1",e.scalarTexture.getTextureUnit()),i.setUniformf("sampleDistance",t.getCurrentSampleDistance(r));const a=e.scalarTexture.getVolumeInfo(),s=e.renderable.getIpScalarRange(),u=[],l=[];for(let f=0;f<4;f++)u[f]=s[0]*a.dataComputedScale[f]+a.dataComputedOffset[f],l[f]=s[1]*a.dataComputedScale[f]+a.dataComputedOffset[f],u[f]=(u[f]-a.offset[f])/a.scale[f],l[f]=(l[f]-a.offset[f])/a.scale[f];if(i.setUniform4f("ipScalarRangeMin",u[0],u[1],u[2],u[3]),i.setUniform4f("ipScalarRangeMax",l[0],l[1],l[2],l[3]),e.zBufferTexture!==null){i.setUniformi("zBufferTexture",e.zBufferTexture.getTextureUnit());const f=e._useSmallViewport?[e._smallViewportWidth,e._smallViewportHeight]:e._openGLRenderWindow.getFramebufferSize();i.setUniformf("vpZWidth",f[0]),i.setUniformf("vpZHeight",f[1])}},t.setCameraShaderParameters=(n,r,o)=>{const i=e.openGLCamera.getKeyMatrices(r),a=e.openGLVolume.getKeyMatrices();lt(e.modelToView,i.wcvc,a.mcwc);const s=n.getProgram(),u=e.openGLCamera.getRenderable(),l=u.getClippingRange();s.setUniformf("camThick",l[1]-l[0]),s.setUniformf("camNear",l[0]),s.setUniformf("camFar",l[1]);const f=e.currentInput.getBounds(),c=e.currentInput.getDimensions(),d=new Float64Array(3),p=new Float64Array(3);let h=1,m=-1,y=1,b=-1;for(let P=0;P<8;++P){if(xt(d,f[P%2],f[2+Math.floor(P/2)%2],f[4+Math.floor(P/4)]),Be(d,d,e.modelToView),!u.getParallelProjection()){Gr(p,d);const k=-l[0]/d[2];Zo(d,p,k)}Be(d,d,i.vcpc),h=Math.min(d[0],h),m=Math.max(d[0],m),y=Math.min(d[1],y),b=Math.max(d[1],b)}s.setUniformf("dcxmin",h),s.setUniformf("dcxmax",m),s.setUniformf("dcymin",y),s.setUniformf("dcymax",b),s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",u.getParallelProjection());const v=e.currentInput.getSpatialExtent(),g=e.currentInput.getSpacing(),x=new Float64Array(3);xt(x,(v[1]-v[0])*g[0],(v[3]-v[2])*g[1],(v[5]-v[4])*g[2]),s.setUniform3f("vSpacing",g[0],g[1],g[2]),xt(d,v[0],v[2],v[4]),e.currentInput.indexToWorldVec3(d,d),Be(d,d,e.modelToView),s.setUniform3f("vOriginVC",d[0],d[1],d[2]);const S=e.currentInput.getIndexToWorld();lt(e.idxToView,e.modelToView,S),Ns(e.idxNormalMatrix,i.normalMatrix,a.normalMatrix),Ns(e.idxNormalMatrix,e.idxNormalMatrix,e.currentInput.getDirectionByReference());const C=hs(x)/t.getCurrentSampleDistance(r);C>e.renderable.getMaximumSamplesPerRay()&&WH(`The number of steps required ${Math.ceil(C)} is larger than the
        specified maximum number of steps ${e.renderable.getMaximumSamplesPerRay()}.
        Please either change the
        volumeMapper sampleDistance or its maximum number of samples.`);const w=new Float64Array(3);if(xt(w,1,1,1),uL(w,w,x),s.setUniform3f("vVCToIJK",w[0],w[1],w[2]),s.setUniform3i("volumeDimensions",c[0],c[1],c[2]),!e._openGLRenderWindow.getWebgl2()){const P=e.scalarTexture.getVolumeInfo();s.setUniformf("texWidth",e.scalarTexture.getWidth()),s.setUniformf("texHeight",e.scalarTexture.getHeight()),s.setUniformi("xreps",P.xreps),s.setUniformi("xstride",P.xstride),s.setUniformi("ystride",P.ystride)}const T=new Float64Array(3),_=new Float64Array(3);for(let P=0;P<6;++P){switch(P){case 1:xt(T,-1,0,0),xt(_,v[0],v[2],v[4]);break;case 2:xt(T,0,1,0),xt(_,v[1],v[3],v[5]);break;case 3:xt(T,0,-1,0),xt(_,v[0],v[2],v[4]);break;case 4:xt(T,0,0,1),xt(_,v[1],v[3],v[5]);break;case 5:xt(T,0,0,-1),xt(_,v[0],v[2],v[4]);break;case 0:default:xt(T,1,0,0),xt(_,v[1],v[3],v[5]);break}p0(T,T,e.idxNormalMatrix),Be(_,_,e.idxToView);const k=-1*su(_,T);s.setUniform3f(`vPlaneNormal${P}`,T[0],T[1],T[2]),s.setUniformf(`vPlaneDistance${P}`,k)}if(o.getProperty().getUseLabelOutline()){const P=e.currentInput.getWorldToIndex();s.setUniformMatrix("vWCtoIDX",P);const k=r.getActiveCamera(),[U,H]=k.getClippingRange(),R=k.getDistance();k.setClippingRange(R,R+.1);const B=e.openGLCamera.getKeyMatrices(r);Jn(e.projectionToWorld,B.wcpc),k.setClippingRange(U,H),e.openGLCamera.getKeyMatrices(r),s.setUniformMatrix("PCWCMatrix",e.projectionToWorld);const M=t.getRenderTargetSize();s.setUniformf("vpWidth",M[0]),s.setUniformf("vpHeight",M[1]);const z=t.getRenderTargetOffset();s.setUniformf("vpOffsetX",z[0]/M[0]),s.setUniformf("vpOffsetY",z[1]/M[1])}if(Jn(e.projectionToView,i.vcpc),s.setUniformMatrix("PCVCMatrix",e.projectionToView),e.lastLightComplexity===0)return;let A=0;const E=[],D=[],O=[];if(r.getLights().forEach(P=>{if(P.getSwitch()>0){const k=P.getColor(),U=P.getIntensity();E[0+A*3]=k[0]*U,E[1+A*3]=k[1]*U,E[2+A*3]=k[2]*U;const H=P.getDirection();xt(T,H[0],H[1],H[2]),p0(T,T,i.normalMatrix),Gr(T,T),D[0+A*3]=T[0],D[1+A*3]=T[1],D[2+A*3]=T[2],O[0+A*3]=-.5*T[0],O[1+A*3]=-.5*T[1],O[2+A*3]=-.5*(T[2]-1),A++}}),s.setUniformi("twoSidedLighting",r.getTwoSidedLighting()),s.setUniformi("lightNum",A),s.setUniform3fv("lightColor",E),s.setUniform3fv("lightDirectionVC",D),s.setUniform3fv("lightHalfAngleVC",O),e.lastLightComplexity===3){A=0;const P=[],k=[],U=[],H=[],R=[];r.getLights().forEach(B=>{if(B.getSwitch()>0){const M=B.getAttenuationValues();k[0+A*3]=M[0],k[1+A*3]=M[1],k[2+A*3]=M[2],H[A]=B.getExponent(),U[A]=B.getConeAngle(),R[A]=B.getPositional();const z=B.getTransformedPosition();Be(z,z,e.modelToView),P[0+A*3]=z[0],P[1+A*3]=z[1],P[2+A*3]=z[2],A+=1}}),s.setUniform3fv("lightPositionVC",P),s.setUniform3fv("lightAttenuation",k),s.setUniformfv("lightConeAngle",U),s.setUniformfv("lightExponent",H),s.setUniformiv("lightPositional",R)}if(e.renderable.getVolumetricScatteringBlending()>0&&(s.setUniformf("giReach",e.renderable.getGlobalIlluminationReach()),s.setUniformf("volumetricScatteringBlending",e.renderable.getVolumetricScatteringBlending()),s.setUniformf("volumeShadowSamplingDistFactor",e.renderable.getVolumeShadowSamplingDistFactor()),s.setUniformf("anisotropy",e.renderable.getAnisotropy()),s.setUniformf("anisotropy2",_e(e.renderable.getAnisotropy(),2))),e.renderable.getLocalAmbientOcclusion()&&o.getProperty().getAmbient()>0){const P=e.renderable.getLAOKernelSize();s.setUniformi("kernelSize",P);const k=[];for(let U=0;U<P;U++)k[U*2]=Math.random()*.5,k[U*2+1]=Math.random()*.5;s.setUniform2fv("kernelSample",k),s.setUniformi("kernelRadius",e.renderable.getLAOKernelRadius())}},t.setPropertyShaderParameters=(n,r,o)=>{const i=n.getProgram();i.setUniformi("ctexture",e.colorTexture.getTextureUnit()),i.setUniformi("otexture",e.opacityTexture.getTextureUnit()),i.setUniformi("jtexture",e.jitterTexture.getTextureUnit()),i.setUniformi("ttexture",e.labelOutlineThicknessTexture.getTextureUnit());const a=e.scalarTexture.getVolumeInfo(),s=o.getProperty(),u=e.scalarTexture.getComponents(),l=o.getProperty().getIndependentComponents();if(l&&u>=2)for(let f=0;f<u;f++)i.setUniformf(`mix${f}`,o.getProperty().getComponentWeight(f));for(let f=0;f<u;f++){const c=l?f:0,d=a.scale[f],p=s.getScalarOpacity(c).getRange(),h=d/(p[1]-p[0]),m=(a.offset[f]-p[0])/(p[1]-p[0]);i.setUniformf(`oshift${f}`,m),i.setUniformf(`oscale${f}`,h);const y=s.getRGBTransferFunction(c).getRange(),b=(a.offset[f]-y[0])/(y[1]-y[0]),v=d/(y[1]-y[0]);i.setUniformf(`cshift${f}`,b),i.setUniformf(`cscale${f}`,v)}if(e.gopacity)if(l)for(let f=0;f<u;++f){const c=a.scale[f];if(s.getUseGradientOpacity(f)){const d=s.getGradientOpacityMinimumOpacity(f),p=s.getGradientOpacityMaximumOpacity(f);i.setUniformf(`gomin${f}`,d),i.setUniformf(`gomax${f}`,p);const h=[s.getGradientOpacityMinimumValue(f),s.getGradientOpacityMaximumValue(f)];i.setUniformf(`goscale${f}`,c*(p-d)/(h[1]-h[0])),i.setUniformf(`goshift${f}`,-h[0]*(p-d)/(h[1]-h[0])+d)}else i.setUniformf(`gomin${f}`,1),i.setUniformf(`gomax${f}`,1),i.setUniformf(`goscale${f}`,0),i.setUniformf(`goshift${f}`,1)}else{const f=a.scale[u-1],c=s.getGradientOpacityMinimumOpacity(0),d=s.getGradientOpacityMaximumOpacity(0);i.setUniformf("gomin0",c),i.setUniformf("gomax0",d);const p=[s.getGradientOpacityMinimumValue(0),s.getGradientOpacityMaximumValue(0)];i.setUniformf("goscale0",f*(d-c)/(p[1]-p[0])),i.setUniformf("goshift0",-p[0]*(d-c)/(p[1]-p[0])+c)}if(o.getProperty().getUseLabelOutline()===!0){const f=o.getProperty().getLabelOutlineOpacity();i.setUniformf("outlineOpacity",f)}e.lastLightComplexity>0&&(i.setUniformf("vAmbient",s.getAmbient()),i.setUniformf("vDiffuse",s.getDiffuse()),i.setUniformf("vSpecular",s.getSpecular()),i.setUniformf("vSpecularPower",s.getSpecularPower()))},t.getClippingPlaneShaderParameters=(n,r,o)=>{if(e.renderable.getClippingPlanes().length>0){const i=e.openGLCamera.getKeyMatrices(r),a=[],s=[],u=[],l=e.renderable.getClippingPlanes(),f=l.length;for(let d=0;d<f;++d){const p=l[d].getNormal(),h=l[d].getOrigin();p0(p,p,i.normalMatrix),Be(h,h,i.wcvc);const m=-1*su(h,p);a.push(p[0]),a.push(p[1]),a.push(p[2]),s.push(m),u.push(h[0]),u.push(h[1]),u.push(h[2])}const c=n.getProgram();c.setUniform3fv("vClipPlaneNormals",a),c.setUniformfv("vClipPlaneDistances",s),c.setUniform3fv("vClipPlaneOrigins",u),c.setUniformi("clip_numPlanes",f)}},t.delete=Ys(()=>{e._animationRateSubscription&&(e._animationRateSubscription.unsubscribe(),e._animationRateSubscription=null)},t.delete),t.getRenderTargetSize=()=>{if(e._useSmallViewport)return[e._smallViewportWidth,e._smallViewportHeight];const{usize:n,vsize:r}=e._openGLRenderer.getTiledSizeAndOrigin();return[n,r]},t.getRenderTargetOffset=()=>{const{lowerLeftU:n,lowerLeftV:r}=e._openGLRenderer.getTiledSizeAndOrigin();return[n,r]},t.getCurrentSampleDistance=n=>{const r=n.getVTKWindow().getInteractor(),o=e.renderable.getSampleDistance();if(r.isAnimating()){const i=e.renderable.getInteractionSampleDistanceFactor();return o*i}return o},t.renderPieceStart=(n,r)=>{const o=n.getVTKWindow().getInteractor();if(e._lastScale||(e._lastScale=e.renderable.getInitialInteractionScale()),e._useSmallViewport=!1,o.isAnimating()&&e._lastScale>1.5&&(e._useSmallViewport=!0),e._animationRateSubscription||(e._animationRateSubscription=o.onAnimationFrameRateUpdate(()=>{if(e.renderable.getAutoAdjustSampleDistances()){const i=o.getRecentAnimationFrameRate(),a=o.getDesiredUpdateRate()/i;(a>1.15||a<.85)&&(e._lastScale*=a),e._lastScale>400&&(e._lastScale=400),e._lastScale<1.5&&(e._lastScale=1.5)}else e._lastScale=e.renderable.getImageSampleDistance()*e.renderable.getImageSampleDistance()})),e._useSmallViewport){const i=e._openGLRenderWindow.getFramebufferSize(),a=1/Math.sqrt(e._lastScale);if(e._smallViewportWidth=Math.ceil(a*i[0]),e._smallViewportHeight=Math.ceil(a*i[1]),e._smallViewportHeight>i[1]&&(e._smallViewportHeight=i[1]),e._smallViewportWidth>i[0]&&(e._smallViewportWidth=i[0]),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.getGLFramebuffer()===null)e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer();else{const u=e.framebuffer.getSize();(u[0]!==i[0]||u[1]!==i[1])&&(e.framebuffer.create(i[0],i[1]),e.framebuffer.populateFramebuffer())}e.framebuffer.bind();const s=e.context;s.clearColor(0,0,0,0),s.colorMask(!0,!0,!0,!0),s.clear(s.COLOR_BUFFER_BIT),s.viewport(0,0,e._smallViewportWidth,e._smallViewportHeight),e.fvp=[e._smallViewportWidth/i[0],e._smallViewportHeight/i[1]]}e.context.disable(e.context.DEPTH_TEST),t.updateBufferObjects(n,r),r.getProperty().getInterpolationType()===Sm.NEAREST?(e.scalarTexture.setMinificationFilter(Re.NEAREST),e.scalarTexture.setMagnificationFilter(Re.NEAREST)):(e.scalarTexture.setMinificationFilter(Re.LINEAR),e.scalarTexture.setMagnificationFilter(Re.LINEAR)),e.lastBoundBO=null,e.zBufferTexture!==null&&e.zBufferTexture.activate()},t.renderPieceDraw=(n,r)=>{const o=e.context;e.scalarTexture.activate(),e.opacityTexture.activate(),e.labelOutlineThicknessTexture.activate(),e.colorTexture.activate(),e.jitterTexture.activate(),t.updateShaders(e.tris,n,r),o.drawArrays(o.TRIANGLES,0,e.tris.getCABO().getElementCount()),e.tris.getVAO().release(),e.scalarTexture.deactivate(),e.colorTexture.deactivate(),e.opacityTexture.deactivate(),e.labelOutlineThicknessTexture.deactivate(),e.jitterTexture.deactivate()},t.renderPieceFinish=(n,r)=>{if(e.zBufferTexture!==null&&e.zBufferTexture.deactivate(),e._useSmallViewport){if(e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null){e.copyShader=e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join(`
`),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join(`
`),"");const s=e.copyShader;e.copyVAO=Hu.newInstance(),e.copyVAO.setOpenGLRenderWindow(e._openGLRenderWindow),e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(s,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE)||Rp("Error setting vertexDC in copy shader VAO.")}else e._openGLRenderWindow.getShaderCache().readyShaderProgram(e.copyShader);const o=e._openGLRenderWindow.getFramebufferSize();e.context.viewport(0,0,o[0],o[1]);const i=e.framebuffer.getColorTexture();i.activate(),e.copyShader.setUniformi("texture",i.getTextureUnit()),e.copyShader.setUniform2f("tfactor",e.fvp[0],e.fvp[1]);const a=e.context;a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),e.context.drawArrays(e.context.TRIANGLES,0,e.tris.getCABO().getElementCount()),i.deactivate(),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)}},t.renderPiece=(n,r)=>{if(t.invokeEvent({type:"StartEvent"}),e.renderable.update(),e.currentInput=e.renderable.getInputData(),t.invokeEvent({type:"EndEvent"}),!e.currentInput){Rp("No input!");return}t.renderPieceStart(n,r),t.renderPieceDraw(n,r),t.renderPieceFinish(n,r)},t.computeBounds=(n,r)=>{if(!t.getInput()){Js(e.Bounds);return}e.bounds=t.getInput().getBounds()},t.updateBufferObjects=(n,r)=>{t.getNeedToRebuildBufferObjects(n,r)&&t.buildBufferObjects(n,r)},t.getNeedToRebuildBufferObjects=(n,r)=>e.VBOBuildTime.getMTime()<t.getMTime()||e.VBOBuildTime.getMTime()<r.getMTime()||e.VBOBuildTime.getMTime()<e.renderable.getMTime()||e.VBOBuildTime.getMTime()<r.getProperty().getMTime()||e.VBOBuildTime.getMTime()<e.currentInput.getMTime(),t.buildBufferObjects=(n,r)=>{const o=e.currentInput;if(!o)return;const i=o.getPointData()&&o.getPointData().getScalars();if(!i)return;e._scalars!==i&&(e._openGLRenderWindow.releaseGraphicsResourcesForObject(e._scalars),e._scalars=i);const a=r.getProperty();if(!e.jitterTexture.getHandle()){const m=new Uint8Array(1024);for(let y=0;y<32*32;++y)m[y]=255*Math.random();e.jitterTexture.setMinificationFilter(Re.LINEAR),e.jitterTexture.setMagnificationFilter(Re.LINEAR),e.jitterTexture.create2DFromRaw(32,32,1,Ye.UNSIGNED_CHAR,m)}const s=i.getNumberOfComponents(),u=a.getIndependentComponents()?s:1,l=a.getScalarOpacity(),f=e._openGLRenderWindow.getGraphicsResourceForObject(l);let c=V3(a,l,u);if(!f.vtkObj||f.hash!==c||e.opacityTextureString!==c){const m=2048*u,y=new Float32Array(m),b=new Float32Array(1024);for(let v=0;v<u;++v){const g=a.getScalarOpacity(v),x=t.getCurrentSampleDistance(n)/a.getScalarOpacityUnitDistance(v),S=g.getRange();g.getTable(S[0],S[1],1024,b,1);for(let C=0;C<1024;++C)y[v*1024*2+C]=1-_e(1-b[C],x),y[v*1024*2+C+1024]=y[v*1024*2+C]}if(e.opacityTexture.releaseGraphicsResources(e._openGLRenderWindow),e.opacityTexture.resetFormatAndType(),e.opacityTexture.setMinificationFilter(Re.LINEAR),e.opacityTexture.setMagnificationFilter(Re.LINEAR),e._openGLRenderWindow.getWebgl2()||e.context.getExtension("OES_texture_float")&&e.context.getExtension("OES_texture_float_linear"))e.opacityTexture.create2DFromRaw(1024,2*u,1,Ye.FLOAT,y);else{const v=new Uint8Array(m);for(let g=0;g<m;++g)v[g]=255*y[g];e.opacityTexture.create2DFromRaw(1024,2*u,1,Ye.UNSIGNED_CHAR,v)}e.opacityTextureString=c,l&&e._openGLRenderWindow.setGraphicsResourceForObject(l,e.opacityTexture,e.opacityTextureString)}else e.opacityTexture=f.vtkObj,e.opacityTextureString=f.hash;const d=a.getRGBTransferFunction();c=V3(a,d,u);const p=e._openGLRenderWindow.getGraphicsResourceForObject(d);if(!(p!=null&&p.vtkObj)||(p==null?void 0:p.hash)!==c||e.colorTextureString!==c){const m=2048*u*3,y=new Uint8Array(m),b=new Float32Array(1024*3);for(let v=0;v<u;++v){const g=a.getRGBTransferFunction(v),x=g.getRange();g.getTable(x[0],x[1],1024,b,1);for(let S=0;S<1024*3;++S)y[v*1024*6+S]=255*b[S],y[v*1024*6+S+1024*3]=255*b[S]}e.colorTexture.releaseGraphicsResources(e._openGLRenderWindow),e.colorTexture.resetFormatAndType(),e.colorTexture.setMinificationFilter(Re.LINEAR),e.colorTexture.setMagnificationFilter(Re.LINEAR),e.colorTexture.create2DFromRaw(1024,2*u,3,Ye.UNSIGNED_CHAR,y),e.colorTextureString=c,d&&e._openGLRenderWindow.setGraphicsResourceForObject(d,e.colorTexture,e.colorTextureString)}else e.colorTexture=p.vtkObj,e.colorTextureString=p.hash;t.updateLabelOutlineThicknessTexture(r);const h=e._openGLRenderWindow.getGraphicsResourceForObject(i);if(c=`${o.getMTime()}A${i.getMTime()}`,!(h!=null&&h.vtkObj)||(h==null?void 0:h.hash)!==c||e.scalarTextureString!==c){const m=o.getDimensions();e.scalarTexture.setOglNorm16Ext(e.context.getExtension("EXT_texture_norm16")),e.scalarTexture.releaseGraphicsResources(e._openGLRenderWindow),e.scalarTexture.resetFormatAndType(),e.scalarTexture.create3DFilterableFromDataArray(m[0],m[1],m[2],i,e.renderable.getPreferSizeOverAccuracy()),e.scalarTextureString=c,i&&e._openGLRenderWindow.setGraphicsResourceForObject(i,e.scalarTexture,e.scalarTextureString)}else e.scalarTexture=h.vtkObj,e.scalarTextureString=h.hash;if(!e.tris.getCABO().getElementCount()){const m=new Float32Array(12);for(let g=0;g<4;g++)m[g*3]=g%2*2-1,m[g*3+1]=g>1?1:-1,m[g*3+2]=-1;const y=new Uint16Array(8);y[0]=3,y[1]=0,y[2]=1,y[3]=3,y[4]=3,y[5]=0,y[6]=3,y[7]=2;const b=Ce.newInstance({numberOfComponents:3,values:m});b.setName("points");const v=Ce.newInstance({numberOfComponents:1,values:y});e.tris.getCABO().createVBO(v,"polys",zr.SURFACE,{points:b,cellOffset:0})}e.VBOBuildTime.modified()},t.updateLabelOutlineThicknessTexture=n=>{const r=n.getProperty().getLabelOutlineThickness(),o=e._openGLRenderWindow.getGraphicsResourceForObject(r),i=`${r.join("-")}`;if(!(o!=null&&o.vtkObj)||(o==null?void 0:o.hash)!==i||e.labelOutlineThicknessTextureString!==i){const a=new Uint8Array(1024);for(let s=0;s<1024;++s){const u=r[s]||r[0];a[s]=u}e.labelOutlineThicknessTexture.releaseGraphicsResources(e._openGLRenderWindow),e.labelOutlineThicknessTexture.resetFormatAndType(),e.labelOutlineThicknessTexture.setMinificationFilter(Re.NEAREST),e.labelOutlineThicknessTexture.setMagnificationFilter(Re.NEAREST),e.labelOutlineThicknessTexture.create2DFromRaw(1024,1,1,Ye.UNSIGNED_CHAR,a),e.labelOutlineThicknessTextureString=i,r&&e._openGLRenderWindow.setGraphicsResourceForObject(r,e.labelOutlineThicknessTexture,e.labelOutlineThicknessTextureString)}else e.labelOutlineThicknessTexture=o.vtkObj,e.labelOutlineThicknessTextureString=o.hash}}const KH={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,labelOutlineThicknessTexture:null,labelOutlineThicknessTextureString:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,projectionToView:null,avgWindowArea:0,avgFrameTime:0,_scalars:null};function qH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KH,n),bn.extend(t,e,n),e.VBOBuildTime={},Yt(e.VBOBuildTime,{mtime:0}),e.tris=Tr.newInstance(),e.scalarTexture=Xe.newInstance(),e.opacityTexture=Xe.newInstance(),e.colorTexture=Xe.newInstance(),e.jitterTexture=Xe.newInstance(),e.jitterTexture.setWrapS(hu.REPEAT),e.jitterTexture.setWrapT(hu.REPEAT),e.labelOutlineThicknessTexture=Xe.newInstance(),e.framebuffer=Ea.newInstance(),e.idxToView=Le(new Float64Array(16)),e.idxNormalMatrix=Wr(new Float64Array(9)),e.modelToView=Le(new Float64Array(16)),e.projectionToView=Le(new Float64Array(16)),e.projectionToWorld=Le(new Float64Array(16)),en(t,e,["context"]),$H(t,e)}const XH=Ct(qH,"vtkOpenGLVolumeMapper");Jt("vtkVolumeMapper",XH);const{vtkDebugMacro:YH}=Mn;function JH(t,e){e.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),t.opaquePass=(n,r)=>{e._openGLRenderer=t.getFirstAncestorOfType("vtkOpenGLRenderer"),e._openGLRenderWindow=e._openGLRenderer.getParent();const o=e._openGLRenderer.getAspectRatio(),i=e._openGLRenderer?e._openGLRenderer.getRenderable().getActiveCamera():null,a=e._openGLRenderer.getTiledSizeAndOrigin();let s=null;if(e.renderable.getUseZValues()){const u=r.getZBufferTexture(),l=Math.floor(u.getWidth()),f=Math.floor(u.getHeight()),c=e._openGLRenderWindow.getContext();u.bind();const d=r.getFramebuffer();d?d.saveCurrentBindingsAndBuffers():YH("No framebuffer to save/restore");const p=c.createFramebuffer();c.bindFramebuffer(c.FRAMEBUFFER,p),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,u.getHandle(),0),c.checkFramebufferStatus(c.FRAMEBUFFER)===c.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(l*f*4),c.viewport(0,0,l,f),c.readPixels(0,0,l,f,c.RGBA,c.UNSIGNED_BYTE,s)),d&&d.restorePreviousBindingsAndBuffers(),c.deleteFramebuffer(p)}e.renderable.invokeCallback(e.renderable.getInputData(),i,o,a,s)},t.queryPass=(n,r)=>{n&&e.renderable.getUseZValues()&&r.requestDepth()}}const ZH={};function QH(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ZH,n),bn.extend(t,e,n),JH(t,e)}const e$=Ct(QH,"vtkOpenGLPixelSpaceCallbackMapper");Jt("vtkPixelSpaceCallbackMapper",e$);var t$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_LIC0.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

/**
This shader initializes the convolution for the LIC computation.
*/

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D texMaskVectors;
uniform sampler2D texNoise;
uniform sampler2D texLIC;

uniform int   uStepNo;         // in step 0 initialize lic and seeds, else just seeds
uniform int   uPassNo;         // in pass 1 hpf of pass 0 is convolved.
uniform float uMaskThreshold;  // if |V| < uMaskThreshold render transparent
uniform vec2  uNoiseBoundsPt1; // tc of upper right pt of noise texture

in vec2 tcoordVC;

// convert from vector coordinate space to noise coordinate space.
// the noise texture is tiled across the *whole* domain
vec2 VectorTCToNoiseTC(vec2 vectc)
{
  return vectc/uNoiseBoundsPt1;
}

// get the texture coordidnate to lookup noise value. this
// depends on the pass number.
vec2 getNoiseTC(vec2 vectc)
{
  // in pass 1 : convert from vector tc to noise tc
  // in pass 2 : use vector tc
  if (uPassNo == 0)
    {
    return VectorTCToNoiseTC(vectc);
    }
  else
    {
    return vectc;
    }
}

// look up noise value at the given location. The location
// is supplied in vector texture coordinates, hence the
// need to convert to noise texture coordinates.
float getNoise(vec2 vectc)
{
  return texture2D(texNoise, getNoiseTC(vectc)).r;
}

void main(void)
{
  vec2 vectc = tcoordVC.st;

  // lic => (convolution, mask, 0, step count)
  if (uStepNo == 0)
    {
    float maskCriteria = length(texture2D(texMaskVectors, vectc).xyz);
    float maskFlag;
    if (maskCriteria <= uMaskThreshold)
      {
      maskFlag = 1.0;
      }
    else
      {
      maskFlag = 0.0;
      }
    float noise = getNoise(vectc);
    LICOutput = vec4(noise, maskFlag, 0.0, 1.0);
    }
  else
    {
    LICOutput = texture2D(texLIC, vectc);
    }

  // initial seed
  SeedOutput = vec4(vectc, 0.0, 1.0);
}
`,n$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_fs1.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D  texVectors;
uniform sampler2D  texNoise;
uniform sampler2D  texLIC;
uniform sampler2D  texSeedPts;

uniform int   uPassNo;          // in pass 1 hpf of pass 0 is convolved.
uniform float uStepSize;        // step size in parametric space

uniform vec2  uNoiseBoundsPt1;  // tc of upper right pt of noise texture

in vec2 tcoordVC;

//VTK::LICVectorLookup::Impl

// We need to do this manually since CLAMP_TO_BORDER and and borderColor
// are very poorly supported in webgl
vec2 clampToBorder(vec2 uv){
  if(uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0)
  {
    return vec2(0.0, 0.0);
  }
  return getVector(uv);
}

// convert from vector coordinate space to noise coordinate space.
// the noise texture is tiled across the whole domain
vec2 VectorTCToNoiseTC(vec2 vectc)
{
  return vectc/uNoiseBoundsPt1;
}

// get the texture coordidnate to lookup noise value.
// in pass 1 repeatedly tile the noise texture across
// the computational domain.
vec2 getNoiseTC(vec2 tc)
{
  if (uPassNo == 0)
    {
    return VectorTCToNoiseTC(tc);
    }
  else
    {
    return tc;
    }
}

// look up noise value at the given location. The location
// is supplied in vector texture coordinates, hence the need
// to convert to either noise or lic texture coordinates in
// pass 1 and 2 respectively.
float getNoise(vec2 vectc)
{
  return texture2D(texNoise, getNoiseTC(vectc)).r;
}

// fourth-order Runge-Kutta streamline integration
// no bounds checks are made, therefore it's essential
// to have the entire texture initialized to 0
// and set clamp to border and have border color 0
// an integer is set if the step was taken, keeping
// an accurate step count is necessary to prevent
// boundary artifacts. Don't count the step if
// all vector lookups are identically 0. This is
// a proxy for "stepped outside valid domain"
vec2 rk4(vec2 pt0, float dt, out bool count)
{
  count=true;
  float dtHalf = dt * 0.5;
  vec2 pt1;

  vec2 v0 = clampToBorder(pt0);
  pt1 = pt0 + v0 * dtHalf;

  vec2 v1 = clampToBorder(pt1);
  pt1 = pt0 + v1 * dtHalf;

  vec2 v2 = clampToBorder(pt1);
  pt1 = pt0 + v2 * dt;

  vec2 v3 = clampToBorder(pt1);
  vec2 vSum = v0 + v1 + v1 + v2 + v2 + v3;

  if (vSum == vec2(0.0, 0.0))
    {
      count = false;
    }

  pt1 = pt0 + (vSum) * (dt * (1.0/6.0));

 return pt1;
}

void main(void)
{
  vec2 lictc = tcoordVC.st;
  vec4 lic = texture2D(texLIC, lictc);
  vec2 pt0 = texture2D(texSeedPts, lictc).st;

  bool count;
  vec2 pt1 = rk4(pt0, uStepSize, count);

  if (count)
    {
    // accumulate lic step
    // (lic, mask, 0, step count)
    float noise = getNoise(pt1);
    LICOutput = vec4(lic.r + noise, lic.g, 0.0, lic.a + 1.0);
    SeedOutput = vec4(pt1, 0.0, 1.0);
    }
  else
    {
    // keep existing values
    LICOutput = lic;
    SeedOutput = vec4(pt0, 0.0, 1.0);
    }
}
`,r$=` //VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_LICN.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

/**
This shader finalizes the convolution for the LIC computation
applying the normalization. eg. if box kernel is used the this
is the number of steps taken.
*/

uniform sampler2D texLIC;

in vec2 tcoordVC;

void main(void)
{
  vec4 conv = texture2D(texLIC, tcoordVC.st);
  conv.r = conv.r/conv.a;
  // lic => (convolution, mask, 0, 1)
  LICOutput = vec4(conv.rg , 0.0, 1.0);
  SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,o$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_CE.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// gray scale contrast enhance stage implemented via histogram stretching
// if the min and max are tweaked it can generate out-of-range values
// these will be clamped in 0 to 1

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;


uniform sampler2D texLIC;  // most recent lic pass
uniform float uMin;        // min gray scale color value
uniform float uMaxMinDiff; // max-min

in vec2 tcoordVC;

void main( void )
{
  vec4 lic = texture2D(texLIC, tcoordVC.st);
  if (lic.g!=0.0)
    {
    LICOutput = lic;
    }
  else
    {
    float CElic = clamp((lic.r - uMin)/uMaxMinDiff, 0.0, 1.0);
    LICOutput = vec4(CElic, lic.gb, 1.0);
    }
    SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,i$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_fs2.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// high-pass filter stage employed by vtkLineIntegralConvolution2D
// between LIC pass 1 and LIC pass 2. filtered LIC pass 1, becomes
// noise for pass2.

// the output of this shader
layout(location = 0) out vec4 EEOutput;

uniform sampler2D texLIC; // most recent lic pass
uniform float     uDx;    // fragment size
uniform float     uDy;    // fragment size

in vec2 tcoordVC;

// kernel for simple laplace edge enhancement.
// p=Laplace(p)+p
float K[9] = float[9](
  -1.0, -1.0, -1.0,
  -1.0,  9.0, -1.0,
  -1.0, -1.0, -1.0
  );

// determine if the fragment was masked
bool Masked(float val) { return val != 0.0; }

void main(void)
{
  // tex coord neighbor offsets
  vec2 fragDx[9] = vec2[9](
    vec2(-uDx, uDy), vec2(0.0, uDy), vec2(uDx, uDy),
    vec2(-uDx, 0.0), vec2(0.0, 0.0), vec2(uDx, 0.0),
    vec2(-uDx,-uDy), vec2(0.0,-uDy), vec2(uDx,-uDy)
    );

  vec2 lictc = tcoordVC.st;

  // compute the convolution but don't use convovled values if
  // any masked fragments on the stencil. Fragments outside
  // the valid domain are masked during initialization, and
  // texture wrap parameters are clamp to border with border
  // color that contains masked flag
  float conv = 0.0;
  bool dontUse = false;
  for (int i=0; i<9; ++i)
    {
    vec2 tc = lictc + fragDx[i];
    vec4 lic = texture2D(texLIC, tc);
    dontUse = dontUse || Masked(lic.g);
    conv = conv + K[i] * lic.r;
    }

  if (dontUse)
    {
    EEOutput = vec4(texture2D(texLIC, lictc).rg, 0.0, 1.0);
    }
  else
    {
    conv = clamp(conv, 0.0, 1.0);
    EEOutput = vec4(conv,texture2D(texLIC, lictc).g, 0.0, 1.0);
    }

}
`,a$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_AAH.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// Anti-alias stage in vtkLineIntegralConvolution2D
// horizontal pass of a Gaussian convolution

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D texLIC; // input texture
uniform float     uDx;    // fragment size

in vec2 tcoordVC;

// factored 3x3 Gaussian kernel
// K^T*K = G
float K[3] = float[3](0.141421356, 0.707106781, 0.141421356);

// determine if the fragment was masked
bool Masked(float val){ return val != 0.0; }

void main(void)
{
// neighbor offsets
vec2 fragDx[3] = vec2[3](vec2(-uDx,0.0), vec2(0.0,0.0), vec2(uDx,0.0));

  vec2 lictc = tcoordVC.st;
  vec4 lic[3];
  bool dontUse = false;
  float conv = 0.0;
  for (int i=0; i<3; ++i)
    {
    vec2 tc = lictc + fragDx[i];
    lic[i] = texture2D(texLIC, tc);
    dontUse = dontUse || Masked(lic[i].g);
    conv = conv + K[i] * lic[i].r;
    }
  // output is (conv, mask, skip, 1)
  if (dontUse)
    {
    LICOutput = vec4(lic[1].rg, 1.0, 1.0);
    }
  else
    {
    LICOutput = vec4(conv, lic[1].gb, 1.0);
    }
  SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,s$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_VT.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// move vector field to normalized image space
// pre-processing for vtkLineIntegralConvolution2D

// the output of this shader
//VTK::Output::Dec

// Fragment shader used by the gaussian blur filter render pass.

uniform sampler2D texVectors; // input texture
uniform vec2      uTexSize;   // size of texture

in vec2 tcoordVC;

void main(void)
{
  //VTK::LICComponentSelection::Impl
  V = V/uTexSize;
  gl_FragData[0] = vec4(V, 0.0, 1.0);
}
`,l$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkLineIntegralConvolution2D_AAV.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// Anti-alias stage in vtkLineIntegralConvolution2D
// vertical pass of a Gaussian convolution

// the output of this shader
layout(location = 0) out vec4 LICOutput;
layout(location = 1) out vec4 SeedOutput;

uniform sampler2D texLIC; // input texture
uniform float     uDy;    // fragment size

in vec2 tcoordVC;


// factored 3x3 Gaussian kernel
// K^T*K = G
float K[3] = float[3](0.141421356, 0.707106781, 0.141421356);

// determine if the fragment was masked
bool Masked(float val){ return val != 0.0; }

void main(void)
{
// neighbor offsets
vec2 fragDy[3] = vec2[3](vec2(0.0,-uDy), vec2(0.0,0.0), vec2(0.0,uDy));


  vec2 lictc = tcoordVC.st;
  vec4 lic[3];
  bool dontUse = false;
  float conv = 0.0;
  for (int i=0; i<3; ++i)
    {
    vec2 tc = lictc + fragDy[i];
    lic[i] = texture2D(texLIC, tc);
    dontUse = dontUse || Masked(lic[i].g);
    conv = conv + K[i] * lic[i].r;
    }
  // output is (conv, mask, skip, 1)
  if (dontUse)
    {
    LICOutput = vec4(lic[1].rg, 1.0, 1.0);
    }
  else
    {
    LICOutput = vec4(conv, lic[1].gb, 1.0);
    }
  SeedOutput = vec4(0.0, 0.0, 0.0, 0.0);
}
`,vS=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtktextureObjectVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/

attribute vec4 vertexDC;
attribute vec2 tcoordDC;
varying vec2 tcoordVC;

void main()
{
  tcoordVC = tcoordDC;
  gl_Position = vertexDC;
}
`;const{Representation:u$}=Ma;function c$(t){const e=Tr.newInstance();e.setOpenGLRenderWindow(t);const n=new Float32Array(12);for(let u=0;u<4;u++)n[u*3]=u%2*2-1,n[u*3+1]=u>1?1:-1,n[u*3+2]=0;const r=new Float32Array([0,0,1,0,0,1,1,1]),o=new Uint16Array(8);o[0]=3,o[1]=0,o[2]=1,o[3]=3,o[4]=3,o[5]=0,o[6]=3,o[7]=2;const i=Ce.newInstance({numberOfComponents:3,values:n});i.setName("points");const a=Ce.newInstance({numberOfComponents:1,values:o}),s=Ce.newInstance({numberOfComponents:2,values:r});return e.getCABO().createVBO(a,"polys",u$.SURFACE,{points:i,cellOffset:0,tcoords:s}),e}function Vg(t,e,n,r){let[o,i]=e;const a=t.getContext(),s=Xe.newInstance({autoParameters:!1,wrapS:r,wrapT:r,minificationFilter:n,magnificationFilter:n,generateMipmap:!1,openGLDataType:a.FLOAT,baseLevel:0,maxLevel:0});return s.setOpenGLRenderWindow(t),s.setInternalFormat(a.RGBA32F),s.create2DFromRaw(o,i,4,"Float32Array",null),s.activate(),s.sendParameters(),s.deactivate(),s}function Bc(t,e){return Vg(t,e,Xe.Filter.NEAREST,Xe.Wrap.CLAMP_TO_EDGE)}function f$(t,e){return Vg(t,e,Xe.Filter.NEAREST,Xe.Wrap.CLAMP_TO_EDGE)}function d$(t,e){return Vg(t,e,Xe.Filter.LINEAR,Xe.Wrap.CLAMP_TO_EDGE)}function p$(t,e){if(e.classHierarchy.push("vtkLICPingPongBufferManager"),!e._openGLRenderWindow){console.error("Pass renderwindow to ping pong manager");return}e.quad=c$(e._openGLRenderWindow),e.context=e._openGLRenderWindow.getContext(),e.licTexture0=Bc(e._openGLRenderWindow,e.size),e.seedTexture0=Bc(e._openGLRenderWindow,e.size),e.licTexture1=Bc(e._openGLRenderWindow,e.size),e.seedTexture1=Bc(e._openGLRenderWindow,e.size),e.eeTexture=e.doEEPass?f$(e._openGLRenderWindow,e.size):null,e.imageVectorTexture=e.doVTPass?d$(e._openGLRenderWindow,e.size):null,e.pingTextures[0]=e.licTexture0,e.pingTextures[1]=e.seedTexture0,e.pongTextures[0]=e.licTexture1,e.pongTextures[1]=e.seedTexture1,e.textures[0]=e.pingTextures,e.textures[1]=e.pongTextures,t.swap=()=>{e.readIndex=1-e.readIndex},t.renderQuad=(n,r)=>{const o=e.quad,i=e.context;let a=e.quadVAO;a||(a=Hu.newInstance(),a.setOpenGLRenderWindow(e._openGLRenderWindow),e.quadVAO=a),e.previousProgramHash!==r.getMd5Hash()&&(a.shaderProgramChanged(),o.getCABO().bind(),a.addAttributeArray(r,o.getCABO(),"vertexDC",o.getCABO().getVertexOffset(),o.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE),a.addAttributeArray(r,o.getCABO(),"tcoordDC",o.getCABO().getTCoordOffset(),o.getCABO().getStride(),e.context.FLOAT,2,e.context.FALSE),e.previousProgramHash=r.getMd5Hash()),i.drawArrays(i.TRIANGLES,0,o.getCABO().getElementCount()),a.release()},t.getLastLICBuffer=()=>e.readIndex===0?e.licTexture0:e.licTexture1,t.getLastSeedBuffer=()=>e.readIndex===0?e.seedTexture0:e.seedTexture1,t.getLICBuffer=()=>1-e.readIndex===0?e.licTexture0:e.licTexture1,t.getSeedBuffer=()=>1-e.readIndex===0?e.seedTexture0:e.seedTexture1,t.getLICTextureUnit=()=>{const n=e.textures[e.readIndex][0];return n.activate(),n.getTextureUnit()},t.getSeedTextureUnit=()=>{const n=e.textures[e.readIndex][1];return n.activate(),n.getTextureUnit()},t.getNoiseTextureUnit=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:0)===0?(e.noiseTexture.activate(),e.noiseTexture.getTextureUnit()):(e.eeTexture.activate(),e.eeTexture.getTextureUnit())},t.getVectorTextureUnit=()=>(e.vectorTexture.activate(),e.vectorTexture.getTextureUnit()),t.getImageVectorTextureUnit=()=>e.imageVectorTexture?(e.imageVectorTexture.activate(),e.imageVectorTexture.getTextureUnit()):t.getVectorTextureUnit(),t.getMaskVectorTextureUnit=()=>e.maskVectorTexture?(e.maskVectorTexture.activate(),e.maskVectorTexture.getTextureUnit()):t.getImageVectorTextureUnit(),t.clearBuffers=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const r=e.framebuffer,o=e.context;r.removeColorBuffer(0),r.removeColorBuffer(1),r.removeColorBuffer(2),r.removeColorBuffer(3),r.setColorBuffer(e.licTexture0,0),r.setColorBuffer(e.seedTexture0,1),r.setColorBuffer(e.licTexture1,2),r.setColorBuffer(e.seedTexture1,3);const i=[o.COLOR_ATTACHMENT0,o.COLOR_ATTACHMENT1,o.COLOR_ATTACHMENT2,o.COLOR_ATTACHMENT3];n&&(r.removeColorBuffer(4),r.setColorBuffer(e.eeTexture,4),i.push(o.COLOR_ATTACHMENT4)),o.drawBuffers(i),o.clearColor(0,1,0,0),o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT),r.removeColorBuffer(0),r.removeColorBuffer(1),r.removeColorBuffer(2),r.removeColorBuffer(3),n&&r.removeColorBuffer(4),o.drawBuffers([o.NONE])},t.clearBuffer=n=>{const r=e.framebuffer,o=e.context;r.removeColorBuffer(0),r.setColorBuffer(n,0),o.drawBuffers([o.COLOR_ATTACHMENT0]),o.clearColor(0,1,0,0),o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT),r.removeColorBuffer(n,0),o.drawBuffers([o.NONE])},t.activateVectorTextures=()=>{e.imageVectorTexture?e.imageVectorTexture.activate():e.vectorTexture.activate(),e.maskVectorTexture&&e.maskVectorTexture.activate()},t.deactivateVectorTextures=()=>{e.imageVectorTexture?e.imageVectorTexture.deactivate():e.vectorTexture.deactivate(),e.maskVectorTexture&&e.maskVectorTexture.deactivate()},t.activateNoiseTexture=function(){switch(arguments.length>0&&arguments[0]!==void 0?arguments[0]:0){case 0:e.noiseTexture.activate();break;case 1:e.eeTexture.activate();break;default:console.error("Wrong LIC pass number")}},t.deactivateNoiseTexture=function(){switch(arguments.length>0&&arguments[0]!==void 0?arguments[0]:0){case 0:e.noiseTexture.deactivate();break;case 1:e.eeTexture.deactivate();break;default:console.error("Wrong LIC pass number")}},t.attachLICBuffers=()=>{const n=e.textures[e.readIndex],r=e.textures[1-e.readIndex],o=e.framebuffer,i=e.context;n[0].activate(),n[1].activate(),o.removeColorBuffer(0),o.removeColorBuffer(1),o.setColorBuffer(r[0],0),o.setColorBuffer(r[1],1),i.drawBuffers([i.COLOR_ATTACHMENT0,i.COLOR_ATTACHMENT1])},t.detachLICBuffers=()=>{const n=e.textures[e.readIndex],r=e.context,o=e.framebuffer;n[0].deactivate(),n[1].deactivate(),o.removeColorBuffer(0),o.removeColorBuffer(1),r.drawBuffers([r.NONE])},t.attachImageVectorBuffer=()=>{const n=e.framebuffer,r=e.context;e.vectorTexture.activate(),n.removeColorBuffer(0),n.setColorBuffer(e.imageVectorTexture,0),r.drawBuffers([r.COLOR_ATTACHMENT0])},t.detachImageVectorBuffer=()=>{const n=e.context,r=e.framebuffer;e.vectorTexture.deactivate(),r.removeColorBuffer(0),n.drawBuffers([n.NONE])},t.attachEEBuffer=()=>{e.textures[e.readIndex][0].activate(),e.framebuffer.removeColorBuffer(0),e.framebuffer.setColorBuffer(e.eeTexture,0);const n=e.context;n.drawBuffers([n.COLOR_ATTACHMENT0])},t.detachEEBuffer=()=>{const n=e.context;e.framebuffer.removeColorBuffer(0),n.drawBuffers([n.NONE]),e.textures[e.readIndex][0].deactivate()},t.detachBuffers=()=>{const n=e.context,r=e.framebuffer;r.removeColorBuffer(0),r.removeColorBuffer(1),n.drawBuffers([n.NONE]);const o=e.textures[e.readIndex],i=e.textures[1-e.readIndex];o[0]&&o[0].deactivate(),o[1]&&o[1].deactivate(),i[0]&&i[0].deactivate(),i[1]&&i[1].deactivate(),e.eeTexture&&e.eeTexture.deactivate(),e.noiseTexture&&e.noiseTexture.deactivate()},t.getWriteIndex=()=>1-e.readIndex,t.detachBuffers()}const h$={vectorTexture:null,maskVectorTexture:null,noiseTexture:null,doEEPass:!1,doVTPass:!1,readIndex:0,quad:null,lastProgramHash:null,framebuffer:null,size:null,pingTextures:[],pongTextures:[],textures:[]};function yS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,h$,n),V.obj(t,e),V.get(t,e,["readIndex"]),V.setGet(t,e,["doEEPass","doVTPass","_openGLRenderWindow","vectorTexture","maskVectorTexture","noiseTexture","framebuffer","size"]),V.moveToProtected(t,e,["openGLRenderWindow"]),p$(t,e)}const m$=V.newInstance(yS,"vtkLICPingPongBufferManager");var g$={newInstance:m$,extend:yS};const ra={NONE:0,LIC:1,COLOR:2,BOTH:3},Cm={UNIFORM:0,GAUSSIAN:1},v$={BLEND:0,MULTIPLY:1};function y$(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?`
    vec2 getVector( vec2 vectc )

      {

      vec2 V = texture2D( texVectors, vectc ).xy;

      // normalize if |V| not 0

      float lenV = length( V );

      if ( lenV > 1.0e-8 )

        {

        return V/lenV;

        }

      else

        {

        return vec2( 0.0, 0.0 );

        }

      }

    `:`
    vec2 getVector( vec2 vectc )

      {

      return texture2D( texVectors, vectc ).xy;

      }

    `}function b$(t,e){e.classHierarchy.push("vtkLineIntegralConvolution2D"),t.buildAShader=o=>e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(vS,o,""),t.dumpTextureValues=function(o,i){let[a,s]=i,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.context,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e._openGLRenderWindow,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:4;const c=Ea.newInstance(),d=u;let p=null;return c.setOpenGLRenderWindow(l),c.saveCurrentBindingsAndBuffers(),c.create(a,s),c.populateFramebuffer(),c.setColorBuffer(o),p=new Float32Array(a*s*f),d.readPixels(0,0,a,s,f===4?d.RGBA:d.RGB,d.FLOAT,p),c.restorePreviousBindingsAndBuffers(),p},t.getTextureMinMax=function(o,i){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.context,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e._openGLRenderWindow;const u=t.dumpTextureValues(o,i,a,s,4);let l=Number.MAX_VALUE,f=Number.MIN_VALUE;for(let c=0;c<u.length;c+=4)if(u[c+1]===0){const d=u[c];d<l&&(l=d),d>f&&(f=d)}return{min:l,max:f}},t.getComponentSelectionProgram=o=>{const i="xyzw";return`.${i[o[0]]}${i[o[1]]}`},t.buildShaders=()=>{e.LIC0ShaderProgram=t.buildAShader(t$);const o=ne.substitute(s$,"//VTK::LICComponentSelection::Impl",`vec2 V = texture2D(texVectors, tcoordVC.st)${t.getComponentSelectionProgram(e.componentIds)};`).result;e.VTProgram=t.buildAShader(o);const i=ne.substitute(n$,"//VTK::LICVectorLookup::Impl",y$(e.normalizeVectors),!0).result;e.LICIShaderProgram=t.buildAShader(i),e.LICNShaderProgram=t.buildAShader(r$),e.CEProgram=t.buildAShader(o$),e.EEProgram=t.buildAShader(i$),e.AAHProgram=t.buildAShader(a$),e.AAVProgram=t.buildAShader(l$)};function n(o,i){o.setUniformi("texLIC",i.getLICTextureUnit()),o.setUniformi("texSeedPts",i.getSeedTextureUnit())}function r(o,i,a){o.attachLICBuffers(),o.renderQuad(i,a),o.detachLICBuffers(),o.swap()}t.executeLIC=(o,i,a,s,u,l)=>{if(e._openGLRenderWindow=u,e.context=u.getContext(),Object.assign(e,l),o[0]<=0||o[1]<=0)return null;const f=[1/o[0],1/o[1]];let c=e.stepSize*Math.sqrt(f[0]*f[0]+f[1]*f[1]);c<=0&&(c=1e-10);const d=e.context;let p=e.framebuffer;(!p||o[0]!==p.getSize()[0]||o[1]!==p.getSize()[1])&&(p=Ea.newInstance(),p.setOpenGLRenderWindow(e._openGLRenderWindow),p.saveCurrentBindingsAndBuffers(),p.create(...o),p.populateFramebuffer(),p.restorePreviousBindingsAndBuffers(),e.framebuffer=p),p.saveCurrentBindingsAndBuffers(),p.bind(),d.viewport(0,0,...o),d.scissor(0,0,...o),e.shadersNeedBuild&&(t.buildShaders(),e.shadersNeedBuild=!1),e.bufs?(e.bufs.setVectorTexture(i),e.bufs.setMaskVectorTexture(a),e.bufs.setNoiseTexture(s)):e.bufs=g$.newInstance({openGLRenderWindow:u,doEEPass:e.enhancedLIC,doVTPass:e.transformVectors,vectorTexture:i,maskVectorTexture:a,noiseTexture:s,framebuffer:p,size:o});const h=[(s.getWidth()+1)/o[0],(s.getHeight()+1)/o[1]],m=1/o[0],y=1/o[1],b=e._openGLRenderWindow.getShaderCache();if(e.transformVectors){const S=e.VTProgram;b.readyShaderProgram(S),e.bufs.attachImageVectorBuffer(),S.setUniform2f("uTexSize",...o),S.setUniformi("texVectors",e.bufs.getVectorTextureUnit()),d.clearColor(0,0,0,0),d.clear(d.COLOR_BUFFER_BIT),e.bufs.renderQuad(o,S),e.bufs.detachImageVectorBuffer()}e.bufs.clearBuffers(e.enhancedLIC),e.bufs.activateVectorTextures(),e.bufs.activateNoiseTexture(0);const{LIC0ShaderProgram:v}=e;b.readyShaderProgram(v),v.setUniformi("uStepNo",0),v.setUniformi("uPassNo",0),v.setUniformf("uMaskThreshold",e.maskThreshold),v.setUniform2f("uNoiseBoundsPt1",...h),v.setUniformi("texMaskVectors",e.bufs.getMaskVectorTextureUnit()),v.setUniformi("texLIC",e.bufs.getLICTextureUnit()),v.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(0)),r(e.bufs,o,v);const{LICIShaderProgram:g}=e;b.readyShaderProgram(g),g.setUniformi("uPassNo",0),g.setUniformf("uStepSize",-c),g.setUniform2f("uNoiseBoundsPt1",...h),g.setUniformi("texVectors",e.bufs.getImageVectorTextureUnit()),g.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(0));for(let S=0;S<e.numberOfSteps;++S)n(g,e.bufs),r(e.bufs,o,g);b.readyShaderProgram(v),v.setUniformi("uStepNo",1),n(v,e.bufs),r(e.bufs,o,v),b.readyShaderProgram(g),g.setUniformf("uStepSize",c);for(let S=0;S<e.numberOfSteps;++S)n(g,e.bufs),r(e.bufs,o,g);e.bufs.deactivateNoiseTexture(0),e.bufs.deactivateVectorTextures();const{LICNShaderProgram:x}=e;if(b.readyShaderProgram(x),x.setUniformi("texLIC",e.bufs.getLICTextureUnit()),r(e.bufs,o,x),e.enhancedLIC){(e.enhanceContrast===ra.LIC||e.enhanceContrast===ra.BOTH)&&t.contrastEnhance(!1,o),e.bufs.attachEEBuffer();const{EEProgram:S}=e;b.readyShaderProgram(S),S.setUniformi("texLIC",e.bufs.getLICTextureUnit()),S.setUniformf("uDx",m),S.setUniformf("uDy",y),e.bufs.renderQuad(o,S),e.bufs.detachEEBuffer(),e.bufs.detachBuffers(),e.bufs.clearBuffers(!1),e.bufs.activateVectorTextures(),e.bufs.activateNoiseTexture(1),b.readyShaderProgram(v),v.setUniformi("uStepNo",0),v.setUniformi("uPassNo",1),n(v,e.bufs),v.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(1)),r(e.bufs,o,v),b.readyShaderProgram(g),g.setUniformi("uPassNo",1),g.setUniformf("uStepSize",-c),g.setUniformi("texNoise",e.bufs.getNoiseTextureUnit(1));const C=e.numberOfSteps/2;for(let w=0;w<C;++w)n(g,e.bufs),r(e.bufs,o,g);b.readyShaderProgram(v),v.setUniformi("uStepNo",1),n(v,e.bufs),r(e.bufs,o,v),b.readyShaderProgram(g),g.setUniformf("uStepSize",c);for(let w=0;w<C;++w)n(g,e.bufs),r(e.bufs,o,g);e.bufs.deactivateNoiseTexture(1),e.bufs.deactivateVectorTextures(),b.readyShaderProgram(x),x.setUniformi("texLIC",e.bufs.getLICTextureUnit()),x.setUniformi("texSeedPts",e.bufs.getSeedTextureUnit()),r(e.bufs,o,x)}if(e.antiAlias){const S=e.AAHProgram;b.readyShaderProgram(S),S.setUniformi("texLIC",e.bufs.getLICTextureUnit()),S.setUniformf("uDx",m);const C=e.AAVProgram;b.readyShaderProgram(C),C.setUniformi("texLIC",e.bufs.getLICTextureUnit()),C.setUniformf("uDy",y);for(let w=0;w<e.antiAlias;++w)b.readyShaderProgram(S),n(S,e.bufs),r(e.bufs,o,S),b.readyShaderProgram(C),n(C,e.bufs),r(e.bufs,o,C)}return(e.enhanceContrast===ra.LIC||e.enhanceContrast===ra.BOTH)&&t.contrastEnhance(!0,o),e.bufs.detachBuffers(),p.restorePreviousBindingsAndBuffers(),e.bufs.getLastLICBuffer()},t.contrastEnhance=(o,i)=>{const a=e._openGLRenderWindow.getShaderCache();let{min:s,max:u}=t.getTextureMinMax(e.bufs.getLastLICBuffer(),i,e.context,e._openGLRenderWindow);(u<=s||u>1||s<0)&&(console.error("Invalid color range: ",s,u),s=0,u=1);let l=u-s;o&&(s+=l*e.lowLICContrastEnhancementFactor,u-=l*e.highLICContrastEnhancementFactor,l=u-s);const{CEProgram:f}=e;a.readyShaderProgram(f),f.setUniformi("texLIC",e.bufs.getLICTextureUnit()),f.setUniformf("uMin",s),f.setUniformf("uMaxMinDiff",l),r(e.bufs,i,f)}}const x$={shadersNeedBuild:!0,stepSize:1,numberOfSteps:10,enhancedLIC:!0,enhanceContrast:!1,lowContrastEnhancementFactor:0,highContrastEnhancementFactor:0,antiAlias:0,componentIds:[0,1],normalizeVectors:!0,maskThreshold:0,transformVectors:!0,bufs:null,isComposite:!0};function bS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,x$,n),V.obj(t,e),V.setGet(t,e,["context","_openGLRenderWindow","nuberOfSteps","stepSize","normalizeVectors","maskThreshold","enhancedLIC","enhanceContrast","lowLICContrastEnhancementFactor","highLICContrastEnhancementFactor","antiAlias","componentIds","isComposite"]),V.moveToProtected(t,e,["openGLRenderWindow"]),b$(t,e)}const S$=V.newInstance(bS,"vtkLineIntegralConvolution2D");var C$={newInstance:S$,extend:bS},w$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkSurfaceLICMapper_fs2.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// This shader combines surface geometry, LIC, and  scalar colors.

// the output of this shader
layout(location = 0) out vec4 RGBOutput;
layout(location = 1) out vec4 HSLOutput;

uniform sampler2D texVectors;       // vectors, depth
uniform sampler2D texGeomColors;    // scalar colors + lighting
uniform sampler2D texLIC;           // image lic
uniform int       uScalarColorMode; // select between blend, and map shader
uniform float     uLICIntensity;    // blend shader: blending factor for lic'd colors
uniform float     uMapBias;         // map shader: adjust the brightness of the result
uniform float     uMaskIntensity;   // blending factor for mask color
uniform vec3      uMaskColor;       // color for the masked out fragments

in vec2 tcoordVC;

/**
Convert from RGB color space into HSL colorspace.
*/
vec3 RGBToHSL(vec3 RGB)
{
  vec3 HSL = vec3(0.0, 0.0, 0.0);

  float RGBMin = min(min(RGB.r, RGB.g), RGB.b);
  float RGBMax = max(max(RGB.r, RGB.g), RGB.b);
  float RGBMaxMinDiff = RGBMax - RGBMin;

  HSL.z = (RGBMax + RGBMin) / 2.0;

  if (RGBMaxMinDiff == 0.0)
    {
    // Gray scale
    HSL.x = 0.0;
    HSL.y = 0.0;
    }
  else
    {
    // Color
    if (HSL.z < 0.5)
      HSL.y = RGBMaxMinDiff / (RGBMax + RGBMin);
    else
      HSL.y = RGBMaxMinDiff / (2.0 - RGBMax - RGBMin);

    float dR
      = (((RGBMax - RGB.r) / 6.0) + (RGBMaxMinDiff / 2.0)) / RGBMaxMinDiff;
    float dG
      = (((RGBMax - RGB.g) / 6.0) + (RGBMaxMinDiff / 2.0)) / RGBMaxMinDiff;
    float dB
      = (((RGBMax - RGB.b) / 6.0) + (RGBMaxMinDiff / 2.0)) / RGBMaxMinDiff;

    if (RGB.r == RGBMax)
      HSL.x = dB - dG;
    else
    if (RGB.g == RGBMax)
      HSL.x = (1.0 / 3.0) + dR - dB;
    else
    if (RGB.b == RGBMax)
      HSL.x = (2.0 / 3.0) + dG - dR;

    if (HSL.x < 0.0)
      HSL.x += 1.0;

    if (HSL.x > 1.0)
      HSL.x -= 1.0;
    }

  return HSL;
}

/**
Helper for HSL to RGB conversion.
*/
float Util(float v1, float v2, float vH)
{
  if (vH < 0.0)
    vH += 1.0;

  if (vH > 1.0)
     vH -= 1.0;

  if ((6.0 * vH) < 1.0)
    return (v1 + (v2 - v1) * 6.0 * vH);

  if ((2.0 * vH) < 1.0)
    return (v2);

  if ((3.0 * vH) < 2.0)
    return (v1 + (v2 - v1) * ((2.0 / 3.0) - vH) * 6.0);

  return v1;
}

/**
Convert from HSL space into RGB space.
*/
vec3 HSLToRGB(vec3 HSL)
{
  vec3 RGB;
  if (HSL.y == 0.0)
    {
    // Gray
    RGB.r = HSL.z;
    RGB.g = HSL.z;
    RGB.b = HSL.z;
    }
  else
    {
    // Chromatic
    float v2;
    if (HSL.z < 0.5)
      v2 = HSL.z * (1.0 + HSL.y);
    else
      v2 = (HSL.z + HSL.y) - (HSL.y * HSL.z);

    float v1 = 2.0 * HSL.z - v2;

    RGB.r = Util(v1, v2, HSL.x + (1.0 / 3.0));
    RGB.g = Util(v1, v2, HSL.x);
    RGB.b = Util(v1, v2, HSL.x - (1.0 / 3.0));
    }

  return RGB.rgb;
}

void main()
{
  vec4 lic = texture2D(texLIC, tcoordVC.st);
  vec4 geomColor = texture2D(texGeomColors, tcoordVC.st);

  // depth is used to determine which fragment belong to us
  // and we can change
  float depth = texture2D(texVectors, tcoordVC.st).a;

  vec3 fragColorRGB;
  float valid;
  if (depth > 1.0e-3)
    {
    // we own it
    // shade LIC'ed geometry, or apply mask
    if (lic.g!=0.0)
      {
      // it's masked
      // apply fragment mask
      fragColorRGB = uMaskIntensity * uMaskColor + (1.0 - uMaskIntensity) * geomColor.rgb;
      valid = 0.0;
      }
    else
      {
      if (uScalarColorMode==0)
        {
        // blend with scalars
        fragColorRGB = lic.rrr * uLICIntensity + geomColor.rgb * (1.0 - uLICIntensity);
        }
      else
        {
        // multiply with scalars
        fragColorRGB = geomColor.rgb * clamp((uMapBias + lic.r), 0.0, 1.0);
        }
      if (lic.b != 0.0)
        {
        // didn't have the required guard pixels
        // don't consider it in min max estimation
        // for histpgram stretching
        valid = 0.0;
        }
      else
        {
        // ok to use in min/max estimates for histogram
        // stretching
        valid = 1.0;
        }
      }
    }
  else
    {
    // we don't own it
    // pass through scalars
    fragColorRGB = geomColor.rgb;
    valid = 0.0;
    }

  // if no further stages this texture is
  // copied to the screen
  RGBOutput = vec4(fragColorRGB, geomColor.a);

  // if further stages, move to hsl space for contrast
  // enhancement. encoding validity saves moving a texture to the cpu
  vec3 fragColorHSL = RGBToHSL(fragColorRGB);
  HSLOutput = vec4(fragColorHSL, valid);
}
`,T$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkSurfaceLICMapper_DCpy.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// This shader copies fragments and depths to the output buffer

// the output of this shader
//VTK::Output::Dec

uniform sampler2D texDepth;     // z values from vertex shader
uniform sampler2D texRGBColors; // final rgb LIC colors

in vec2 tcoordVC;

void main()
{
  gl_FragDepth = texture2D(texDepth, tcoordVC).x;
  gl_FragData[0] = texture2D(texRGBColors, tcoordVC);

  // since we render a screen aligned quad
  // we're going to be writing fragments
  // not touched by the original geometry
  // it's critical not to modify those
  // fragments.
  if (gl_FragDepth == 1.0)
    {
    discard;
    }
}
`,_$=`//VTK::System::Dec

//=========================================================================
//
//  Program:   Visualization Toolkit
//  Module:    vtkSurfaceLICMapper_CE.glsl
//
//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
//  All rights reserved.
//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.
//
//     This software is distributed WITHOUT ANY WARRANTY; without even
//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
//     PURPOSE.  See the above copyright notice for more information.
//
//=========================================================================

// color contrast enhance stage implemented via histogram stretching
// on lightness channel. if the min and max are tweaked it can generate
// out-of-range values these will be clamped in 0 to 1

// the output of this shader
//VTK::Output::Dec

uniform sampler2D texGeomColors; // scalars + lighting
uniform sampler2D texLIC;        // image lic, mask
uniform sampler2D texHSLColors;  // hsla colors

uniform float     uLMin;         // min lightness over all fragments
uniform float     uLMaxMinDiff;  // max - min lightness over all fragments

in vec2 tcoordVC;

vec3 HSLToRGB(vec3 HSL)
{
  vec3 RGB;
  float v;
  float h = HSL.x;
  float sl = HSL.y;
  float l = HSL.z;

  v = (l <= 0.5) ? (l * (1.0 + sl)) : (l + sl - l * sl);
  if (v <= 0.0) {
    RGB = vec3(0.0,0.0,0.0);
  } else {
    float m;
    int sextant;
    float fract, vsf, mid1, mid2;

    m = l + l - v;
    h *= 6.0;
    sextant = int(h);
    fract = h - float(sextant);

    vsf = (v - m) * fract;
    mid1 = m + vsf;
    mid2 = v - vsf;
    switch (sextant) {
      case 0: RGB.r = v; RGB.g = mid1; RGB.b = m; break;
      case 1: RGB.r = mid2; RGB.g = v; RGB.b = m; break;
      case 2: RGB.r = m; RGB.g = v; RGB.b = mid1; break;
      case 3: RGB.r = m; RGB.g = mid2; RGB.b = v; break;
      case 4: RGB.r = mid1; RGB.g = m; RGB.b = v; break;
      case 5: RGB.r = v; RGB.g = m; RGB.b = mid2; break;
    }
  }
  return RGB;
}

void main()
{
  // lookup hsl color , mask
  vec4 fragColor = texture2D(texHSLColors, tcoordVC.st);

  // don't modify masked fragments (masked => lic.g==1)
  vec4 lic = texture2D(texLIC, tcoordVC.st);
  if (lic.g==0.0)
    {
    // normalize lightness channel
    fragColor.z = clamp((fragColor.z - uLMin)/uLMaxMinDiff, 0.0, 1.0);
    }

  // back into rgb space
  fragColor.rgb = HSLToRGB(fragColor.xyz);

  // add alpha
  vec4 geomColor = texture2D(texGeomColors, tcoordVC.st);
  fragColor.a = geomColor.a;

  gl_FragData[0] = fragColor;
}
`;function A$(t,e){e.classHierarchy.push("vtkSurfaceLICInterface")}const E$={enableLIC:!1,nuberOfSteps:40,stepSize:.25,transformVectors:!0,normalizeVectors:!0,maskOnSurface:!1,maskThreshold:0,maskColor:[0,0,0],maskIntensity:0,enhancedLIC:!0,enhanceContrast:ra.NONE,lowLICContrastEnhancementFactor:0,highLICContrastEnhancementFactor:0,lowColorContrastEnhancementFactor:0,highColorContrastEnhancementFactor:0,antiAlias:0,colorMode:v$.BLEND,LICIntensity:1,mapModeBias:0,noiseTextureSize:200,noiseTextureType:Cm.GAUSSIAN,noiseGrainSize:8,noiseImpulseProbability:.1,noiseImpulseBackgroundValue:0,noiseGeneratorSeed:0,minNoiseValue:0,maxNoiseValue:1,numberOfNoiseLevels:2,shadersNeedBuilding:!0,reallocateTextures:!0,rebuildNoiseTexture:!1,viewPortScale:1};function xS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,E$,n),V.obj(t,e),V.setGet(t,e,["enableLIC","numberOfSteps","stepSize","normalizeVectors","transformVectors","maskOnSurface","maskThreshold","maskColor","maskIntensity","enhancedLIC","enhanceContrast","lowLICContrastEnhancementFactor","highLICContrastEnhancementFactor","lowColorContrastEnhancementFactor","highColorContrastEnhancementFactor","antiAlias","colorMode","LICIntensity","mapModeBias","noiseTextureSize","noiseTextureType","noiseGrainSize","minNoiseValue","maxNoiseValue","numberOfNoiseLevels","noiseImpulseProbability","noiseImpulseBackgroundValue","noiseGeneratorSeed","viewPortScale","rebuildNoiseTexture"]),A$(t,e)}const D$=V.newInstance(xS,"vtkSurfaceLICInterface");var SS={newInstance:D$,extend:xS};const{Representation:I$}=Ma;function P$(t){const e=Tr.newInstance();e.setOpenGLRenderWindow(t);const n=new Float32Array(12);for(let u=0;u<4;u++)n[u*3]=u%2*2-1,n[u*3+1]=u>1?1:-1,n[u*3+2]=0;const r=new Float32Array([0,0,1,0,0,1,1,1]),o=new Uint16Array(8);o[0]=3,o[1]=0,o[2]=1,o[3]=3,o[4]=3,o[5]=0,o[6]=3,o[7]=2;const i=Ce.newInstance({numberOfComponents:3,values:n});i.setName("points");const a=Ce.newInstance({numberOfComponents:1,values:o}),s=Ce.newInstance({numberOfComponents:2,values:r});return e.getCABO().createVBO(a,"polys",I$.SURFACE,{points:i,cellOffset:0,tcoords:s}),e}function O$(t,e){e.classHierarchy.push("vtkOpenGLSurfaceLICInterface"),t.renderQuad=(o,i)=>{const a=e.licQuad,s=e.context;let u=e.licQuadVAO;u||(u=Hu.newInstance(),u.setOpenGLRenderWindow(e._openGLRenderWindow),e.licQuadVAO=u),e.previousProgramHash!==i.getMd5Hash()&&(u.shaderProgramChanged(),a.getCABO().bind(),u.addAttributeArray(i,a.getCABO(),"vertexDC",a.getCABO().getVertexOffset(),a.getCABO().getStride(),e.context.FLOAT,3,e.context.FALSE),u.addAttributeArray(i,a.getCABO(),"tcoordDC",a.getCABO().getTCoordOffset(),a.getCABO().getStride(),e.context.FLOAT,2,e.context.FALSE),e.previousProgramHash=i.getMd5Hash()),s.drawArrays(s.TRIANGLES,0,a.getCABO().getElementCount()),u.release()};function n(o,i,a,s,u,l){const f=Math.max(0,Math.min(1,a)),c=Float32Array.from({length:o*o},()=>{let v=0;if(f===1||Math.random()>1-f)for(let g=0;g<2048;++g)v+=Math.random();return v});let d=0,p=2049;c.forEach(v=>{f===1?p=v<p?v:p:p=v<p&&v>0?v:p,d=v>d?v:d});let h=d-p;h===0&&(p=0,d===0?h=1:h=d);const m=i-1,y=m!==0?1/m:0,b=l-u;return c.map(v=>{const g=v<p?v:(v-p)/h,x=Math.floor(g*i),S=x>m?m:x;return v>=p?i===1?l:u+S*y*b:s})}function r(o,i,a,s){let[u,l]=o;const f=s-a;return Float32Array.from({length:u*l},()=>{let c=Math.random();return c=Math.floor(c*i)/i,c=c*f+a,c>1?1:c<0?0:c})}t.generateNoiseTexture=o=>{if(!e.noiseTexture||e.licInterface.getRebuildNoiseTexture()){e.licInterface.setRebuildNoiseTexture(!1),e.noiseTexture&&e.noiseTexture.releaseGraphicsResources(),Z8(e.noiseGeneratorSeed,{global:!0});let i=[];const{noiseTextureType:a,noiseGrainSize:s,numberOfNoiseLevels:u,noiseImpulseProbability:l,noiseImpulseBackgroundValue:f,minNoiseValue:c,maxNoiseValue:d}=e.licInterface.get("noiseTextureType","noiseGrainSize","numberOfNoiseLevels","noiseImpulseProbability","noiseImpulseBackgroundValue","minNoiseValue","maxNoiseValue");switch(a){case Cm.GAUSSIAN:i=n(Math.floor(o/s),u,l,f,c,d);break;case Cm.UNIFORM:default:i=r([Math.ceil(o/s),Math.ceil(o/s)],u,c,d)}const p=1/s,h=Float32Array.from({length:o*o*4},(y,b)=>{const v=b/4;if(b%4===0){const g=Math.floor(v%o*p),x=Math.floor(v/o*p);return i[x*(o/s)+g]}return b%4===1||b%4===3?1:0}),m=Xe.newInstance({wrapS:Xe.Wrap.REPEAT,wrapT:Xe.Wrap.REPEAT,minificationFilter:Xe.Filter.NEAREST,magnificationFilter:Xe.Filter.NEAREST,generateMipMap:!1,openGLDataType:e.context.FLOAT,baseLevel:0,maxLevel:0,autoParameters:!1});m.setOpenGLRenderWindow(e._openGLRenderWindow),m.create2DFromRaw(o,o,4,"Float32Array",h),m.activate(),m.sendParameters(),m.deactivate(),e.noiseTexture=m}},t.buildAShader=o=>e._openGLRenderWindow.getShaderCache().readyShaderProgramArray(vS,o,""),t.allocateTextures=()=>{const o=Xe.Filter.NEAREST,i=Xe.Filter.LINEAR,a=e._openGLRenderWindow;e.geometryImage||(e.geometryImage=t.allocateTexture(a,o)),e.vectorImage||(e.vectorImage=t.allocateTexture(a,i)),e.maskVectorImage||(e.maskVectorImage=t.allocateTexture(a,i)),e.LICImage||(e.LICImage=t.allocateTexture(a,o)),e.RGBColorImage||(e.RGBColorImage=t.allocateTexture(a,o)),e.HSLColorImage||(e.HSLColorImage=t.allocateTexture(a,o)),e.depthTexture||(e.depthTexture=t.allocateDepthTexture(a))},t.allocateTexture=(o,i)=>{const a=e.context,s=Xe.newInstance({wrapS:Xe.Wrap.CLAMP_TO_EDGE,wrapT:Xe.Wrap.CLAMP_TO_EDGE,minificationFilter:i,magnificationFilter:i,generateMipmap:!1,openGLDataType:a.FLOAT,baseLevel:0,maxLevel:0,autoParameters:!1});return s.setOpenGLRenderWindow(o),s.setInternalFormat(a.RGBA32F),s.create2DFromRaw(...e.size,4,"Float32Array",null),s.activate(),s.sendParameters(),s.deactivate(),s},t.allocateDepthTexture=o=>{const i=e.context,a=Xe.newInstance({generateMipmap:!1,openGLDataType:i.FLOAT,autoParameters:!1});return a.setOpenGLRenderWindow(o),a.createDepthFromRaw(...e.size,"Float32Array",null),a.activate(),a.sendParameters(),a.deactivate(),a},t.createFBO=()=>{if(!e.framebuffer){e.licHelper=null;const o=Ea.newInstance();o.setOpenGLRenderWindow(e._openGLRenderWindow),o.saveCurrentBindingsAndBuffers(),o.create(...e.size),o.populateFramebuffer(),e.framebuffer=o,o.restorePreviousBindingsAndBuffers()}},t.completedGeometry=()=>{const o=e.context,i=e.framebuffer;i.removeColorBuffer(0),i.removeColorBuffer(1),i.removeColorBuffer(2),i.removeDepthBuffer(),o.drawBuffers([o.NONE]),i.restorePreviousBindingsAndBuffers()},t.buildAllShaders=()=>{e.shadersNeedBuilding&&(e.licColorPass=t.buildAShader(w$),e.licCopyPass=t.buildAShader(T$),e.enhanceContrastPass=t.buildAShader(_$),e.shadersNeedBuilding=!1)},t.initializeResources=()=>{t.createFBO(),t.generateNoiseTexture(e.licInterface.getNoiseTextureSize()),t.allocateTextures(),t.buildAllShaders(),e.licQuad||(e.licQuad=P$(e._openGLRenderWindow)),e.licHelper||(e.licHelper=C$.newInstance())},t.prepareForGeometry=()=>{const o=e.framebuffer;o.saveCurrentBindingsAndBuffers(),o.bind(),e.geometryImage.activate(),e.vectorImage.activate(),e.maskVectorImage.activate(),o.removeColorBuffer(0),o.removeColorBuffer(2),o.removeColorBuffer(3),o.setColorBuffer(e.geometryImage,0),o.setColorBuffer(e.vectorImage,2),o.setColorBuffer(e.maskVectorImage,3),o.setDepthBuffer(e.depthTexture);const i=e.context;i.drawBuffers([i.COLOR_ATTACHMENT0,i.NONE,i.COLOR_ATTACHMENT2,i.COLOR_ATTACHMENT3]),i.viewport(0,0,...e.size),i.scissor(0,0,...e.size),i.disable(i.BLEND),i.disable(i.DEPTH_TEST),i.disable(i.SCISSOR_TEST),i.clearColor(0,0,0,0),i.clear(i.DEPTH_BUFFER_BIT|i.COLOR_BUFFER_BIT)},t.copyToScreen=o=>{e.RGBColorImage.activate(),e.depthTexture.activate(),e.licCopyPass||t.initializeResources();const i=e.licCopyPass;e._openGLRenderWindow.getShaderCache().readyShaderProgram(i);const a=e.context;a.viewport(0,0,...o),a.scissor(0,0,...o),a.disable(a.BLEND),a.enable(a.DEPTH_TEST),a.disable(a.SCISSOR_TEST),i.setUniformi("texDepth",e.depthTexture.getTextureUnit()),i.setUniformi("texRGBColors",e.RGBColorImage.getTextureUnit()),t.renderQuad(o,i),e.RGBColorImage.deactivate(),e.depthTexture.deactivate()},t.combineColorsAndLIC=()=>{const o=e.context,i=e.framebuffer;i.saveCurrentBindingsAndBuffers(),i.bind(),i.create(...e.size),i.removeColorBuffer(0),i.removeColorBuffer(1),i.setColorBuffer(e.RGBColorImage,0),i.setColorBuffer(e.HSLColorImage,1),o.drawBuffers([o.COLOR_ATTACHMENT0,o.COLOR_ATTACHMENT1]),o.disable(o.DEPTH_TEST),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),e.vectorImage.activate(),e.geometryImage.activate(),e.LICImage.activate(),e.licColorPass||t.initializeResources();const a=e.licColorPass;e._openGLRenderWindow.getShaderCache().readyShaderProgram(a),a.setUniformi("texVectors",e.vectorImage.getTextureUnit()),a.setUniformi("texGeomColors",e.geometryImage.getTextureUnit());const{colorMode:s,LICIntensity:u,mapModeBias:l,maskIntensity:f,maskColor:c,enhanceContrast:d,lowColorContrastEnhancementFactor:p,highColorContrastEnhancementFactor:h}=e.licInterface.get("colorMode","LICIntensity","mapModeBias","maskIntensity","maskColor","enhanceContrast","lowColorContrastEnhancementFactor","highColorContrastEnhancementFactor");if(a.setUniformi("texLIC",e.LICImage.getTextureUnit()),a.setUniformi("uScalarColorMode",s),a.setUniformf("uLICIntensity",u),a.setUniformf("uMapBias",l),a.setUniformf("uMaskIntensity",f),a.setUniform3f("uMaskColor",...c),t.renderQuad(e.size,a),e.vectorImage.deactivate(),e.geometryImage.deactivate(),e.LICImage.deactivate(),i.removeColorBuffer(0),i.removeColorBuffer(1),o.drawBuffers([o.NONE]),d===ra.COLOR||d===ra.BOTH){let m=0,y=1,b=y-m;m+=b*p,y-=b*h,b=y-m,i.setColorBuffer(e.RGBColorImage),o.drawBuffers([o.COLOR_ATTACHMENT0]),e.geometryImage.activate(),e.HSLColorImage.activate(),e.LICImage.activate(),e.enhanceContrastPass||t.initializeResources();const{enhanceContrastPass:v}=e;e._openGLRenderWindow.getShaderCache().readyShaderProgram(v),v.setUniformi("texGeomColors",e.geometryImage.getTextureUnit()),v.setUniformi("texHSLColors",e.HSLColorImage.getTextureUnit()),v.setUniformi("texLIC",e.LICImage.getTextureUnit()),v.setUniformf("uLMin",m),v.setUniformf("uLMaxMinDiff",b),t.renderQuad(e.size,v),e.geometryImage.deactivate(),e.HSLColorImage.deactivate(),e.LICImage.deactivate(),i.removeColorBuffer(0),o.drawBuffers([o.NONE])}i.restorePreviousBindingsAndBuffers()},t.applyLIC=()=>{const o=e.licInterface.get("stepSize","numberOfSteps","enhancedLIC","enhanceContrast","lowLICContrastEnhancementFactor","highLICContrastEnhancementFactor","antiAlias","normalizeVectors","maskThreshold","transformVectors"),i=e.licHelper.executeLIC(e.size,e.vectorImage,e.maskVectorImage,e.noiseTexture,e._openGLRenderWindow,o);if(!i){console.error("Failed to compute image LIC"),e.LICImage=null;return}e.LICImage=i},t.setSize=o=>{Array.isArray(o)&&o.length===2&&(!e.size||e.size[0]!==o[0]||e.size[1]!==o[1])&&(e.size=o,t.releaseGraphicsResources())},t.releaseGraphicsResources=()=>{e.geometryImage&&(e.geometryImage.releaseGraphicsResources(),e.geometryImage=null),e.vectorImage&&(e.vectorImage.releaseGraphicsResources(),e.vectorImage=null),e.maskVectorImage&&(e.maskVectorImage.releaseGraphicsResources(),e.maskVectorImage=null),e.LICImage&&(e.LICImage.releaseGraphicsResources(),e.LICImage=null),e.RGBColorImage&&(e.RGBColorImage.releaseGraphicsResources(),e.RGBColorImage=null),e.HSLColorImage&&(e.HSLColorImage.releaseGraphicsResources(),e.HSLColorImage=null),e.depthTexture&&(e.depthTexture.releaseGraphicsResources(),e.depthTexture=null),e.framebuffer&&(e.framebuffer.releaseGraphicsResources(),e.framebuffer=null)}}const N$={context:null,shadersNeedBuilding:!0,reallocateTextures:!0,size:null,licInterface:null};function CS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,N$,n),SS.extend(t,e,n),V.obj(t,e),V.setGet(t,e,["context","_openGLRenderWindow","reallocateTextures","licInterface","size"]),V.moveToProtected(t,e,["openGLRenderWindow"]),O$(t,e)}const R$=V.newInstance(CS,"vtkSurfaceLICInterface");var M$={newInstance:R$,extend:CS};const{vtkErrorMacro:Vc}=Mn;function k$(t,e){e.classHierarchy.push("vtkOpenGLSurfaceLICMapper");const n=q({},t);t.getNeedToRebuildShaders=(r,o,i)=>e.rebuildLICShaders||n.getNeedToRebuildShaders(r,o,i),t.replaceShaderValues=(r,o,i)=>{const a=e.lastBoundBO.getReferenceByName("lastLightComplexity");let s=r.Vertex,u=r.Fragment;const l=e.renderable.getInputArrayToProcess(0);if(l&&e.canDrawLIC){u=ne.substitute(u,"//VTK::Output::Dec",["//VTK::Output::Dec","layout(location = 2) out vec4 vectorTexture;","layout(location = 3) out vec4 maskVectorTexture;"]).result;const f=`${l.getName()}MC`;a===0&&e.lastBoundBO.set({lastLightComplexity:1},!0),s=ne.substitute(s,"//VTK::TCoord::Dec",[`attribute vec3 ${f};`,"out vec3 licOutput;","//VTK::TCoord::Dec"]).result,s=ne.substitute(s,"//VTK::TCoord::Impl",[`licOutput = ${f};`,"//VTK::TCoord::Impl"]).result,u=ne.substitute(u,"//VTK::TCoord::Dec",["uniform int uMaskOnSurface;","uniform mat3 normalMatrix;","in vec3 licOutput;","//VTK::TCoord::Dec"]).result,u=ne.substitute(u,"//VTK::TCoord::Impl",["// projected vectors","  vec3 tcoordLIC = normalMatrix * licOutput;","  vec3 normN = normalize(normalVCVSOutput);","  float k = dot(tcoordLIC, normN);","  vec3 projected = (tcoordLIC - k*normN);","  vectorTexture = vec4(projected.x, projected.y, 0.0 , 1.0);","// vectors for fragment masking","  if (uMaskOnSurface == 0)","    {","    maskVectorTexture = vec4(licOutput, 1.0);","    }","  else","    {","    maskVectorTexture = vec4(projected.x, projected.y, 0.0 , 1.0);","    }","//VTK::TCoord::Impl"],!1).result,r.Vertex=s}e.rebuildLICShaders=!1,r.Fragment=u,n.replaceShaderValues(r,o,i),a>0&&e.lastBoundBO.set({lastLightComplexity:a},!0)},t.setMapperShaderParameters=(r,o,i)=>{n.setMapperShaderParameters(r,o,i),e.canDrawLIC&&r.getProgram().setUniformi("uMaskOnSurface",e.maskOnSurface)},t.getNeedToRebuildBufferObjects=(r,o)=>e.rebuildLICBuffers||n.getNeedToRebuildBufferObjects(r,o),t.buildBufferObjects=(r,o)=>{if(e.canDrawLIC){const i=e.renderable.getInputArrayToProcess(0);i&&i.getNumberOfComponents()>1&&e.renderable.setCustomShaderAttributes([i.getName()])}e.rebuildLICBuffers=!1,n.buildBufferObjects(r,o)},t.pushState=r=>{e.stateCache={[r.BLEND]:r.isEnabled(r.BLEND),[r.DEPTH_TEST]:r.isEnabled(r.DEPTH_TEST),[r.SCISSOR_TEST]:r.isEnabled(r.SCISSOR_TEST),[r.CULL_FACE]:r.isEnabled(r.CULL_FACE)}},t.popState=r=>{const o=i=>e.stateCache[i]?r.enable(i):r.disable(i);o(r.BLEND),o(r.DEPTH_TEST),o(r.SCISSOR_TEST),o(r.CULL_FACE)},t.renderPiece=(r,o)=>{let i=!0;e._openGLRenderWindow.getWebgl2()||(Vc("SurfaceLICMapper Requires WebGL 2"),i=!1),(!e.context.getExtension("EXT_color_buffer_float")||!e.context.getExtension("OES_texture_float_linear"))&&(Vc("SurfaceLICMapper requires the EXT_color_buffer_float and OES_texture_float_linear WebGL2 extensions."),i=!1),e.currentInput=e.renderable.getInputData(),e.currentInput||(Vc("No input"),i=!1);let a=e.renderable.getLicInterface();a||(a=SS.newInstance(),e.renderable.setLicInterface(a)),e.openGLLicInterface||(e.openGLLicInterface=M$.newInstance()),a!==e.openGLLicInterface.getLicInterface()&&e.openGLLicInterface.setLicInterface(a);const s=e.renderable.getInputArrayToProcess(0);if(a.getEnableLIC()&&(!s||s.getNumberOfComponents()<2)&&(Vc("No vector input array"),i=!1),a.getEnableLIC()||(i=!1),e.canDrawLIC!==i&&(e.rebuildLICShaders=!0,e.rebuildLICBuffers=!0),e.canDrawLIC=i,!i||!a.getEnableLIC()){n.renderPiece(r,o);return}const u=e.context,l=o.getProperty().getBackfaceCulling(),f=o.getProperty().getFrontfaceCulling();!l&&!f?e._openGLRenderWindow.disableCullFace():f?(e._openGLRenderWindow.enableCullFace(),u.cullFace(u.FRONT)):(e._openGLRenderWindow.enableCullFace(),u.cullFace(u.BACK));const c=e._openGLRenderWindow.getSize(),d=c.map(p=>Math.round(p*a.getViewPortScale()));e.openGLLicInterface.setSize(d),e.openGLLicInterface.setOpenGLRenderWindow(e._openGLRenderWindow),e.openGLLicInterface.setContext(e.context),t.pushState(e.context),e.openGLLicInterface.initializeResources(),e.openGLLicInterface.prepareForGeometry(),t.popState(e.context),n.renderPieceStart(r,o),n.renderPieceDraw(r,o),n.renderPieceFinish(r,o),t.pushState(e.context),e.VBOBuildTime.modified(),e.openGLLicInterface.completedGeometry(),e.context.disable(e.context.CULL_FACE),e.openGLLicInterface.applyLIC(),e.openGLLicInterface.combineColorsAndLIC(),e.openGLLicInterface.copyToScreen(c),t.popState(e.context)}}const L$={canDrawLIC:!1,rebuildLICShaders:!1,rebuildLICBuffers:!1,openGLLicInterface:null};function F$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,L$,n),Td.extend(t,e,n),k$(t,e),en(t,e,["openGLLicInterface"])}const B$=Ct(F$,"vtkOpenGLSurfaceLICMapper");Jt("vtkSurfaceLICMapper",B$);var V$=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkSphereMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Spheres

attribute vec4 vertexMC;
attribute vec2 offsetMC;

// optional normal declaration
//VTK::Normal::Dec

//VTK::Picking::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying vec3 centerVCVSOutput;

uniform int cameraParallel;
uniform float scaleFactor;

void main()
{
  //VTK::Picking::Impl

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  // compute the projected vertex position
  vec2 scaledOffsetMC = scaleFactor * offsetMC;
  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = length(scaledOffsetMC)*0.5;

  // make the triangle face the camera
  if (cameraParallel == 0)
    {
    vec3 dir = normalize(-vertexVCVSOutput.xyz);
    vec3 base2 = normalize(cross(dir,vec3(1.0,0.0,0.0)));
    vec3 base1 = cross(base2,dir);
    vertexVCVSOutput.xyz = vertexVCVSOutput.xyz + scaledOffsetMC.x*base1 + scaledOffsetMC.y*base2;
    }
  else
    {
    // add in the offset
    vertexVCVSOutput.xy = vertexVCVSOutput.xy + scaledOffsetMC;
    }

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`;const{vtkErrorMacro:U$}=Mn;function G$(t,e){e.classHierarchy.push("vtkOpenGLSphereMapper");const n=q({},t);t.getShaderTemplate=(r,o,i)=>{r.Vertex=V$,r.Fragment=$u,r.Geometry=""},t.replaceShaderValues=(r,o,i)=>{let a=r.Vertex,s=r.Fragment;a=ne.substitute(a,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,s=ne.substitute(s,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,s=ne.substitute(s,"//VTK::PositionVC::Impl",[`vec4 vertexVC = vertexVCVSOutput;
`]).result;const u=[`uniform float invertedDepth;
`,`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`];s=ne.substitute(s,"//VTK::Normal::Dec",u).result;let l="";e.context.getExtension("EXT_frag_depth")&&(l=`gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),e._openGLRenderWindow.getWebgl2()&&(l=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),s=ne.substitute(s,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float b = 2.0*dot(EyePos,EyeDir);
`,`  float c = dot(EyePos,EyePos) - 1.0;
`,`  float d = b*b - 4.0*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t = (-b - invertedDepth*sqrt(d))*0.5;
`,`    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);
`,`    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,l]).result,s=ne.substitute(s,"//VTK::Normal::Impl","").result,e.haveSeenDepthRequest&&(s=ne.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),r.Vertex=a,r.Fragment=s,n.replaceShaderValues(r,o,i)},t.setMapperShaderParameters=(r,o,i)=>{if(r.getCABO().getElementCount()&&(e.VBOBuildTime>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&r.getProgram().isAttributeUsed("offsetMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"offsetMC",12,r.getCABO().getStride(),e.context.FLOAT,2,!1)||U$("Error setting 'offsetMC' in shader VAO.")),r.getProgram().isUniformUsed("invertedDepth")&&r.getProgram().setUniformf("invertedDepth",e.invert?-1:1),r.getProgram().isUniformUsed("scaleFactor")){const a=e.currentInput.getPointData();e.renderable.getScaleArray()!=null&&a.hasArray(e.renderable.getScaleArray())?r.getProgram().setUniformf("scaleFactor",e.renderable.getScaleFactor()):r.getProgram().setUniformf("scaleFactor",1)}n.setMapperShaderParameters(r,o,i)},t.setCameraShaderParameters=(r,o,i)=>{const a=r.getProgram(),s=o.getActiveCamera(),u=e.openGLCamera.getKeyMatrices(o);if(a.isUniformUsed("VCPCMatrix")&&a.setUniformMatrix("VCPCMatrix",u.vcpc),a.isUniformUsed("MCVCMatrix"))if(i.getIsIdentity())a.setUniformMatrix("MCVCMatrix",u.wcvc);else{const l=e.openGLActor.getKeyMatrices(),f=new Float64Array(16);lt(f,u.wcvc,l.mcwc),a.setUniformMatrix("MCVCMatrix",f)}a.isUniformUsed("cameraParallel")&&r.getProgram().setUniformi("cameraParallel",s.getParallelProjection())},t.getOpenGLMode=(r,o)=>e.context.TRIANGLES,t.buildBufferObjects=(r,o)=>{const i=e.currentInput;if(i===null)return;e.renderable.mapScalars(i,1);const a=e.renderable.getColorMapColors(),s=e.primitives[e.primTypes.Tris].getCABO(),u=i.getPointData(),l=i.getPoints(),f=l.getNumberOfPoints(),c=l.getData(),d=5;let p=null;e.renderable.getScaleArray()!=null&&u.hasArray(e.renderable.getScaleArray())&&(p=u.getArray(e.renderable.getScaleArray()).getData());let h=null,m=0,y=null;a?(m=a.getNumberOfComponents(),s.setColorOffset(0),s.setColorBOStride(4),h=a.getData(),y=new Uint8Array(3*f*4),s.getColorBO()||s.setColorBO(To.newInstance()),s.getColorBO().setOpenGLRenderWindow(e._openGLRenderWindow)):s.getColorBO()&&s.setColorBO(null),s.setColorComponents(m);const b=new Float32Array(d*f*3);s.setStride(d*4);const v=Math.cos(At(30));let g=0,x=0,S=0,C=0;for(let w=0;w<f;++w){let T=e.renderable.getRadius();p&&(T=p[w]),g=w*3,b[S++]=c[g++],b[S++]=c[g++],b[S++]=c[g++],b[S++]=-2*T*v,b[S++]=-T,h&&(x=w*m,y[C++]=h[x],y[C++]=h[x+1],y[C++]=h[x+2],y[C++]=h[x+3]),g=w*3,b[S++]=c[g++],b[S++]=c[g++],b[S++]=c[g++],b[S++]=2*T*v,b[S++]=-T,h&&(y[C++]=h[x],y[C++]=h[x+1],y[C++]=h[x+2],y[C++]=h[x+3]),g=w*3,b[S++]=c[g++],b[S++]=c[g++],b[S++]=c[g++],b[S++]=0,b[S++]=2*T,h&&(y[C++]=h[x],y[C++]=h[x+1],y[C++]=h[x+2],y[C++]=h[x+3])}s.setElementCount(S/d),s.upload(b,Po.ARRAY_BUFFER),a&&s.getColorBO().upload(y,Po.ARRAY_BUFFER),e.VBOBuildTime.modified()}}const z$={};function j$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,z$,n),Td.extend(t,e,n),G$(t,e)}const W$=Ct(j$,"vtkOpenGLSphereMapper");Jt("vtkSphereMapper",W$);var H$=`//VTK::System::Dec

/*=========================================================================

  Program:   Visualization Toolkit
  Module:    vtkStickMapperVS.glsl

  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen
  All rights reserved.
  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.

     This software is distributed WITHOUT ANY WARRANTY; without even
     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
     PURPOSE.  See the above copyright notice for more information.

=========================================================================*/
// this shader implements imposters in OpenGL for Sticks

attribute vec4 vertexMC;
attribute vec3 orientMC;
attribute vec4 offsetMC;
attribute float radiusMC;

// optional normal declaration
//VTK::Normal::Dec

//VTK::Picking::Dec

// Texture coordinates
//VTK::TCoord::Dec

uniform mat3 normalMatrix; // transform model coordinate directions to view coordinates

// material property values
//VTK::Color::Dec

// clipping plane vars
//VTK::Clip::Dec

// camera and actor matrix values
//VTK::Camera::Dec

varying vec4 vertexVCVSOutput;
varying float radiusVCVSOutput;
varying float lengthVCVSOutput;
varying vec3 centerVCVSOutput;
varying vec3 orientVCVSOutput;

uniform int cameraParallel;

void main()
{
  //VTK::Picking::Impl

  //VTK::Color::Impl

  //VTK::Normal::Impl

  //VTK::TCoord::Impl

  //VTK::Clip::Impl

  vertexVCVSOutput = MCVCMatrix * vertexMC;
  centerVCVSOutput = vertexVCVSOutput.xyz;
  radiusVCVSOutput = radiusMC;
  lengthVCVSOutput = length(orientMC);
  orientVCVSOutput = normalMatrix * normalize(orientMC);

  // make sure it is pointing out of the screen
  if (orientVCVSOutput.z < 0.0)
    {
    orientVCVSOutput = -orientVCVSOutput;
    }

  // make the basis
  vec3 xbase;
  vec3 ybase;
  vec3 dir = vec3(0.0,0.0,1.0);
  if (cameraParallel == 0)
    {
    dir = normalize(-vertexVCVSOutput.xyz);
    }
  if (abs(dot(dir,orientVCVSOutput)) == 1.0)
    {
    xbase = normalize(cross(vec3(0.0,1.0,0.0),orientVCVSOutput));
    ybase = cross(xbase,orientVCVSOutput);
    }
  else
    {
    xbase = normalize(cross(orientVCVSOutput,dir));
    ybase = cross(orientVCVSOutput,xbase);
    }

  vec3 offsets = offsetMC.xyz*2.0-1.0;
  vertexVCVSOutput.xyz = vertexVCVSOutput.xyz +
    radiusVCVSOutput*offsets.x*xbase +
    radiusVCVSOutput*offsets.y*ybase +
    0.5*lengthVCVSOutput*offsets.z*orientVCVSOutput;

  gl_Position = VCPCMatrix * vertexVCVSOutput;
}
`;const{vtkErrorMacro:Uc}=Mn;function $$(t,e){e.classHierarchy.push("vtkOpenGLStickMapper");const n=q({},t);t.getShaderTemplate=(r,o,i)=>{r.Vertex=H$,r.Fragment=$u,r.Geometry=""},t.replaceShaderValues=(r,o,i)=>{let a=r.Vertex,s=r.Fragment;a=ne.substitute(a,"//VTK::Camera::Dec",[`uniform mat4 VCPCMatrix;
`,"uniform mat4 MCVCMatrix;"]).result,s=ne.substitute(s,"//VTK::PositionVC::Dec","varying vec4 vertexVCVSOutput;").result,s=ne.substitute(s,"//VTK::PositionVC::Impl",`  vec4 vertexVC = vertexVCVSOutput;
`).result;const u=[`uniform int cameraParallel;
`,`varying float radiusVCVSOutput;
`,`varying vec3 orientVCVSOutput;
`,`varying float lengthVCVSOutput;
`,`varying vec3 centerVCVSOutput;
`,`uniform mat4 VCPCMatrix;
`];s=ne.substitute(s,"//VTK::Normal::Dec",u).result;let l="";e.context.getExtension("EXT_frag_depth")&&(l=`  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;
`),e._openGLRenderWindow.getWebgl2()&&(l=`gl_FragDepth = (pos.z / pos.w + 1.0) / 2.0;
`),s=ne.substitute(s,"//VTK::Depth::Impl",[`  vec3 EyePos;
`,`  vec3 EyeDir;
`,`  if (cameraParallel != 0) {
`,`    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);
`,`    EyeDir = vec3(0.0,0.0,-1.0); }
`,`  else {
`,`    EyeDir = vertexVC.xyz;
`,`    EyePos = vec3(0.0,0.0,0.0);
`,`    float lengthED = length(EyeDir);
`,`    EyeDir = normalize(EyeDir);
`,`    if (lengthED > radiusVCVSOutput*3.0) {
`,`      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }
`,`    }
`,`  EyePos = EyePos - centerVCVSOutput;
`,`  vec3 base1;
`,`  if (abs(orientVCVSOutput.z) < 0.99) {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }
`,`  else {
`,`    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }
`,`  vec3 base2 = cross(orientVCVSOutput,base1);
`,`  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));
`,`  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));
`,`  EyePos = EyePos/radiusVCVSOutput;
`,`  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;
`,`  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);
`,`  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;
`,`  float d = b*b - 4.0*a*c;
`,`  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);
`,`  if (d < 0.0) { discard; }
`,`  else {
`,`    float t =  (-b - sqrt(d))/(2.0*a);
`,`    float tz = EyePos.z + t*EyeDir.z;
`,`    vec3 iPoint = EyePos + t*EyeDir;
`,`    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {
`,`      float t2 = (-b + sqrt(d))/(2.0*a);
`,`      float tz2 = EyePos.z + t2*EyeDir.z;
`,`      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }
`,`      else {
`,`        normalVCVSOutput = orientVCVSOutput;
`,`        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;
`,`        iPoint = EyePos + t3*EyeDir;
`,`        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`        }
`,`      }
`,`    else {
`,`      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;
`,`      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;
`,`      }
`,`    }
`,`  vec4 pos = VCPCMatrix * vertexVC;
`,l]).result,s=ne.substitute(s,"//VTK::Normal::Impl","").result,e.haveSeenDepthRequest&&(s=ne.substitute(s,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),r.Vertex=a,r.Fragment=s,n.replaceShaderValues(r,o,i)},t.setMapperShaderParameters=(r,o,i)=>{r.getCABO().getElementCount()&&(e.VBOBuildTime>r.getAttributeUpdateTime().getMTime()||r.getShaderSourceTime().getMTime()>r.getAttributeUpdateTime().getMTime())&&(r.getProgram().isAttributeUsed("orientMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"orientMC",12,r.getCABO().getStride(),e.context.FLOAT,3,!1)||Uc("Error setting 'orientMC' in shader VAO.")),r.getProgram().isAttributeUsed("offsetMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO().getColorBO(),"offsetMC",0,r.getCABO().getColorBOStride(),e.context.UNSIGNED_BYTE,3,!0)||Uc("Error setting 'offsetMC' in shader VAO.")),r.getProgram().isAttributeUsed("radiusMC")&&(r.getVAO().addAttributeArray(r.getProgram(),r.getCABO(),"radiusMC",24,r.getCABO().getStride(),e.context.FLOAT,1,!1)||Uc("Error setting 'radiusMC' in shader VAO."))),n.setMapperShaderParameters(r,o,i)},t.setCameraShaderParameters=(r,o,i)=>{const a=r.getProgram(),s=o.getActiveCamera(),u=e.openGLCamera.getKeyMatrices(o);if(a.isUniformUsed("VCPCMatrix")&&a.setUniformMatrix("VCPCMatrix",u.vcpc),i.getIsIdentity())a.isUniformUsed("MCVCMatrix")&&a.setUniformMatrix("MCVCMatrix",u.wcvc),a.isUniformUsed("normalMatrix")&&a.setUniformMatrix3x3("normalMatrix",u.normalMatrix);else{const l=e.openGLActor.getKeyMatrices();if(a.isUniformUsed("MCVCMatrix")){const f=new Float64Array(16);lt(f,u.wcvc,l.mcwc),a.setUniformMatrix("MCVCMatrix",f)}if(a.isUniformUsed("normalMatrix")){const f=new Float64Array(9);Ns(f,u.normalMatrix,l.normalMatrix),a.setUniformMatrix3x3("normalMatrix",f)}}a.isUniformUsed("cameraParallel")&&r.getProgram().setUniformi("cameraParallel",s.getParallelProjection())},t.getOpenGLMode=(r,o)=>e.context.TRIANGLES,t.buildBufferObjects=(r,o)=>{const i=e.currentInput;if(i===null)return;e.renderable.mapScalars(i,1);const a=e.renderable.getColorMapColors(),s=e.primitives[e.primTypes.Tris].getCABO(),u=i.getPointData(),l=i.getPoints(),f=l.getNumberOfPoints(),c=l.getData();let d=3;d+=4;let p=null,h=0;s.setColorBOStride(4),s.getColorBO()||s.setColorBO(To.newInstance()),s.getColorBO().setOpenGLRenderWindow(e._openGLRenderWindow),a&&(h=a.getNumberOfComponents(),s.setColorOffset(4),p=a.getData(),s.setColorBOStride(8)),s.setColorComponents(h),s.setStride(d*4);const m=new Float32Array(d*f*12),y=new Uint8Array(12*f*(p?8:4));let b=null,v=null;e.renderable.getScaleArray()!=null&&u.hasArray(e.renderable.getScaleArray())&&(b=u.getArray(e.renderable.getScaleArray()).getData()),e.renderable.getOrientationArray()!=null&&u.hasArray(e.renderable.getOrientationArray())?v=u.getArray(e.renderable.getOrientationArray()).getData():Uc([`Error setting orientationArray.
`,"You have to specify the stick orientation"]);const g=[0,1,3,0,3,2,2,3,5,2,5,4];let x=0,S=0,C=0,w=0;for(let T=0;T<f;++T){let _=e.renderable.getLength(),A=e.renderable.getRadius();b&&(_=b[T*2],A=b[T*2+1]);for(let E=0;E<g.length;++E)x=T*3,m[C++]=c[x++],m[C++]=c[x++],m[C++]=c[x++],x=T*3,m[C++]=v[x++]*_,m[C++]=v[x++]*_,m[C++]=v[x++]*_,m[C++]=A,y[w++]=255*(g[E]%2),y[w++]=g[E]>=4?255:0,y[w++]=g[E]>=2?255:0,y[w++]=255,S=T*h,p&&(y[w++]=p[S],y[w++]=p[S+1],y[w++]=p[S+2],y[w++]=p[S+3])}s.setElementCount(C/d),s.upload(m,Po.ARRAY_BUFFER),s.getColorBO().upload(y,Po.ARRAY_BUFFER),e.VBOBuildTime.modified()}}const K$={};function q$(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,K$,n),Td.extend(t,e,n),$$(t,e)}const X$=Ct(q$,"vtkOpenGLStickMapper");Jt("vtkStickMapper",X$);var Pn=Uint8Array,xs=Uint16Array,wS=Uint32Array,TS=new Pn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_S=new Pn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Y$=new Pn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AS=function(t,e){for(var n=new xs(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var o=new wS(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return[n,o]},ES=AS(TS,2),DS=ES[0],J$=ES[1];DS[28]=258,J$[258]=28;var Z$=AS(_S,0),Q$=Z$[0],IS=new xs(32768);for(var Nt=0;Nt<32768;++Nt){var Xo=(Nt&43690)>>>1|(Nt&21845)<<1;Xo=(Xo&52428)>>>2|(Xo&13107)<<2,Xo=(Xo&61680)>>>4|(Xo&3855)<<4,IS[Nt]=((Xo&65280)>>>8|(Xo&255)<<8)>>>1}var Wl=function(t,e,n){for(var r=t.length,o=0,i=new xs(e);o<r;++o)t[o]&&++i[t[o]-1];var a=new xs(e);for(o=0;o<e;++o)a[o]=a[o-1]+i[o-1]<<1;var s;{s=new xs(1<<e);var u=15-e;for(o=0;o<r;++o)if(t[o])for(var l=o<<4|t[o],f=e-t[o],c=a[t[o]-1]++<<f,d=c|(1<<f)-1;c<=d;++c)s[IS[c]>>>u]=l}return s},qu=new Pn(288);for(var Nt=0;Nt<144;++Nt)qu[Nt]=8;for(var Nt=144;Nt<256;++Nt)qu[Nt]=9;for(var Nt=256;Nt<280;++Nt)qu[Nt]=7;for(var Nt=280;Nt<288;++Nt)qu[Nt]=8;var PS=new Pn(32);for(var Nt=0;Nt<32;++Nt)PS[Nt]=5;var eK=Wl(qu,9),tK=Wl(PS,5),Mp=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ar=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},kp=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},nK=function(t){return(t+7)/8|0},_d=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t.BYTES_PER_ELEMENT==2?xs:t.BYTES_PER_ELEMENT==4?wS:Pn)(n-e);return r.set(t.subarray(e,n)),r},rK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vn=function(t,e,n){var r=new Error(e||rK[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Vn),!n)throw r;return r},Ug=function(t,e,n){var r=t.length;if(!r||n&&n.f&&!n.l)return e||new Pn(0);var o=!e||n,i=!n||n.i;n||(n={}),e||(e=new Pn(r*3));var a=function(te){var ae=e.length;if(te>ae){var ue=new Pn(Math.max(ae*2,te));ue.set(e),e=ue}},s=n.f||0,u=n.p||0,l=n.b||0,f=n.l,c=n.d,d=n.m,p=n.n,h=r*8;do{if(!f){s=Ar(t,u,1);var m=Ar(t,u+1,3);if(u+=3,m)if(m==1)f=eK,c=tK,d=9,p=5;else if(m==2){var y=Ar(t,u,31)+257,b=Ar(t,u+10,15)+4,v=y+Ar(t,u+5,31)+1;u+=14;for(var g=new Pn(v),x=new Pn(19),S=0;S<b;++S)x[Y$[S]]=Ar(t,u+S*3,7);u+=b*3;for(var C=Mp(x),w=(1<<C)-1,T=Wl(x,C),S=0;S<v;){var _=T[Ar(t,u,w)];u+=_&15;var A=_>>>4;if(A<16)g[S++]=A;else{var E=0,D=0;for(A==16?(D=3+Ar(t,u,3),u+=2,E=g[S-1]):A==17?(D=3+Ar(t,u,7),u+=3):A==18&&(D=11+Ar(t,u,127),u+=7);D--;)g[S++]=E}}var O=g.subarray(0,y),P=g.subarray(y);d=Mp(O),p=Mp(P),f=Wl(O,d),c=Wl(P,p)}else Vn(1);else{var A=nK(u)+4,k=t[A-4]|t[A-3]<<8,U=A+k;if(U>r){i&&Vn(0);break}o&&a(l+k),e.set(t.subarray(A,U),l),n.b=l+=k,n.p=u=U*8,n.f=s;continue}if(u>h){i&&Vn(0);break}}o&&a(l+131072);for(var H=(1<<d)-1,R=(1<<p)-1,B=u;;B=u){var E=f[kp(t,u)&H],M=E>>>4;if(u+=E&15,u>h){i&&Vn(0);break}if(E||Vn(2),M<256)e[l++]=M;else if(M==256){B=u,f=null;break}else{var z=M-254;if(M>264){var S=M-257,$=TS[S];z=Ar(t,u,(1<<$)-1)+DS[S],u+=$}var J=c[kp(t,u)&R],Z=J>>>4;J||Vn(3),u+=J&15;var P=Q$[Z];if(Z>3){var $=_S[Z];P+=kp(t,u)&(1<<$)-1,u+=$}if(u>h){i&&Vn(0);break}o&&a(l+131072);for(var X=l+z;l<X;l+=4)e[l]=e[l-P],e[l+1]=e[l+1-P],e[l+2]=e[l+2-P],e[l+3]=e[l+3-P];l=X}}n.l=f,n.p=B,n.b=l,n.f=s,f&&(s=1,n.m=d,n.d=c,n.n=p)}while(!s);return l==e.length?e:_d(e,0,l)},oK=new Pn(0),no=function(t,e){return t[e]|t[e+1]<<8},Rr=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},Lp=function(t,e){return Rr(t,e)+Rr(t,e+4)*4294967296},iK=function(t){(t[0]!=31||t[1]!=139||t[2]!=8)&&Vn(6,"invalid gzip data");var e=t[3],n=10;e&4&&(n+=t[10]|(t[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(e&2)},aK=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},sK=function(t){((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)&&Vn(6,"invalid zlib data"),t[1]&32&&Vn(6,"invalid zlib data: preset dictionaries not supported")};function OS(t,e){return Ug(t,e)}function lK(t,e){return Ug(t.subarray(iK(t),-8),new Pn(aK(t)))}function uK(t,e){return Ug((sK(t),t.subarray(2,-4)),e)}function Hr(t,e){return t[0]==31&&t[1]==139&&t[2]==8?lK(t):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?OS(t,e):uK(t,e)}var U3=typeof TextEncoder<"u"&&new TextEncoder,wm=typeof TextDecoder<"u"&&new TextDecoder,cK=0;try{wm.decode(oK,{stream:!0}),cK=1}catch(t){}var fK=function(t){for(var e="",n=0;;){var r=t[n++],o=(r>127)+(r>223)+(r>239);if(n+o>t.length)return[e,_d(t,n-1)];o?o==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):o&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}};function dK(t,e){var n;if(U3)return U3.encode(t);for(var r=t.length,o=new Pn(t.length+(t.length>>1)),i=0,a=function(f){o[i++]=f},n=0;n<r;++n){if(i+5>o.length){var s=new Pn(i+8+(r-n<<1));s.set(o),o=s}var u=t.charCodeAt(n);u<128||e?a(u):u<2048?(a(192|u>>6),a(128|u&63)):u>55295&&u<57344?(u=65536+(u&1047552)|t.charCodeAt(++n)&1023,a(240|u>>18),a(128|u>>12&63),a(128|u>>6&63),a(128|u&63)):(a(224|u>>12),a(128|u>>6&63),a(128|u&63))}return _d(o,0,i)}function Lr(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(wm)return wm.decode(t);var o=fK(t),i=o[0],a=o[1];return a.length&&Vn(8),i}}var pK=function(t,e){return e+30+no(t,e+26)+no(t,e+28)},hK=function(t,e,n){var r=no(t,e+28),o=Lr(t.subarray(e+46,e+46+r),!(no(t,e+8)&2048)),i=e+46+r,a=Rr(t,e+20),s=n&&a==4294967295?mK(t,i):[a,Rr(t,e+24),Rr(t,e+42)],u=s[0],l=s[1],f=s[2];return[no(t,e+10),u,l,o,i+no(t,e+30)+no(t,e+32),f]},mK=function(t,e){for(;no(t,e)!=1;e+=4+no(t,e+2));return[Lp(t,e+12),Lp(t,e+4),Lp(t,e+20)]};function G3(t,e){for(var n={},r=t.length-22;Rr(t,r)!=101010256;--r)(!r||t.length-r>65558)&&Vn(13);var o=no(t,r+8);if(!o)return{};var i=Rr(t,r+16),a=i==4294967295;a&&(r=Rr(t,r-12),Rr(t,r)!=101075792&&Vn(13),o=Rr(t,r+32),i=Rr(t,r+48));for(var s=e,u=0;u<o;++u){var l=hK(t,i,a),f=l[0],c=l[1],d=l[2],p=l[3],h=l[4],m=l[5],y=pK(t,m);i=h,(!s||s({name:p,size:c,originalSize:d,compression:f}))&&(f?f==8?n[p]=OS(t.subarray(y,y+c),new Pn(d)):Vn(14,"unknown compression type "+f):n[p]=_d(t,y,y+c))}return n}function NS(){const t=new ArrayBuffer(4),e=new Uint8Array(t),n=new Uint32Array(t);return e[0]=161,e[1]=178,e[2]=195,e[3]=212,n[0]===3569595041?"LittleEndian":n[0]===2712847316?"BigEndian":null}const gK=NS();function vK(t,e){if(e<2)return;const n=new Int8Array(t),r=n.length,o=[];for(let i=0;i<r;i+=e){for(let a=0;a<e;a++)o.push(n[i+a]);for(let a=0;a<e;a++)n[i+a]=o.pop()}}var Oo={ENDIANNESS:gK,getEndianness:NS,swapBytes:vK};const Gg={};function RS(t){return!!Gg[t]}function yK(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Gg[t](e)}function Ad(t,e){Gg[t]=e}var Zs={get:yK,has:RS,registerType:Ad};const{vtkErrorMacro:mu,vtkDebugMacro:bK}=V;let Ls=0;function Ed(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.entries(n.headers).forEach(o=>{let[i,a]=o;return r.setRequestHeader(i,a)}),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}function xK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e&&e.compression&&e.compression!=="gz"&&(mu("Supported algorithms are: [gz]"),mu(`Unkown compression algorithm: ${e.compression}`)),new Promise((n,r)=>{const o=Ed("GET",t,e);o.onreadystatechange=i=>{o.readyState===4&&(o.status===200||o.status===0?e.compression?n(Hr(new Uint8Array(o.response)).buffer):n(o.response):r({xhr:o,e:i}))},o.responseType="arraybuffer",o.send()})}function SK(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.ref&&!n.ref.pending?new Promise((o,i)=>{let a=null;n.ref.url?a=n.ref.url:a=[e,n.ref.basepath,r.compression?`${n.ref.id}.gz`:n.ref.id].join("/");const s=Ed("GET",a,r);s.onreadystatechange=u=>{s.readyState===1&&(n.ref.pending=!0,++Ls===1&&t!=null&&t.invokeBusy&&t.invokeBusy(!0)),s.readyState===4&&(n.ref.pending=!1,s.status===200||s.status===0?(n.buffer=s.response,r.compression&&(n.dataType==="string"||n.dataType==="JSON"?n.buffer=Lr(Hr(new Uint8Array(n.buffer))):n.buffer=Hr(new Uint8Array(n.buffer)).buffer),n.ref.encode==="JSON"?n.values=JSON.parse(n.buffer):(Oo.ENDIANNESS!==n.ref.encode&&Oo.ENDIANNESS&&(bK(`Swap bytes of ${n.name}`),Oo.swapBytes(n.buffer,bd[n.dataType])),n.values=V.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&mu(`Error in FetchArray: ${n.name}, does not have the proper array size. Got ${n.values.length}, instead of ${n.size}`),delete n.ref,--Ls===0&&t!=null&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),o(n)):i({xhr:s,e:u}))},s.responseType=r.compression||n.dataType!=="string"?"arraybuffer":"text",s.send()}):Promise.resolve(n)}function CK(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,o)=>{const i=Ed("GET",e,n);i.onreadystatechange=a=>{i.readyState===1&&++Ls===1&&t!=null&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Ls===0&&t!=null&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n.compression?r(JSON.parse(Lr(Hr(new Uint8Array(i.response))))):r(JSON.parse(i.responseText)):o({xhr:i,e:a}))},i.responseType=n.compression?"arraybuffer":"text",i.send()})}function wK(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression&&n.compression!=="gz"&&(mu("Supported algorithms are: [gz]"),mu(`Unkown compression algorithm: ${n.compression}`)),new Promise((r,o)=>{const i=Ed("GET",e,n);i.onreadystatechange=a=>{i.readyState===1&&++Ls===1&&t!=null&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Ls===0&&t!=null&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?n.compression?r(Lr(Hr(new Uint8Array(i.response)))):r(i.responseText):o({xhr:i,e:a}))},i.responseType=n.compression?"arraybuffer":"text",i.send()})}function TK(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,o)=>{const i=new Image;n.crossOrigin&&(i.crossOrigin=n.crossOrigin),i.onload=()=>r(i),i.onerror=o,i.src=e})}const _K={fetchArray:SK,fetchJSON:CK,fetchText:wK,fetchBinary:xK,fetchImage:TK};Ad("http",t=>_K);const nr=[];nr[45]=62;nr[95]=63;const ns="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let t=0;t<ns.length;t++)nr[ns.charCodeAt(t)]=t;function Jr(t){return nr[t.charCodeAt(0)]!==void 0}function AK(t){const e=t.length,n=[];let r=null;for(let o=0;o<e;o++)Jr(t[o])?(r||(r={start:o,count:0}),r.count++,r.end=o):t[o]==="="&&r&&(n.push(r),r=null);return r&&n.push(r),n}function EK(t,e,n,r){const{start:o,count:i}=e,a=i%4,s=Math.floor(i/4);let u=o,l=null,f=n;for(let c=0;c<s;c++){for(;!Jr(t[u]);)u++;for(l=nr[t.charCodeAt(u++)]<<18;!Jr(t[u]);)u++;for(l|=nr[t.charCodeAt(u++)]<<12;!Jr(t[u]);)u++;for(l|=nr[t.charCodeAt(u++)]<<6;!Jr(t[u]);)u++;l|=nr[t.charCodeAt(u++)],r[f++]=l>>16&255,r[f++]=l>>8&255,r[f++]=l&255}switch(a){case 3:for(;!Jr(t[u]);)u++;for(l=nr[t.charCodeAt(u++)]<<10;!Jr(t[u]);)u++;for(l|=nr[t.charCodeAt(u++)]<<4;!Jr(t[u]);)u++;l|=nr[t.charCodeAt(u++)]>>2,r[f++]=l>>8&255,r[f++]=l&255;break;case 2:for(;!Jr(t[u]);)u++;for(l=nr[t.charCodeAt(u++)]<<2;!Jr(t[u]);)u++;l|=nr[t.charCodeAt(u++)]>>4,r[f++]=l&255;break;case 1:throw new Error("BASE64: remain 1 should not happen")}return f}function DK(t){const e=AK(t),n=e[e.length-1].end+1,r=(4-n%4)%4,o=(n+r)*3/4-r,i=new ArrayBuffer(o),a=new Uint8Array(i);let s=0;for(let u=0;u<e.length;u++)s+=EK(t,e[u],s,a),s+=(4-e[u].count%4)%4;return i}function z3(t,e,n){const r=(t<<16)+(e<<8)+n;return ns[r>>18]+ns[r>>12&63]+ns[r>>6&63]+ns[r&63]}function MS(t){const e=new Uint8Array(t),n=t.byteLength%3,r=t.byteLength-n,o=Array(r/3);for(let i=0;i<o.length;i++){const a=i*3;o[i]=z3(e[a],e[a+1],e[a+2])}if(n>0){const i=z3(e[r],e[r+1]||0,e[r+2]||0);n===1?o.push(`${i.substr(0,2)}==`):n===2&&o.push(`${i.substr(0,3)}=`)}return o.join("")}var Da={toArrayBuffer:DK,fromArrayBuffer:MS};const{vtkErrorMacro:Ja,vtkDebugMacro:IK}=V;function PK(t){const e=t.split(".").pop().toLowerCase();return e==="jpg"?"jpeg":e}function OK(t,e,n){return r=>{t.buffer=new ArrayBuffer(r.length),new Uint8Array(t.buffer).set(r),e&&(t.dataType==="string"||t.dataType==="JSON"?t.buffer=Lr(Hr(new Uint8Array(t.buffer))):t.buffer=Hr(new Uint8Array(t.buffer)).buffer),t.ref.encode==="JSON"?t.values=JSON.parse(t.buffer):(Oo.ENDIANNESS!==t.ref.encode&&Oo.ENDIANNESS&&(IK(`Swap bytes of ${t.name}`),Oo.swapBytes(t.buffer,bd[t.dataType])),t.values=V.newTypedArray(t.dataType,t.buffer)),t.values.length!==t.size&&Ja(`Error in FetchArray: ${t.name} does not have the proper array size. Got ${t.values.length}, instead of ${t.size}`),n()}}function NK(t,e,n){return r=>{e?t.values=JSON.parse(Lr(Hr(r))):t.values=JSON.parse(r),n()}}function RK(t){return t[0]==="/"?t.substr(1):t}function MK(t){return new URL(t,"http://any").pathname}function dl(t){return RK(MK(t))}function kK(t){return new Promise((e,n)=>{typeof t=="string"?e(dK(t)):t instanceof Blob?e(t.arrayBuffer().then(r=>new Uint8Array(r))):t instanceof ArrayBuffer?e(new Uint8Array(t)):(t==null?void 0:t.buffer)instanceof ArrayBuffer?e(new Uint8Array(t.buffer)):n(new Error("Invalid datatype to unpack."))})}function LK(t){let e=!1,n=0,r=null,o="";return kK(t.zipContent).then(i=>{r=G3(i),e=!0;const a=[];Object.keys(r).forEach(s=>{s.endsWith("index.json")&&a.push(s)}),a.sort((s,u)=>s.length-u.length),o=a[0].replace(/index\.json$/,""),t.callback&&t.callback(r)}),{fetchArray(i,a,s){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return new Promise((l,f)=>{e||Ja("ERROR!!! zip not ready...");const c=dl([a,s.ref.basepath,u.compression?`${s.ref.id}.gz`:s.ref.id].join("/"));++n===1&&i!=null&&i.invokeBusy&&i.invokeBusy(!0);function d(){delete s.ref,--n===0&&i!=null&&i.invokeBusy&&i.invokeBusy(!1),i!=null&&i.modified&&i.modified(),l(s)}const p=r[`${o}${c}`];s.dataType==="string"&&!u.compression?NK(s,u.compression,d)(Lr(p)):OK(s,u.compression,d)(p)})},fetchJSON(i,a){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=dl(a);e||Ja("ERROR!!! zip not ready...");const l=r[`${o}${u}`];if(s.compression){if(s.compression==="gz"){const f=Lr(Hr(l));return Promise.resolve(JSON.parse(f))}return Promise.reject(new Error("Invalid compression"))}return Promise.resolve(JSON.parse(Lr(l)))},fetchText(i,a){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=dl(a);e||Ja("ERROR!!! zip not ready...");const l=r[`${o}${u}`];return s.compression?s.compression==="gz"?Promise.resolve(Lr(G3(l))):Promise.reject(new Error("Invalid compression")):Promise.resolve(Lr(l))},fetchImage(i,a){const s=dl(a);e||Ja("ERROR!!! zip not ready...");const u=r[`${o}${s}`];return new Promise((l,f)=>{const c=new Image;c.onload=()=>l(c),c.onerror=f;const d=MS(u.buffer);c.src=`data:image/${PK(s)};base64,${d}`})},fetchBinary(i,a){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=dl(a);e||Ja("ERROR!!! zip not ready...");const l=r[`${o}${u}`];return s.compression?s.compression==="gz"?Promise.resolve(Hr(l).buffer):Promise.reject(new Error("Invalid compression")):Promise.resolve(l.buffer)}}}const FK={create:LK};Ad("zip",t=>FK.create(t));function BK(t,e){e.classHierarchy.push("vtkConcentricCylinderSource");function n(){for(;e.cellFields.length<e.radius.length;)e.cellFields.push(e.cellFields.length)}t.clearRadius=()=>{e.radius=[],e.cellFields=[],t.modified()},t.addRadius=(o,i)=>{e.radius.push(o),i!==void 0&&e.cellFields.push(i),n(),t.modified()},t.getNumberOfRadius=()=>e.radius.length,t.getRadius=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.radius[o]},t.setRadius=(o,i)=>{e.radius[o]=i,t.modified()},t.setCellField=(o,i)=>{e.cellFields[o]=i,t.modified()},t.removeMask=()=>{e.mask=null,t.modified()},t.setMaskLayer=(o,i)=>{let a=!1;!e.mask&&i&&(a=!0,e.mask=[]),e.mask&&(!e.mask[o]!=!i&&(a=!0),e.mask[o]=i),a&&t.modified()},t.getMaskLayer=o=>o===void 0?e.mask:e.mask[o];function r(o,i){if(e.deleted||!e.radius.length)return;n();let a=i[0];const s=e.radius.length,u=e.height/2;let l=0,f=0,c=e.startTheta<e.endTheta?e.startTheta:e.endTheta;c*=Math.PI/180;let d=e.endTheta>e.startTheta?e.endTheta:e.startTheta;d*=Math.PI/180;let p=e.resolution,h=!1;d>=c+2*Math.PI?d=c+2*Math.PI:(++p,h=!0);const m=(d-c)/e.resolution,y=p*s*2+2;if(!e.skipInnerFaces&&!e.mask)l=2*(p+1)+5*p+(s-1)*p*20+(h?10*s:0),f=2+p+(s-1)*4*p+(h?2*s:0);else if(!e.skipInnerFaces&&e.mask){e.mask[0]||(l+=2*(p+1)+5*p+(h?10:0),f+=2+p+(h?2:0));for(let T=1;T<s;T++)e.mask[T]||(l+=p*20+(h?10:0),f+=4*p+(h?2:0))}else{(!e.skipInnerFaces||!e.mask||!e.mask[0])&&(l+=2*(p+1)+(h?10:0),f+=2+(h?2:0),(e.radius.length===1||!e.skipInnerFaces||e.mask&&e.mask[1])&&(l+=5*p,f+=p));for(let T=1;T<s;T++)if(!e.skipInnerFaces||!e.mask||!e.mask[T]){const _=s-1===T;l+=p*10+(h?10:0),f+=p*2+(h?2:0),(!e.skipInnerFaces||e.mask&&e.mask[T-1])&&(l+=p*5,f+=p),(_||!e.skipInnerFaces||e.mask&&e.mask[T+1])&&(l+=p*5,f+=p)}}let b=0;const v=V.newTypedArray(e.pointType,y*3);let g=0;const x=new Uint32Array(l);let S=0;const C=new Float32Array(f);v[b*3+0]=0,v[b*3+1]=0,v[b*3+2]=u,b++,v[b*3+0]=0,v[b*3+1]=0,v[b*3+2]=-u,b++;for(let T=0;T<s;T++){const _=e.radius[T];for(let A=0;A<p;A++){const E=c+A*m;v[b*3+0]=_*Math.cos(E),v[b*3+1]=_*Math.sin(E),v[b*3+2]=u,b++}for(let A=0;A<p;A++){const E=c+A*m;v[b*3+0]=_*Math.cos(E),v[b*3+1]=_*Math.sin(E),v[b*3+2]=-u,b++}}let w=e.cellFields[0];if(!e.mask||!e.mask[0]){C[S++]=w,x[g++]=p+(h?1:0),h&&(x[g++]=0);for(let T=0;T<p;T++)x[g++]=T+2;C[S++]=w,x[g++]=p+(h?1:0),h&&(x[g++]=1);for(let T=0;T<p;T++)x[g++]=2*p-T-1+2;if(!e.skipInnerFaces||e.mask&&e.mask[1]||s===1)for(let T=0;T<e.resolution;T++)x[g++]=4,x[g++]=(T+1)%p+2,x[g++]=T+2,x[g++]=T+p+2,x[g++]=(T+1)%p+p+2,C[S++]=w;h&&(x[g++]=4,x[g++]=2,x[g++]=0,x[g++]=1,x[g++]=p+2,C[S++]=w,x[g++]=4,x[g++]=0,x[g++]=p+1,x[g++]=2*p+1,x[g++]=1,C[S++]=w)}for(let T=1;T<s;T++){if(e.mask&&e.mask[T])continue;const _=p*2*(T-1)+2,A=_+2*p,E=s-1===T;w=e.cellFields[T];for(let D=0;D<e.resolution;D++)x[g++]=4,x[g++]=D+_,x[g++]=(D+1)%p+_,x[g++]=(D+1)%p+A,x[g++]=D+A,C[S++]=w;for(let D=0;D<e.resolution;D++)x[g++]=4,x[g++]=(D+1)%p+_+p,x[g++]=D+_+p,x[g++]=D+A+p,x[g++]=(D+1)%p+A+p,C[S++]=w;if(!e.skipInnerFaces||e.mask&&e.mask[T-1])for(let D=0;D<e.resolution;D++)x[g++]=4,x[g++]=D+_,x[g++]=(D+1)%p+_,x[g++]=(D+1)%p+p+_,x[g++]=D+p+_,C[S++]=w;if(!e.skipInnerFaces||E||e.mask&&(e.mask[T+1]||E))for(let D=0;D<e.resolution;D++)x[g++]=4,x[g++]=(D+1)%p+A,x[g++]=D+A,x[g++]=D+p+A,x[g++]=(D+1)%p+p+A,C[S++]=w;h&&(x[g++]=4,x[g++]=A,x[g++]=_,x[g++]=p+_,x[g++]=p+A,C[S++]=w,x[g++]=4,x[g++]=e.resolution+A,x[g++]=e.resolution+_,x[g++]=e.resolution+p+_,x[g++]=e.resolution+p+A,C[S++]=w)}In.buildFromRadian().translate(...e.center).rotateFromDirections([0,0,1],e.direction).apply(v),a=bt.newInstance(),a.getPoints().setData(v,3),a.getPolys().setData(x,1),a.getCellData().setScalars(Ce.newInstance({name:"layer",values:C})),i[0]=a}t.requestData=r}const VK={height:1,radius:[.5],cellFields:[1],resolution:6,startTheta:0,endTheta:360,center:[0,0,0],direction:[0,0,1],skipInnerFaces:!0,mask:null,pointType:"Float64Array"};function UK(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VK,n),V.obj(t,e),V.setGet(t,e,["height","resolution","startTheta","endTheta","skipInnerFaces"]),V.setGetArray(t,e,["center","direction"],3),V.getArray(t,e,["cellFields"]),V.algo(t,e,0,1),BK(t,e)}V.newInstance(UK,"vtkConcentricCylinderSource");function GK(t,e){e.classHierarchy.push("vtkConeSource");function n(r,o){if(e.deleted)return;let i=o[0];const a=2*Math.PI/e.resolution,s=-e.height/2,u=e.resolution+1,l=4*e.resolution+1+e.resolution;let f=0;const c=V.newTypedArray(e.pointType,u*3);let d=0;const p=new Uint32Array(l);c[0]=e.height/2,c[1]=0,c[2]=0,e.capping&&(p[d++]=e.resolution);for(let h=0;h<e.resolution;h++)f++,c[f*3+0]=s,c[f*3+1]=e.radius*Math.cos(h*a),c[f*3+2]=e.radius*Math.sin(h*a),e.capping&&(p[e.resolution-d+++1]=f);for(let h=0;h<e.resolution;h++)p[d++]=3,p[d++]=0,p[d++]=h+1,p[d++]=h+2>e.resolution?1:h+2;In.buildFromRadian().translate(...e.center).rotateFromDirections([1,0,0],e.direction).apply(c),i=bt.newInstance(),i.getPoints().setData(c,3),i.getPolys().setData(p,1),o[0]=i}t.requestData=n}const zK={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:"Float64Array"};function kS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zK,n),V.obj(t,e),V.setGet(t,e,["height","radius","resolution","capping"]),V.setGetArray(t,e,["center","direction"],3),V.algo(t,e,0,1),GK(t,e)}const jK=V.newInstance(kS,"vtkConeSource");var WK={newInstance:jK,extend:kS};function HK(t,e){e.classHierarchy.push("vtkCylinderSource");function n(r,o){if(e.deleted)return;let i=o[0];const a=2*Math.PI/e.resolution;let s=2*e.resolution,u=5*e.resolution;e.capping&&(s=4*e.resolution,u=7*e.resolution+2);const l=V.newTypedArray(e.pointType,s*3);let f=0;const c=new Uint32Array(u),d=new Float32Array(s*3),p=Ce.newInstance({numberOfComponents:3,values:d,name:"Normals"}),h=new Float32Array(s*2),m=Ce.newInstance({numberOfComponents:2,values:h,name:"TCoords"}),y=[0,0,0],b=[0,0,0],v=[0,0,0],g=[0,0,0],x=[0,0],S=[0,0],C=e.otherRadius==null?e.radius:e.otherRadius;for(let w=0;w<e.resolution;w++){y[0]=Math.cos(w*a+e.initAngle),b[0]=y[0],v[0]=e.radius*y[0]+e.center[0],g[0]=v[0],x[0]=Math.abs(2*w/e.resolution-1),S[0]=x[0],v[1]=.5*e.height+e.center[1],g[1]=-.5*e.height+e.center[1],x[1]=0,S[1]=1,y[2]=-Math.sin(w*a+e.initAngle),b[2]=y[2],v[2]=C*y[2]+e.center[2],g[2]=v[2];const T=2*w;for(let _=0;_<3;_++)d[T*3+_]=y[_],d[(T+1)*3+_]=b[_],l[T*3+_]=v[_],l[(T+1)*3+_]=g[_],_<2&&(h[T*2+_]=x[_],h[(T+1)*2+_]=S[_])}for(let w=0;w<e.resolution;w++){c[f++]=4,c[f++]=2*w,c[f++]=2*w+1;const T=(2*w+3)%(2*e.resolution);c[f++]=T,c[f++]=T-1}if(e.capping){for(let w=0;w<e.resolution;w++){v[0]=e.radius*Math.cos(w*a+e.initAngle),g[0]=v[0],x[0]=v[0],S[0]=v[0],v[0]+=e.center[0],g[0]+=e.center[0],y[1]=1,b[1]=-1,v[1]=.5*e.height+e.center[1],g[1]=-.5*e.height+e.center[1],v[2]=-C*Math.sin(w*a+e.initAngle),g[2]=v[2],x[1]=v[2],S[1]=v[2],v[2]+=e.center[2],g[2]+=e.center[2];const T=2*e.resolution+w,_=3*e.resolution+e.resolution-w-1;for(let A=0;A<3;A++)d[3*T+A]=y[A],d[3*_+A]=b[A],l[3*T+A]=v[A],l[3*_+A]=g[A],A<2&&(h[2*T+A]=x[A],h[2*_+A]=S[A])}c[f++]=e.resolution;for(let w=0;w<e.resolution;w++)c[f++]=2*e.resolution+w;c[f++]=e.resolution;for(let w=0;w<e.resolution;w++)c[f++]=3*e.resolution+w}In.buildFromRadian().translate(...e.center).rotateFromDirections([0,1,0],e.direction).translate(...e.center.map(w=>w*-1)).apply(l),i=bt.newInstance(),i.getPoints().setData(l,3),i.getPolys().setData(c,1),i.getPointData().setNormals(p),i.getPointData().setTCoords(m),o[0]=i}t.requestData=n}const $K={height:1,initAngle:0,radius:1,resolution:6,center:[0,0,0],direction:[0,1,0],capping:!0,pointType:"Float64Array"};function LS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$K,n),V.obj(t,e),V.setGet(t,e,["height","initAngle","otherRadius","radius","resolution","capping"]),V.setGetArray(t,e,["center","direction"],3),V.algo(t,e,0,1),HK(t,e)}const KK=V.newInstance(LS,"vtkCylinderSource");var qK={newInstance:KK,extend:LS};const{vtkWarningMacro:XK}=V;function YK(t,e){e.classHierarchy.push("vtkLineSource"),t.requestData=(n,r)=>{if(e.deleted)return;const o=r[0],i=o?o.getPoints().getDataType():e.pointType,a=bt.newInstance(),s=[];if(rn(e.point2,e.point1,s),sr(s)<=0){XK("Zero-length line definition");return}const u=e.resolution,l=u+1,f=V.newTypedArray(i,l*3);a.getPoints().setData(f,3);const c=new Uint32Array(l+1);a.getLines().setData(c,1);let d=0,p=0;for(let h=0;h<u+1;h++)p=h/u,f[d*3]=e.point1[0]+p*s[0],f[d*3+1]=e.point1[1]+p*s[1],f[d*3+2]=e.point1[2]+p*s[2],d++;d=0,c[0]=l;for(let h=0;h<l;h++)c[h+1]=h;r[0]=a}}const JK={resolution:10,point1:[-1,0,0],point2:[1,0,0],pointType:"Float64Array"};function ZK(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,JK,n),V.obj(t,e),V.setGet(t,e,["resolution"]),V.setGetArray(t,e,["point1","point2"],3),V.algo(t,e,0,1),YK(t,e)}V.newInstance(ZK,"vtkLineSource");const{vtkWarningMacro:QK}=V,eq=1e-6;function tq(t,e){e.classHierarchy.push("vtkPlaneSource"),t.requestData=(n,r)=>{if(e.deleted)return;const o=r[0],i=o?o.getPoints().getDataType():e.pointType,a=bt.newInstance(),s=[],u=[];if(rn(e.point1,e.origin,s),rn(e.point2,e.origin,u),!t.updatePlane(s,u)){QK("Bad plane definition");return}const l=e.xResolution,f=e.yResolution,c=(l+1)*(f+1),d=l*f,p=V.newTypedArray(i,c*3);a.getPoints().setData(p,3);const h=new Uint32Array(5*d);a.getPolys().setData(h,1);const m=new Float32Array(c*3),y=Ce.newInstance({numberOfComponents:3,values:m,name:"Normals"});a.getPointData().setNormals(y);const b=new Float32Array(c*2),v=Ce.newInstance({numberOfComponents:2,values:b,name:"TextureCoordinates"});a.getPointData().setTCoords(v);const g=new Float32Array(2);let x=0;for(let S=0;S<f+1;S++){g[1]=S/f;for(let C=0;C<l+1;C++)g[0]=C/l,p[x*3]=e.origin[0]+g[0]*s[0]+g[1]*u[0],p[x*3+1]=e.origin[1]+g[0]*s[1]+g[1]*u[1],p[x*3+2]=e.origin[2]+g[0]*s[2]+g[1]*u[2],b[x*2]=g[0],b[x*2+1]=g[1],m[x*3]=e.normal[0],m[x*3+1]=e.normal[1],m[x*3+2]=e.normal[2],x++}x=0;for(let S=0;S<f;S++)for(let C=0;C<l;C++)h[x*5+0]=4,h[x*5+1]=C+S*(l+1),h[x*5+2]=h[x*5+1]+1,h[x*5+3]=h[x*5+1]+l+2,h[x*5+4]=h[x*5+1]+l+1,x++;r[0]=a},t.setNormal=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),Ft(n)!==0){const r=Fe(e.normal,n);let o=0;const i=[];r<1&&(r<=-1?(o=At(180),rn(e.point1,e.origin,i)):(Kt(e.normal,n,i),o=Math.acos(r)),t.rotate(o,i))}},t.rotate=(n,r)=>{if(Math.abs(n)<eq)return;const o=Le(new Float64Array(16)),i=[];cL(i,e.center),Ot(o,o,e.center),Cn(o,o,n,r),Ot(o,o,i),Be(e.origin,e.origin,o),Be(e.point1,e.point1,o),Be(e.point2,e.point2,o),In.buildFromRadian().rotate(n,r).apply(e.normal),t.modified()},t.setCenter=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Ul(n,e.center)){const r=[];rn(e.point1,e.origin,r);const o=[];rn(e.point2,e.origin,o);for(let i=0;i<3;i++)e.center[i]=n[i],e.origin[i]=e.center[i]-.5*(r[i]+o[i]),e.point1[i]=e.origin[i]+r[i],e.point2[i]=e.origin[i]+o[i];t.modified()}},t.setPoint1=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Ul(n,e.point1)){const r=[],o=[];e.point1=[...n],rn(e.point1,e.origin,r),rn(e.point2,e.origin,o),t.updatePlane(r,o),t.modified()}},t.setPoint2=function(){let n=[];if(arguments.length===1||Array.isArray(arguments.length<=0?void 0:arguments[0])?n=[...arguments.length<=0?void 0:arguments[0]]:arguments.length===3&&(n=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]]),!Ul(n,e.point2)){const r=[],o=[];e.point2=[...n],rn(e.point1,e.origin,r),rn(e.point2,e.origin,o),t.updatePlane(r,o),t.modified()}},t.updatePlane=(n,r)=>{for(let o=0;o<3;o++)e.center[o]=e.origin[o]+.5*(n[o]+r[o]);return Kt(n,r,e.normal),Ft(e.normal)!==0}}const nq={xResolution:10,yResolution:10,origin:[0,0,0],point1:[1,0,0],point2:[0,1,0],pointType:"Float64Array"};function rq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nq,n),e.normal=[0,0,1],e.center=[0,0,0],V.obj(t,e),V.setGet(t,e,["xResolution","yResolution"]),V.setGetArray(t,e,["origin"],3),V.getArray(t,e,["point1","point2","normal","center"],3),V.algo(t,e,0,1),tq(t,e),t.setPoint1(e.point1),t.setPoint2(e.point2)}V.newInstance(rq,"vtkPlaneSource");function oq(t,e){e.classHierarchy.push("vtkPointSource"),t.requestData=(n,r)=>{if(e.deleted)return;const o=r[0],i=o?o.getPoints().getDataType():e.pointType,a=bt.newInstance(),s=e.numberOfPoints,u=V.newTypedArray(i,s*3);a.getPoints().setData(u,3);const l=new Uint32Array(s+1);a.getVerts().setData(l,1);let f,c,d,p,h;for(let m=0;m<s;m++)f=1-2*v0(),c=Math.sqrt(1-f*f),d=e.radius*_e(v0(),.33333333),p=d*c,h=2*Math.PI*v0(),u[m*3]=e.center[0]+p*Math.cos(h),u[m*3+1]=e.center[1]+p*Math.sin(h),u[m*3+2]=e.center[2]+d*f;l[0]=s;for(let m=0;m<s;m++)l[m+1]=m;r[0]=a}}const iq={numberOfPoints:10,center:[0,0,0],radius:.5,pointType:"Float64Array"};function aq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iq,n),V.obj(t,e),V.setGet(t,e,["numberOfPoints","radius"]),V.setGetArray(t,e,["center"],3),V.algo(t,e,0,1),oq(t,e)}V.newInstance(aq,"vtkPointSource");function sq(t,e){e.classHierarchy.push("vtkSphereSource"),t.requestData=(n,r)=>{if(e.deleted)return;let o=r[0];const i=o?o.getPoints().getDataType():e.pointType;o=bt.newInstance();let a=0,{thetaResolution:s}=e,u=e.startTheta<e.endTheta?e.startTheta:e.endTheta;u*=Math.PI/180;let l=e.endTheta>e.startTheta?e.endTheta:e.startTheta;l*=Math.PI/180;let f=e.startPhi<e.endPhi?e.startPhi:e.endPhi;f*=Math.PI/180;let c=e.endPhi>e.startPhi?e.endPhi:e.startPhi;c*=Math.PI/180,Math.abs(u-l)<2*Math.PI&&++s;const d=(l-u)/e.thetaResolution,p=e.startPhi<=0?1:0,h=e.phiResolution+(e.endPhi>=180?-1:0),m=e.phiResolution*s+2,y=e.phiResolution*2*e.thetaResolution;let b=0,v=V.newTypedArray(i,m*3),g=new Float32Array(m*3),x=0,S=new Uint32Array(y*5);e.startPhi<=0&&(v[b*3+0]=e.center[0],v[b*3+1]=e.center[1],v[b*3+2]=e.center[2]+e.radius,g[b*3+0]=0,g[b*3+1]=0,g[b*3+2]=1,b++,a++),e.endPhi>=180&&(v[b*3+0]=e.center[0],v[b*3+1]=e.center[1],v[b*3+2]=e.center[2]-e.radius,g[b*3+0]=0,g[b*3+1]=0,g[b*3+2]=-1,b++,a++);const C=e.phiResolution-a,w=(c-f)/(e.phiResolution-1);for(let A=0;A<s;A++){const E=u+A*d;for(let D=p;D<h;D++){const O=f+D*w,P=e.radius*Math.sin(O);g[b*3+0]=P*Math.cos(E),g[b*3+1]=P*Math.sin(E),g[b*3+2]=e.radius*Math.cos(O),v[b*3+0]=g[b*3+0]+e.center[0],v[b*3+1]=g[b*3+1]+e.center[1],v[b*3+2]=g[b*3+2]+e.center[2];let k=Math.sqrt(g[b*3+0]*g[b*3+0]+g[b*3+1]*g[b*3+1]+g[b*3+2]*g[b*3+2]);k=k===0?1:k,g[b*3+0]/=k,g[b*3+1]/=k,g[b*3+2]/=k,b++}}const T=C*s;if(Math.abs(u-l)<2*Math.PI&&--s,e.startPhi<=0)for(let A=0;A<s;A++)S[x++]=3,S[x++]=C*A+a,S[x++]=C*(A+1)%T+a,S[x++]=0;if(e.endPhi>=180){const A=C-1+a;for(let E=0;E<s;E++)S[x++]=3,S[x++]=C*E+A,S[x++]=a-1,S[x++]=C*(E+1)%T+A}for(let A=0;A<s;A++)for(let E=0;E<C-1;E++){const D=C*A+E+a,O=D+1,P=(C*(A+1)+E)%T+a+1;e.latLongTessellation?(S[x++]=4,S[x++]=D,S[x++]=O,S[x++]=P,S[x++]=P-1):(S[x++]=3,S[x++]=D,S[x++]=O,S[x++]=P,S[x++]=3,S[x++]=D,S[x++]=P,S[x++]=P-1)}v=v.subarray(0,b*3),o.getPoints().setData(v,3),g=g.subarray(0,b*3);const _=Ce.newInstance({name:"Normals",values:g,numberOfComponents:3});o.getPointData().setNormals(_),S=S.subarray(0,x),o.getPolys().setData(S,1),r[0]=o}}const lq={radius:.5,latLongTessellation:!1,thetaResolution:8,startTheta:0,endTheta:360,phiResolution:8,startPhi:0,endPhi:180,center:[0,0,0],pointType:"Float64Array"};function uq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lq,n),V.obj(t,e),V.setGet(t,e,["radius","latLongTessellation","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi"]),V.setGetArray(t,e,["center"],3),V.algo(t,e,0,1),sq(t,e)}V.newInstance(uq,"vtkSphereSource");const{vtkDebugMacro:Gc,vtkErrorMacro:cq}=V;function fq(t,e){e.classHierarchy.push("vtkWarpScalar"),t.requestData=(n,r)=>{const o=n[0];if(!o)return cq("Invalid or missing input"),1;const i=o.getPoints(),a=o.getPointData().getNormals(),s=t.getInputArrayToProcess(0);if(!i||!s)return Gc("No data to warp",!!i,!!s),r[0]=n[0],1;const u=i.getNumberOfPoints();let l=null;const f=[0,0,1];a&&!e.useNormal?(l=(x,S)=>[S.getData()[x*3],S.getData()[x*3+1],S.getData()[x*3+2]],Gc("Using data normals")):t.getXyPlane()?(l=(x,S)=>f,Gc("Using x-y plane normal")):(l=(x,S)=>e.normal,Gc("Using Normal instance variable"));const c=new Float32Array(u*3),d=i.getData();let p=0,h=[0,0,1],m=1;const y=s.getData(),b=s.getNumberOfComponents();for(let x=0;x<u;++x)p=x*3,h=l(x,a),e.xyPlane?m=d[p+2]:m=y[x*b],c[p]=d[p]+e.scaleFactor*m*h[0],c[p+1]=d[p+1]+e.scaleFactor*m*h[1],c[p+2]=d[p+2]+e.scaleFactor*m*h[2];const v=Tn({vtkClass:o.getClassName()});v.shallowCopy(o);const g=Fo.newInstance();return g.setData(c,3),v.setPoints(g),r[0]=v,1}}const dq={scaleFactor:1,useNormal:!1,normal:[0,0,1],xyPlane:!1};function pq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,dq,n),V.obj(t,e),V.algo(t,e,1,1),V.setGet(t,e,["scaleFactor","useNormal","xyPlane"]),V.setGetArray(t,e,["normal"],3),fq(t,e)}V.newInstance(pq,"vtkWarpScalar");const hq={VARY_RADIUS_OFF:0,VARY_RADIUS_BY_SCALAR:1,VARY_RADIUS_BY_VECTOR:2,VARY_RADIUS_BY_ABSOLUTE_SCALAR:3},mq={TCOORDS_OFF:0,TCOORDS_FROM_NORMALIZED_LENGTH:1,TCOORDS_FROM_LENGTH:2,TCOORDS_FROM_SCALARS:3};var gq={VaryRadius:hq,GenerateTCoords:mq};const{VaryRadius:Ol,GenerateTCoords:ji}=gq,{vtkDebugMacro:vq,vtkErrorMacro:yq,vtkWarningMacro:pl}=V;function bq(t,e){e.classHierarchy.push("vtkTubeFilter");function n(u,l){let f=u;return e.sidesShareVertices?f+=e.numberOfSides*l:f+=2*e.numberOfSides*l,e.capping&&(f+=2*e.numberOfSides),f}function r(u,l,f){const c=l[f],d=u.slice(3*c,3*(c+1));let p=f+1;for(;p<l.length;){const h=l[p],m=u.slice(3*h,3*(h+1));if(d!==m)return p-1;++p}return l.length}function o(u,l,f){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,d=[0,0,1];const p=l;let h=p[0];for(let m=0;m<p.length;m+=h+1)if(h=p[m],h===1)f.setTuple(p[m+1],d);else if(h>1){let y=0,b=[0,0,0];const v=[0,0,0],g=p.slice(m+1,m+1+h);if(y=r(u,g,0),y!==h){let x=g[y],S=u.slice(3*x,3*(x+1)),C=g[y+1],w=u.slice(3*C,3*(C+1));if(b=w.map((_,A)=>_-S[A]),Ft(b),c)d=c;else{for(;++y<h;)if(y=r(u,g,y),y!==h){x=g[y],S=u.slice(3*x,3*(x+1)),C=g[y+1],w=u.slice(3*C,3*(C+1));for(let A=0;A<3;++A)v[A]=w[A]-S[A];Ft(v);const _=[0,0,0];if(Kt(b,v,_),sr(_)>.001){d=_,b=v;break}}if(y>=h){for(let _=0;_<3;++_)if(b[_]!==0){d[(_+2)%3]=0,d[(_+1)%3]=1,d[_]=-b[(_+1)%3]/b[_];break}}}Ft(d);let T=0;for(;++y<h&&(y=r(u,g,y),y!==h);){x=g[y],S=u.slice(3*x,3*(x+1)),C=g[y+1],w=u.slice(3*C,3*(C+1));for(let A=0;A<3;++A)v[A]=w[A]-S[A];Ft(v);const _=[0,0,0];if(Kt(b,d,_),Ft(_)!==0){const A=[0,0,0];if(Kt(v,b,A),Ft(A)!==0){const E=Fe(A,d);let D=1-E*E;D>0?D=Math.sqrt(D):D=0;const O=[0,0,0];for(let P=0;P<3;++P)O[P]=v[P]+b[P];Ft(O),Kt(O,A,_),Kt(b,A,O),Fe(d,O)*Fe(_,O)<0&&(D*=-1);for(let P=T;P<y;++P)f.setTuple(g[P],d);T=y,b=v,d=E*A+D*_}}}for(let _=T;_<h;++_)f.setTuple(g[_],d)}else for(let x=0;x<h;++x)f.setTuple(g[x],d)}return 1}function i(u,l,f,c,d,p,h,m,y,b,v,g,x,S){const C=[0,0,0],w=[0,0,0],T=[0,0,0],_=[0,0,0];let A=[0,0,0],E=[0,0,0],D=[0,0,0],O=[0,0,0];const P=[0,0,0],k=[0,0,0],U=[0,0,0];let H=1,R=u;const B=[];for(let M=0;M<l;++M){if(M===0){A=c.slice(3*f[0],3*(f[0]+1)),E=c.slice(3*f[1],3*(f[1]+1));for(let z=0;z<3;++z)C[z]=E[z]-A[z],w[z]=C[z],T[z]=-w[z];Ft(T)}else if(M===l-1){for(let z=0;z<3;++z)w[z]=C[z],A[z]=E[z],_[z]=C[z];Ft(_)}else{for(let z=0;z<3;++z)A[z]=E[z];E=c.slice(3*f[M+1],3*(f[M+1]+1));for(let z=0;z<3;++z)w[z]=C[z],C[z]=E[z]-A[z]}if(Ft(C)===0)return pl("Coincident points!"),0;for(let z=0;z<3;++z)D[z]=(w[z]+C[z])/2;if(O=x.slice(3*f[M],3*(f[M]+1)),Ft(D)===0&&(Kt(w,O,D),Ft(D)===0&&vq("Using alternate bevel vector")),Kt(D,O,P),Ft(P)===0){let z="Bad normal: s = ";return z+=`${D[0]},  ${D[1]}, ${D[2]}`,z+=` n = ${O[0]},  ${O[1]}, ${O[2]}`,pl(z),0}if(Kt(P,D,k),Ft(k),y&&e.varyRadius===Ol.VARY_RADIUS_BY_SCALAR)H=1+(e.radiusFactor-1)*(y.getComponent(f[M],0)-b[0])/(b[1]-b[0]);else if(v&&e.varyRadius===Ol.VARY_RADIUS_BY_VECTOR)H=Math.sqrt(g/sr(v.getTuple(f[M],B))),H>e.radiusFactor&&(H=e.radiusFactor);else if(y&&e.varyRadius===Ol.VARY_RADIUS_BY_ABSOLUTE_SCALAR&&(H=y.getComponent(f[M],0),H<0))return pl("Scalar value less than zero, skipping line"),0;if(e.sidesShareVertices)for(let z=0;z<e.numberOfSides;++z){for(let $=0;$<3;++$)U[$]=P[$]*Math.cos(z*S)+k[$]*Math.sin(z*S),D[$]=A[$]+e.radius*H*U[$],d[3*R+$]=D[$],m[3*R+$]=U[$];h.passData(p,f[M],R),R++}else{const z=[0,0,0],$=[0,0,0];for(let J=0;J<e.numberOfSides;++J){for(let Z=0;Z<3;++Z)U[Z]=P[Z]*Math.cos(J*S)+k[Z]*Math.sin(J*S),z[Z]=P[Z]*Math.cos((J-.5)*S)+k[Z]*Math.sin((J-.5)*S),$[Z]=P[Z]*Math.cos((J+.5)*S)+k[Z]*Math.sin((J+.5)*S),D[Z]=A[Z]+e.radius*H*U[Z],d[3*R+Z]=D[Z],m[3*R+Z]=z[Z],d[3*(R+1)+Z]=D[Z],m[3*(R+1)+Z]=$[Z];h.passData(p,f[M],R+1),R+=2}}}if(e.capping){let M=e.numberOfSides,z=1;e.sidesShareVertices||(M=2*e.numberOfSides,z=2);for(let J=0;J<M;J+=z){D=d.slice(3*(u+J),3*(u+J+1));for(let Z=0;Z<3;++Z)d[3*R+Z]=D[Z],m[3*R+Z]=T[Z];h.passData(p,f[0],R),R++}let $=u+(l-1)*e.numberOfSides;e.sidesShareVertices||($=u+2*(l-1)*e.numberOfSides);for(let J=0;J<M;J+=z){D=d.slice(3*($+J),3*($+J+1));for(let Z=0;Z<3;++Z)d[3*R+Z]=D[Z],m[3*R+Z]=_[Z];h.passData(p,f[l-1],R),R++}}return 1}function a(u,l,f,c,d,p,h){let m=0,y=0,b=0,v=c,g=0;const x=h.getData();let S=0;for(;g<x.length&&S!==c;)g+=x[g]+1,S++;if(e.sidesShareVertices)for(let C=u;C<e.numberOfSides+u;C+=e.onRatio){m=C%e.numberOfSides,y=(C+1)%e.numberOfSides,x[g++]=l*2;for(let w=0;w<l;++w)b=w*e.numberOfSides,x[g++]=u+y+b,x[g++]=u+m+b;p.passData(d,f,v++)}else for(let C=u;C<e.numberOfSides+u;C+=e.onRatio){m=2*(C%e.numberOfSides)+1,y=2*((C+1)%e.numberOfSides),x[g]=l*2,g++;for(let w=0;w<l;++w)b=w*2*e.numberOfSides,x[g++]=u+y+b,x[g++]=u+m+b;p.passData(d,f,v++)}if(e.capping){let C=u+l*e.numberOfSides,w=0;e.sidesShareVertices||(C=u+2*l*e.numberOfSides),x[g++]=e.numberOfSides,x[g++]=C,x[g++]=C+1;let T=0;for(m=e.numberOfSides-1,y=2,T=0;T<e.numberOfSides-2;++T)T%2?(w=C+y,x[g++]=w,y++):(w=C+m,x[g++]=w,m--);for(p.passData(d,f,v++),C+=e.numberOfSides,x[g++]=e.numberOfSides,x[g++]=C,x[g++]=C+e.numberOfSides-1,m=e.numberOfSides-2,y=1,T=0;T<e.numberOfSides-2;++T)T%2?(w=C+m,x[g++]=w,m--):(w=C+y,x[g++]=w,y++);p.passData(d,f,v++)}return v}function s(u,l,f,c,d,p){let h=e.numberOfSides;e.sidesShareVertices||(h=2*e.numberOfSides);let m=0,y=0,b=0;const v=d.getData();if(e.generateTCoords===ji.TCOORDS_FROM_SCALARS){y=v[f[0]];for(let g=0;g<l;++g){b=v[f[g]],m=(b-y)/e.textureLength;for(let x=0;x<h;++x){const S=x/(h-1),C=2*(u+g*h+x);p[C]=m,p[C+1]=S}}}else if(e.generateTCoords===ji.TCOORDS_FROM_LENGTH){let g=0;const x=c.slice(3*f[0],3*(f[0]+1));for(let S=0;S<l;++S){const C=c.slice(3*f[S],3*(f[S]+1));g+=Math.sqrt(or(C,x)),m=g/e.textureLength;for(let w=0;w<h;++w){const T=w/(h-1),_=2*(u+S*h+w);p[_]=m,p[_+1]=T}for(let w=0;w<3;++w)x[w]=C[w]}}else if(e.generateTCoords===ji.TCOORDS_FROM_NORMALIZED_LENGTH){let g=0,x=0,S=c.slice(3*f[0],3*(f[0]+1));for(let C=0;C<l;++C){const w=c.slice(3*f[C],3*(f[C]+1));x+=Math.sqrt(or(w,S));for(let T=0;T<3;++T)S[T]=w[T]}S=c.slice(3*f[0],3*(f[0]+1));for(let C=0;C<l;++C){const w=c.slice(3*f[C],3*(f[C]+1));g+=Math.sqrt(or(w,S)),m=g/x;for(let T=0;T<h;++T){const _=T/(h-1),A=2*(u+C*h+T);p[A]=m,p[A+1]=_}for(let T=0;T<3;++T)S[T]=w[T]}}if(e.capping){const g=u+l*h;for(let x=0;x<e.numberOfSides;++x){const S=2*(g+x);p[S]=0,p[S+1]=0}for(let x=0;x<e.numberOfSides;++x){const S=2*(g+e.numberOfSides+x);p[S]=0,p[S+1]=0}}}t.requestData=(u,l)=>{const f=bt.newInstance();l[0]=f;const c=u[0];if(!c){yq("Invalid or missing input");return}const d=c.getPoints();if(!d)return;const p=d.getNumberOfPoints();if(p<1)return;const h=c.getLines();if(!h||h.getNumberOfCells()<1)return;let m=0,y=0;const b=h.getData();let v=b[0];for(let F=0;F<b.length;F+=v+1)v=b[F],m=n(m,v),y+=(2*v+1)*Math.ceil(e.numberOfSides/e.onRatio),e.capping&&(y+=2*(e.numberOfSides+1));let g=d.getDataType();e.outputPointsPrecision===Aa.SINGLE?g=Ye.FLOAT:e.outputPointsPrecision===Aa.DOUBLE&&(g=Ye.DOUBLE);const x=Fo.newInstance({dataType:g,size:m*3,numberOfComponents:3}),S=3*m,C=new Float32Array(S),w=Ce.newInstance({numberOfComponents:3,values:C,name:"TubeNormals"}),T=new Uint32Array(y),_=wi.newInstance({values:T});let A=0,E=c.getPointData().getNormals(),D=null,O=!1;(!E||e.useDefaultNormal)&&(D=new Float32Array(3*p),E=Ce.newInstance({numberOfComponents:3,values:D,name:"Normals"}),e.useDefaultNormal?D=D.map((F,I)=>{const j=I%3;return e.defaultNormal[j]}):O=!0);const P=c.getPointData().getNumberOfArrays();let k=null,U=null;for(let F=0;F<P;F++)k=c.getPointData().getArrayByIndex(F),U=Ce.newInstance({name:k.getName(),dataType:k.getDataType(),numberOfComponents:k.getNumberOfComponents(),size:m*k.getNumberOfComponents()}),f.getPointData().addArray(U);let H=h.getNumberOfCells()*e.numberOfSides;e.capping&&(H+=2);const R=c.getCellData().getNumberOfArrays();for(let F=0;F<R;F++)k=c.getCellData().getArrayByIndex(F),U=Ce.newInstance({name:k.getName(),dataType:k.getDataType(),numberOfComponents:k.getNumberOfComponents(),size:H*k.getNumberOfComponents()}),f.getCellData().addArray(U);const B=t.getInputArrayToProcess(0);let M=null,z=[];B&&(M=Ce.newInstance({name:B.getName(),dataType:B.getDataType(),numberOfComponents:B.getNumberOfComponents(),size:m*B.getNumberOfComponents()}),z=B.getRange(),z[1]-z[0]===0&&(e.varyRadius===Ol.VARY_RADIUS_BY_SCALAR&&pl("Scalar range is zero!"),z[1]=z[0]+1));const $=t.getInputArrayToProcess(1);let J=0;$&&(J=$.getMaxNorm());const Z=f.getCellData();Z.copyNormalsOff(),Z.passData(c.getCellData());const X=f.getPointData();X.getNormals()!==null&&X.copyNormalsOff(),B&&M&&X.setScalars(M);let te=null;if(e.generateTCoords===ji.TCOORDS_FROM_SCALARS&&B||e.generateTCoords===ji.TCOORDS_FROM_LENGTH||e.generateTCoords===ji.TCOORDS_FROM_NORMALIZED_LENGTH){const F=new Float32Array(2*m);te=Ce.newInstance({numberOfComponents:2,values:F,name:"TCoords"}),X.copyTCoordsOff()}X.passData(c.getPointData());const ae=2*Math.PI/e.numberOfSides;v=b[0];let ue=0,ie=c.getVerts().getNumberOfCells();for(let F=0;F<b.length;F+=v+1){v=b[F];const I=b.slice(F+1,F+1+v);if(v>1&&O){const j=b.slice(F,F+v+1);o(d.getData(),j,E)}i(ue,v,I,d.getData(),x.getData(),c.getPointData(),X,C,B,z,$,J,D,ae)?(A=a(ue,v,ie,A,c.getCellData(),Z,_),te&&s(ue,v,I,d.getData(),B,te.getData())):pl("Could not generate points"),ue=n(ue,v),ie++}f.setPoints(x),f.setStrips(_),f.setPointData(X),X.setNormals(w),l[0]=f}}const xq={outputPointsPrecision:Aa.DEFAULT,radius:.5,varyRadius:Ol.VARY_RADIUS_OFF,numberOfSides:3,radiusFactor:10,defaultNormal:[0,0,1],useDefaultNormal:!1,sidesShareVertices:!0,capping:!1,onRatio:1,offset:0,generateTCoords:ji.TCOORDS_OFF,textureLength:1};function Sq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xq,n),V.setGet(t,e,["outputPointsPrecision","radius","varyRadius","numberOfSides","radiusFactor","defaultNormal","useDefaultNormal","sidesShareVertices","capping","onRatio","offset","generateTCoords","textureLength"]),V.obj(t,e),V.algo(t,e,1,1),bq(t,e)}V.newInstance(Sq,"vtkTubeFilter");function FS(t){return new TextDecoder("latin1").decode(t)}function Cq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const r=FS(t),o=e.exec(r);if(!o)return{text:r};const i=o.index+o[0].length,a=r.substring(0,i);let s=null;const u=n?n.exec(r):null;if(u){const l=r.substr(u.index);s={text:a+l,binaryBuffer:t.slice(i,u.index)}}else s={text:a,binaryBuffer:t.slice(i)};return s}var gu={arrayBufferToString:FS,extractBinary:Cq};const{vtkErrorMacro:BS,vtkDebugMacro:wq}=V,zg=()=>(BS("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead."),Promise.reject(new Error("LiteHttpDataAccessHelper does not support compression. Need to register HttpDataAccessHelper instead.")));let Fs=0;function Dd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=new XMLHttpRequest;return r.open(t,e,!0),n.headers&&Object.entries(n.headers).forEach(o=>{let[i,a]=o;return r.setRequestHeader(i,a)}),n.progressCallback&&r.addEventListener("progress",n.progressCallback),r}function Tq(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((n,r)=>{const o=Dd("GET",t,e);o.onreadystatechange=i=>{o.readyState===4&&(o.status===200||o.status===0?n(o.response):r({xhr:o,e:i}))},o.responseType="arraybuffer",o.send()})}function _q(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r&&r.compression?zg():n.ref&&!n.ref.pending?new Promise((o,i)=>{const a=[e,n.ref.basepath,n.ref.id].join("/"),s=Dd("GET",a,r);s.onreadystatechange=u=>{s.readyState===1&&(n.ref.pending=!0,++Fs===1&&t!=null&&t.invokeBusy&&t.invokeBusy(!0)),s.readyState===4&&(n.ref.pending=!1,s.status===200||s.status===0?(n.buffer=s.response,n.ref.encode==="JSON"?n.values=JSON.parse(n.buffer):(Oo.ENDIANNESS!==n.ref.encode&&Oo.ENDIANNESS&&(wq(`Swap bytes of ${n.name}`),Oo.swapBytes(n.buffer,bd[n.dataType])),n.values=V.newTypedArray(n.dataType,n.buffer)),n.values.length!==n.size&&BS(`Error in FetchArray: ${n.name}, does not have the proper array size. Got ${n.values.length}, instead of ${n.size}`),delete n.ref,--Fs===0&&t!=null&&t.invokeBusy&&t.invokeBusy(!1),t!=null&&t.modified&&t.modified(),o(n)):i({xhr:s,e:u}))},s.responseType=n.dataType!=="string"?"arraybuffer":"text",s.send()}):Promise.resolve(n)}function Aq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?zg():new Promise((r,o)=>{const i=Dd("GET",e,n);i.onreadystatechange=a=>{i.readyState===1&&++Fs===1&&t!=null&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Fs===0&&t!=null&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(JSON.parse(i.responseText)):o({xhr:i,e:a}))},i.responseType="text",i.send()})}function Eq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&n.compression?zg():new Promise((r,o)=>{const i=Dd("GET",e,n);i.onreadystatechange=a=>{i.readyState===1&&++Fs===1&&t!=null&&t.invokeBusy&&t.invokeBusy(!0),i.readyState===4&&(--Fs===0&&t!=null&&t.invokeBusy&&t.invokeBusy(!1),i.status===200||i.status===0?r(i.responseText):o({xhr:i,e:a}))},i.responseType="text",i.send()})}function Dq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((r,o)=>{const i=new Image;n.crossOrigin&&(i.crossOrigin=n.crossOrigin),i.onload=()=>r(i),i.onerror=o,i.src=e})}const Iq={fetchArray:_q,fetchJSON:Aq,fetchText:Eq,fetchBinary:Tq,fetchImage:Dq};RS("http")||Ad("http",t=>Iq);const Fp={ASCII:"ascii",BINARY_BIG_ENDIAN:"binary_big_endian",BINARY_LITTLE_ENDIAN:"binary_little_endian"},j3={diffuse_red:"red",diffuse_green:"green",diffuse_blue:"blue"},VS={patternHeader:/ply([\s\S]*)end_header\r?\n/,patternBody:/end_header\s([\s\S]*)$/};function W3(t){let e="",n=0;const r=VS.patternHeader.exec(t);r!==null&&(e=r[1],n=r[0].length);const o={comments:[],elements:[],headerLength:n},i=e.split(`
`);let a,s,u;for(let l=0;l<i.length;l++){let f=i[l];if(f=f.trim(),f!==""){let c;switch(u=f.split(/\s+/),s=u.shift(),f=u.join(" "),s){case"format":o.format=u[0],o.version=u[1];break;case"comment":o.comments.push(f);break;case"element":a!==void 0&&o.elements.push(a),a={},a.name=u[0],a.count=parseInt(u[1],10),a.properties=[];break;case"property":c={type:u[0]},c.type==="list"?(c.name=u[3],c.countType=u[1],c.itemType=u[2]):c.name=u[1],c.name in j3&&(c.name=j3[c.name]),a.properties.push(c);break;case"obj_info":o.objInfo=f;break;default:console.warn("unhandled",s,u);break}}}return a!==void 0&&o.elements.push(a),o}function H3(t,e){const n=e.find(m=>m.name==="vertex"),r=e.find(m=>m.name==="face");let o=0,i=0;n&&(o=n.count),r&&(i=r.count);const a=new Float32Array(o*3),s=new Uint8Array(o*3),u=new Float32Array(o*2),l=new Float32Array(o*3),f=t.colors.length>0,c=t.uvs.length>0,d=t.normals.length>0,p=t.faceVertexUvs.length>0;for(let m=0;m<o;m++){let y=m*3+0,b=m*3+1;const v=m*3+2;a[y]=t.vertices[y],a[b]=t.vertices[b],a[v]=t.vertices[v],f&&(s[y]=t.colors[y],s[b]=t.colors[b],s[v]=t.colors[v]),c&&(y=m*2+0,b=m*2+1,u[y]=t.uvs[y],u[b]=t.uvs[b]),d&&(l[y]=t.normals[y],l[b]=t.normals[b],l[v]=t.normals[v])}if(!c&&p){let m=0,y=0;for(let b=0;b<i;++b){const v=t.indices[m++],g=t.faceVertexUvs[y++];if(g&&v*2===g.length)for(let x=0;x<v;++x){const S=t.indices[m++];u[S*2+0]=g[x*2+0],u[S*2+1]=g[x*2+1]}else m+=v}}const h=bt.newInstance();if(h.getPoints().setData(a,3),f&&h.getPointData().setScalars(Ce.newInstance({numberOfComponents:3,values:s,name:"Scalars"})),c||p){const m=Ce.newInstance({numberOfComponents:2,values:u,name:"TextureCoordinates"}),y=h.getPointData();y.addArray(m),y.setActiveTCoords(m.getName())}return d&&h.getPointData().setNormals(Ce.newInstance({numberOfComponents:3,name:"Normals",values:l})),h.getPolys().setData(Uint32Array.from(t.indices)),h}function Bp(t,e){let n;switch(e){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":n=parseInt(t,10);break;case"float":case"double":case"float32":case"float64":n=parseFloat(t);break;default:console.log("Unsupported type");break}return n}function Pq(t,e){const n=e.split(/\s+/),r={};for(let o=0;o<t.length;o++)if(t[o].type==="list"){const i=[],a=Bp(n.shift(),t[o].countType);for(let s=0;s<a;s++)i.push(Bp(n.shift(),t[o].itemType));r[t[o].name]=i}else r[t[o].name]=Bp(n.shift(),t[o].type);return r}function $3(t,e,n){if(e==="vertex")t.vertices.push(n.x,n.y,n.z),"nx"in n&&"ny"in n&&"nz"in n&&t.normals.push(n.nx,n.ny,n.nz),"s"in n&&"t"in n?t.uvs.push(n.s,n.t):"u"in n&&"v"in n?t.uvs.push(n.u,n.v):"texture_u"in n&&"texture_v"in n&&t.uvs.push(n.texture_u,n.texture_v),"red"in n&&"green"in n&&"blue"in n&&t.colors.push(n.red,n.green,n.blue);else if(e==="face"){const r=n.vertex_indices||n.vertex_index,o=n.texcoord;r&&r.length>0&&(t.indices.push(r.length),r.forEach((i,a)=>{t.indices.push(i)})),t.faceVertexUvs.push(o)}}function Vp(t,e,n,r){let o;switch(n){case"int8":case"char":o=[t.getInt8(e),1];break;case"uint8":case"uchar":o=[t.getUint8(e),1];break;case"int16":case"short":o=[t.getInt16(e,r),2];break;case"uint16":case"ushort":o=[t.getUint16(e,r),2];break;case"int32":case"int":o=[t.getInt32(e,r),4];break;case"uint32":case"uint":o=[t.getUint32(e,r),4];break;case"float32":case"float":o=[t.getFloat32(e,r),4];break;case"float64":case"double":o=[t.getFloat64(e,r),8];break;default:console.log("Unsupported type");break}return o}function Oq(t,e,n,r){const o={};let i,a=0;for(let s=0;s<n.length;s++)if(n[s].type==="list"){const u=[];i=Vp(t,e+a,n[s].countType,r);const l=i[0];a+=i[1];for(let f=0;f<l;f++)i=Vp(t,e+a,n[s].itemType,r),u.push(i[0]),a+=i[1];o[n[s].name]=u}else i=Vp(t,e+a,n[s].type,r),o[n[s].name]=i[0],a+=i[1];return[o,a]}function Nq(t,e){e.classHierarchy.push("vtkPLYReader"),e.dataAccessHelper||(e.dataAccessHelper=Zs.get("http"));function n(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{compression:i,progressCallback:a}=e;return o.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:a}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:a})}t.setUrl=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;const i=r.split("/");return i.pop(),e.baseURL=i.join("/"),e.compression=o.compression,t.loadData({progressCallback:o.progressCallback,binary:!!o.binary})},t.loadData=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o=n(e.url,r);return o.then(t.parse),o},t.parse=r=>{typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=r=>{if(!r)return;if(r!==e.parseData)t.modified();else return;const o=gu.arrayBufferToString(r),i=W3(o);if(i.format===Fp.ASCII){t.parseAsText(r);return}e.parseData=r;const a={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},s=i.format===Fp.BINARY_LITTLE_ENDIAN,u=r instanceof ArrayBuffer?r:r.buffer,l=new DataView(u,i.headerLength);let f,c=0;for(let p=0;p<i.elements.length;p++)for(let h=0;h<i.elements[p].count;h++){f=Oq(l,c,i.elements[p].properties,s),c+=f[1];const m=f[0];$3(a,i.elements[p].name,m)}const d=H3(a,i.elements);e.output[0]=d},t.parseAsText=r=>{if(!r)return;if(r!==e.parseData)t.modified();else return;e.parseData=r;const o=gu.arrayBufferToString(r),i=W3(o);if(i.format!==Fp.ASCII){t.parseAsArrayBuffer(r);return}const a={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},s=VS.patternBody.exec(o);let u="";s!==null&&(u=s[1]);const l=u.split(`
`);let f=0,c=0;for(let p=0;p<l.length;p++){let h=l[p];if(h=h.trim(),h!==""){c>=i.elements[f].count&&(f++,c=0);const m=Pq(i.elements[f].properties,h);$3(a,i.elements[f].name,m),c++}}const d=H3(a,i.elements);e.output[0]=d},t.requestData=(r,o)=>{t.parse(e.parseData)}}const Rq={};function Mq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Rq,n),V.obj(t,e),V.get(t,e,["url","baseURL"]),V.setGet(t,e,["dataAccessHelper"]),V.algo(t,e,0,1),Nq(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}V.newInstance(Mq,"vtkPLYReader");const{vtkErrorMacro:Up}=V;function kq(t){const e=t.split(" ").filter(r=>r.indexOf("=")>-1),n={};for(let r=0;r<e.length;++r){const o=e[r].split("=");o.length===2&&(n[o[0]]=o[1])}return n}function K3(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function Lq(t,e,n,r,o){const i=t[e];if(i===void 0)return-1;if(i.indexOf("endfacet")!==-1||i.indexOf("facet")===-1)return e+1;let a=0,s=2;const u=n.length/3,l=i.split(/[ \t]+/).filter(f=>f).slice(-3).map(Number);for(K3(l,o);t[e+s].indexOf("vertex")!==-1;){const f=t[e+s].split(/[ \t]+/).filter(c=>c).slice(-3).map(Number);K3(f,n),a++,s++}r.push(a);for(let f=0;f<a;f++)r.push(u+f);for(;t[e+s]&&t[e+s].indexOf("endfacet")!==-1;)s++;return e+s+2}function Fq(t,e){e.classHierarchy.push("vtkSTLReader"),e.dataAccessHelper||(e.dataAccessHelper=Zs.get("http"));function n(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=o.compression!==void 0?o.compression:e.compression,a=o.progressCallback!==void 0?o.progressCallback:e.progressCallback;return o.binary?e.dataAccessHelper.fetchBinary(r,{compression:i,progressCallback:a}):e.dataAccessHelper.fetchText(t,r,{compression:i,progressCallback:a})}t.setUrl=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{binary:!0};e.url=r;const i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(o)},t.loadData=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o=n(e.url,r);return o.then(t.parse),o},t.parse=r=>{typeof r=="string"?t.parseAsText(r):t.parseAsArrayBuffer(r)},t.parseAsArrayBuffer=r=>{if(!r)return;if(r!==e.parseData)t.modified();else return;e.parseData=r;let o=!1;if(o=84+new DataView(r,0,84).getUint32(80,!0)*50===r.byteLength,!o){t.parseAsText(gu.arrayBufferToString(r));return}const i=r.slice(0,80),a=gu.arrayBufferToString(i),s=kq(a),u=new DataView(r,84),l=(r.byteLength-84)/50,f=new Float32Array(l*9),c=new Float32Array(l*3),d=new Uint32Array(l*4),p=new Uint16Array(l);let h=0;for(let b=0;b<l;b++){const v=b*50;c[b*3+0]=u.getFloat32(v+0,!0),c[b*3+1]=u.getFloat32(v+4,!0),c[b*3+2]=u.getFloat32(v+8,!0),f[b*9+0]=u.getFloat32(v+12,!0),f[b*9+1]=u.getFloat32(v+16,!0),f[b*9+2]=u.getFloat32(v+20,!0),f[b*9+3]=u.getFloat32(v+24,!0),f[b*9+4]=u.getFloat32(v+28,!0),f[b*9+5]=u.getFloat32(v+32,!0),f[b*9+6]=u.getFloat32(v+36,!0),f[b*9+7]=u.getFloat32(v+40,!0),f[b*9+8]=u.getFloat32(v+44,!0),d[h++]=3,d[h++]=b*3+0,d[h++]=b*3+1,d[h++]=b*3+2,p[b]=u.getUint16(v+48,!0)}const m="SPACE";if(m in s&&s[m]!=="LPS"){const b=s[m],v=new Float32Array(16);switch(v[15]=1,b[0]){case"L":v[0]=1;break;case"R":v[0]=-1;break;default:Up(`Can not convert STL file from ${b} to LPS space: permutations not supported. Use itk.js STL reader instead.`);return}switch(b[1]){case"P":v[5]=1;break;case"A":v[5]=-1;break;default:Up(`Can not convert STL file from ${b} to LPS space: permutations not supported. Use itk.js STL reader instead.`);return}switch(b[2]){case"S":v[10]=1;break;case"I":v[10]=-1;break;default:Up(`Can not convert STL file from ${b} to LPS space: permutations not supported. Use itk.js STL reader instead.`);return}In.buildFromDegree().setMatrix(v).apply(f).apply(c)}const y=bt.newInstance();y.getPoints().setData(f,3),y.getPolys().setData(d),y.getCellData().setScalars(Ce.newInstance({name:"Attribute",values:p})),y.getCellData().setNormals(Ce.newInstance({name:"Normals",values:c,numberOfComponents:3})),e.output[0]=y},t.parseAsText=r=>{if(!r)return;if(r!==e.parseData)t.modified();else return;e.parseData=r;const o=r.split(`
`);let i=1;const a=[],s=[],u=[];for(;i!==-1;)i=Lq(o,i,a,s,u);const l=bt.newInstance();l.getPoints().setData(Float32Array.from(a),3),l.getPolys().setData(Uint32Array.from(s)),l.getCellData().setNormals(Ce.newInstance({name:"Normals",values:Float32Array.from(u),numberOfComponents:3})),e.output[0]=l},t.requestData=(r,o)=>{t.parse(e.parseData)}}const Bq={};function Vq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Bq,n),V.obj(t,e),V.get(t,e,["url","baseURL"]),V.setGet(t,e,["dataAccessHelper"]),V.algo(t,e,0,1),Fq(t,e),e.compression||(e.compression=null),e.progressCallback||(e.progressCallback=null)}V.newInstance(Vq,"vtkSTLReader");function Uq(t,e){e.classHierarchy.push("vtkElevationReader"),e.dataAccessHelper||(e.dataAccessHelper=Zs.get("http"));function n(r,o){return e.dataAccessHelper.fetchText(t,r,o)}t.setUrl=(r,o)=>(e.url=r,t.loadData(o)),t.loadData=r=>n(e.url,r).then(o=>(t.parseAsText(o),!0)),t.parseAsText=r=>{e.csv=r,e.elevation=[],e.csv.split(`
`).forEach((o,i)=>{e.elevation.push(o.split(",").map(a=>Number(a)))}),t.modified()},t.requestData=(r,o)=>{const i=bt.newInstance();if(i.getPoints().setData(new Float32Array(0,0,0,1,1,1),3),e.elevation){const a=e.elevation.length,s=e.elevation[0].length,u=i.getPoints();u.setNumberOfPoints(s*a,3);const l=u.getData(),f=wi.newInstance({size:5*(s-1)*(a-1)});i.setPolys(f);const c=f.getData();let d=0;const p=new Float32Array(s*a*2),h=Ce.newInstance({numberOfComponents:2,values:p,name:"TextureCoordinates"});i.getPointData().setTCoords(h);for(let m=0;m<a;m++)for(let y=0;y<s;y++){const b=m*s+y,v=3*b;l[v+0]=e.origin[0]+y*e.xSpacing*e.xDirection,l[v+1]=e.origin[1]+m*e.ySpacing*e.yDirection,l[v+2]=e.origin[2]+e.elevation[m][y]*e.zScaling,p[b*2]=y/(s-1),p[b*2+1]=1-m/(a-1),y>0&&m>0&&(c[d++]=4,c[d++]=b,c[d++]=b-1,c[d++]=b-1-s,c[d++]=b-s)}}e.output[0]=i},t.isBusy=()=>!!e.requestCount}const Gq={origin:[0,0,0],xSpacing:1,ySpacing:1,zScaling:1,xDirection:1,yDirection:-1,requestCount:0};function zq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Gq,n),V.obj(t,e),V.get(t,e,["url"]),V.setGet(t,e,["dataAccessHelper","xSpacing","ySpacing","zScaling","xDirection","yDirection"]),V.algo(t,e,0,1),V.event(t,e,"busy"),Uq(t,e)}V.newInstance(zq,"vtkElevationReader");const Ke={};function Gp(t,e,n,r,o){for(let i=0;i<o;i++)n[r+i]=t[e+i]}function jq(t){Ke.splitOn=t,Ke.pieces=[],Ke.v=[],Ke.vt=[],Ke.vn=[],Ke.f=[[]],Ke.size=0}function Wq(t){const e=t.split("/").map(i=>Number(i)),n=e[0]-1,r=e[1]?e[1]-1:n,o=e[2]?e[2]-1:n;return[n,r,o]}function Hq(t){if(t[0]==="#")return;const e=t.split(/[ \t]+/);if(e[0]===Ke.splitOn)e.shift(),Ke.pieces.push(e.join(" ").trim()),Ke.f.push([]),Ke.size++;else if(e[0]==="v")Ke.v.push(Number(e[1])),Ke.v.push(Number(e[2])),Ke.v.push(Number(e[3]));else if(e[0]==="vt")Ke.vt.push(Number(e[1])),Ke.vt.push(Number(e[2]));else if(e[0]==="vn")Ke.vn.push(Number(e[1])),Ke.vn.push(Number(e[2])),Ke.vn.push(Number(e[3]));else if(e[0]==="f"){Ke.size===0&&Ke.size++;const n=Ke.f[Ke.size-1];e.shift();const r=e.filter(i=>i.length>0&&i!=="\r"),o=r.length;n.push(o);for(let i=0;i<o;i++)n.push(Wq(r[i]))}}function $q(t){const e=!!Ke.vt.length,n=!!Ke.vn.length;if(t.splitMode){t.numberOfOutputs=Ke.size;for(let r=0;r<Ke.size;r++){const o=Ke.f[r],i=o.length,a=Ke.v.length/3,s={};let u;if(t.trackDuplicates){const y=[];let b=0;for(let g=0;g<i;){const x=o[g++];for(let S=0;S<x;S++){const[C,w,T]=o[g++],_=`${C}/${w}/${T}`;s[_]===void 0&&(y[C]===void 0?y[C]=[_]:(y[C].push(_),++b),s[_]=C)}}u=new Uint16Array(a+b);let v=0;for(let g=0;g<y.length;++g){const x=y[g]?y[g].length:0;u[g]=x>1?a+v:g;for(let S=1;S<x;++S){const C=a+v++;u[C]=g,s[y[g][S]]=C}}}const l={},f=bt.newInstance({name:Ke.pieces[r]}),c=[],d=[],p=[],h=[];let m=0;for(;m<i;){const y=o[m];h.push(y);for(let b=0;b<y;b++){const[v,g,x]=o[m+b+1],S=`${v}/${g}/${x}`;if(l[S]===void 0){const C=t.trackDuplicates?s[S]:c.length/3;l[S]=C,Gp(Ke.v,v*3,c,C*3,3),e&&Gp(Ke.vt,g*2,d,C*2,2),n&&Gp(Ke.vn,x*3,p,C*3,3)}h.push(l[S])}m+=y+1}if(f.getPoints().setData(Float32Array.from(c),3),t.trackDuplicates){const y=Ce.newInstance({name:"Duplicates",values:u});f.getPointData().addArray(y)}if(f.getPolys().setData(Uint32Array.from(h)),e){const y=Ce.newInstance({numberOfComponents:2,values:Float32Array.from(d),name:"TextureCoordinates"});f.getPointData().setTCoords(y)}if(n){const y=Ce.newInstance({numberOfComponents:3,values:Float32Array.from(p),name:"Normals"});f.getPointData().setNormals(y)}t.output[r]=f}}else{t.numberOfOutputs=1;const r=bt.newInstance();if(r.getPoints().setData(Float32Array.from(Ke.v),3),e&&Ke.v.length/3===Ke.vt.length/2){const u=Ce.newInstance({numberOfComponents:2,values:Float32Array.from(Ke.vt),name:"TextureCoordinates"});r.getPointData().setTCoords(u)}if(n&&Ke.v.length===Ke.vn.length){const u=Ce.newInstance({numberOfComponents:3,values:Float32Array.from(Ke.vn),name:"Normals"});r.getPointData().setNormals(u)}const o=[],i=Ke.f[0],a=i.length;let s=0;for(;s<a;){const u=i[s];o.push(u);for(let l=0;l<u;l++){const[f]=i[s+l+1];o.push(f)}s+=u+1}r.getPolys().setData(Uint32Array.from(o)),t.output[0]=r}}function Kq(t,e){e.classHierarchy.push("vtkOBJReader"),e.dataAccessHelper||(e.dataAccessHelper=Zs.get("http"));function n(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchText(t,r,o)}t.setUrl=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r.indexOf(".obj")===-1&&!o.fullpath)e.baseURL=r,e.url=`${r}/index.obj`;else{e.url=r;const i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(o)},t.loadData=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(e.url,r).then(o=>t.isDeleted()?!1:t.parseAsText(o))},t.parseAsText=r=>(r&&(r!==e.parseData&&t.modified(),e.parseData=r,e.numberOfOutputs=0,jq(e.splitMode),r.split(`
`).forEach(Hq),$q(e)),!0),t.requestData=(r,o)=>{t.parseAsText(e.parseData)},t.isBusy=()=>!!e.requestCount,t.getNumberOfOutputPorts=()=>e.numberOfOutputs}const qq={numberOfOutputs:1,requestCount:0,splitMode:null,trackDuplicates:!1};function Xq(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qq,n),V.obj(t,e),V.get(t,e,["url","baseURL"]),V.setGet(t,e,["dataAccessHelper","splitMode","trackDuplicates"]),V.algo(t,e,0,1),V.event(t,e,"busy"),Kq(t,e)}V.newInstance(Xq,"vtkOBJReader");const Yq=["chemical json","name","inchi","formula","atoms","bonds","properties"];function Jq(t,e){e.classHierarchy.push("vtkMolecule")}const Zq={"chemical json":0,name:"",inchi:"",formula:"",atoms:null,bonds:null,properties:null};function US(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Zq,n),V.obj(t,e),e.atoms||(e.atoms={}),e.bonds||(e.bonds={}),e.properties||(e.properties={}),V.setGet(t,e,Yq),Jq(t,e)}const Qq=V.newInstance(US,"vtkMolecule");var eX={newInstance:Qq,extend:US},tX=[1],nX=[2],rX=[3],oX=[4],iX=[5],aX=[6],sX=[7],lX=[8],uX=[9],cX=[10],fX=[11],dX=[12],pX=[13],hX=[14],mX=[15],gX=[16],vX=[17],yX=[18],bX=[19],xX=[20],SX=[21],CX=[22],wX=[23],TX=[24],_X=[25],AX=[26],EX=[27],DX=[28],IX=[29],PX=[30],OX=[31],NX=[32],RX=[33],MX=[34],kX=[35],LX=[36],FX=[37],BX=[38],VX=[39],UX=[40],GX=[41],zX=[42],jX=[43],WX=[44],HX=[45],$X=[46],KX=[47],qX=[48],XX=[49],YX=[50],JX=[51],ZX=[52],QX=[53],eY=[54],tY=[55],nY=[56],rY=[57],oY=[58],iY=[59],aY=[60],sY=[61],lY=[62],uY=[63],cY=[64],fY=[65],dY=[66],pY=[67],hY=[68],mY=[69],gY=[70],vY=[71],yY=[72],bY=[73],xY=[74],SY=[75],CY=[76],wY=[77],TY=[78],_Y=[79],AY=[80],EY=[81],DY=[82],IY=[83],PY=[84],OY=[85],NY=[86],RY=[87],MY=[88],kY=[89],LY=[90],FY=[91],BY=[92],VY=[93],UY=[94],GY=[95],zY=[96],jY=[97],WY=[98],HY=[99],$Y=[100],KY=[101],qY=[102],XY=[103],YY=[104],JY=[105],ZY=[106],QY=[107],eJ=[108],tJ=[109],nJ=[110],rJ=[111],oJ=[112],iJ=[113],aJ=[114],sJ=[115],lJ=[116],uJ=[117],cJ=[118],fJ={H:tX,He:nX,Li:rX,Be:oX,B:iX,C:aX,N:sX,O:lX,F:uX,Ne:cX,Na:fX,Mg:dX,Al:pX,Si:hX,P:mX,S:gX,Cl:vX,Ar:yX,K:bX,Ca:xX,Sc:SX,Ti:CX,V:wX,Cr:TX,Mn:_X,Fe:AX,Co:EX,Ni:DX,Cu:IX,Zn:PX,Ga:OX,Ge:NX,As:RX,Se:MX,Br:kX,Kr:LX,Rb:FX,Sr:BX,Y:VX,Zr:UX,Nb:GX,Mo:zX,Tc:jX,Ru:WX,Rh:HX,Pd:$X,Ag:KX,Cd:qX,In:XX,Sn:YX,Sb:JX,Te:ZX,I:QX,Xe:eY,Cs:tY,Ba:nY,La:rY,Ce:oY,Pr:iY,Nd:aY,Pm:sY,Sm:lY,Eu:uY,Gd:cY,Tb:fY,Dy:dY,Ho:pY,Er:hY,Tm:mY,Yb:gY,Lu:vY,Hf:yY,Ta:bY,W:xY,Re:SY,Os:CY,Ir:wY,Pt:TY,Au:_Y,Hg:AY,Tl:EY,Pb:DY,Bi:IY,Po:PY,At:OY,Rn:NY,Fr:RY,Ra:MY,Ac:kY,Th:LY,Pa:FY,U:BY,Np:VY,Pu:UY,Am:GY,Cm:zY,Bk:jY,Cf:WY,Es:HY,Fm:$Y,Md:KY,No:qY,Lr:XY,Rf:YY,Db:JY,Sg:ZY,Bh:QY,Hs:eJ,Mt:tJ,Ds:nJ,Rg:rJ,Cn:oJ,Uut:iJ,Uuq:aJ,Uup:sJ,Uuh:lJ,Uus:uJ,Uuo:cJ};function dJ(t,e){e.classHierarchy.push("vtkPDBReader"),e.dataAccessHelper||(e.dataAccessHelper=Zs.get("http"));function n(r,o){return e.dataAccessHelper.fetchText(t,r,o)}t.setUrl=(r,o)=>{if(r.indexOf(".pdb")===-1)e.baseURL=r,e.url=`${r}`;else{e.url=r;const i=r.split("/");i.pop(),e.baseURL=i.join("/")}return t.loadData(o)},t.loadData=r=>n(e.url,r).then(t.parseAsText),t.parseAsText=r=>(e.pdb=r,e.molecule=[],e.molecule=e.pdb.split(`
`),t.modified(),!0),t.requestData=(r,o)=>{const i=eX.newInstance();if(e.molecule){const a=e.molecule.length,s=[],u=[];e.numberOfAtoms=0;let l=0;for(;l<a&&e.molecule[l]!=="END";){const f=e.molecule[l].length,c=e.molecule[l],d=c.substr(0,6).replace(/\s+/g,"");if(d.toUpperCase(),d==="ATOM"||d==="HETATM"){const p=c.substr(12,4).replace(/\s+/g,""),h=c.substr(30,8).replace(/\s+/g,""),m=c.substr(38,8).replace(/\s+/g,""),y=c.substr(46,8).replace(/\s+/g,"");let b="";f>=78&&(b=c.substr(76,2).replace(/\s+/g,"")),b===""&&(b=p.substr(0,2).replace(/\d/g,"")),s.push(h),s.push(m),s.push(y);const[v]=fJ[b];u.push(v),e.numberOfAtoms++}l++}i.getAtoms().elements={},i.getAtoms().elements.number=Int8Array.from(u),i.getAtoms().coords={},i.getAtoms().coords["3d"]=Float32Array.from(s)}e.output[0]=i},t.isBusy=()=>!!e.requestCount}const pJ={numberOfAtoms:0,requestCount:0};function hJ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pJ,n),V.obj(t,e),V.get(t,e,["url","baseURL","numberOfAtoms","requestCount"]),V.setGet(t,e,["dataAccessHelper"]),V.algo(t,e,0,1),V.event(t,e,"busy"),dJ(t,e)}V.newInstance(hJ,"vtkPDBReader");var Tm={},mJ={get exports(){return Tm},set exports(t){Tm=t}};(function(t,e){(function(n,r){t.exports=r()})(ir,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var a=r[i]={i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.m=n,o.c=r,o.d=function(i,a,s){o.o(i,a)||Object.defineProperty(i,a,{enumerable:!0,get:s})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,a){if(1&a&&(i=o(i)),8&a||4&a&&typeof i=="object"&&i&&i.__esModule)return i;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:i}),2&a&&typeof i!="string")for(var u in i)o.d(s,u,function(l){return i[l]}.bind(null,u));return s},o.n=function(i){var a=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(a,"a",a),a},o.o=function(i,a){return Object.prototype.hasOwnProperty.call(i,a)},o.p="",o(o.s=184)}([function(n,r,o){function i(a){for(var s in a)r.hasOwnProperty(s)||(r[s]=a[s])}Object.defineProperty(r,"__esModule",{value:!0}),i(o(240)),i(o(251)),i(o(175)),i(o(107)),i(o(29)),i(o(73)),i(o(106)),i(o(30)),i(o(252)),i(o(52)),i(o(97)),i(o(253)),i(o(37)),i(o(51)),i(o(173)),i(o(176)),i(o(172)),i(o(108)),i(o(254)),i(o(255)),i(o(256)),i(o(72)),i(o(177)),i(o(105)),i(o(17)),i(o(257)),i(o(12)),i(o(174))},function(n,r,o){var i=this&&this.__values||function(g){var x=typeof Symbol=="function"&&Symbol.iterator,S=x&&g[x],C=0;if(S)return S.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&C>=g.length&&(g=void 0),{value:g&&g[C++],done:!g}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(212);r.FixedSizeSet=a.FixedSizeSet;var s=o(213);r.ObjectCache=s.ObjectCache;var u=o(214);r.CompareCache=u.CompareCache;var l=o(215);r.Lazy=l.Lazy;var f=o(216);function c(g,x,S){if(b(g))g.forEach(function(w,T){return x.call(S,T,w)});else for(var C in g)g.hasOwnProperty(C)&&x.call(S,C,g[C])}function d(g){var x,S;if(p(g))return g;if(m(g)){var C=[];try{for(var w=i(g),T=w.next();!T.done;T=w.next()){var _=T.value;C.push(d(_))}}catch(D){x={error:D}}finally{try{T&&!T.done&&(S=w.return)&&S.call(w)}finally{if(x)throw x.error}}return C}if(h(g)){C={};for(var A in g)if(g.hasOwnProperty(A)){var E=g[A];C[A]=d(E)}return C}return g}function p(g){return!!g&&Object.prototype.toString.call(g)==="[object Function]"}function h(g){var x=typeof g;return!!g&&(x==="function"||x==="object")}function m(g){return Array.isArray(g)}function y(g){return g instanceof Set}function b(g){return g instanceof Map}function v(g){if(h(g)){var x=Object.getPrototypeOf(g),S=x.constructor;return x&&S&&typeof S=="function"&&S instanceof S&&Function.prototype.toString.call(S)===Function.prototype.toString.call(Object)}return!1}r.StringWalker=f.StringWalker,r.applyMixin=function(g,x){for(var S=[],C=2;C<arguments.length;C++)S[C-2]=arguments[C];Object.getOwnPropertyNames(x.prototype).forEach(function(w){if(w!=="constructor"){if(S.indexOf(w)!==-1){var T=Object.getOwnPropertyDescriptor(g.prototype,w);T&&Object.defineProperty(g.prototype,"_"+w,T)}var _=Object.getOwnPropertyDescriptor(x.prototype,w);_&&Object.defineProperty(g.prototype,w,_)}})},r.applyDefaults=function g(x,S,C){C===void 0&&(C=!1);var w=d(x||{});return c(S,function(T,_){v(_)?w[T]=g(w[T],_,C):(C||w[T]===void 0)&&(w[T]=_)}),w},r.forEachArray=function(g,x,S){g.forEach(x,S)},r.forEachObject=c,r.arrayLength=function(g){return y(g)?g.size:g.length},r.objectLength=function(g){return b(g)?g.size:Object.keys(g).length},r.getObjectValue=function(g,x){return b(g)?g.get(x):g[x]},r.removeObjectValue=function(g,x){b(g)?g.delete(x):delete g[x]},r.clone=d,r.isBoolean=function(g){return typeof g=="boolean"},r.isNumber=function(g){return typeof g=="number"},r.isString=function(g){return typeof g=="string"},r.isFunction=p,r.isObject=h,r.isArray=m,r.isSet=y,r.isMap=b,r.isEmpty=function(g){if(m(g))return!g.length;if(y(g)||b(g))return!g.size;if(h(g)){for(var x in g)if(g.hasOwnProperty(x))return!1;return!0}return!1},r.isPlainObject=v,r.isIterable=function(g){return g&&typeof g[Symbol.iterator]=="function"},r.getValue=function(g){return p(g.valueOf)?g.valueOf():g},r.utf8Encode=function(g){for(var x=new Uint8Array(4*g.length),S=0,C=0;C<g.length;C++){var w=g.charCodeAt(C);if(w<128)x[S++]=w;else{if(w<2048)x[S++]=w>>6|192;else{if(w>55295&&w<56320){if(++C>=g.length)throw new Error("Incomplete surrogate pair.");var T=g.charCodeAt(C);if(T<56320||T>57343)throw new Error("Invalid surrogate character.");w=65536+((1023&w)<<10)+(1023&T),x[S++]=w>>18|240,x[S++]=w>>12&63|128}else x[S++]=w>>12|224;x[S++]=w>>6&63|128}x[S++]=63&w|128}}return x.subarray(0,S)},r.utf8Decode=function(g){for(var x="",S=0;S<g.length;){var C=g[S++];if(C>127)if(C>191&&C<224){if(S>=g.length)throw new Error("Incomplete 2-byte sequence.");C=(31&C)<<6|63&g[S++]}else if(C>223&&C<240){if(S+1>=g.length)throw new Error("Incomplete 3-byte sequence.");C=(15&C)<<12|(63&g[S++])<<6|63&g[S++]}else{if(!(C>239&&C<248))throw new Error("Unknown multi-byte start.");if(S+2>=g.length)throw new Error("Incomplete 4-byte sequence.");C=(7&C)<<18|(63&g[S++])<<12|(63&g[S++])<<6|63&g[S++]}if(C<=65535)x+=String.fromCharCode(C);else{if(!(C<=1114111))throw new Error("Code point exceeds UTF-16 limit.");C-=65536,x+=String.fromCharCode(C>>10|55296),x+=String.fromCharCode(1023&C|56320)}}return x}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.Before=0]="Before",i[i.Equal=1]="Equal",i[i.After=2]="After"}(r.BoundaryPosition||(r.BoundaryPosition={})),function(i){i[i.None=0]="None",i[i.Capturing=1]="Capturing",i[i.AtTarget=2]="AtTarget",i[i.Bubbling=3]="Bubbling"}(r.EventPhase||(r.EventPhase={})),function(i){i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=3]="Text",i[i.CData=4]="CData",i[i.EntityReference=5]="EntityReference",i[i.Entity=6]="Entity",i[i.ProcessingInstruction=7]="ProcessingInstruction",i[i.Comment=8]="Comment",i[i.Document=9]="Document",i[i.DocumentType=10]="DocumentType",i[i.DocumentFragment=11]="DocumentFragment",i[i.Notation=12]="Notation"}(r.NodeType||(r.NodeType={})),function(i){i[i.Disconnected=1]="Disconnected",i[i.Preceding=2]="Preceding",i[i.Following=4]="Following",i[i.Contains=8]="Contains",i[i.ContainedBy=16]="ContainedBy",i[i.ImplementationSpecific=32]="ImplementationSpecific"}(r.Position||(r.Position={})),function(i){i[i.Accept=1]="Accept",i[i.Reject=2]="Reject",i[i.Skip=3]="Skip"}(r.FilterResult||(r.FilterResult={})),function(i){i[i.All=4294967295]="All",i[i.Element=1]="Element",i[i.Attribute=2]="Attribute",i[i.Text=4]="Text",i[i.CDataSection=8]="CDataSection",i[i.EntityReference=16]="EntityReference",i[i.Entity=32]="Entity",i[i.ProcessingInstruction=64]="ProcessingInstruction",i[i.Comment=128]="Comment",i[i.Document=256]="Document",i[i.DocumentType=512]="DocumentType",i[i.DocumentFragment=1024]="DocumentFragment",i[i.Notation=2048]="Notation"}(r.WhatToShow||(r.WhatToShow={})),function(i){i[i.StartToStart=0]="StartToStart",i[i.StartToEnd=1]="StartToEnd",i[i.EndToEnd=2]="EndToEnd",i[i.EndToStart=3]="EndToStart"}(r.HowToCompare||(r.HowToCompare={}))},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(241);r.Cast=i.Cast;var a=o(150);r.Guard=a.Guard;var s=o(242);r.EmptySet=s.EmptySet},function(n,r,o){var i=o(11),a=o(55).f,s=o(21),u=o(25),l=o(80),f=o(119),c=o(123);n.exports=function(d,p){var h,m,y,b,v,g=d.target,x=d.global,S=d.stat;if(h=x?i:S?i[g]||l(g,{}):(i[g]||{}).prototype)for(m in p){if(b=p[m],y=d.noTargetGet?(v=a(h,m))&&v.value:h[m],!c(x?m:g+(S?".":"#")+m,d.forced)&&y!==void 0){if(typeof b==typeof y)continue;f(b,y)}(d.sham||y&&y.sham)&&s(b,"sham",!0),u(h,m,b,d)}}},function(n,r,o){var i=o(11),a=o(81),s=o(14),u=o(58),l=o(86),f=o(124),c=a("wks"),d=i.Symbol,p=f?d:d&&d.withoutSetter||u;n.exports=function(h){return s(c,h)||(l&&s(d,h)?c[h]=d[h]:c[h]=p("Symbol."+h)),c[h]}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(1),a=o(29),s=function(){function u(){this._features={mutationObservers:!0,customElements:!0,slots:!0,steps:!0},this._window=null,this._compareCache=new i.CompareCache,this._rangeList=new i.FixedSizeSet}return u.prototype.setFeatures=function(l){if(l===void 0&&(l=!0),i.isObject(l))for(var f in l)this._features[f]=l[f]||!1;else for(var f in this._features)this._features[f]=l},Object.defineProperty(u.prototype,"features",{get:function(){return this._features},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"window",{get:function(){return this._window===null&&(this._window=a.create_window()),this._window},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"compareCache",{get:function(){return this._compareCache},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rangeList",{get:function(){return this._rangeList},enumerable:!0,configurable:!0}),Object.defineProperty(u,"instance",{get:function(){return u._instance||(u._instance=new u),u._instance},enumerable:!0,configurable:!0}),u}();r.dom=s.instance},function(n,r,o){var i=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var x in v)Object.hasOwnProperty.call(v,x)&&(g[x]=v[x]);return g.default=v,g};Object.defineProperty(r,"__esModule",{value:!0});var a=i(o(228));r.base64=a;var s=i(o(146));r.byte=s;var u=i(o(147));r.byteSequence=u;var l=i(o(96));r.codePoint=l;var f=i(o(232));r.json=f;var c=i(o(233));r.list=c;var d=i(o(234));r.map=d;var p=i(o(235));r.namespace=p;var h=i(o(236));r.queue=h;var m=i(o(237));r.set=m;var y=i(o(238));r.stack=y;var b=i(o(239));r.string=b},function(n,r){n.exports=function(o){try{return!!o()}catch(i){return!0}}},function(n,r,o){var i,a=this&&this.__extends||(i=function(R,B){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,z){M.__proto__=z}||function(M,z){for(var $ in z)z.hasOwnProperty($)&&(M[$]=z[$])})(R,B)},function(R,B){function M(){this.constructor=R}i(R,B),R.prototype=B===null?Object.create(B):(M.prototype=B.prototype,new M)});Object.defineProperty(r,"__esModule",{value:!0});var s=function(R){function B(M,z){z===void 0&&(z="");var $=R.call(this,z)||this;return $.name=M,$}return a(B,R),B}(Error);r.DOMException=s;var u=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"DOMStringSizeError",M)||this}return a(B,R),B}(s);r.DOMStringSizeError=u;var l=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"WrongDocumentError","The object is in the wrong document. "+M)||this}return a(B,R),B}(s);r.WrongDocumentError=l;var f=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"NoDataAllowedError",M)||this}return a(B,R),B}(s);r.NoDataAllowedError=f;var c=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"NoModificationAllowedError","The object can not be modified. "+M)||this}return a(B,R),B}(s);r.NoModificationAllowedError=c;var d=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"NotSupportedError","The operation is not supported. "+M)||this}return a(B,R),B}(s);r.NotSupportedError=d;var p=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"InUseAttributeError",M)||this}return a(B,R),B}(s);r.InUseAttributeError=p;var h=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"InvalidStateError","The object is in an invalid state. "+M)||this}return a(B,R),B}(s);r.InvalidStateError=h;var m=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"InvalidModificationError","The object can not be modified in this way. "+M)||this}return a(B,R),B}(s);r.InvalidModificationError=m;var y=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"NamespaceError","The operation is not allowed by Namespaces in XML. [XMLNS] "+M)||this}return a(B,R),B}(s);r.NamespaceError=y;var b=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"InvalidAccessError","The object does not support the operation or argument. "+M)||this}return a(B,R),B}(s);r.InvalidAccessError=b;var v=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"ValidationError",M)||this}return a(B,R),B}(s);r.ValidationError=v;var g=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"TypeMismatchError",M)||this}return a(B,R),B}(s);r.TypeMismatchError=g;var x=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"SecurityError","The operation is insecure. "+M)||this}return a(B,R),B}(s);r.SecurityError=x;var S=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"NetworkError","A network error occurred. "+M)||this}return a(B,R),B}(s);r.NetworkError=S;var C=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"AbortError","The operation was aborted. "+M)||this}return a(B,R),B}(s);r.AbortError=C;var w=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"URLMismatchError","The given URL does not match another URL. "+M)||this}return a(B,R),B}(s);r.URLMismatchError=w;var T=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"QuotaExceededError","The quota has been exceeded. "+M)||this}return a(B,R),B}(s);r.QuotaExceededError=T;var _=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"TimeoutError","The operation timed out. "+M)||this}return a(B,R),B}(s);r.TimeoutError=_;var A=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"InvalidNodeTypeError","The supplied node is incorrect or has an incorrect ancestor for this operation. "+M)||this}return a(B,R),B}(s);r.InvalidNodeTypeError=A;var E=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"DataCloneError","The object can not be cloned. "+M)||this}return a(B,R),B}(s);r.DataCloneError=E;var D=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"NotImplementedError","The DOM method is not implemented by this module. "+M)||this}return a(B,R),B}(s);r.NotImplementedError=D;var O=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"HierarchyRequestError","The operation would yield an incorrect node tree. "+M)||this}return a(B,R),B}(s);r.HierarchyRequestError=O;var P=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"NotFoundError","The object can not be found here. "+M)||this}return a(B,R),B}(s);r.NotFoundError=P;var k=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"IndexSizeError","The index is not in the allowed range. "+M)||this}return a(B,R),B}(s);r.IndexSizeError=k;var U=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"SyntaxError","The string did not match the expected pattern. "+M)||this}return a(B,R),B}(s);r.SyntaxError=U;var H=function(R){function B(M){return M===void 0&&(M=""),R.call(this,"InvalidCharacterError","The string contains invalid characters. "+M)||this}return a(B,R),B}(s);r.InvalidCharacterError=H},function(n,r,o){var i=o(53),a=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];n.exports=function(u,l){var f,c;if(l=l||{},Object.keys(l).forEach(function(d){if(a.indexOf(d)===-1)throw new i('Unknown option "'+d+'" is met in definition of "'+u+'" YAML type.')}),this.tag=u,this.kind=l.kind||null,this.resolve=l.resolve||function(){return!0},this.construct=l.construct||function(d){return d},this.instanceOf=l.instanceOf||null,this.predicate=l.predicate||null,this.represent=l.represent||null,this.defaultStyle=l.defaultStyle||null,this.styleAliases=(f=l.styleAliases||null,c={},f!==null&&Object.keys(f).forEach(function(d){f[d].forEach(function(p){c[String(p)]=d})}),c),s.indexOf(this.kind)===-1)throw new i('Unknown kind "'+this.kind+'" is specified for "'+u+'" YAML type.')}},function(n,r,o){(function(i){var a=function(s){return s&&s.Math==Math&&s};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||Function("return this")()}).call(this,o(78))},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.idl_defineConst=function(i,a,s){Object.defineProperty(i,a,{writable:!1,enumerable:!0,configurable:!1,value:s})}},function(n,r){n.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},function(n,r){var o={}.hasOwnProperty;n.exports=function(i,a){return o.call(i,a)}},function(n,r,o){var i=o(16),a=o(115),s=o(18),u=o(56),l=Object.defineProperty;r.f=i?l:function(f,c,d){if(s(f),c=u(c,!0),s(d),a)try{return l(f,c,d)}catch(p){}if("get"in d||"set"in d)throw TypeError("Accessors not supported");return"value"in d&&(f[c]=d.value),f}},function(n,r,o){var i=o(8);n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(n,r,o){var i=this&&this.__values||function(g){var x=typeof Symbol=="function"&&Symbol.iterator,S=x&&g[x],C=0;if(S)return S.call(g);if(g&&typeof g.length=="number")return{next:function(){return g&&C>=g.length&&(g=void 0),{value:g&&g[C++],done:!g}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(3),s=o(2);function u(g,x,S){if(S===void 0&&(S=!1),S&&a.Guard.isElementNode(x)&&a.Guard.isShadowRoot(x.shadowRoot)&&x.shadowRoot._firstChild)return x.shadowRoot._firstChild;if(x._firstChild)return x._firstChild;if(x===g)return null;if(x._nextSibling)return x._nextSibling;for(var C=x._parent;C&&C!==g;){if(C._nextSibling)return C._nextSibling;C=C._parent}return null}function l(){var g;return(g={})[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:null}}}},g}function f(g,x,S,C){x===void 0&&(x=!1),S===void 0&&(S=!1);for(var w=x?g:u(g,g,S);w&&C&&!C(w);)w=u(g,w,S);return w}function c(g,x,S,C,w){C===void 0&&(C=!1);for(var T=u(g,x,C);T&&w&&!w(T);)T=u(g,T,C);return T}function d(g,x,S,C){var w;return x===void 0&&(x=!1),S===void 0&&(S=!1),x||g._children.size!==0?((w={})[Symbol.iterator]=function(){var T=x?g:u(g,g,S);return{next:function(){for(;T&&C&&!C(T);)T=u(g,T,S);if(T===null)return{done:!0,value:null};var _={done:!1,value:T};return T=u(g,T,S),_}}},w):l()}function p(g,x,S){x===void 0&&(x=!1);for(var C=x?g:g._parent;C&&S&&!S(C);)C=C._parent;return C}function h(g,x,S,C){for(var w=x._parent;w&&C&&!C(w);)w=w._parent;return w}function m(g){return a.Guard.isDocumentTypeNode(g)?0:a.Guard.isCharacterDataNode(g)?g._data.length:g._children.size}function y(g,x){if(x===void 0&&(x=!1),x){var S=y(g,!1);return a.Guard.isShadowRoot(S)?y(S._host,!0):S}return g._parent?y(g._parent):g}function b(g,x,S,C){S===void 0&&(S=!1),C===void 0&&(C=!1);for(var w=S?g:C&&a.Guard.isShadowRoot(g)?g._host:g._parent;w!==null;){if(w===x)return!0;w=C&&a.Guard.isShadowRoot(w)?w._host:w._parent}return!1}function v(g){for(var x=y(g),S=0,C=f(x);C!==null;){if(S++,C===g)return S;C=c(x,C)}return-1}r.tree_getFirstDescendantNode=f,r.tree_getNextDescendantNode=c,r.tree_getDescendantNodes=d,r.tree_getDescendantElements=function(g,x,S,C){var w;return x===void 0&&(x=!1),S===void 0&&(S=!1),x||g._children.size!==0?((w={})[Symbol.iterator]=function(){var T=d(g,x,S,function(A){return a.Guard.isElementNode(A)})[Symbol.iterator](),_=T.next().value;return{next:function(){for(;_&&C&&!C(_);)_=T.next().value;if(_===null)return{done:!0,value:null};var A={done:!1,value:_};return _=T.next().value,A}}},w):l()},r.tree_getSiblingNodes=function(g,x,S){var C;return x===void 0&&(x=!1),g._parent&&g._parent._children.size!==0?((C={})[Symbol.iterator]=function(){var w=g._parent?g._parent._firstChild:null;return{next:function(){for(;w&&(S&&!S(w)||!x&&w===g);)w=w._nextSibling;if(w===null)return{done:!0,value:null};var T={done:!1,value:w};return w=w._nextSibling,T}}},C):l()},r.tree_getFirstAncestorNode=p,r.tree_getNextAncestorNode=h,r.tree_getAncestorNodes=function(g,x,S){var C;return x===void 0&&(x=!1),x||g._parent?((C={})[Symbol.iterator]=function(){var w=p(g,x,S);return{next:function(){if(w===null)return{done:!0,value:null};var T={done:!1,value:w};return w=h(0,w,x,S),T}}},C):l()},r.tree_getCommonAncestor=function(g,x){if(g===x)return g._parent;for(var S=[],C=[],w=p(g,!0);w!==null;)S.push(w),w=h(0,w);for(var T=p(x,!0);T!==null;)C.push(T),T=h(0,T);for(var _=S.length,A=C.length,E=null,D=Math.min(_,A);D>0;D--){var O=S[--_];if(O!==C[--A])break;E=O}return E},r.tree_getFollowingNode=function(g,x){if(x._firstChild)return x._firstChild;if(x._nextSibling)return x._nextSibling;for(;;){var S=x._parent;if(S===null||S===g)return null;if(S._nextSibling)return S._nextSibling;x=S}},r.tree_getPrecedingNode=function(g,x){return x===g?null:x._previousSibling?(x=x._previousSibling)._lastChild?x._lastChild:x:x._parent},r.tree_isConstrained=function g(x){var S,C,w,T,_,A;switch(x._nodeType){case s.NodeType.Document:var E=!1,D=!1;try{for(var O=i(x._children),P=O.next();!P.done;P=O.next())switch(P.value._nodeType){case s.NodeType.ProcessingInstruction:case s.NodeType.Comment:break;case s.NodeType.DocumentType:if(E||D)return!1;E=!0;break;case s.NodeType.Element:if(D)return!1;D=!0;break;default:return!1}}catch(B){S={error:B}}finally{try{P&&!P.done&&(C=O.return)&&C.call(O)}finally{if(S)throw S.error}}break;case s.NodeType.DocumentFragment:case s.NodeType.Element:try{for(var k=i(x._children),U=k.next();!U.done;U=k.next())switch(U.value._nodeType){case s.NodeType.Element:case s.NodeType.Text:case s.NodeType.ProcessingInstruction:case s.NodeType.CData:case s.NodeType.Comment:break;default:return!1}}catch(B){w={error:B}}finally{try{U&&!U.done&&(T=k.return)&&T.call(k)}finally{if(w)throw w.error}}break;case s.NodeType.DocumentType:case s.NodeType.Text:case s.NodeType.ProcessingInstruction:case s.NodeType.CData:case s.NodeType.Comment:return!x.hasChildNodes()}try{for(var H=i(x._children),R=H.next();!R.done;R=H.next())if(!g(R.value))return!1}catch(B){_={error:B}}finally{try{R&&!R.done&&(A=H.return)&&A.call(H)}finally{if(_)throw _.error}}return!0},r.tree_nodeLength=m,r.tree_isEmpty=function(g){return m(g)===0},r.tree_rootNode=y,r.tree_isDescendantOf=function(g,x,S,C){S===void 0&&(S=!1),C===void 0&&(C=!1);for(var w=f(g,S,C);w!==null;){if(w===x)return!0;w=c(g,w,S,C)}return!1},r.tree_isAncestorOf=b,r.tree_isHostIncludingAncestorOf=function g(x,S,C){if(C===void 0&&(C=!1),b(x,S,C))return!0;var w=y(x);return!(!a.Guard.isDocumentFragmentNode(w)||w._host===null||!g(w._host,S,C))},r.tree_isSiblingOf=function(g,x,S){return S===void 0&&(S=!1),g!==x?g._parent!==null&&g._parent===x._parent:!!S},r.tree_isPreceding=function(g,x){var S=v(g),C=v(x);return S!==-1&&C!==-1&&y(g)===y(x)&&C<S},r.tree_isFollowing=function(g,x){var S=v(g),C=v(x);return S!==-1&&C!==-1&&y(g)===y(x)&&C>S},r.tree_isParentOf=function(g,x){return g._parent===x},r.tree_isChildOf=function(g,x){return x._parent===g},r.tree_previousSibling=function(g){return g._previousSibling},r.tree_nextSibling=function(g){return g._nextSibling},r.tree_firstChild=function(g){return g._firstChild},r.tree_lastChild=function(g){return g._lastChild},r.tree_treePosition=v,r.tree_index=function(g){for(var x=0;g._previousSibling!==null;)x++,g=g._previousSibling;return x},r.tree_retarget=function(g,x){for(;;){if(!g||!a.Guard.isNode(g))return g;var S=y(g);if(!a.Guard.isShadowRoot(S)||x&&a.Guard.isNode(x)&&b(S,x,!0,!0))return g;g=S.host}}},function(n,r,o){var i=o(13);n.exports=function(a){if(!i(a))throw TypeError(String(a)+" is not an object");return a}},function(n,r,o){var i=o(24),a=o(130),s=o(49),u=o(43),l=o(88),f=u.set,c=u.getterFor("Array Iterator");n.exports=l(Array,"Array",function(d,p){f(this,{type:"Array Iterator",target:i(d),index:0,kind:p})},function(){var d=c(this),p=d.target,h=d.kind,m=d.index++;return!p||m>=p.length?(d.target=void 0,{value:void 0,done:!0}):h=="keys"?{value:m,done:!1}:h=="values"?{value:p[m],done:!1}:{value:[m,p[m]],done:!1}},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},function(n,r,o){var i=o(90),a=o(25),s=o(202);i||a(Object.prototype,"toString",s,{unsafe:!0})},function(n,r,o){var i=o(16),a=o(15),s=o(40);n.exports=i?function(u,l,f){return a.f(u,l,s(1,f))}:function(u,l,f){return u[l]=f,u}},function(n,r,o){var i=o(137).charAt,a=o(43),s=o(88),u=a.set,l=a.getterFor("String Iterator");s(String,"String",function(f){u(this,{type:"String Iterator",string:String(f),index:0})},function(){var f,c=l(this),d=c.string,p=c.index;return p>=d.length?{value:void 0,done:!0}:(f=i(d,p),c.index+=f.length,{value:f,done:!1})})},function(n,r,o){var i=o(11),a=o(203),s=o(19),u=o(21),l=o(5),f=l("iterator"),c=l("toStringTag"),d=s.values;for(var p in a){var h=i[p],m=h&&h.prototype;if(m){if(m[f]!==d)try{u(m,f,d)}catch(b){m[f]=d}if(m[c]||u(m,c,p),a[p]){for(var y in s)if(m[y]!==s[y])try{u(m,y,s[y])}catch(b){m[y]=s[y]}}}}},function(n,r,o){var i=o(41),a=o(35);n.exports=function(s){return i(a(s))}},function(n,r,o){var i=o(11),a=o(21),s=o(14),u=o(80),l=o(117),f=o(43),c=f.get,d=f.enforce,p=String(String).split("String");(n.exports=function(h,m,y,b){var v=!!b&&!!b.unsafe,g=!!b&&!!b.enumerable,x=!!b&&!!b.noTargetGet;typeof y=="function"&&(typeof m!="string"||s(y,"name")||a(y,"name",m),d(y).source=p.join(typeof m=="string"?m:"")),h!==i?(v?!x&&h[m]&&(g=!0):delete h[m],g?h[m]=y:a(h,m,y)):g?h[m]=y:u(m,y)})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||l(this)})},function(n,r,o){var i=o(47),a=Math.min;n.exports=function(s){return s>0?a(i(s),9007199254740991):0}},function(n,r,o){var i=o(35);n.exports=function(a){return Object(i(a))}},function(n,r,o){var i=o(16),a=o(8),s=o(14),u=Object.defineProperty,l={},f=function(c){throw c};n.exports=function(c,d){if(s(l,c))return l[c];d||(d={});var p=[][c],h=!!s(d,"ACCESSORS")&&d.ACCESSORS,m=s(d,0)?d[0]:f,y=s(d,1)?d[1]:void 0;return l[c]=!!p&&!a(function(){if(h&&!i)return!0;var b={length:-1};h?u(b,1,{enumerable:!0,get:f}):b[1]=1,p.call(b,m,y)})}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(148),a=o(149),s=o(151),u=o(98),l=o(153),f=o(154),c=o(155),d=o(99),p=o(100),h=o(156),m=o(157),y=o(101),b=o(158),v=o(159),g=o(160),x=o(161),S=o(162),C=o(163),w=o(164),T=o(165),_=o(166),A=o(167),E=o(168),D=o(169),O=o(170);r.create_domImplementation=function(P){return i.DOMImplementationImpl._create(P)},r.create_window=function(){return a.WindowImpl._create()},r.create_xmlDocument=function(){return new s.XMLDocumentImpl},r.create_document=function(){return new u.DocumentImpl},r.create_abortController=function(){return new l.AbortControllerImpl},r.create_abortSignal=function(){return f.AbortSignalImpl._create()},r.create_documentType=function(P,k,U,H){return c.DocumentTypeImpl._create(P,k,U,H)},r.create_element=function(P,k,U,H){return d.ElementImpl._create(P,k,U,H)},r.create_htmlElement=function(P,k,U,H){return d.ElementImpl._create(P,k,U,H)},r.create_htmlUnknownElement=function(P,k,U,H){return d.ElementImpl._create(P,k,U,H)},r.create_documentFragment=function(P){return p.DocumentFragmentImpl._create(P)},r.create_shadowRoot=function(P,k){return h.ShadowRootImpl._create(P,k)},r.create_attr=function(P,k){return m.AttrImpl._create(P,k)},r.create_text=function(P,k){return y.TextImpl._create(P,k)},r.create_cdataSection=function(P,k){return b.CDATASectionImpl._create(P,k)},r.create_comment=function(P,k){return v.CommentImpl._create(P,k)},r.create_processingInstruction=function(P,k,U){return g.ProcessingInstructionImpl._create(P,k,U)},r.create_htmlCollection=function(P,k){return k===void 0&&(k=function(){return!0}),x.HTMLCollectionImpl._create(P,k)},r.create_nodeList=function(P){return S.NodeListImpl._create(P)},r.create_nodeListStatic=function(P,k){return C.NodeListStaticImpl._create(P,k)},r.create_namedNodeMap=function(P){return w.NamedNodeMapImpl._create(P)},r.create_range=function(P,k){return T.RangeImpl._create(P,k)},r.create_nodeIterator=function(P,k,U){return _.NodeIteratorImpl._create(P,k,U)},r.create_treeWalker=function(P,k){return A.TreeWalkerImpl._create(P,k)},r.create_nodeFilter=function(){return E.NodeFilterImpl._create()},r.create_mutationRecord=function(P,k,U,H,R,B,M,z,$){return D.MutationRecordImpl._create(P,k,U,H,R,B,M,z,$)},r.create_domTokenList=function(P,k){return O.DOMTokenListImpl._create(P,k)}},function(n,r,o){var i=this&&this.__values||function(m){var y=typeof Symbol=="function"&&Symbol.iterator,b=y&&m[y],v=0;if(b)return b.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(y?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(17),u=o(3),l=o(72),f=new Map;function c(m,y){if(y!==m._root&&s.tree_isAncestorOf(m._reference,y,!0)){if(m._pointerBeforeReference)for(;;){var b=s.tree_getFollowingNode(m._root,y);if(b!==null&&s.tree_isDescendantOf(m._root,b,!0)&&!s.tree_isDescendantOf(y,b,!0))return void(m._reference=b);if(b===null)return void(m._pointerBeforeReference=!1)}if(y._previousSibling===null)y._parent!==null&&(m._reference=y._parent);else{for(var v=y._previousSibling,g=s.tree_getFirstDescendantNode(y._previousSibling,!0,!1);g!==null;)g!==null&&(v=g),g=s.tree_getNextDescendantNode(y._previousSibling,g,!0,!1);m._reference=v}}}function d(m,y,b,v,g){if(u.Guard.isSlot(m)&&y==="name"&&g===null){if(v===b||v===null&&b===""||v===""&&b===null)return;m._name=v===null||v===""?"":v,l.shadowTree_assignSlotablesForATree(s.tree_rootNode(m))}}function p(m,y,b,v,g){if(u.Guard.isSlotable(m)&&y==="slot"&&g===null){if(v===b||v===null&&b===""||v===""&&b===null)return;m._name=v===null||v===""?"":v,l.shadowTree_isAssigned(m)&&l.shadowTree_assignSlotables(m._assignedSlot),l.shadowTree_assignASlot(m)}}function h(m,y,b,v){y==="id"&&v===null&&(m._uniqueIdentifier=b||void 0)}r.dom_runRemovingSteps=function(m,y){},r.dom_runCloningSteps=function(m,y,b,v){},r.dom_runAdoptingSteps=function(m,y){},r.dom_runAttributeChangeSteps=function(m,y,b,v,g){var x,S;a.dom.features.slots&&(p.call(m,m,y,b,v,g),d.call(m,m,y,b,v,g)),h.call(m,m,y,v,g);try{for(var C=i(m._attributeChangeSteps),w=C.next();!w.done;w=C.next())w.value.call(m,m,y,b,v,g)}catch(T){x={error:T}}finally{try{w&&!w.done&&(S=C.return)&&S.call(C)}finally{if(x)throw x.error}}},r.dom_runInsertionSteps=function(m){},r.dom_runNodeIteratorPreRemovingSteps=function(m,y){c.call(m,m,y)},r.dom_hasSupportedTokens=function(m){return f.has(m)},r.dom_getSupportedTokens=function(m){return f.get(m)||new Set},r.dom_runEventConstructingSteps=function(m){},r.dom_runChildTextContentChangeSteps=function(m){}},function(n,r,o){var i=o(4),a=o(11),s=o(46),u=o(44),l=o(16),f=o(86),c=o(124),d=o(8),p=o(14),h=o(59),m=o(13),y=o(18),b=o(27),v=o(24),g=o(56),x=o(40),S=o(60),C=o(61),w=o(82),T=o(190),_=o(85),A=o(55),E=o(15),D=o(79),O=o(21),P=o(25),k=o(81),U=o(57),H=o(45),R=o(58),B=o(5),M=o(125),z=o(126),$=o(62),J=o(43),Z=o(36).forEach,X=U("hidden"),te=B("toPrimitive"),ae=J.set,ue=J.getterFor("Symbol"),ie=Object.prototype,F=a.Symbol,I=s("JSON","stringify"),j=A.f,N=E.f,L=T.f,G=D.f,W=k("symbols"),Y=k("op-symbols"),ee=k("string-to-symbol-registry"),oe=k("symbol-to-string-registry"),le=k("wks"),pe=a.QObject,ce=!pe||!pe.prototype||!pe.prototype.findChild,me=l&&d(function(){return S(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a!=7})?function(he,be,ye){var Ne=j(ie,be);Ne&&delete ie[be],N(he,be,ye),Ne&&he!==ie&&N(ie,be,Ne)}:N,ge=function(he,be){var ye=W[he]=S(F.prototype);return ae(ye,{type:"Symbol",tag:he,description:be}),l||(ye.description=be),ye},de=c?function(he){return typeof he=="symbol"}:function(he){return Object(he)instanceof F},Ee=function(he,be,ye){he===ie&&Ee(Y,be,ye),y(he);var Ne=g(be,!0);return y(ye),p(W,Ne)?(ye.enumerable?(p(he,X)&&he[X][Ne]&&(he[X][Ne]=!1),ye=S(ye,{enumerable:x(0,!1)})):(p(he,X)||N(he,X,x(1,{})),he[X][Ne]=!0),me(he,Ne,ye)):N(he,Ne,ye)},K=function(he,be){y(he);var ye=v(be),Ne=C(ye).concat(se(ye));return Z(Ne,function(ke){l&&!Te.call(ye,ke)||Ee(he,ke,ye[ke])}),he},Te=function(he){var be=g(he,!0),ye=G.call(this,be);return!(this===ie&&p(W,be)&&!p(Y,be))&&(!(ye||!p(this,be)||!p(W,be)||p(this,X)&&this[X][be])||ye)},we=function(he,be){var ye=v(he),Ne=g(be,!0);if(ye!==ie||!p(W,Ne)||p(Y,Ne)){var ke=j(ye,Ne);return!ke||!p(W,Ne)||p(ye,X)&&ye[X][Ne]||(ke.enumerable=!0),ke}},Se=function(he){var be=L(v(he)),ye=[];return Z(be,function(Ne){p(W,Ne)||p(H,Ne)||ye.push(Ne)}),ye},se=function(he){var be=he===ie,ye=L(be?Y:v(he)),Ne=[];return Z(ye,function(ke){!p(W,ke)||be&&!p(ie,ke)||Ne.push(W[ke])}),Ne};f||(P((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor");var he=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,be=R(he),ye=function(Ne){this===ie&&ye.call(Y,Ne),p(this,X)&&p(this[X],be)&&(this[X][be]=!1),me(this,be,x(1,Ne))};return l&&ce&&me(ie,be,{configurable:!0,set:ye}),ge(be,he)}).prototype,"toString",function(){return ue(this).tag}),P(F,"withoutSetter",function(he){return ge(R(he),he)}),D.f=Te,E.f=Ee,A.f=we,w.f=T.f=Se,_.f=se,M.f=function(he){return ge(B(he),he)},l&&(N(F.prototype,"description",{configurable:!0,get:function(){return ue(this).description}}),u||P(ie,"propertyIsEnumerable",Te,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:F}),Z(C(le),function(he){z(he)}),i({target:"Symbol",stat:!0,forced:!f},{for:function(he){var be=String(he);if(p(ee,be))return ee[be];var ye=F(be);return ee[be]=ye,oe[ye]=be,ye},keyFor:function(he){if(!de(he))throw TypeError(he+" is not a symbol");if(p(oe,he))return oe[he]},useSetter:function(){ce=!0},useSimple:function(){ce=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!l},{create:function(he,be){return be===void 0?S(he):K(S(he),be)},defineProperty:Ee,defineProperties:K,getOwnPropertyDescriptor:we}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Se,getOwnPropertySymbols:se}),i({target:"Object",stat:!0,forced:d(function(){_.f(1)})},{getOwnPropertySymbols:function(he){return _.f(b(he))}}),I&&i({target:"JSON",stat:!0,forced:!f||d(function(){var he=F();return I([he])!="[null]"||I({a:he})!="{}"||I(Object(he))!="{}"})},{stringify:function(he,be,ye){for(var Ne,ke=[he],Pe=1;arguments.length>Pe;)ke.push(arguments[Pe++]);if(Ne=be,(m(be)||he!==void 0)&&!de(he))return h(be)||(be=function(qe,nt){if(typeof Ne=="function"&&(nt=Ne.call(this,qe,nt)),!de(nt))return nt}),ke[1]=be,I.apply(null,ke)}}),F.prototype[te]||O(F.prototype,te,F.prototype.valueOf),$(F,"Symbol"),H[X]=!0},function(n,r,o){var i=o(4),a=o(16),s=o(11),u=o(14),l=o(13),f=o(15).f,c=o(119),d=s.Symbol;if(a&&typeof d=="function"&&(!("description"in d.prototype)||d().description!==void 0)){var p={},h=function(){var g=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof h?new d(g):g===void 0?d():d(g);return g===""&&(p[x]=!0),x};c(h,d);var m=h.prototype=d.prototype;m.constructor=h;var y=m.toString,b=String(d("test"))=="Symbol(test)",v=/^Symbol\((.*)\)[^)]+$/;f(m,"description",{configurable:!0,get:function(){var g=l(this)?this.valueOf():this,x=y.call(g);if(u(p,g))return"";var S=b?x.slice(7,-1):x.replace(v,"$1");return S===""?void 0:S}}),i({global:!0,forced:!0},{Symbol:h})}},function(n,r,o){o(126)("iterator")},function(n,r,o){var i,a=this&&this.__extends||(i=function(b,v){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var S in x)x.hasOwnProperty(S)&&(g[S]=x[S])})(b,v)},function(b,v){function g(){this.constructor=b}i(b,v),b.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}),s=this&&this.__values||function(b){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&b[v],x=0;if(g)return g.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&x>=b.length&&(b=void 0),{value:b&&b[x++],done:!b}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=o(6),l=o(2),f=o(70),c=o(3),d=o(9),p=o(0),h=o(152),m=o(12),y=function(b){function v(){var g=b.call(this)||this;return g._parent=null,g._firstChild=null,g._lastChild=null,g._previousSibling=null,g._nextSibling=null,g}return a(v,b),Object.defineProperty(v.prototype,"_childNodes",{get:function(){return this.__childNodes||(this.__childNodes=p.create_nodeList(this))},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverride||u.dom.window._associatedDocument},set:function(g){this._nodeDocumentOverride=g},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"_registeredObserverList",{get:function(){return this.__registeredObserverList||(this.__registeredObserverList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeType",{get:function(){return this._nodeType},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeName",{get:function(){return c.Guard.isElementNode(this)?this._htmlUppercasedQualifiedName:c.Guard.isAttrNode(this)?this._qualifiedName:c.Guard.isExclusiveTextNode(this)?"#text":c.Guard.isCDATASectionNode(this)?"#cdata-section":c.Guard.isProcessingInstructionNode(this)?this._target:c.Guard.isCommentNode(this)?"#comment":c.Guard.isDocumentNode(this)?"#document":c.Guard.isDocumentTypeNode(this)?this._name:c.Guard.isDocumentFragmentNode(this)?"#document-fragment":""},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"baseURI",{get:function(){return h.urlSerializer(this._nodeDocument._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isConnected",{get:function(){return c.Guard.isElementNode(this)&&p.shadowTree_isConnected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"ownerDocument",{get:function(){return this._nodeType===l.NodeType.Document?null:this._nodeDocument},enumerable:!0,configurable:!0}),v.prototype.getRootNode=function(g){return p.tree_rootNode(this,!!g&&g.composed)},Object.defineProperty(v.prototype,"parentNode",{get:function(){return this._nodeType===l.NodeType.Attribute?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"parentElement",{get:function(){return this._parent&&c.Guard.isElementNode(this._parent)?this._parent:null},enumerable:!0,configurable:!0}),v.prototype.hasChildNodes=function(){return this._firstChild!==null},Object.defineProperty(v.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"firstChild",{get:function(){return this._firstChild},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"lastChild",{get:function(){return this._lastChild},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"nodeValue",{get:function(){return c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(g){g===null&&(g=""),c.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,g):c.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,this._data.length,g)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"textContent",{get:function(){return c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?p.text_descendantTextContent(this):c.Guard.isAttrNode(this)?this._value:c.Guard.isCharacterDataNode(this)?this._data:null},set:function(g){g===null&&(g=""),c.Guard.isDocumentFragmentNode(this)||c.Guard.isElementNode(this)?p.node_stringReplaceAll(g,this):c.Guard.isAttrNode(this)?p.attr_setAnExistingAttributeValue(this,g):c.Guard.isCharacterDataNode(this)&&p.characterData_replaceData(this,0,p.tree_nodeLength(this),g)},enumerable:!0,configurable:!0}),v.prototype.normalize=function(){for(var g,x,S,C,w=[],T=p.tree_getFirstDescendantNode(this,!1,!1,function(Z){return c.Guard.isExclusiveTextNode(Z)});T!==null;)w.push(T),T=p.tree_getNextDescendantNode(this,T,!1,!1,function(Z){return c.Guard.isExclusiveTextNode(Z)});for(var _=0;_<w.length;_++){var A=w[_];if(A._parent!==null){var E=p.tree_nodeLength(A);if(E!==0){var D=[],O="";try{for(var P=(g=void 0,s(p.text_contiguousExclusiveTextNodes(A))),k=P.next();!k.done;k=P.next()){var U=k.value;D.push(U),O+=U._data}}catch(Z){g={error:Z}}finally{try{k&&!k.done&&(x=P.return)&&x.call(P)}finally{if(g)throw g.error}}if(p.characterData_replaceData(A,E,0,O),u.dom.rangeList.size!==0)for(var H=A._nextSibling;H!==null&&c.Guard.isExclusiveTextNode(H);){var R=H,B=p.tree_index(R);try{for(var M=(S=void 0,s(u.dom.rangeList)),z=M.next();!z.done;z=M.next()){var $=z.value;$._start[0]===R&&($._start[0]=A,$._start[1]+=E),$._end[0]===R&&($._end[0]=A,$._end[1]+=E),$._start[0]===R._parent&&$._start[1]===B&&($._start[0]=A,$._start[1]=E),$._end[0]===R._parent&&$._end[1]===B&&($._end[0]=A,$._end[1]=E)}}catch(Z){S={error:Z}}finally{try{z&&!z.done&&(C=M.return)&&C.call(M)}finally{if(S)throw S.error}}E+=p.tree_nodeLength(H),H=H._nextSibling}for(var J=0;J<D.length;J++)(U=D[J])._parent!==null&&p.mutation_remove(U,U._parent)}else p.mutation_remove(A,A._parent)}}},v.prototype.cloneNode=function(g){if(g===void 0&&(g=!1),c.Guard.isShadowRoot(this))throw new d.NotSupportedError;return p.node_clone(this,null,g)},v.prototype.isEqualNode=function(g){return g===void 0&&(g=null),g!==null&&p.node_equals(this,g)},v.prototype.isSameNode=function(g){return g===void 0&&(g=null),this===g},v.prototype.compareDocumentPosition=function(g){if(g===this)return 0;var x=g,S=this,C=null,w=null;if(c.Guard.isAttrNode(x)&&(x=(C=x)._element),c.Guard.isAttrNode(S)&&(S=(w=S)._element,C&&x&&x===S))for(var T=0;T<S._attributeList.length;T++){var _=S._attributeList[T];if(p.node_equals(_,C))return l.Position.ImplementationSpecific|l.Position.Preceding;if(p.node_equals(_,w))return l.Position.ImplementationSpecific|l.Position.Following}return x===null||S===null||p.tree_rootNode(x)!==p.tree_rootNode(S)?l.Position.Disconnected|l.Position.ImplementationSpecific|(u.dom.compareCache.check(this,g)?l.Position.Preceding:l.Position.Following):!C&&p.tree_isAncestorOf(S,x)||w&&x===S?l.Position.Contains|l.Position.Preceding:!w&&p.tree_isDescendantOf(S,x)||C&&x===S?l.Position.ContainedBy|l.Position.Following:p.tree_isPreceding(S,x)?l.Position.Preceding:l.Position.Following},v.prototype.contains=function(g){return g!==null&&p.tree_isDescendantOf(this,g,!0)},v.prototype.lookupPrefix=function(g){return g?c.Guard.isElementNode(this)?p.node_locateANamespacePrefix(this,g):c.Guard.isDocumentNode(this)?this.documentElement===null?null:p.node_locateANamespacePrefix(this.documentElement,g):c.Guard.isDocumentTypeNode(this)||c.Guard.isDocumentFragmentNode(this)?null:c.Guard.isAttrNode(this)?this._element===null?null:p.node_locateANamespacePrefix(this._element,g):this._parent!==null&&c.Guard.isElementNode(this._parent)?p.node_locateANamespacePrefix(this._parent,g):null:null},v.prototype.lookupNamespaceURI=function(g){return p.node_locateANamespace(this,g||null)},v.prototype.isDefaultNamespace=function(g){return g||(g=null),p.node_locateANamespace(this,null)===g},v.prototype.insertBefore=function(g,x){return p.mutation_preInsert(g,this,x)},v.prototype.appendChild=function(g){return p.mutation_append(g,this)},v.prototype.replaceChild=function(g,x){return p.mutation_replace(x,g,this)},v.prototype.removeChild=function(g){return p.mutation_preRemove(g,this)},v.prototype._getTheParent=function(g){return c.Guard.isSlotable(this)&&p.shadowTree_isAssigned(this)?this._assignedSlot:this._parent},v.ELEMENT_NODE=1,v.ATTRIBUTE_NODE=2,v.TEXT_NODE=3,v.CDATA_SECTION_NODE=4,v.ENTITY_REFERENCE_NODE=5,v.ENTITY_NODE=6,v.PROCESSING_INSTRUCTION_NODE=7,v.COMMENT_NODE=8,v.DOCUMENT_NODE=9,v.DOCUMENT_TYPE_NODE=10,v.DOCUMENT_FRAGMENT_NODE=11,v.NOTATION_NODE=12,v.DOCUMENT_POSITION_DISCONNECTED=1,v.DOCUMENT_POSITION_PRECEDING=2,v.DOCUMENT_POSITION_FOLLOWING=4,v.DOCUMENT_POSITION_CONTAINS=8,v.DOCUMENT_POSITION_CONTAINED_BY=16,v.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,v}(f.EventTargetImpl);r.NodeImpl=y,y.prototype._children=new c.EmptySet,m.idl_defineConst(y.prototype,"ELEMENT_NODE",1),m.idl_defineConst(y.prototype,"ATTRIBUTE_NODE",2),m.idl_defineConst(y.prototype,"TEXT_NODE",3),m.idl_defineConst(y.prototype,"CDATA_SECTION_NODE",4),m.idl_defineConst(y.prototype,"ENTITY_REFERENCE_NODE",5),m.idl_defineConst(y.prototype,"ENTITY_NODE",6),m.idl_defineConst(y.prototype,"PROCESSING_INSTRUCTION_NODE",7),m.idl_defineConst(y.prototype,"COMMENT_NODE",8),m.idl_defineConst(y.prototype,"DOCUMENT_NODE",9),m.idl_defineConst(y.prototype,"DOCUMENT_TYPE_NODE",10),m.idl_defineConst(y.prototype,"DOCUMENT_FRAGMENT_NODE",11),m.idl_defineConst(y.prototype,"NOTATION_NODE",12),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_DISCONNECTED",1),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_PRECEDING",2),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_FOLLOWING",4),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_CONTAINS",8),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_CONTAINED_BY",16),m.idl_defineConst(y.prototype,"DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC",32)},function(n,r){n.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},function(n,r,o){var i=o(87),a=o(41),s=o(27),u=o(26),l=o(128),f=[].push,c=function(d){var p=d==1,h=d==2,m=d==3,y=d==4,b=d==6,v=d==5||b;return function(g,x,S,C){for(var w,T,_=s(g),A=a(_),E=i(x,S,3),D=u(A.length),O=0,P=C||l,k=p?P(g,D):h?P(g,0):void 0;D>O;O++)if((v||O in A)&&(T=E(w=A[O],O,_),d)){if(p)k[O]=T;else if(T)switch(d){case 3:return!0;case 5:return w;case 6:return O;case 2:f.call(k,w)}else if(y)return!1}return b?-1:m||y?y:k}};n.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(n,r,o){var i=this&&this.__values||function(_){var A=typeof Symbol=="function"&&Symbol.iterator,E=A&&_[A],D=0;if(E)return E.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&D>=_.length&&(_=void 0),{value:_&&_[D++],done:!_}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(_,A){var E=typeof Symbol=="function"&&_[Symbol.iterator];if(!E)return _;var D,O,P=E.call(_),k=[];try{for(;(A===void 0||A-- >0)&&!(D=P.next()).done;)k.push(D.value)}catch(U){O={error:U}}finally{try{D&&!D.done&&(E=P.return)&&E.call(P)}finally{if(O)throw O.error}}return k},s=this&&this.__spread||function(){for(var _=[],A=0;A<arguments.length;A++)_=_.concat(a(arguments[A]));return _};Object.defineProperty(r,"__esModule",{value:!0});var u=o(6),l=o(9),f=o(2),c=o(3),d=o(1),p=o(7),h=o(73),m=o(17),y=o(172),b=o(72),v=o(51),g=o(30),x=o(106);function S(_,A,E){var D,O,P,k,U,H,R,B,M=A._nodeType,z=_._nodeType,$=E?E._nodeType:null;if(M!==f.NodeType.Document&&M!==f.NodeType.DocumentFragment&&M!==f.NodeType.Element)throw new l.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+A.nodeName+".");if(m.tree_isHostIncludingAncestorOf(A,_,!0))throw new l.HierarchyRequestError("The node to be inserted cannot be an inclusive ancestor of parent node. Node is "+_.nodeName+", parent node is "+A.nodeName+".");if(E!==null&&E._parent!==A)throw new l.NotFoundError("The reference child node cannot be found under parent node. Child node is "+E.nodeName+", parent node is "+A.nodeName+".");if(z!==f.NodeType.DocumentFragment&&z!==f.NodeType.DocumentType&&z!==f.NodeType.Element&&z!==f.NodeType.Text&&z!==f.NodeType.ProcessingInstruction&&z!==f.NodeType.CData&&z!==f.NodeType.Comment)throw new l.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+_.nodeName+".");if(z===f.NodeType.Text&&M===f.NodeType.Document)throw new l.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+_.nodeName+".");if(z===f.NodeType.DocumentType&&M!==f.NodeType.Document)throw new l.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+A.nodeName+".");if(M===f.NodeType.Document){if(z===f.NodeType.DocumentFragment){var J=0;try{for(var Z=i(_._children),X=Z.next();!X.done;X=Z.next()){var te=X.value;if(te._nodeType===f.NodeType.Element)J++;else if(te._nodeType===f.NodeType.Text)throw new l.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+te.nodeName+".")}}catch(G){D={error:G}}finally{try{X&&!X.done&&(O=Z.return)&&O.call(Z)}finally{if(D)throw D.error}}if(J>1)throw new l.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+J+" element nodes.");if(J===1){try{for(var ae=i(A._children),ue=ae.next();!ue.done;ue=ae.next())if(ue.value._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("The document node already has a document element node.")}catch(G){P={error:G}}finally{try{ue&&!ue.done&&(k=ae.return)&&k.call(ae)}finally{if(P)throw P.error}}if(E){if($===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node.");for(var ie=E._nextSibling;ie;){if(ie._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node.");ie=ie._nextSibling}}}}else if(z===f.NodeType.Element){try{for(var F=i(A._children),I=F.next();!I.done;I=F.next())if(I.value._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Document already has a document element node. Node is "+_.nodeName+".")}catch(G){U={error:G}}finally{try{I&&!I.done&&(H=F.return)&&H.call(F)}finally{if(U)throw U.error}}if(E){if($===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+_.nodeName+".");for(ie=E._nextSibling;ie;){if(ie._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+_.nodeName+".");ie=ie._nextSibling}}}else if(z===f.NodeType.DocumentType){try{for(var j=i(A._children),N=j.next();!N.done;N=j.next())if(N.value._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Document already has a document type node. Node is "+_.nodeName+".")}catch(G){R={error:G}}finally{try{N&&!N.done&&(B=j.return)&&B.call(j)}finally{if(R)throw R.error}}if(E)for(var L=E._previousSibling;L;){if(L._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+_.nodeName+".");L=L._previousSibling}else for(L=A._firstChild;L;){if(L._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+_.nodeName+".");L=L._nextSibling}}}}function C(_,A,E){S(_,A,E);var D=E;return D===_&&(D=_._nextSibling),x.document_adopt(_,A._nodeDocument),w(_,A,D),_}function w(_,A,E,D){var O,P;if(E!==null||_._nodeType===f.NodeType.DocumentFragment){var k=_._nodeType===f.NodeType.DocumentFragment?_._children.size:1;if(E!==null&&u.dom.rangeList.size!==0){var U=m.tree_index(E);try{for(var H=i(u.dom.rangeList),R=H.next();!R.done;R=H.next()){var B=R.value;B._start[0]===A&&B._start[1]>U&&(B._start[1]+=k),B._end[0]===A&&B._end[1]>U&&(B._end[1]+=k)}}catch(ue){O={error:ue}}finally{try{R&&!R.done&&(P=H.return)&&P.call(H)}finally{if(O)throw O.error}}}var M=_._nodeType===f.NodeType.DocumentFragment?new(Array.bind.apply(Array,s([void 0],_._children))):[_];if(_._nodeType===f.NodeType.DocumentFragment)for(;_._firstChild;)T(_._firstChild,_,!0);u.dom.features.mutationObservers&&_._nodeType===f.NodeType.DocumentFragment&&v.observer_queueTreeMutationRecord(_,[],M,null,null);for(var z=E?E._previousSibling:A._lastChild,$=E===null?-1:m.tree_index(E),J=0;J<M.length;J++){var Z=M[J];if(c.Guard.isElementNode(Z)&&(c.Guard.isDocumentNode(A)&&(A._documentElement=Z),Z._nodeDocument._hasNamespaces||Z._namespace===null&&Z._namespacePrefix===null||(Z._nodeDocument._hasNamespaces=!0)),Z._parent=A,E===null?p.set.append(A._children,Z):(p.set.insert(A._children,Z,$),$++),A._firstChild===null)Z._previousSibling=null,Z._nextSibling=null,A._firstChild=Z,A._lastChild=Z;else{var X=E?E._previousSibling:A._lastChild,te=E||null;Z._previousSibling=X,Z._nextSibling=te,X&&(X._nextSibling=Z),te&&(te._previousSibling=Z),X||(A._firstChild=Z),te||(A._lastChild=Z)}u.dom.features.slots&&A._shadowRoot!==null&&c.Guard.isSlotable(Z)&&b.shadowTree_assignASlot(Z),u.dom.features.steps&&c.Guard.isTextNode(Z)&&g.dom_runChildTextContentChangeSteps(A),u.dom.features.slots&&c.Guard.isShadowRoot(m.tree_rootNode(A))&&c.Guard.isSlot(A)&&d.isEmpty(A._assignedNodes)&&b.shadowTree_signalASlotChange(A),u.dom.features.slots&&b.shadowTree_assignSlotablesForATree(m.tree_rootNode(Z));for(var ae=m.tree_getFirstDescendantNode(Z,!0,!0);ae!==null;)u.dom.features.steps&&g.dom_runInsertionSteps(ae),u.dom.features.customElements&&c.Guard.isElementNode(ae)&&b.shadowTree_isConnected(ae)&&(c.Guard.isCustomElementNode(ae)?h.customElement_enqueueACustomElementCallbackReaction(ae,"connectedCallback",[]):h.customElement_tryToUpgrade(ae)),ae=m.tree_getNextDescendantNode(Z,ae,!0,!0)}u.dom.features.mutationObservers&&(D||v.observer_queueTreeMutationRecord(A,M,[],z,E))}else(function(ue,ie,F){var I=ie._lastChild;if(c.Guard.isElementNode(ue)&&(c.Guard.isDocumentNode(ie)&&(ie._documentElement=ue),ue._nodeDocument._hasNamespaces||ue._namespace===null&&ue._namespacePrefix===null||(ue._nodeDocument._hasNamespaces=!0)),ue._parent=ie,ie._children.add(ue),ie._firstChild===null)ue._previousSibling=null,ue._nextSibling=null,ie._firstChild=ue,ie._lastChild=ue;else{var j=ie._lastChild;ue._previousSibling=j,ue._nextSibling=null,j&&(j._nextSibling=ue),j||(ie._firstChild=ue),ie._lastChild=ue}u.dom.features.slots&&ie._shadowRoot!==null&&c.Guard.isSlotable(ue)&&b.shadowTree_assignASlot(ue),u.dom.features.steps&&c.Guard.isTextNode(ue)&&g.dom_runChildTextContentChangeSteps(ie),u.dom.features.slots&&c.Guard.isShadowRoot(m.tree_rootNode(ie))&&c.Guard.isSlot(ie)&&d.isEmpty(ie._assignedNodes)&&b.shadowTree_signalASlotChange(ie),u.dom.features.slots&&b.shadowTree_assignSlotablesForATree(m.tree_rootNode(ue)),u.dom.features.steps&&g.dom_runInsertionSteps(ue),u.dom.features.customElements&&c.Guard.isElementNode(ue)&&b.shadowTree_isConnected(ue)&&(c.Guard.isCustomElementNode(ue)?h.customElement_enqueueACustomElementCallbackReaction(ue,"connectedCallback",[]):h.customElement_tryToUpgrade(ue)),u.dom.features.mutationObservers&&(F||v.observer_queueTreeMutationRecord(ie,[ue],[],I,null))})(_,A,D)}function T(_,A,E){var D,O,P,k,U,H,R,B;if(u.dom.rangeList.size!==0){var M=m.tree_index(_);try{for(var z=i(u.dom.rangeList),$=z.next();!$.done;$=z.next()){var J=$.value;m.tree_isDescendantOf(_,J._start[0],!0)&&(J._start=[A,M]),m.tree_isDescendantOf(_,J._end[0],!0)&&(J._end=[A,M]),J._start[0]===A&&J._start[1]>M&&J._start[1]--,J._end[0]===A&&J._end[1]>M&&J._end[1]--}}catch(ee){D={error:ee}}finally{try{$&&!$.done&&(O=z.return)&&O.call(z)}finally{if(D)throw D.error}}try{for(var Z=i(u.dom.rangeList),X=Z.next();!X.done;X=Z.next())(J=X.value)._start[0]===A&&J._start[1]>M&&(J._start[1]-=1),J._end[0]===A&&J._end[1]>M&&(J._end[1]-=1)}catch(ee){P={error:ee}}finally{try{X&&!X.done&&(k=Z.return)&&k.call(Z)}finally{if(P)throw P.error}}}if(u.dom.features.steps)try{for(var te=i(y.nodeIterator_iteratorList()),ae=te.next();!ae.done;ae=te.next()){var ue=ae.value;ue._root._nodeDocument===_._nodeDocument&&g.dom_runNodeIteratorPreRemovingSteps(ue,_)}}catch(ee){U={error:ee}}finally{try{ae&&!ae.done&&(H=te.return)&&H.call(te)}finally{if(U)throw U.error}}var ie=_._previousSibling,F=_._nextSibling;c.Guard.isDocumentNode(A)&&c.Guard.isElementNode(_)&&(A._documentElement=null),_._parent=null,A._children.delete(_);var I=_._previousSibling,j=_._nextSibling;_._previousSibling=null,_._nextSibling=null,I&&(I._nextSibling=j),j&&(j._previousSibling=I),I||(A._firstChild=j),j||(A._lastChild=I),u.dom.features.slots&&c.Guard.isSlotable(_)&&_._assignedSlot!==null&&b.shadowTree_isAssigned(_)&&b.shadowTree_assignSlotables(_._assignedSlot),u.dom.features.slots&&c.Guard.isShadowRoot(m.tree_rootNode(A))&&c.Guard.isSlot(A)&&d.isEmpty(A._assignedNodes)&&b.shadowTree_signalASlotChange(A),u.dom.features.slots&&m.tree_getFirstDescendantNode(_,!0,!1,function(ee){return c.Guard.isSlot(ee)})!==null&&(b.shadowTree_assignSlotablesForATree(m.tree_rootNode(A)),b.shadowTree_assignSlotablesForATree(_)),u.dom.features.steps&&g.dom_runRemovingSteps(_,A),u.dom.features.customElements&&c.Guard.isCustomElementNode(_)&&h.customElement_enqueueACustomElementCallbackReaction(_,"disconnectedCallback",[]);for(var N=m.tree_getFirstDescendantNode(_,!1,!0);N!==null;)u.dom.features.steps&&g.dom_runRemovingSteps(N,_),u.dom.features.customElements&&c.Guard.isCustomElementNode(N)&&h.customElement_enqueueACustomElementCallbackReaction(N,"disconnectedCallback",[]),N=m.tree_getNextDescendantNode(_,N,!1,!0);if(u.dom.features.mutationObservers)for(var L=m.tree_getFirstAncestorNode(A,!0);L!==null;){try{for(var G=(R=void 0,i(L._registeredObserverList)),W=G.next();!W.done;W=G.next()){var Y=W.value;Y.options.subtree&&_._registeredObserverList.push({observer:Y.observer,options:Y.options,source:Y})}}catch(ee){R={error:ee}}finally{try{W&&!W.done&&(B=G.return)&&B.call(G)}finally{if(R)throw R.error}}L=m.tree_getNextAncestorNode(A,L,!0)}u.dom.features.mutationObservers&&(E||v.observer_queueTreeMutationRecord(A,[],[_],ie,F)),u.dom.features.steps&&c.Guard.isTextNode(_)&&g.dom_runChildTextContentChangeSteps(A)}r.mutation_ensurePreInsertionValidity=S,r.mutation_preInsert=C,r.mutation_insert=w,r.mutation_append=function(_,A){return C(_,A,null)},r.mutation_replace=function(_,A,E){var D,O,P,k,U,H,R,B;if(E._nodeType!==f.NodeType.Document&&E._nodeType!==f.NodeType.DocumentFragment&&E._nodeType!==f.NodeType.Element)throw new l.HierarchyRequestError("Only document, document fragment and element nodes can contain child nodes. Parent node is "+E.nodeName+".");if(m.tree_isHostIncludingAncestorOf(E,A,!0))throw new l.HierarchyRequestError("The node to be inserted cannot be an ancestor of parent node. Node is "+A.nodeName+", parent node is "+E.nodeName+".");if(_._parent!==E)throw new l.NotFoundError("The reference child node cannot be found under parent node. Child node is "+_.nodeName+", parent node is "+E.nodeName+".");if(A._nodeType!==f.NodeType.DocumentFragment&&A._nodeType!==f.NodeType.DocumentType&&A._nodeType!==f.NodeType.Element&&A._nodeType!==f.NodeType.Text&&A._nodeType!==f.NodeType.ProcessingInstruction&&A._nodeType!==f.NodeType.CData&&A._nodeType!==f.NodeType.Comment)throw new l.HierarchyRequestError("Only document fragment, document type, element, text, processing instruction, cdata section or comment nodes can be inserted. Node is "+A.nodeName+".");if(A._nodeType===f.NodeType.Text&&E._nodeType===f.NodeType.Document)throw new l.HierarchyRequestError("Cannot insert a text node as a child of a document node. Node is "+A.nodeName+".");if(A._nodeType===f.NodeType.DocumentType&&E._nodeType!==f.NodeType.Document)throw new l.HierarchyRequestError("A document type node can only be inserted under a document node. Parent node is "+E.nodeName+".");if(E._nodeType===f.NodeType.Document){if(A._nodeType===f.NodeType.DocumentFragment){var M=0;try{for(var z=i(A._children),$=z.next();!$.done;$=z.next()){var J=$.value;if(J._nodeType===f.NodeType.Element)M++;else if(J._nodeType===f.NodeType.Text)throw new l.HierarchyRequestError("Cannot insert text a node as a child of a document node. Node is "+J.nodeName+".")}}catch(Y){D={error:Y}}finally{try{$&&!$.done&&(O=z.return)&&O.call(z)}finally{if(D)throw D.error}}if(M>1)throw new l.HierarchyRequestError("A document node can only have one document element node. Document fragment to be inserted has "+M+" element nodes.");if(M===1){try{for(var Z=i(E._children),X=Z.next();!X.done;X=Z.next())if((I=X.value)._nodeType===f.NodeType.Element&&I!==_)throw new l.HierarchyRequestError("The document node already has a document element node.")}catch(Y){P={error:Y}}finally{try{X&&!X.done&&(k=Z.return)&&k.call(Z)}finally{if(P)throw P.error}}for(var te=_._nextSibling;te;){if(te._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node.");te=te._nextSibling}}}else if(A._nodeType===f.NodeType.Element){try{for(var ae=i(E._children),ue=ae.next();!ue.done;ue=ae.next())if((I=ue.value)._nodeType===f.NodeType.Element&&I!==_)throw new l.HierarchyRequestError("Document already has a document element node. Node is "+A.nodeName+".")}catch(Y){U={error:Y}}finally{try{ue&&!ue.done&&(H=ae.return)&&H.call(ae)}finally{if(U)throw U.error}}for(te=_._nextSibling;te;){if(te._nodeType===f.NodeType.DocumentType)throw new l.HierarchyRequestError("Cannot insert an element node before a document type node. Node is "+A.nodeName+".");te=te._nextSibling}}else if(A._nodeType===f.NodeType.DocumentType){try{for(var ie=i(E._children),F=ie.next();!F.done;F=ie.next()){var I;if((I=F.value)._nodeType===f.NodeType.DocumentType&&I!==_)throw new l.HierarchyRequestError("Document already has a document type node. Node is "+A.nodeName+".")}}catch(Y){R={error:Y}}finally{try{F&&!F.done&&(B=ie.return)&&B.call(ie)}finally{if(R)throw R.error}}for(var j=_._previousSibling;j;){if(j._nodeType===f.NodeType.Element)throw new l.HierarchyRequestError("Cannot insert a document type node before an element node. Node is "+A.nodeName+".");j=j._previousSibling}}}var N=_._nextSibling;N===A&&(N=A._nextSibling);var L=_._previousSibling;x.document_adopt(A,E._nodeDocument);var G=[];_._parent!==null&&(G.push(_),T(_,_._parent,!0));var W=[];return A._nodeType===f.NodeType.DocumentFragment?W=Array.from(A._children):W.push(A),w(A,E,N,!0),u.dom.features.mutationObservers&&v.observer_queueTreeMutationRecord(E,W,G,L,N),_},r.mutation_replaceAll=function(_,A){var E,D;_!==null&&x.document_adopt(_,A._nodeDocument);var O=Array.from(A._children),P=[];_&&_._nodeType===f.NodeType.DocumentFragment?P=Array.from(_._children):_!==null&&P.push(_);try{for(var k=i(O),U=k.next();!U.done;U=k.next())T(U.value,A,!0)}catch(H){E={error:H}}finally{try{U&&!U.done&&(D=k.return)&&D.call(k)}finally{if(E)throw E.error}}_!==null&&w(_,A,null,!0),u.dom.features.mutationObservers&&v.observer_queueTreeMutationRecord(A,P,O,null,null)},r.mutation_preRemove=function(_,A){if(_._parent!==A)throw new l.NotFoundError("The child node cannot be found under parent node. Child node is "+_.nodeName+", parent node is "+A.nodeName+".");return T(_,A),_},r.mutation_remove=T},function(n,r,o){function i(a){return a==null}n.exports.isNothing=i,n.exports.isObject=function(a){return typeof a=="object"&&a!==null},n.exports.toArray=function(a){return Array.isArray(a)?a:i(a)?[]:[a]},n.exports.repeat=function(a,s){var u,l="";for(u=0;u<s;u+=1)l+=a;return l},n.exports.isNegativeZero=function(a){return a===0&&Number.NEGATIVE_INFINITY===1/a},n.exports.extend=function(a,s){var u,l,f,c;if(s)for(u=0,l=(c=Object.keys(s)).length;u<l;u+=1)a[f=c[u]]=s[f];return a}},function(n,r,o){var i=o(38),a=o(53),s=o(10);function u(f,c,d){var p=[];return f.include.forEach(function(h){d=u(h,c,d)}),f[c].forEach(function(h){d.forEach(function(m,y){m.tag===h.tag&&m.kind===h.kind&&p.push(y)}),d.push(h)}),d.filter(function(h,m){return p.indexOf(m)===-1})}function l(f){this.include=f.include||[],this.implicit=f.implicit||[],this.explicit=f.explicit||[],this.implicit.forEach(function(c){if(c.loadKind&&c.loadKind!=="scalar")throw new a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=u(this,"implicit",[]),this.compiledExplicit=u(this,"explicit",[]),this.compiledTypeMap=function(){var c,d,p={scalar:{},sequence:{},mapping:{},fallback:{}};function h(m){p[m.kind][m.tag]=p.fallback[m.tag]=m}for(c=0,d=arguments.length;c<d;c+=1)arguments[c].forEach(h);return p}(this.compiledImplicit,this.compiledExplicit)}l.DEFAULT=null,l.create=function(){var f,c;switch(arguments.length){case 1:f=l.DEFAULT,c=arguments[0];break;case 2:f=arguments[0],c=arguments[1];break;default:throw new a("Wrong number of arguments for Schema.create function")}if(f=i.toArray(f),c=i.toArray(c),!f.every(function(d){return d instanceof l}))throw new a("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!c.every(function(d){return d instanceof s}))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new l({include:f,explicit:c})},n.exports=l},function(n,r){n.exports=function(o,i){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:i}}},function(n,r,o){var i=o(8),a=o(42),s="".split;n.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return a(u)=="String"?s.call(u,""):Object(u)}:Object},function(n,r){var o={}.toString;n.exports=function(i){return o.call(i).slice(8,-1)}},function(n,r,o){var i,a,s,u=o(186),l=o(11),f=o(13),c=o(21),d=o(14),p=o(57),h=o(45),m=l.WeakMap;if(u){var y=new m,b=y.get,v=y.has,g=y.set;i=function(S,C){return g.call(y,S,C),C},a=function(S){return b.call(y,S)||{}},s=function(S){return v.call(y,S)}}else{var x=p("state");h[x]=!0,i=function(S,C){return c(S,x,C),C},a=function(S){return d(S,x)?S[x]:{}},s=function(S){return d(S,x)}}n.exports={set:i,get:a,has:s,enforce:function(S){return s(S)?a(S):i(S,{})},getterFor:function(S){return function(C){var w;if(!f(C)||(w=a(C)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return w}}}},function(n,r){n.exports=!1},function(n,r){n.exports={}},function(n,r,o){var i=o(120),a=o(11),s=function(u){return typeof u=="function"?u:void 0};n.exports=function(u,l){return arguments.length<2?s(i[u])||s(a[u]):i[u]&&i[u][l]||a[u]&&a[u][l]}},function(n,r){var o=Math.ceil,i=Math.floor;n.exports=function(a){return isNaN(a=+a)?0:(a>0?i:o)(a)}},function(n,r,o){var i=o(8);n.exports=function(a,s){var u=[][a];return!!u&&i(function(){u.call(null,s||function(){throw 1},1)})}},function(n,r){n.exports={}},function(n,r,o){o(31),o(32),o(33),o(220),o(64),o(19),o(65),o(20),o(68),o(66),o(92),o(144),o(22),o(94),o(23);var i=this&&this.__values||function(h){var m=typeof Symbol=="function"&&Symbol.iterator,y=m&&h[m],b=0;if(y)return y.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&b>=h.length&&(h=void 0),{value:h&&h[b++],done:!h}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(h,m){var y=typeof Symbol=="function"&&h[Symbol.iterator];if(!y)return h;var b,v,g=y.call(h),x=[];try{for(;(m===void 0||m-- >0)&&!(b=g.next()).done;)x.push(b.value)}catch(S){v={error:S}}finally{try{b&&!b.done&&(y=g.return)&&y.call(g)}finally{if(v)throw v.error}}return x},s=this&&this.__spread||function(){for(var h=[],m=0;m<arguments.length;m++)h=h.concat(a(arguments[m]));return h};Object.defineProperty(r,"__esModule",{value:!0});var u=o(2),l=o(69),f=o(95),c=o(7),d=o(0),p=function(){function h(m){this.level=0,this._builderOptions=m}return h.prototype.declaration=function(m,y,b){},h.prototype.docType=function(m,y,b){},h.prototype.comment=function(m){},h.prototype.text=function(m){},h.prototype.instruction=function(m,y){},h.prototype.cdata=function(m){},h.prototype.openTagBegin=function(m){},h.prototype.openTagEnd=function(m,y,b){},h.prototype.closeTag=function(m){},h.prototype.attributes=function(m){var y,b;try{for(var v=i(m),g=v.next();!g.done;g=v.next()){var x=g.value;this.attribute(x[1]===null?x[2]:x[1]+":"+x[2],x[3])}}catch(S){y={error:S}}finally{try{g&&!g.done&&(b=v.return)&&b.call(v)}finally{if(y)throw y.error}}},h.prototype.attribute=function(m,y){},h.prototype.beginElement=function(m){},h.prototype.endElement=function(m){},h.prototype.serializeNode=function(m,y){var b=m._nodeDocument!==void 0&&m._nodeDocument._hasNamespaces;if(this.level=0,this.currentNode=m,b){var v=new f.NamespacePrefixMap;v.set("xml",c.namespace.XML),this._serializeNodeNS(m,null,v,{value:1},y)}else this._serializeNode(m,y)},h.prototype._serializeNodeNS=function(m,y,b,v,g){switch(this.currentNode=m,m.nodeType){case u.NodeType.Element:this._serializeElementNS(m,y,b,v,g);break;case u.NodeType.Document:this._serializeDocumentNS(m,y,b,v,g);break;case u.NodeType.Comment:this._serializeComment(m,g);break;case u.NodeType.Text:this._serializeText(m,g);break;case u.NodeType.DocumentFragment:this._serializeDocumentFragmentNS(m,y,b,v,g);break;case u.NodeType.DocumentType:this._serializeDocumentType(m,g);break;case u.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(m,g);break;case u.NodeType.CData:this._serializeCData(m,g);break;default:throw new Error("Unknown node type: "+m.nodeType)}},h.prototype._serializeNode=function(m,y){switch(this.currentNode=m,m.nodeType){case u.NodeType.Element:this._serializeElement(m,y);break;case u.NodeType.Document:this._serializeDocument(m,y);break;case u.NodeType.Comment:this._serializeComment(m,y);break;case u.NodeType.Text:this._serializeText(m,y);break;case u.NodeType.DocumentFragment:this._serializeDocumentFragment(m,y);break;case u.NodeType.DocumentType:this._serializeDocumentType(m,y);break;case u.NodeType.ProcessingInstruction:this._serializeProcessingInstruction(m,y);break;case u.NodeType.CData:this._serializeCData(m,y);break;default:throw new Error("Unknown node type: "+m.nodeType)}},h.prototype._serializeElementNS=function(m,y,b,v,g){var x,S,C=[];if(g&&(m.localName.indexOf(":")!==-1||!d.xml_isName(m.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var w="",T=!1,_=!1,A=b.copy(),E={},D=this._recordNamespaceInformation(m,A,E),O=y,P=m.namespaceURI;if(O===P)D!==null&&(_=!0),w=P===c.namespace.XML?"xml:"+m.localName:m.localName,this.beginElement(w),this.openTagBegin(w);else{var k=m.prefix,U=null;if(k===null&&P===D||(U=A.get(k,P)),k==="xmlns"){if(g)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");U=k}U!==null?(w=U+":"+m.localName,D!==null&&D!==c.namespace.XML&&(O=D||null),this.beginElement(w),this.openTagBegin(w)):k!==null?(k in E&&(k=this._generatePrefix(P,A,v)),A.set(k,P),w+=k+":"+m.localName,this.beginElement(w),this.openTagBegin(w),C.push([null,"xmlns",k,this._serializeAttributeValue(P,g)]),D!==null&&(O=D||null)):D===null||D!==null&&D!==P?(_=!0,w+=m.localName,O=P,this.beginElement(w),this.openTagBegin(w),C.push([null,null,"xmlns",this._serializeAttributeValue(P,g)])):(w+=m.localName,O=P,this.beginElement(w),this.openTagBegin(w))}C.push.apply(C,s(this._serializeAttributesNS(m,A,v,E,_,g))),this.attributes(C);var H=P===c.namespace.HTML;if(H&&m.childNodes.length===0&&h._VoidElementNames.has(m.localName)?(this.openTagEnd(w,!0,!0),this.endElement(w),T=!0):H||m.childNodes.length!==0?this.openTagEnd(w,!1,!1):(this.openTagEnd(w,!0,!1),this.endElement(w),T=!0),!T){if(!(H&&m.localName==="template"))try{for(var R=i(m.childNodes),B=R.next();!B.done;B=R.next()){var M=B.value;this.level++,this._serializeNodeNS(M,O,A,v,g),this.level--}}catch(z){x={error:z}}finally{try{B&&!B.done&&(S=R.return)&&S.call(R)}finally{if(x)throw x.error}}this.closeTag(w),this.endElement(w)}},h.prototype._serializeElement=function(m,y){var b,v;if(y&&(m.localName.indexOf(":")!==-1||!d.xml_isName(m.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var g=!1,x=m.localName;this.beginElement(x),this.openTagBegin(x);var S=this._serializeAttributes(m,y);if(this.attributes(S),m.hasChildNodes()?this.openTagEnd(x,!1,!1):(this.openTagEnd(x,!0,!1),this.endElement(x),g=!0),!g){try{for(var C=i(m._children),w=C.next();!w.done;w=C.next()){var T=w.value;this.level++,this._serializeNode(T,y),this.level--}}catch(_){b={error:_}}finally{try{w&&!w.done&&(v=C.return)&&v.call(C)}finally{if(b)throw b.error}}this.closeTag(x),this.endElement(x)}},h.prototype._serializeDocumentNS=function(m,y,b,v,g){var x,S;if(g&&m.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var C=i(m.childNodes),w=C.next();!w.done;w=C.next()){var T=w.value;this._serializeNodeNS(T,y,b,v,g)}}catch(_){x={error:_}}finally{try{w&&!w.done&&(S=C.return)&&S.call(C)}finally{if(x)throw x.error}}},h.prototype._serializeDocument=function(m,y){var b,v;if(y&&m.documentElement===null)throw new Error("Missing document element (well-formed required).");try{for(var g=i(m._children),x=g.next();!x.done;x=g.next()){var S=x.value;this._serializeNode(S,y)}}catch(C){b={error:C}}finally{try{x&&!x.done&&(v=g.return)&&v.call(g)}finally{if(b)throw b.error}}},h.prototype._serializeComment=function(m,y){if(y&&(!d.xml_isLegalChar(m.data)||m.data.indexOf("--")!==-1||m.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");this.comment(m.data)},h.prototype._serializeText=function(m,y){if(y&&!d.xml_isLegalChar(m.data))throw new Error("Text data contains invalid characters (well-formed required).");var b=m.data.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");this.text(b)},h.prototype._serializeDocumentFragmentNS=function(m,y,b,v,g){var x,S;try{for(var C=i(m.childNodes),w=C.next();!w.done;w=C.next()){var T=w.value;this._serializeNodeNS(T,y,b,v,g)}}catch(_){x={error:_}}finally{try{w&&!w.done&&(S=C.return)&&S.call(C)}finally{if(x)throw x.error}}},h.prototype._serializeDocumentFragment=function(m,y){var b,v;try{for(var g=i(m._children),x=g.next();!x.done;x=g.next()){var S=x.value;this._serializeNode(S,y)}}catch(C){b={error:C}}finally{try{x&&!x.done&&(v=g.return)&&v.call(g)}finally{if(b)throw b.error}}},h.prototype._serializeDocumentType=function(m,y){if(y&&!d.xml_isPubidChar(m.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(y&&(!d.xml_isLegalChar(m.systemId)||m.systemId.indexOf('"')!==-1&&m.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");this.docType(m.name,m.publicId,m.systemId)},h.prototype._serializeProcessingInstruction=function(m,y){if(y&&(m.target.indexOf(":")!==-1||/^xml$/i.test(m.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(y&&(!d.xml_isLegalChar(m.data)||m.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");this.instruction(m.target,m.data)},h.prototype._serializeCData=function(m,y){if(y&&m.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");this.cdata(m.data)},h.prototype._serializeAttributesNS=function(m,y,b,v,g,x){var S,C,w=[],T=x?new l.LocalNameSet:void 0;try{for(var _=i(m.attributes),A=_.next();!A.done;A=_.next()){var E=A.value;if(x||g||E.namespaceURI!==null){if(x&&T&&T.has(E.namespaceURI,E.localName))throw new Error("Element contains duplicate attributes (well-formed required).");x&&T&&T.set(E.namespaceURI,E.localName);var D=E.namespaceURI,O=null;if(D!==null)if(O=y.get(E.prefix,D),D===c.namespace.XMLNS){if(E.value===c.namespace.XML||E.prefix===null&&g||E.prefix!==null&&(!(E.localName in v)||v[E.localName]!==E.value)&&y.has(E.localName,E.value))continue;if(x&&E.value===c.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(x&&E.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");E.prefix==="xmlns"&&(O="xmlns")}else O===null&&(O=E.prefix===null||y.hasPrefix(E.prefix)&&!y.has(E.prefix,D)?this._generatePrefix(D,y,b):E.prefix,w.push([null,"xmlns",O,this._serializeAttributeValue(D,x)]));if(x&&(E.localName.indexOf(":")!==-1||!d.xml_isName(E.localName)||E.localName==="xmlns"&&D===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");w.push([D,O,E.localName,this._serializeAttributeValue(E.value,x)])}else w.push([null,null,E.localName,this._serializeAttributeValue(E.value,x)])}}catch(P){S={error:P}}finally{try{A&&!A.done&&(C=_.return)&&C.call(_)}finally{if(S)throw S.error}}return w},h.prototype._serializeAttributes=function(m,y){var b,v,g=[],x=y?{}:void 0;try{for(var S=i(m.attributes),C=S.next();!C.done;C=S.next()){var w=C.value;if(y){if(y&&x&&w.localName in x)throw new Error("Element contains duplicate attributes (well-formed required).");if(y&&x&&(x[w.localName]=!0),y&&(w.localName.indexOf(":")!==-1||!d.xml_isName(w.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");g.push([null,null,w.localName,this._serializeAttributeValue(w.value,y)])}else g.push([null,null,w.localName,this._serializeAttributeValue(w.value,y)])}}catch(T){b={error:T}}finally{try{C&&!C.done&&(v=S.return)&&v.call(S)}finally{if(b)throw b.error}}return g},h.prototype._recordNamespaceInformation=function(m,y,b){var v,g,x=null;try{for(var S=i(m.attributes),C=S.next();!C.done;C=S.next()){var w=C.value,T=w.namespaceURI,_=w.prefix;if(T===c.namespace.XMLNS){if(_===null){x=w.value;continue}var A=w.localName,E=w.value;if(E===c.namespace.XML||(E===""&&(E=null),y.has(A,E)))continue;y.set(A,E),b[A]=E||""}}}catch(D){v={error:D}}finally{try{C&&!C.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}return x},h.prototype._generatePrefix=function(m,y,b){var v="ns"+b.value.toString();return b.value++,y.set(v,m),v},h.prototype._serializeAttributeValue=function(m,y){if(y&&m!==null&&!d.xml_isLegalChar(m))throw new Error("Invalid characters in attribute value.");return m===null?"":m.replace(/(?!&([^&;]*);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},h._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),h}();r.BaseWriter=p},function(n,r,o){var i=this&&this.__values||function(y){var b=typeof Symbol=="function"&&Symbol.iterator,v=b&&y[b],g=0;if(v)return v.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&g>=y.length&&(y=void 0),{value:y&&y[g++],done:!y}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(y,b){var v=typeof Symbol=="function"&&y[Symbol.iterator];if(!v)return y;var g,x,S=v.call(y),C=[];try{for(;(b===void 0||b-- >0)&&!(g=S.next()).done;)C.push(g.value)}catch(w){x={error:w}}finally{try{g&&!g.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}return C};Object.defineProperty(r,"__esModule",{value:!0});var s=o(6),u=o(3),l=o(7),f=o(29),c=o(17),d=o(97);function p(){var y=s.dom.window;y._mutationObserverMicrotaskQueued||(y._mutationObserverMicrotaskQueued=!0,Promise.resolve().then(function(){h()}))}function h(){var y,b,v,g,x=s.dom.window;x._mutationObserverMicrotaskQueued=!1;var S=l.set.clone(x._mutationObservers),C=l.set.clone(x._signalSlots);l.set.empty(x._signalSlots);var w=function(O){var P=l.list.clone(O._recordQueue);l.list.empty(O._recordQueue);for(var k=0;k<O._nodeList.length;k++){var U=O._nodeList[k];l.list.remove(U._registeredObserverList,function(H){return u.Guard.isTransientRegisteredObserver(H)&&H.observer===O})}if(!l.list.isEmpty(P))try{O._callback.call(O,P,O)}catch(H){}};try{for(var T=i(S),_=T.next();!_.done;_=T.next())w(_.value)}catch(O){y={error:O}}finally{try{_&&!_.done&&(b=T.return)&&b.call(T)}finally{if(y)throw y.error}}if(s.dom.features.slots)try{for(var A=i(C),E=A.next();!E.done;E=A.next()){var D=E.value;d.event_fireAnEvent("slotchange",D,void 0,{bubbles:!0})}}catch(O){v={error:O}}finally{try{E&&!E.done&&(g=A.return)&&g.call(A)}finally{if(v)throw v.error}}}function m(y,b,v,g,x,S,C,w,T){for(var _,A,E=new Map,D=c.tree_getFirstAncestorNode(b,!0);D!==null;){for(var O=0;O<D._registeredObserverList.length;O++){var P=D._registeredObserverList[O],k=P.options;if((D===b||k.subtree)&&(y!=="attributes"||k.attributes)&&(y!=="attributes"||!k.attributeFilter||k.attributeFilter.indexOf(v||"")&&g===null)&&(y!=="characterData"||k.characterData)&&(y!=="childList"||k.childList)){var U=P.observer;E.has(U)||E.set(U,null),(y==="attributes"&&k.attributeOldValue||y==="characterData"&&k.characterDataOldValue)&&E.set(U,x)}}D=c.tree_getNextAncestorNode(b,D,!0)}try{for(var H=i(E),R=H.next();!R.done;R=H.next()){var B=a(R.value,2),M=B[0],z=B[1],$=f.create_mutationRecord(y,b,f.create_nodeListStatic(b,S),f.create_nodeListStatic(b,C),w,T,v,g,z);M._recordQueue.push($)}}catch(J){_={error:J}}finally{try{R&&!R.done&&(A=H.return)&&A.call(H)}finally{if(_)throw _.error}}p()}r.observer_queueAMutationObserverMicrotask=p,r.observer_notifyMutationObservers=h,r.observer_queueMutationRecord=m,r.observer_queueTreeMutationRecord=function(y,b,v,g,x){m("childList",y,null,null,null,b,v,g,x)},r.observer_queueAttributeMutationRecord=function(y,b,v,g){m("attributes",y,b,v,g,[],[],null,null)}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(6),a=o(7),s=o(3),u=o(9),l=o(29),f=o(73),c=o(51),d=o(30),p=o(37),h=o(106);function m(S,C,w){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(C,S._localName,S._namespace,S._value),i.dom.features.customElements&&s.Guard.isCustomElementNode(C)&&f.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[S._localName,S._value,w,S._namespace]),i.dom.features.steps&&d.dom_runAttributeChangeSteps(C,S._localName,S._value,w,S._namespace),S._value=w}function y(S,C){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(C,S._localName,S._namespace,null),i.dom.features.customElements&&s.Guard.isCustomElementNode(C)&&f.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[S._localName,null,S._value,S._namespace]),i.dom.features.steps&&d.dom_runAttributeChangeSteps(C,S._localName,null,S._value,S._namespace),C._attributeList._asArray().push(S),S._element=C,C._nodeDocument._hasNamespaces||S._namespace===null&&S._namespacePrefix===null&&S._localName!=="xmlns"||(C._nodeDocument._hasNamespaces=!0)}function b(S,C){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(C,S._localName,S._namespace,S._value),i.dom.features.customElements&&s.Guard.isCustomElementNode(C)&&f.customElement_enqueueACustomElementCallbackReaction(C,"attributeChangedCallback",[S._localName,S._value,null,S._namespace]),i.dom.features.steps&&d.dom_runAttributeChangeSteps(C,S._localName,S._value,null,S._namespace);var w=C._attributeList._asArray().indexOf(S);C._attributeList._asArray().splice(w,1),S._element=null}function v(S,C,w){i.dom.features.mutationObservers&&c.observer_queueAttributeMutationRecord(w,S._localName,S._namespace,S._value),i.dom.features.customElements&&s.Guard.isCustomElementNode(w)&&f.customElement_enqueueACustomElementCallbackReaction(w,"attributeChangedCallback",[S._localName,S._value,C._value,S._namespace]),i.dom.features.steps&&d.dom_runAttributeChangeSteps(w,S._localName,S._value,C._value,S._namespace);var T=w._attributeList._asArray().indexOf(S);T!==-1&&(w._attributeList._asArray()[T]=C),S._element=null,C._element=w,w._nodeDocument._hasNamespaces||C._namespace===null&&C._namespacePrefix===null&&C._localName!=="xmlns"||(w._nodeDocument._hasNamespaces=!0)}function g(S,C){return C._namespace===a.namespace.HTML&&C._nodeDocument._type==="html"&&(S=S.toLowerCase()),C._attributeList._asArray().find(function(w){return w._qualifiedName===S})||null}function x(S,C,w){var T=S||null;return w._attributeList._asArray().find(function(_){return _._namespace===T&&_._localName===C})||null}r.element_has=function(S,C){return C._attributeList._asArray().indexOf(S)!==-1},r.element_change=m,r.element_append=y,r.element_remove=b,r.element_replace=v,r.element_getAnAttributeByName=g,r.element_getAnAttributeByNamespaceAndLocalName=x,r.element_getAnAttributeValue=function(S,C,w){w===void 0&&(w="");var T=x(w,C,S);return T===null?"":T._value},r.element_setAnAttribute=function(S,C){if(S._element!==null&&S._element!==C)throw new u.InUseAttributeError("This attribute already exists in the document: "+S._qualifiedName+" as a child of "+S._element._qualifiedName+".");var w=x(S._namespace||"",S._localName,C);return w===S?S:(w!==null?v(w,S,C):y(S,C),w)},r.element_setAnAttributeValue=function(S,C,w,T,_){T===void 0&&(T=null),_===void 0&&(_=null);var A=x(_||"",C,S);if(A===null){var E=l.create_attr(S._nodeDocument,C);return E._namespace=_,E._namespacePrefix=T,E._value=w,void y(E,S)}m(A,S,w)},r.element_removeAnAttributeByName=function(S,C){var w=g(S,C);return w!==null&&b(w,C),w},r.element_removeAnAttributeByNamespaceAndLocalName=function(S,C,w){var T=x(S,C,w);return T!==null&&b(T,w),T},r.element_createAnElement=function(S,C,w,T,_,A){T===void 0&&(T=null),_===void 0&&(_=null),A===void 0&&(A=!1);var E=null;if(!i.dom.features.customElements)return(E=l.create_element(S,C,w,T))._customElementState="uncustomized",E._customElementDefinition=null,E._is=_,E;var D=f.customElement_lookUpACustomElementDefinition(S,w,C,_);if(D!==null&&D.name!==D.localName)(E=new(h.document_elementInterface(C,a.namespace.HTML)))._localName=C,E._namespace=a.namespace.HTML,E._namespacePrefix=T,E._customElementState="undefined",E._customElementDefinition=null,E._is=_,E._nodeDocument=S,A?f.customElement_upgrade(D,E):f.customElement_enqueueACustomElementUpgradeReaction(E,D);else if(D!==null)if(A)try{var O=new D.constructor;if(console.assert(O._customElementState!==void 0),console.assert(O._customElementDefinition!==void 0),console.assert(O._namespace===a.namespace.HTML),O._attributeList.length!==0)throw new u.NotSupportedError("Custom element already has attributes.");if(O._children.size!==0)throw new u.NotSupportedError("Custom element already has child nodes.");if(O._parent!==null)throw new u.NotSupportedError("Custom element already has a parent node.");if(O._nodeDocument!==S)throw new u.NotSupportedError("Custom element is already in a document.");if(O._localName!==C)throw new u.NotSupportedError("Custom element has a different local name.");O._namespacePrefix=T,O._is=null}catch(P){(E=l.create_htmlUnknownElement(S,C,a.namespace.HTML,T))._customElementState="failed",E._customElementDefinition=null,E._is=null}else(E=l.create_htmlElement(S,C,a.namespace.HTML,T))._customElementState="undefined",E._customElementDefinition=null,E._is=null,f.customElement_enqueueACustomElementUpgradeReaction(E,D);else(E=new(h.document_elementInterface(C,w)))._localName=C,E._namespace=w,E._namespacePrefix=T,E._customElementState="uncustomized",E._customElementDefinition=null,E._is=_,E._nodeDocument=S,w!==a.namespace.HTML||_===null&&!f.customElement_isValidCustomElementName(C)||(E._customElementState="undefined");if(E===null)throw new Error("Unable to create element.");return E},r.element_insertAdjacent=function(S,C,w){switch(C.toLowerCase()){case"beforebegin":return S._parent===null?null:p.mutation_preInsert(w,S._parent,S);case"afterbegin":return p.mutation_preInsert(w,S,S._firstChild);case"beforeend":return p.mutation_preInsert(w,S,null);case"afterend":return S._parent===null?null:p.mutation_preInsert(w,S._parent,S._nextSibling);default:throw new u.SyntaxError(`Invalid 'where' argument. "beforebegin", "afterbegin", "beforeend" or "afterend" expected`)}}},function(n,r,o){function i(a,s){Error.call(this),this.name="YAMLException",this.reason=a,this.mark=s,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.toString=function(a){var s=this.name+": ";return s+=this.reason||"(unknown reason)",!a&&this.mark&&(s+=" "+this.mark.toString()),s},n.exports=i},function(n,r,o){var i=o(39);n.exports=new i({include:[o(181)],implicit:[o(293),o(294)],explicit:[o(295),o(296),o(297),o(298)]})},function(n,r,o){var i=o(16),a=o(79),s=o(40),u=o(24),l=o(56),f=o(14),c=o(115),d=Object.getOwnPropertyDescriptor;r.f=i?d:function(p,h){if(p=u(p),h=l(h,!0),c)try{return d(p,h)}catch(m){}if(f(p,h))return s(!a.f.call(p,h),p[h])}},function(n,r,o){var i=o(13);n.exports=function(a,s){if(!i(a))return a;var u,l;if(s&&typeof(u=a.toString)=="function"&&!i(l=u.call(a))||typeof(u=a.valueOf)=="function"&&!i(l=u.call(a))||!s&&typeof(u=a.toString)=="function"&&!i(l=u.call(a)))return l;throw TypeError("Can't convert object to primitive value")}},function(n,r,o){var i=o(81),a=o(58),s=i("keys");n.exports=function(u){return s[u]||(s[u]=a(u))}},function(n,r){var o=0,i=Math.random();n.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++o+i).toString(36)}},function(n,r,o){var i=o(42);n.exports=Array.isArray||function(a){return i(a)=="Array"}},function(n,r,o){var i,a=o(18),s=o(188),u=o(84),l=o(45),f=o(189),c=o(116),d=o(57),p=d("IE_PROTO"),h=function(){},m=function(b){return"<script>"+b+"<\/script>"},y=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(x){}var b,v;y=i?function(x){x.write(m("")),x.close();var S=x.parentWindow.Object;return x=null,S}(i):((v=c("iframe")).style.display="none",f.appendChild(v),v.src="javascript:",(b=v.contentWindow.document).open(),b.write(m("document.F=Object")),b.close(),b.F);for(var g=u.length;g--;)delete y.prototype[u[g]];return y()};l[p]=!0,n.exports=Object.create||function(b,v){var g;return b!==null?(h.prototype=a(b),g=new h,h.prototype=null,g[p]=b):g=y(),v===void 0?g:s(g,v)}},function(n,r,o){var i=o(121),a=o(84);n.exports=Object.keys||function(s){return i(s,a)}},function(n,r,o){var i=o(15).f,a=o(14),s=o(5)("toStringTag");n.exports=function(u,l,f){u&&!a(u=f?u:u.prototype,s)&&i(u,s,{configurable:!0,value:l})}},function(n,r,o){var i=o(8),a=o(5),s=o(129),u=a("species");n.exports=function(l){return s>=51||!i(function(){var f=[];return(f.constructor={})[u]=function(){return{foo:1}},f[l](Boolean).foo!==1})}},function(n,r,o){var i=o(4),a=o(122).indexOf,s=o(48),u=o(28),l=[].indexOf,f=!!l&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),d=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:f||!c||!d},{indexOf:function(p){return f?l.apply(this,arguments)||0:a(this,p,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(16),a=o(15).f,s=Function.prototype,u=s.toString,l=/^\s*function ([^ (]*)/;i&&!("name"in s)&&a(s,"name",{configurable:!0,get:function(){try{return u.call(this).match(l)[1]}catch(f){return""}}})},function(n,r,o){var i=o(25),a=o(18),s=o(8),u=o(136),l=RegExp.prototype,f=l.toString,c=s(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),d=f.name!="toString";(c||d)&&i(RegExp.prototype,"toString",function(){var p=a(this),h=String(p.source),m=p.flags;return"/"+h+"/"+String(m===void 0&&p instanceof RegExp&&!("flags"in l)?u.call(p):m)},{unsafe:!0})},function(n,r,o){o(31),o(32),o(33),o(19),o(138),o(20),o(66),o(22),o(23);var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}),s=this&&this.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&c[d],h=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=o(1),l=o(2),f=function(c){function d(p,h){var m=c.call(this,p)||this;return m._writerOptions=u.applyDefaults(h,{format:"object",wellFormed:!1,group:!1,verbose:!1}),m}return a(d,c),d.prototype.serialize=function(p){return this._currentList=[],this._currentIndex=0,this._listRegister=[this._currentList],this.serializeNode(p,this._writerOptions.wellFormed),this._process(this._currentList,this._writerOptions)},d.prototype._process=function(p,h){var m,y,b,v,g,x,S;if(p.length===0)return{};for(var C={},w=!1,T=0,_=0,A=0,E=0,D=0;D<p.length;D++){var O=p[D];switch(ie=Object.keys(O)[0]){case"@":continue;case"#":T++;break;case"!":_++;break;case"?":A++;break;case"$":E++;break;default:C[ie]?w=!0:C[ie]=!0}}var P=this._getAttrKey(),k=this._getNodeKey(l.NodeType.Text),U=this._getNodeKey(l.NodeType.Comment),H=this._getNodeKey(l.NodeType.ProcessingInstruction),R=this._getNodeKey(l.NodeType.CData);if(T===1&&p.length===1&&u.isString(p[0]["#"]))return p[0]["#"];if(w){var B={};for(D=0;D<p.length;D++)if(O=p[D],(ie=Object.keys(O)[0])==="@"){var M=O["@"];(F=Object.keys(M)).length===1?B[P+F[0]]=M[F[0]]:B[P]=O["@"]}var z=[];for(D=0;D<p.length;D++)switch(O=p[D],ie=Object.keys(O)[0]){case"@":break;case"#":z.push(((m={})[k]=O["#"],m));break;case"!":z.push(((y={})[U]=O["!"],y));break;case"?":z.push(((b={})[H]=O["?"],b));break;case"$":z.push(((v={})[R]=O.$,v));break;default:if((j=O)[ie].length!==0&&u.isArray(j[ie][0])){for(var $=[],J=j[ie],Z=0;Z<J.length;Z++)$.push(this._process(J[Z],h));z.push(((g={})[ie]=$,g))}else h.verbose?z.push(((x={})[ie]=[this._process(j[ie],h)],x)):z.push(((S={})[ie]=this._process(j[ie],h),S))}return B[k]=z,B}var X=1,te=1,ae=1,ue=1;for(B={},D=0;D<p.length;D++){var ie;switch(O=p[D],ie=Object.keys(O)[0]){case"@":M=O["@"];var F=Object.keys(M);if(h.group&&F.length!==1)B[P]=M;else for(var I in M)B[P+I]=M[I];break;case"#":X=this._processSpecItem(O["#"],B,h.group,k,T,X);break;case"!":te=this._processSpecItem(O["!"],B,h.group,U,_,te);break;case"?":ae=this._processSpecItem(O["?"],B,h.group,H,A,ae);break;case"$":ue=this._processSpecItem(O.$,B,h.group,R,E,ue);break;default:var j;if((j=O)[ie].length!==0&&u.isArray(j[ie][0])){$=[],J=j[ie];for(var N=0;N<J.length;N++)$.push(this._process(J[N],h));B[ie]=$}else h.verbose?B[ie]=[this._process(j[ie],h)]:B[ie]=this._process(j[ie],h)}}return B},d.prototype._processSpecItem=function(p,h,m,y,b,v){var g,x;if(!m&&u.isArray(p)&&b+p.length>2)try{for(var S=s(p),C=S.next();!C.done;C=S.next()){var w=C.value;h[y+(v++).toString()]=w}}catch(T){g={error:T}}finally{try{C&&!C.done&&(x=S.return)&&x.call(S)}finally{if(g)throw g.error}}else h[b>1?y+(v++).toString():y]=p;return v},d.prototype.beginElement=function(p){var h,m,y=[];if(this._currentList.length===0)this._currentList.push(((h={})[p]=y,h));else{var b=this._currentList[this._currentList.length-1];this._isElementNode(b,p)?b[p].length!==0&&u.isArray(b[p][0])?b[p].push(y):b[p]=[b[p],y]:this._currentList.push(((m={})[p]=y,m))}this._currentIndex++,this._listRegister.length>this._currentIndex?this._listRegister[this._currentIndex]=y:this._listRegister.push(y),this._currentList=y},d.prototype.endElement=function(){this._currentList=this._listRegister[--this._currentIndex]},d.prototype.attribute=function(p,h){var m,y;if(this._currentList.length===0)this._currentList.push({"@":(m={},m[p]=h,m)});else{var b=this._currentList[this._currentList.length-1];this._isAttrNode(b)?b["@"][p]=h:this._currentList.push({"@":(y={},y[p]=h,y)})}},d.prototype.comment=function(p){if(this._currentList.length===0)this._currentList.push({"!":p});else{var h=this._currentList[this._currentList.length-1];this._isCommentNode(h)?u.isArray(h["!"])?h["!"].push(p):h["!"]=[h["!"],p]:this._currentList.push({"!":p})}},d.prototype.text=function(p){if(this._currentList.length===0)this._currentList.push({"#":p});else{var h=this._currentList[this._currentList.length-1];this._isTextNode(h)?u.isArray(h["#"])?h["#"].push(p):h["#"]=[h["#"],p]:this._currentList.push({"#":p})}},d.prototype.instruction=function(p,h){var m=h===""?p:p+" "+h;if(this._currentList.length===0)this._currentList.push({"?":m});else{var y=this._currentList[this._currentList.length-1];this._isInstructionNode(y)?u.isArray(y["?"])?y["?"].push(m):y["?"]=[y["?"],m]:this._currentList.push({"?":m})}},d.prototype.cdata=function(p){if(this._currentList.length===0)this._currentList.push({$:p});else{var h=this._currentList[this._currentList.length-1];this._isCDATANode(h)?u.isArray(h.$)?h.$.push(p):h.$=[h.$,p]:this._currentList.push({$:p})}},d.prototype._isAttrNode=function(p){return"@"in p},d.prototype._isTextNode=function(p){return"#"in p},d.prototype._isCommentNode=function(p){return"!"in p},d.prototype._isInstructionNode=function(p){return"?"in p},d.prototype._isCDATANode=function(p){return"$"in p},d.prototype._isElementNode=function(p,h){return h in p},d.prototype._getAttrKey=function(){return this._builderOptions.convert.att},d.prototype._getNodeKey=function(p){switch(p){case l.NodeType.Comment:return this._builderOptions.convert.comment;case l.NodeType.Text:return this._builderOptions.convert.text;case l.NodeType.ProcessingInstruction:return this._builderOptions.convert.ins;case l.NodeType.CData:return this._builderOptions.convert.cdata;default:throw new Error("Invalid node type.")}},d}(o(50).BaseWriter);r.ObjectWriter=f},function(n,r,o){var i=o(4),a=o(93);i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(){this._items={},this._nullItems={}}return a.prototype.set=function(s,u){s===null?this._nullItems[u]=!0:(this._items[s]||(this._items[s]={}),this._items[s][u]=!0)},a.prototype.has=function(s,u){return s===null?this._nullItems[u]===!0:!!this._items[s]&&this._items[s][u]===!0},a}();r.LocalNameSet=i},function(n,r,o){var i=this&&this.__read||function(f,c){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var p,h,m=d.call(f),y=[];try{for(;(c===void 0||c-- >0)&&!(p=m.next()).done;)y.push(p.value)}catch(b){h={error:b}}finally{try{p&&!p.done&&(d=m.return)&&d.call(m)}finally{if(h)throw h.error}}return y};Object.defineProperty(r,"__esModule",{value:!0});var a=o(9),s=o(3),u=o(0),l=function(){function f(){}return Object.defineProperty(f.prototype,"_eventListenerList",{get:function(){return this.__eventListenerList||(this.__eventListenerList=[])},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"_eventHandlerMap",{get:function(){return this.__eventHandlerMap||(this.__eventHandlerMap={})},enumerable:!0,configurable:!0}),f.prototype.addEventListener=function(c,d,p){p===void 0&&(p={passive:!1,once:!1,capture:!1});var h,m=i(u.eventTarget_flattenMore(p),3),y=m[0],b=m[1],v=m[2];d&&(h=s.Guard.isEventListener(d)?d:{handleEvent:d},u.eventTarget_addEventListener(this,{type:c,callback:h,capture:y,passive:b,once:v,removed:!1}))},f.prototype.removeEventListener=function(c,d,p){p===void 0&&(p={capture:!1});var h=u.eventTarget_flatten(p);if(d)for(var m=0;m<this._eventListenerList.length;m++){var y=this._eventListenerList[m];if(y.type===c&&y.capture===h){if(s.Guard.isEventListener(d)&&y.callback===d){u.eventTarget_removeEventListener(this,y,m);break}if(d&&y.callback.handleEvent===d){u.eventTarget_removeEventListener(this,y,m);break}}}},f.prototype.dispatchEvent=function(c){if(c._dispatchFlag||!c._initializedFlag)throw new a.InvalidStateError;return c._isTrusted=!1,u.event_dispatch(c,this)},f.prototype._getTheParent=function(c){return null},f}();r.EventTargetImpl=l},function(n,r,o){var i,a=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])})(f,c)},function(f,c){function d(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(34),u=o(0),l=function(f){function c(d){var p=f.call(this)||this;return p._data=d,p}return a(c,f),Object.defineProperty(c.prototype,"data",{get:function(){return this._data},set:function(d){u.characterData_replaceData(this,0,this._data.length,d)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"length",{get:function(){return this._data.length},enumerable:!0,configurable:!0}),c.prototype.substringData=function(d,p){return u.characterData_substringData(this,d,p)},c.prototype.appendData=function(d){return u.characterData_replaceData(this,this._data.length,0,d)},c.prototype.insertData=function(d,p){u.characterData_replaceData(this,d,0,p)},c.prototype.deleteData=function(d,p){u.characterData_replaceData(this,d,p,"")},c.prototype.replaceData=function(d,p,h){u.characterData_replaceData(this,d,p,h)},Object.defineProperty(c.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),c.prototype.before=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.after=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.replaceWith=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];throw new Error("Mixin: ChildNode not implemented.")},c.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},c}(s.NodeImpl);r.CharacterDataImpl=l},function(n,r,o){var i=this&&this.__values||function(b){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&b[v],x=0;if(g)return g.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&x>=b.length&&(b=void 0),{value:b&&b[x++],done:!b}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(b,v){var g=typeof Symbol=="function"&&b[Symbol.iterator];if(!g)return b;var x,S,C=g.call(b),w=[];try{for(;(v===void 0||v-- >0)&&!(x=C.next()).done;)w.push(x.value)}catch(T){S={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(S)throw S.error}}return w},s=this&&this.__spread||function(){for(var b=[],v=0;v<arguments.length;v++)b=b.concat(a(arguments[v]));return b};Object.defineProperty(r,"__esModule",{value:!0});var u=o(6),l=o(3),f=o(1),c=o(17),d=o(51);function p(b){u.dom.window._signalSlots.add(b),d.observer_queueAMutationObserverMicrotask()}function h(b,v){v===void 0&&(v=!1);var g=l.Cast.asNode(b)._parent;if(g===null)return null;var x=g._shadowRoot||null;if(x===null||v&&x._mode!=="open")return null;for(var S=c.tree_getFirstDescendantNode(x,!1,!0,function(C){return l.Guard.isSlot(C)});S!==null;){if(S._name===b._name)return S;S=c.tree_getNextDescendantNode(x,S,!1,!0,function(C){return l.Guard.isSlot(C)})}return null}function m(b){var v,g,x=[],S=c.tree_rootNode(b);if(!l.Guard.isShadowRoot(S))return x;var C=S._host;try{for(var w=i(C._children),T=w.next();!T.done;T=w.next()){var _=T.value;l.Guard.isSlotable(_)&&h(_)===b&&x.push(_)}}catch(A){v={error:A}}finally{try{T&&!T.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}return x}function y(b){var v,g,x=m(b);if(x.length===b._assignedNodes.length){for(var S=!0,C=0;C<x.length;C++)if(x[C]!==b._assignedNodes[C]){S=!1;break}S||p(b)}b._assignedNodes=x;try{for(var w=i(x),T=w.next();!T.done;T=w.next())T.value._assignedSlot=b}catch(_){v={error:_}}finally{try{T&&!T.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}}r.shadowTree_signalASlotChange=p,r.shadowTree_isConnected=function(b){return l.Guard.isDocumentNode(c.tree_rootNode(b,!0))},r.shadowTree_isAssigned=function(b){return b._assignedSlot!==null},r.shadowTree_findASlot=h,r.shadowTree_findSlotables=m,r.shadowTree_findFlattenedSlotables=function b(v){var g,x,S,C,w=[],T=c.tree_rootNode(v);if(!l.Guard.isShadowRoot(T))return w;var _=m(v);if(f.isEmpty(_))try{for(var A=i(v._children),E=A.next();!E.done;E=A.next()){var D=E.value;l.Guard.isSlotable(D)&&_.push(D)}}catch(H){g={error:H}}finally{try{E&&!E.done&&(x=A.return)&&x.call(A)}finally{if(g)throw g.error}}try{for(var O=i(_),P=O.next();!P.done;P=O.next()){var k=P.value;if(l.Guard.isSlot(k)&&l.Guard.isShadowRoot(c.tree_rootNode(k))){var U=b(k);w.push.apply(w,s(U))}else w.push(k)}}catch(H){S={error:H}}finally{try{P&&!P.done&&(C=O.return)&&C.call(O)}finally{if(S)throw S.error}}return w},r.shadowTree_assignSlotables=y,r.shadowTree_assignSlotablesForATree=function(b){for(var v=c.tree_getFirstDescendantNode(b,!0,!1,function(g){return l.Guard.isSlot(g)});v!==null;)y(v),v=c.tree_getNextDescendantNode(b,v,!0,!1,function(g){return l.Guard.isSlot(g)})},r.shadowTree_assignASlot=function(b){var v=h(b);v!==null&&y(v)}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=/[a-z]([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*-([\0-\t\x2D\._a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*/,a=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),s=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]),u=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),l=new Set(["article","aside","blockquote","body","div","footer","h1","h2","h3","h4","h5","h6","header","main","nav","p","section","span"]);r.customElement_isValidCustomElementName=function(f){return!!i.test(f)&&!a.has(f)},r.customElement_isValidElementName=function(f){return s.has(f)},r.customElement_isVoidElementName=function(f){return u.has(f)},r.customElement_isValidShadowHostName=function(f){return l.has(f)},r.customElement_enqueueACustomElementUpgradeReaction=function(f,c){},r.customElement_enqueueACustomElementCallbackReaction=function(f,c,d){},r.customElement_upgrade=function(f,c){},r.customElement_tryToUpgrade=function(f){},r.customElement_lookUpACustomElementDefinition=function(f,c,d,p){return null}},function(n,r,o){o(4)({target:"String",proto:!0},{repeat:o(259)})},function(n,r,o){o(278),o(68),o(179),o(94),Object.defineProperty(r,"__esModule",{value:!0});var i=o(109),a=function(){function s(u){this._builderOptions=u,u.parser&&Object.assign(this,u.parser)}return s.prototype._docType=function(u,l,f,c){return u.dtd({name:l,pubID:f,sysID:c})},s.prototype._comment=function(u,l){return u.com(l)},s.prototype._text=function(u,l){return u.txt(l)},s.prototype._instruction=function(u,l,f){return u.ins(l,f)},s.prototype._cdata=function(u,l){return u.dat(l)},s.prototype._element=function(u,l,f){return l===void 0?u.ele(f):u.ele(l,f)},s.prototype._attribute=function(u,l,f,c){return l===void 0?u.att(f,c):u.att(l,f,c)},s.prototype._sanitize=function(u){return i.sanitizeInput(u,this._builderOptions.invalidCharReplacement)},s.prototype._decodeText=function(u){return u==null?u:u.replace(/&(quot|amp|apos|lt|gt);/g,function(l,f){return s._entityTable[f]}).replace(/&#(?:x([a-fA-F0-9]+)|([0-9]+));/g,function(l,f,c){return String.fromCodePoint(parseInt(f||c,f?16:10))})},s.prototype._decodeAttributeValue=function(u){return this._decodeText(u)},s.prototype.parse=function(u,l){return this._parse(u,l)},s.prototype.docType=function(u,l,f,c){return this._docType(u,l,f,c)},s.prototype.comment=function(u,l){return this._comment(u,l)},s.prototype.text=function(u,l){return this._text(u,l)},s.prototype.instruction=function(u,l,f){return this._instruction(u,l,f)},s.prototype.cdata=function(u,l){return this._cdata(u,l)},s.prototype.element=function(u,l,f){return this._element(u,l,f)},s.prototype.attribute=function(u,l,f,c){return this._attribute(u,l,f,c)},s.prototype.sanitize=function(u){return this._sanitize(u)},s._entityTable={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},s}();r.BaseReader=a},function(n,r,o){var i=o(39);n.exports=i.DEFAULT=new i({include:[o(54)],explicit:[o(299),o(300),o(301)]})},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(185);r.XMLBuilderImpl=i.XMLBuilderImpl;var a=o(304);r.XMLBuilderCBImpl=a.XMLBuilderCBImpl;var s=o(183);r.builder=s.builder,r.create=s.create,r.fragment=s.fragment,r.convert=s.convert;var u=o(309);r.createCB=u.createCB,r.fragmentCB=u.fragmentCB},function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(i){typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s=a&&!i.call({1:2},1);r.f=s?function(u){var l=a(this,u);return!!l&&l.enumerable}:i},function(n,r,o){var i=o(11),a=o(21);n.exports=function(s,u){try{a(i,s,u)}catch(l){i[s]=u}return u}},function(n,r,o){var i=o(44),a=o(118);(n.exports=function(s,u){return a[s]||(a[s]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(n,r,o){var i=o(121),a=o(84).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(s){return i(s,a)}},function(n,r,o){var i=o(47),a=Math.max,s=Math.min;n.exports=function(u,l){var f=i(u);return f<0?a(f+l,0):s(f,l)}},function(n,r){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,r){r.f=Object.getOwnPropertySymbols},function(n,r,o){var i=o(8);n.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},function(n,r,o){var i=o(127);n.exports=function(a,s,u){if(i(a),s===void 0)return a;switch(u){case 0:return function(){return a.call(s)};case 1:return function(l){return a.call(s,l)};case 2:return function(l,f){return a.call(s,l,f)};case 3:return function(l,f,c){return a.call(s,l,f,c)}}return function(){return a.apply(s,arguments)}}},function(n,r,o){var i=o(4),a=o(195),s=o(132),u=o(133),l=o(62),f=o(21),c=o(25),d=o(5),p=o(44),h=o(49),m=o(131),y=m.IteratorPrototype,b=m.BUGGY_SAFARI_ITERATORS,v=d("iterator"),g=function(){return this};n.exports=function(x,S,C,w,T,_,A){a(C,S,w);var E,D,O,P=function(z){if(z===T&&B)return B;if(!b&&z in H)return H[z];switch(z){case"keys":case"values":case"entries":return function(){return new C(this,z)}}return function(){return new C(this)}},k=S+" Iterator",U=!1,H=x.prototype,R=H[v]||H["@@iterator"]||T&&H[T],B=!b&&R||P(T),M=S=="Array"&&H.entries||R;if(M&&(E=s(M.call(new x)),y!==Object.prototype&&E.next&&(p||s(E)===y||(u?u(E,y):typeof E[v]!="function"&&f(E,v,g)),l(E,k,!0,!0),p&&(h[k]=g))),T=="values"&&R&&R.name!=="values"&&(U=!0,B=function(){return R.call(this)}),p&&!A||H[v]===B||f(H,v,B),h[S]=B,T)if(D={values:P("values"),keys:_?B:P("keys"),entries:P("entries")},A)for(O in D)(b||U||!(O in H))&&c(H,O,D[O]);else i({target:S,proto:!0,forced:b||U},D);return D}},function(n,r,o){var i=o(4),a=o(13),s=o(59),u=o(83),l=o(26),f=o(24),c=o(134),d=o(5),p=o(63),h=o(28),m=p("slice"),y=h("slice",{ACCESSORS:!0,0:0,1:2}),b=d("species"),v=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!m||!y},{slice:function(x,S){var C,w,T,_=f(this),A=l(_.length),E=u(x,A),D=u(S===void 0?A:S,A);if(s(_)&&(typeof(C=_.constructor)!="function"||C!==Array&&!s(C.prototype)?a(C)&&(C=C[b])===null&&(C=void 0):C=void 0,C===Array||C===void 0))return v.call(_,E,D);for(w=new(C===void 0?Array:C)(g(D-E,0)),T=0;E<D;E++,T++)E in _&&c(w,T,_[E]);return w.length=T,w}})},function(n,r,o){var i={};i[o(5)("toStringTag")]="z",n.exports=String(i)==="[object z]"},function(n,r,o){o(19),o(138),o(20),o(92),o(22),o(23),Object.defineProperty(r,"__esModule",{value:!0}),r.DefaultBuilderOptions={version:"1.0",encoding:void 0,standalone:void 0,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},invalidCharReplacement:void 0,parser:void 0},r.XMLBuilderOptionKeys=new Set(Object.keys(r.DefaultBuilderOptions)),r.DefaultXMLBuilderCBOptions={format:"xml",wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,spaceBeforeSlash:!1,keepNullNodes:!1,keepNullAttributes:!1,ignoreConverters:!1,convert:{att:"@",ins:"?",text:"#",cdata:"$",comment:"!"},defaultNamespace:{ele:void 0,att:void 0},namespaceAlias:{html:"http://www.w3.org/1999/xhtml",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"}}},function(n,r,o){var i=o(139),a=o(143);n.exports=i("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},a)},function(n,r,o){var i,a,s=o(136),u=o(221),l=RegExp.prototype.exec,f=String.prototype.replace,c=l,d=(i=/a/,a=/b*/g,l.call(i,"a"),l.call(a,"a"),i.lastIndex!==0||a.lastIndex!==0),p=u.UNSUPPORTED_Y||u.BROKEN_CARET,h=/()??/.exec("")[1]!==void 0;(d||h||p)&&(c=function(m){var y,b,v,g,x=this,S=p&&x.sticky,C=s.call(x),w=x.source,T=0,_=m;return S&&((C=C.replace("y","")).indexOf("g")===-1&&(C+="g"),_=String(m).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&m[x.lastIndex-1]!==`
`)&&(w="(?: "+w+")",_=" "+_,T++),b=new RegExp("^(?:"+w+")",C)),h&&(b=new RegExp("^"+w+"$(?!\\s)",C)),d&&(y=x.lastIndex),v=l.call(S?b:x,_),S?v?(v.input=v.input.slice(T),v[0]=v[0].slice(T),v.index=x.lastIndex,x.lastIndex+=v[0].length):x.lastIndex=0:d&&v&&(x.lastIndex=x.global?v.index+v[0].length:y),h&&v&&v.length>1&&f.call(v[0],b,function(){for(g=1;g<arguments.length-2;g++)arguments[g]===void 0&&(v[g]=void 0)}),v}),n.exports=c},function(n,r,o){var i=o(225),a=o(18),s=o(27),u=o(26),l=o(47),f=o(35),c=o(226),d=o(227),p=Math.max,h=Math.min,m=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;i("replace",2,function(v,g,x,S){var C=S.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=S.REPLACE_KEEPS_$0,T=C?"$":"$0";return[function(A,E){var D=f(this),O=A==null?void 0:A[v];return O!==void 0?O.call(A,D,E):g.call(String(D),A,E)},function(A,E){if(!C&&w||typeof E=="string"&&E.indexOf(T)===-1){var D=x(g,A,this,E);if(D.done)return D.value}var O=a(A),P=String(this),k=typeof E=="function";k||(E=String(E));var U=O.global;if(U){var H=O.unicode;O.lastIndex=0}for(var R=[];;){var B=d(O,P);if(B===null||(R.push(B),!U))break;String(B[0])===""&&(O.lastIndex=c(P,u(O.lastIndex),H))}for(var M,z="",$=0,J=0;J<R.length;J++){B=R[J];for(var Z=String(B[0]),X=p(h(l(B.index),P.length),0),te=[],ae=1;ae<B.length;ae++)te.push((M=B[ae])===void 0?M:String(M));var ue=B.groups;if(k){var ie=[Z].concat(te,X,P);ue!==void 0&&ie.push(ue);var F=String(E.apply(void 0,ie))}else F=_(Z,P,X,te,ue,E);X>=$&&(z+=P.slice($,X)+F,$=X+Z.length)}return z+P.slice($)}];function _(A,E,D,O,P,k){var U=D+A.length,H=O.length,R=b;return P!==void 0&&(P=s(P),R=y),g.call(k,R,function(B,M){var z;switch(M.charAt(0)){case"$":return"$";case"&":return A;case"`":return E.slice(0,D);case"'":return E.slice(U);case"<":z=P[M.slice(1,-1)];break;default:var $=+M;if($===0)return B;if($>H){var J=m($/10);return J===0?B:J<=H?O[J-1]===void 0?M.charAt(1):O[J-1]+M.charAt(1):B}z=O[$-1]}return z===void 0?"":z})}})},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(){this._items={},this._nullItems=[]}return a.prototype.copy=function(){var s=new a;for(var u in this._items)s._items[u]=this._items[u].slice(0);return s._nullItems=this._nullItems.slice(0),s},a.prototype.get=function(s,u){var l=u===null?this._nullItems:this._items[u]||null;if(l===null)return null;for(var f=null,c=0;c<l.length;c++)if((f=l[c])===s)return f;return f},a.prototype.has=function(s,u){var l=u===null?this._nullItems:this._items[u]||null;return l!==null&&l.indexOf(s)!==-1},a.prototype.hasPrefix=function(s){if(this._nullItems.indexOf(s)!==-1)return!0;for(var u in this._items)if(this._items[u].indexOf(s)!==-1)return!0;return!1},a.prototype.set=function(s,u){var l=u===null?this._nullItems:this._items[u]||null;u!==null&&l===null?this._items[u]=[s]:l.push(s)},a}();r.NamespacePrefixMap=i},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.Surrogate=/[\uD800-\uDFFF]/,r.ScalarValue=/[\uD800-\uDFFF]/,r.NonCharacter=/[\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]/,r.ASCIICodePoint=/[\u0000-\u007F]/,r.ASCIITabOrNewLine=/[\t\n\r]/,r.ASCIIWhiteSpace=/[\t\n\f\r ]/,r.C0Control=/[\u0000-\u001F]/,r.C0ControlOrSpace=/[\u0000-\u001F ]/,r.Control=/[\u0000-\u001F\u007F-\u009F]/,r.ASCIIDigit=/[0-9]/,r.ASCIIUpperHexDigit=/[0-9A-F]/,r.ASCIILowerHexDigit=/[0-9a-f]/,r.ASCIIHexDigit=/[0-9A-Fa-f]/,r.ASCIIUpperAlpha=/[A-Z]/,r.ASCIILowerAlpha=/[a-z]/,r.ASCIIAlpha=/[A-Za-z]/,r.ASCIIAlphanumeric=/[0-9A-Za-z]/},function(n,r,o){var i=this&&this.__values||function(E){var D=typeof Symbol=="function"&&Symbol.iterator,O=D&&E[D],P=0;if(O)return O.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&P>=E.length&&(E=void 0),{value:E&&E[P++],done:!E}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(E,D){var O=typeof Symbol=="function"&&E[Symbol.iterator];if(!O)return E;var P,k,U=O.call(E),H=[];try{for(;(D===void 0||D-- >0)&&!(P=U.next()).done;)H.push(P.value)}catch(R){k={error:R}}finally{try{P&&!P.done&&(O=U.return)&&O.call(U)}finally{if(k)throw k.error}}return H},s=this&&this.__spread||function(){for(var E=[],D=0;D<arguments.length;D++)E=E.concat(a(arguments[D]));return E};Object.defineProperty(r,"__esModule",{value:!0});var u=o(6),l=o(2),f=o(3),c=o(171),d=o(104),p=o(9),h=o(17),m=o(72),y=o(30);function b(E,D){D===void 0&&(D=void 0),D===void 0&&(D=null);var O=v(E,D,new Date,{});return O._isTrusted=!0,O}function v(E,D,O,P){var k=new E("");return k._initializedFlag=!0,k._timeStamp=O.getTime(),Object.assign(k,P),u.dom.features.steps&&y.dom_runEventConstructingSteps(k),k}function g(E,D,O,P){var k,U,H,R;O===void 0&&(O=!1),P===void 0&&(P={value:!1});var B=!1;E._dispatchFlag=!0;var M=D;if(O){var z=D._associatedDocument;f.Guard.isDocumentNode(z)&&(M=z)}var $=null,J=h.tree_retarget(E._relatedTarget,D);if(D!==J||D===E._relatedTarget){var Z=[];try{for(var X=i(E._touchTargetList),te=X.next();!te.done;te=X.next()){var ae=te.value;Z.push(h.tree_retarget(ae,D))}}catch(le){k={error:le}}finally{try{te&&!te.done&&(U=X.return)&&U.call(X)}finally{if(k)throw k.error}}x(E,D,M,J,Z,!1);var ue=f.Guard.isMouseEvent(E)&&E._type==="click";ue&&D._activationBehavior!==void 0&&($=D);for(var ie=f.Guard.isSlotable(D)&&m.shadowTree_isAssigned(D)?D:null,F=!1,I=D._getTheParent(E);I!==null&&f.Guard.isNode(I);){if(ie!==null){if(!f.Guard.isSlot(I))throw new Error("Parent node of a slotable should be a slot.");ie=null;var j=h.tree_rootNode(I,!0);f.Guard.isShadowRoot(j)&&j._mode==="closed"&&(F=!0)}f.Guard.isSlotable(I)&&m.shadowTree_isAssigned(I)&&(ie=I),J=h.tree_retarget(E._relatedTarget,I),Z=[];try{for(var N=(H=void 0,i(E._touchTargetList)),L=N.next();!L.done;L=N.next())ae=L.value,Z.push(h.tree_retarget(ae,I))}catch(le){H={error:le}}finally{try{L&&!L.done&&(R=N.return)&&R.call(N)}finally{if(H)throw H.error}}f.Guard.isWindow(I)||f.Guard.isNode(I)&&f.Guard.isNode(D)&&h.tree_isAncestorOf(h.tree_rootNode(D,!0),I,!0,!0)?(ue&&E._bubbles&&$===null&&I._activationBehavior&&($=I),x(E,I,null,J,Z,F)):I===J?I=null:(D=I,ue&&$===null&&D._activationBehavior&&($=D),x(E,I,D,J,Z,F)),I!==null&&(I=I._getTheParent(E)),F=!1}for(var G=null,W=E._path,Y=W.length-1;Y>=0;Y--)if((oe=W[Y]).shadowAdjustedTarget!==null){G=oe;break}if(G!==null)if(f.Guard.isNode(G.shadowAdjustedTarget)&&f.Guard.isShadowRoot(h.tree_rootNode(G.shadowAdjustedTarget,!0)))B=!0;else if(f.Guard.isNode(G.relatedTarget)&&f.Guard.isShadowRoot(h.tree_rootNode(G.relatedTarget,!0)))B=!0;else for(var ee=0;ee<G.touchTargetList.length;ee++){var oe=G.touchTargetList[ee];if(f.Guard.isNode(oe)&&f.Guard.isShadowRoot(h.tree_rootNode(oe,!0))){B=!0;break}}for($!==null&&$._legacyPreActivationBehavior!==void 0&&$._legacyPreActivationBehavior(E),Y=W.length-1;Y>=0;Y--)(oe=W[Y]).shadowAdjustedTarget!==null?E._eventPhase=l.EventPhase.AtTarget:E._eventPhase=l.EventPhase.Capturing,S(oe,E,"capturing",P);for(Y=0;Y<W.length;Y++){if((oe=W[Y]).shadowAdjustedTarget!==null)E._eventPhase=l.EventPhase.AtTarget;else{if(!E._bubbles)continue;E._eventPhase=l.EventPhase.Bubbling}S(oe,E,"bubbling",P)}}return E._eventPhase=l.EventPhase.None,E._currentTarget=null,E._path=[],E._dispatchFlag=!1,E._stopPropagationFlag=!1,E._stopImmediatePropagationFlag=!1,B&&(E._target=null,E._relatedTarget=null,E._touchTargetList=[]),$!==null&&(E._canceledFlag||$._activationBehavior===void 0?$._legacyCanceledActivationBehavior!==void 0&&$._legacyCanceledActivationBehavior(E):$._activationBehavior(E)),!E._canceledFlag}function x(E,D,O,P,k,U){var H=!1;f.Guard.isNode(D)&&f.Guard.isShadowRoot(h.tree_rootNode(D))&&(H=!0);var R=!1;f.Guard.isShadowRoot(D)&&D._mode==="closed"&&(R=!0),E._path.push({invocationTarget:D,invocationTargetInShadowTree:H,shadowAdjustedTarget:O,relatedTarget:P,touchTargetList:k,rootOfClosedTree:R,slotInClosedTree:U})}function S(E,D,O,P){P===void 0&&(P={value:!1});for(var k=D._path,U=-1,H=0;H<k.length;H++)if(k[H]===E){U=H;break}if(U!==-1){var R=k[U];(R.shadowAdjustedTarget!==null||U>0&&(R=k[U-1]).shadowAdjustedTarget!==null)&&(D._target=R.shadowAdjustedTarget)}if(D._relatedTarget=E.relatedTarget,D._touchTargetList=E.touchTargetList,!D._stopPropagationFlag){D._currentTarget=E.invocationTarget;var B=D._currentTarget._eventListenerList,M=new(Array.bind.apply(Array,s([void 0],B)));if(!C(D,M,O,E,P)&&D._isTrusted){var z=D._type;z==="animationend"?D._type="webkitAnimationEnd":z==="animationiteration"?D._type="webkitAnimationIteration":z==="animationstart"?D._type="webkitAnimationStart":z==="transitionend"&&(D._type="webkitTransitionEnd"),C(D,M,O,E,P),D._type=z}}}function C(E,D,O,P,k){k===void 0&&(k={value:!1});for(var U=!1,H=0;H<D.length;H++){var R=D[H];if(!R.removed){if(E._type!==R.type||(U=!0,O==="capturing"&&!R.capture)||O==="bubbling"&&R.capture)continue;if(R.once&&E._currentTarget!==null){for(var B=E._currentTarget,M=-1,z=0;z<B._eventListenerList.length;z++)if(B._eventListenerList[z]===R){M=z;break}M!==-1&&B._eventListenerList.splice(M,1)}var $=void 0,J=void 0;f.Guard.isWindow($)&&(J=$._currentEvent,P.invocationTargetInShadowTree===!1&&($._currentEvent=E)),R.passive&&(E._inPassiveListenerFlag=!0);try{R.callback.handleEvent.call(E._currentTarget,E)}catch(Z){k.value=!0}if(R.passive&&(E._inPassiveListenerFlag=!1),f.Guard.isWindow($)&&($._currentEvent=J),E._stopImmediatePropagationFlag)return U}}return U}function w(E,D){return null}function T(E,D){return null}function _(E,D){}function A(E,D){}r.event_setTheCanceledFlag=function(E){E._cancelable&&!E._inPassiveListenerFlag&&(E._canceledFlag=!0)},r.event_initialize=function(E,D,O,P){E._initializedFlag=!0,E._stopPropagationFlag=!1,E._stopImmediatePropagationFlag=!1,E._canceledFlag=!1,E._isTrusted=!1,E._target=null,E._type=D,E._bubbles=O,E._cancelable=P},r.event_createAnEvent=b,r.event_innerEventCreationSteps=v,r.event_dispatch=g,r.event_appendToAnEventPath=x,r.event_invoke=S,r.event_innerInvoke=C,r.event_fireAnEvent=function(E,D,O,P,k){O===void 0&&(O=d.EventImpl);var U=b(O);if(U._type=E,P)for(var H in P)U[H]=P[H];return g(U,D,k)},r.event_createLegacyEvent=function(E){var D=null;switch(E.toLowerCase()){case"beforeunloadevent":case"compositionevent":break;case"customevent":D=c.CustomEventImpl;break;case"devicemotionevent":case"deviceorientationevent":case"dragevent":break;case"event":case"events":D=d.EventImpl}if(D===null)throw new p.NotSupportedError("Event constructor not found for interface "+E+".");var O=new D("");return O._type="",O._timeStamp=new Date().getTime(),O._isTrusted=!1,O._initializedFlag=!1,O},r.event_getterEventHandlerIDLAttribute=function(E,D){return null},r.event_setterEventHandlerIDLAttribute=function(E,D,O){},r.event_determineTheTargetOfAnEventHandler=w,r.event_getTheCurrentValueOfAnEventHandler=T,r.event_activateAnEventHandler=_,r.event_deactivateAnEventHandler=A},function(n,r,o){var i,a=this&&this.__extends||(i=function(x,S){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,w){C.__proto__=w}||function(C,w){for(var T in w)w.hasOwnProperty(T)&&(C[T]=w[T])})(x,S)},function(x,S){function C(){this.constructor=x}i(x,S),x.prototype=S===null?Object.create(S):(C.prototype=S.prototype,new C)}),s=this&&this.__values||function(x){var S=typeof Symbol=="function"&&Symbol.iterator,C=S&&x[S],w=0;if(C)return C.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&w>=x.length&&(x=void 0),{value:x&&x[w++],done:!x}}};throw new TypeError(S?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(x,S){var C=typeof Symbol=="function"&&x[Symbol.iterator];if(!C)return x;var w,T,_=C.call(x),A=[];try{for(;(S===void 0||S-- >0)&&!(w=_.next()).done;)A.push(w.value)}catch(E){T={error:E}}finally{try{w&&!w.done&&(C=_.return)&&C.call(_)}finally{if(T)throw T.error}}return A};Object.defineProperty(r,"__esModule",{value:!0});var l=o(6),f=o(2),c=o(9),d=o(34),p=o(3),h=o(1),m=o(7),y=o(152),b=o(0),v=o(12),g=function(x){function S(){var C=x.call(this)||this;return C._children=new Set,C._encoding={name:"UTF-8",labels:["unicode-1-1-utf-8","utf-8","utf8"]},C._contentType="application/xml",C._URL={scheme:"about",username:"",password:"",host:null,port:null,path:["blank"],query:null,fragment:null,_cannotBeABaseURLFlag:!0,_blobURLEntry:null},C._origin=null,C._type="xml",C._mode="no-quirks",C._documentElement=null,C._hasNamespaces=!1,C._nodeDocumentOverwrite=null,C}return a(S,x),Object.defineProperty(S.prototype,"_nodeDocument",{get:function(){return this._nodeDocumentOverwrite||this},set:function(C){this._nodeDocumentOverwrite=C},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"implementation",{get:function(){return this._implementation||(this._implementation=b.create_domImplementation(this))},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"URL",{get:function(){return y.urlSerializer(this._URL)},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"documentURI",{get:function(){return this.URL},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"origin",{get:function(){return"null"},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"compatMode",{get:function(){return this._mode==="quirks"?"BackCompat":"CSS1Compat"},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"characterSet",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"charset",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"inputEncoding",{get:function(){return this._encoding.name},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"contentType",{get:function(){return this._contentType},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"doctype",{get:function(){var C,w;try{for(var T=s(this._children),_=T.next();!_.done;_=T.next()){var A=_.value;if(p.Guard.isDocumentTypeNode(A))return A}}catch(E){C={error:E}}finally{try{_&&!_.done&&(w=T.return)&&w.call(T)}finally{if(C)throw C.error}}return null},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"documentElement",{get:function(){return this._documentElement},enumerable:!0,configurable:!0}),S.prototype.getElementsByTagName=function(C){return b.node_listOfElementsWithQualifiedName(C,this)},S.prototype.getElementsByTagNameNS=function(C,w){return b.node_listOfElementsWithNamespace(C,w,this)},S.prototype.getElementsByClassName=function(C){return b.node_listOfElementsWithClassNames(C,this)},S.prototype.createElement=function(C,w){if(!b.xml_isName(C))throw new c.InvalidCharacterError;this._type==="html"&&(C=C.toLowerCase());var T=null;w!==void 0&&(T=h.isString(w)?w:w.is);var _=this._type==="html"||this._contentType==="application/xhtml+xml"?m.namespace.HTML:null;return b.element_createAnElement(this,C,_,null,T,!0)},S.prototype.createElementNS=function(C,w,T){return b.document_internalCreateElementNS(this,C,w,T)},S.prototype.createDocumentFragment=function(){return b.create_documentFragment(this)},S.prototype.createTextNode=function(C){return b.create_text(this,C)},S.prototype.createCDATASection=function(C){if(this._type==="html")throw new c.NotSupportedError;if(C.indexOf("]]>")!==-1)throw new c.InvalidCharacterError;return b.create_cdataSection(this,C)},S.prototype.createComment=function(C){return b.create_comment(this,C)},S.prototype.createProcessingInstruction=function(C,w){if(!b.xml_isName(C))throw new c.InvalidCharacterError;if(w.indexOf("?>")!==-1)throw new c.InvalidCharacterError;return b.create_processingInstruction(this,C,w)},S.prototype.importNode=function(C,w){if(w===void 0&&(w=!1),p.Guard.isDocumentNode(C)||p.Guard.isShadowRoot(C))throw new c.NotSupportedError;return b.node_clone(C,this,w)},S.prototype.adoptNode=function(C){if(p.Guard.isDocumentNode(C))throw new c.NotSupportedError;if(p.Guard.isShadowRoot(C))throw new c.HierarchyRequestError;return b.document_adopt(C,this),C},S.prototype.createAttribute=function(C){if(!b.xml_isName(C))throw new c.InvalidCharacterError;return this._type==="html"&&(C=C.toLowerCase()),b.create_attr(this,C)},S.prototype.createAttributeNS=function(C,w){var T=u(b.namespace_validateAndExtract(C,w),3),_=T[0],A=T[1],E=T[2],D=b.create_attr(this,E);return D._namespace=_,D._namespacePrefix=A,D},S.prototype.createEvent=function(C){return b.event_createLegacyEvent(C)},S.prototype.createRange=function(){var C=b.create_range();return C._start=[this,0],C._end=[this,0],C},S.prototype.createNodeIterator=function(C,w,T){w===void 0&&(w=f.WhatToShow.All),T===void 0&&(T=null);var _=b.create_nodeIterator(C,C,!0);return _._whatToShow=w,_._iteratorCollection=b.create_nodeList(C),h.isFunction(T)?(_._filter=b.create_nodeFilter(),_._filter.acceptNode=T):_._filter=T,_},S.prototype.createTreeWalker=function(C,w,T){w===void 0&&(w=f.WhatToShow.All),T===void 0&&(T=null);var _=b.create_treeWalker(C,C);return _._whatToShow=w,h.isFunction(T)?(_._filter=b.create_nodeFilter(),_._filter.acceptNode=T):_._filter=T,_},S.prototype._getTheParent=function(C){return C._type==="load"?null:l.dom.window},S.prototype.getElementById=function(C){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(S.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),S.prototype.prepend=function(){for(var C=[],w=0;w<arguments.length;w++)C[w]=arguments[w];throw new Error("Mixin: ParentNode not implemented.")},S.prototype.append=function(){for(var C=[],w=0;w<arguments.length;w++)C[w]=arguments[w];throw new Error("Mixin: ParentNode not implemented.")},S.prototype.querySelector=function(C){throw new Error("Mixin: ParentNode not implemented.")},S.prototype.querySelectorAll=function(C){throw new Error("Mixin: ParentNode not implemented.")},S}(d.NodeImpl);r.DocumentImpl=g,v.idl_defineConst(g.prototype,"_nodeType",f.NodeType.Document)},function(n,r,o){var i,a=this&&this.__extends||(i=function(y,b){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var x in g)g.hasOwnProperty(x)&&(v[x]=g[x])})(y,b)},function(y,b){function v(){this.constructor=y}i(y,b),y.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}),s=this&&this.__values||function(y){var b=typeof Symbol=="function"&&Symbol.iterator,v=b&&y[b],g=0;if(v)return v.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&g>=y.length&&(y=void 0),{value:y&&y[g++],done:!y}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(y,b){var v=typeof Symbol=="function"&&y[Symbol.iterator];if(!v)return y;var g,x,S=v.call(y),C=[];try{for(;(b===void 0||b-- >0)&&!(g=S.next()).done;)C.push(g.value)}catch(w){x={error:w}}finally{try{g&&!g.done&&(v=S.return)&&v.call(S)}finally{if(x)throw x.error}}return C};Object.defineProperty(r,"__esModule",{value:!0});var l=o(2),f=o(34),c=o(9),d=o(7),p=o(0),h=o(12),m=function(y){function b(){var v=y.call(this)||this;return v._children=new Set,v._namespace=null,v._namespacePrefix=null,v._localName="",v._customElementState="undefined",v._customElementDefinition=null,v._is=null,v._shadowRoot=null,v._attributeList=p.create_namedNodeMap(v),v._attributeChangeSteps=[],v._name="",v._assignedSlot=null,v}return a(b,y),Object.defineProperty(b.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tagName",{get:function(){return this._htmlUppercasedQualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"id",{get:function(){return p.element_getAnAttributeValue(this,"id")},set:function(v){p.element_setAnAttributeValue(this,"id",v)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"className",{get:function(){return p.element_getAnAttributeValue(this,"class")},set:function(v){p.element_setAnAttributeValue(this,"class",v)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"classList",{get:function(){var v=p.element_getAnAttributeByName("class",this);return v===null&&(v=p.create_attr(this._nodeDocument,"class")),p.create_domTokenList(this,v)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"slot",{get:function(){return p.element_getAnAttributeValue(this,"slot")},set:function(v){p.element_setAnAttributeValue(this,"slot",v)},enumerable:!0,configurable:!0}),b.prototype.hasAttributes=function(){return this._attributeList.length!==0},Object.defineProperty(b.prototype,"attributes",{get:function(){return this._attributeList},enumerable:!0,configurable:!0}),b.prototype.getAttributeNames=function(){var v,g,x=[];try{for(var S=s(this._attributeList),C=S.next();!C.done;C=S.next()){var w=C.value;x.push(w._qualifiedName)}}catch(T){v={error:T}}finally{try{C&&!C.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}return x},b.prototype.getAttribute=function(v){var g=p.element_getAnAttributeByName(v,this);return g?g._value:null},b.prototype.getAttributeNS=function(v,g){var x=p.element_getAnAttributeByNamespaceAndLocalName(v,g,this);return x?x._value:null},b.prototype.setAttribute=function(v,g){if(!p.xml_isName(v))throw new c.InvalidCharacterError;this._namespace===d.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var x=null,S=0;S<this._attributeList.length;S++){var C=this._attributeList[S];if(C._qualifiedName===v){x=C;break}}if(x===null)return(x=p.create_attr(this._nodeDocument,v))._value=g,void p.element_append(x,this);p.element_change(x,this,g)},b.prototype.setAttributeNS=function(v,g,x){var S=u(p.namespace_validateAndExtract(v,g),3),C=S[0],w=S[1],T=S[2];p.element_setAnAttributeValue(this,T,x,w,C)},b.prototype.removeAttribute=function(v){p.element_removeAnAttributeByName(v,this)},b.prototype.removeAttributeNS=function(v,g){p.element_removeAnAttributeByNamespaceAndLocalName(v,g,this)},b.prototype.hasAttribute=function(v){this._namespace===d.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var g=0;g<this._attributeList.length;g++)if(this._attributeList[g]._qualifiedName===v)return!0;return!1},b.prototype.toggleAttribute=function(v,g){if(!p.xml_isName(v))throw new c.InvalidCharacterError;this._namespace===d.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toLowerCase());for(var x=null,S=0;S<this._attributeList.length;S++){var C=this._attributeList[S];if(C._qualifiedName===v){x=C;break}}return x===null?(g===void 0||g===!0)&&((x=p.create_attr(this._nodeDocument,v))._value="",p.element_append(x,this),!0):g!==void 0&&g!==!1||(p.element_removeAnAttributeByName(v,this),!1)},b.prototype.hasAttributeNS=function(v,g){for(var x=v||null,S=0;S<this._attributeList.length;S++){var C=this._attributeList[S];if(C._namespace===x&&C._localName===g)return!0}return!1},b.prototype.getAttributeNode=function(v){return p.element_getAnAttributeByName(v,this)},b.prototype.getAttributeNodeNS=function(v,g){return p.element_getAnAttributeByNamespaceAndLocalName(v,g,this)},b.prototype.setAttributeNode=function(v){return p.element_setAnAttribute(v,this)},b.prototype.setAttributeNodeNS=function(v){return p.element_setAnAttribute(v,this)},b.prototype.removeAttributeNode=function(v){for(var g=!1,x=0;x<this._attributeList.length;x++)if(this._attributeList[x]===v){g=!0;break}if(!g)throw new c.NotFoundError;return p.element_remove(v,this),v},b.prototype.attachShadow=function(v){if(this._namespace!==d.namespace.HTML)throw new c.NotSupportedError;if(!p.customElement_isValidCustomElementName(this._localName)&&!p.customElement_isValidShadowHostName(this._localName))throw new c.NotSupportedError;if(p.customElement_isValidCustomElementName(this._localName)||this._is!==null){var g=p.customElement_lookUpACustomElementDefinition(this._nodeDocument,this._namespace,this._localName,this._is);if(g!==null&&g.disableShadow===!0)throw new c.NotSupportedError}if(this._shadowRoot!==null)throw new c.NotSupportedError;var x=p.create_shadowRoot(this._nodeDocument,this);return x._mode=v.mode,this._shadowRoot=x,x},Object.defineProperty(b.prototype,"shadowRoot",{get:function(){var v=this._shadowRoot;return v===null||v.mode==="closed"?null:v},enumerable:!0,configurable:!0}),b.prototype.closest=function(v){throw new c.NotImplementedError},b.prototype.matches=function(v){throw new c.NotImplementedError},b.prototype.webkitMatchesSelector=function(v){return this.matches(v)},b.prototype.getElementsByTagName=function(v){return p.node_listOfElementsWithQualifiedName(v,this)},b.prototype.getElementsByTagNameNS=function(v,g){return p.node_listOfElementsWithNamespace(v,g,this)},b.prototype.getElementsByClassName=function(v){return p.node_listOfElementsWithClassNames(v,this)},b.prototype.insertAdjacentElement=function(v,g){return p.element_insertAdjacent(this,v,g)},b.prototype.insertAdjacentText=function(v,g){var x=p.create_text(this._nodeDocument,g);p.element_insertAdjacent(this,v,x)},Object.defineProperty(b.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_htmlUppercasedQualifiedName",{get:function(){var v=this._qualifiedName;return this._namespace===d.namespace.HTML&&this._nodeDocument._type==="html"&&(v=v.toUpperCase()),v},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),b.prototype.prepend=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},b.prototype.append=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ParentNode not implemented.")},b.prototype.querySelector=function(v){throw new Error("Mixin: ParentNode not implemented.")},b.prototype.querySelectorAll=function(v){throw new Error("Mixin: ParentNode not implemented.")},Object.defineProperty(b.prototype,"previousElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"nextElementSibling",{get:function(){throw new Error("Mixin: NonDocumentTypeChildNode not implemented.")},enumerable:!0,configurable:!0}),b.prototype.before=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},b.prototype.after=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},b.prototype.replaceWith=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];throw new Error("Mixin: ChildNode not implemented.")},b.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},Object.defineProperty(b.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),b._create=function(v,g,x,S){x===void 0&&(x=null),S===void 0&&(S=null);var C=new b;return C._localName=g,C._namespace=x,C._namespacePrefix=S,C._nodeDocument=v,C},b}(f.NodeImpl);r.ElementImpl=m,h.idl_defineConst(m.prototype,"_nodeType",l.NodeType.Element)},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(2),u=o(34),l=o(12),f=function(c){function d(p){p===void 0&&(p=null);var h=c.call(this)||this;return h._children=new Set,h._host=p,h}return a(d,c),d.prototype.getElementById=function(p){throw new Error("Mixin: NonElementParentNode not implemented.")},Object.defineProperty(d.prototype,"children",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"firstElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"lastElementChild",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"childElementCount",{get:function(){throw new Error("Mixin: ParentNode not implemented.")},enumerable:!0,configurable:!0}),d.prototype.prepend=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ParentNode not implemented.")},d.prototype.append=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ParentNode not implemented.")},d.prototype.querySelector=function(p){throw new Error("Mixin: ParentNode not implemented.")},d.prototype.querySelectorAll=function(p){throw new Error("Mixin: ParentNode not implemented.")},d._create=function(p,h){h===void 0&&(h=null);var m=new d(h);return m._nodeDocument=p,m},d}(u.NodeImpl);r.DocumentFragmentImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.DocumentFragment)},function(n,r,o){var i,a=this&&this.__extends||(i=function(p,h){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)y.hasOwnProperty(b)&&(m[b]=y[b])})(p,h)},function(p,h){function m(){this.constructor=p}i(p,h),p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}),s=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],y=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=o(2),l=o(71),f=o(0),c=o(12),d=function(p){function h(m){m===void 0&&(m="");var y=p.call(this,m)||this;return y._name="",y._assignedSlot=null,y}return a(h,p),Object.defineProperty(h.prototype,"wholeText",{get:function(){var m,y,b="";try{for(var v=s(f.text_contiguousTextNodes(this,!0)),g=v.next();!g.done;g=v.next())b+=g.value._data}catch(x){m={error:x}}finally{try{g&&!g.done&&(y=v.return)&&y.call(v)}finally{if(m)throw m.error}}return b},enumerable:!0,configurable:!0}),h.prototype.splitText=function(m){return f.text_split(this,m)},Object.defineProperty(h.prototype,"assignedSlot",{get:function(){throw new Error("Mixin: Slotable not implemented.")},enumerable:!0,configurable:!0}),h._create=function(m,y){y===void 0&&(y="");var b=new h(y);return b._nodeDocument=m,b},h}(l.CharacterDataImpl);r.TextImpl=d,c.idl_defineConst(d.prototype,"_nodeType",u.NodeType.Text)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(){}return Object.defineProperty(a.prototype,"_startNode",{get:function(){return this._start[0]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_startOffset",{get:function(){return this._start[1]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_endNode",{get:function(){return this._end[0]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_endOffset",{get:function(){return this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_collapsed",{get:function(){return this._start[0]===this._end[0]&&this._start[1]===this._end[1]},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startContainer",{get:function(){return this._startNode},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startOffset",{get:function(){return this._startOffset},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"endContainer",{get:function(){return this._endNode},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"endOffset",{get:function(){return this._endOffset},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"collapsed",{get:function(){return this._collapsed},enumerable:!0,configurable:!0}),a}();r.AbstractRangeImpl=i},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(2),a=function(){function s(u){this._activeFlag=!1,this._root=u,this._whatToShow=i.WhatToShow.All,this._filter=null}return Object.defineProperty(s.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"whatToShow",{get:function(){return this._whatToShow},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),s}();r.TraverserImpl=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(2),a=o(0),s=o(12),u=function(){function l(f,c){this._target=null,this._relatedTarget=null,this._touchTargetList=[],this._path=[],this._currentTarget=null,this._eventPhase=i.EventPhase.None,this._stopPropagationFlag=!1,this._stopImmediatePropagationFlag=!1,this._canceledFlag=!1,this._inPassiveListenerFlag=!1,this._composedFlag=!1,this._initializedFlag=!1,this._dispatchFlag=!1,this._isTrusted=!1,this._bubbles=!1,this._cancelable=!1,this._type=f,c&&(this._bubbles=c.bubbles||!1,this._cancelable=c.cancelable||!1,this._composedFlag=c.composed||!1),this._initializedFlag=!0,this._timeStamp=new Date().getTime()}return Object.defineProperty(l.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"srcElement",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0}),l.prototype.composedPath=function(){var f=[],c=this._path;if(c.length===0)return f;var d=this._currentTarget;if(d===null)throw new Error("Event currentTarget is null.");f.push(d);for(var p=0,h=0,m=c.length-1;m>=0;){if(c[m].rootOfClosedTree&&h++,c[m].invocationTarget===d){p=m;break}c[m].slotInClosedTree&&h--,m--}var y=h,b=h;for(m=p-1;m>=0;)c[m].rootOfClosedTree&&y++,y<=b&&f.unshift(c[m].invocationTarget),c[m].slotInClosedTree&&--y<b&&(b=y),m--;for(y=h,b=h,m=p+1;m<c.length;)c[m].slotInClosedTree&&y++,y<=b&&f.push(c[m].invocationTarget),c[m].rootOfClosedTree&&--y<b&&(b=y),m++;return f},Object.defineProperty(l.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0}),l.prototype.stopPropagation=function(){this._stopPropagationFlag=!0},Object.defineProperty(l.prototype,"cancelBubble",{get:function(){return this._stopPropagationFlag},set:function(f){f&&this.stopPropagation()},enumerable:!0,configurable:!0}),l.prototype.stopImmediatePropagation=function(){this._stopPropagationFlag=!0,this._stopImmediatePropagationFlag=!0},Object.defineProperty(l.prototype,"bubbles",{get:function(){return this._bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"returnValue",{get:function(){return!this._canceledFlag},set:function(f){f||a.event_setTheCanceledFlag(this)},enumerable:!0,configurable:!0}),l.prototype.preventDefault=function(){a.event_setTheCanceledFlag(this)},Object.defineProperty(l.prototype,"defaultPrevented",{get:function(){return this._canceledFlag},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"composed",{get:function(){return this._composedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"timeStamp",{get:function(){return this._timeStamp},enumerable:!0,configurable:!0}),l.prototype.initEvent=function(f,c,d){c===void 0&&(c=!1),d===void 0&&(d=!1),this._dispatchFlag||a.event_initialize(this,f,c,d)},l.NONE=0,l.CAPTURING_PHASE=1,l.AT_TARGET=2,l.BUBBLING_PHASE=3,l}();r.EventImpl=u,s.idl_defineConst(u.prototype,"NONE",0),s.idl_defineConst(u.prototype,"CAPTURING_PHASE",1),s.idl_defineConst(u.prototype,"AT_TARGET",2),s.idl_defineConst(u.prototype,"BUBBLING_PHASE",3)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(2),a=o(9);r.traversal_filter=function(s,u){if(s._activeFlag)throw new a.InvalidStateError;var l=1<<u._nodeType-1;if(!(s.whatToShow&l))return i.FilterResult.Skip;if(!s.filter)return i.FilterResult.Accept;s._activeFlag=!0;var f=i.FilterResult.Reject;try{f=s.filter.acceptNode(u)}catch(c){throw s._activeFlag=!1,c}return s._activeFlag=!1,f}},function(n,r,o){var i=this&&this.__read||function(b,v){var g=typeof Symbol=="function"&&b[Symbol.iterator];if(!g)return b;var x,S,C=g.call(b),w=[];try{for(;(v===void 0||v-- >0)&&!(x=C.next()).done;)w.push(x.value)}catch(T){S={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(S)throw S.error}}return w},a=this&&this.__values||function(b){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&b[v],x=0;if(g)return g.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&x>=b.length&&(b=void 0),{value:b&&b[x++],done:!b}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=o(6),u=o(3),l=o(1),f=o(99),c=o(73),d=o(17),p=o(173),h=o(30),m=o(52),y=o(37);r.document_elementInterface=function(b,v){return f.ElementImpl},r.document_internalCreateElementNS=function(b,v,g,x){var S=i(p.namespace_validateAndExtract(v,g),3),C=S[0],w=S[1],T=S[2],_=null;return x!==void 0&&(_=l.isString(x)?x:x.is),m.element_createAnElement(b,T,C,w,_,!0)},r.document_adopt=function(b,v){var g,x;if(b._nodeDocument!==v||b._parent!==null){var S=b._nodeDocument;if(b._parent&&y.mutation_remove(b,b._parent),v!==S)for(var C=d.tree_getFirstDescendantNode(b,!0,!0);C!==null;){if(C._nodeDocument=v,u.Guard.isElementNode(C))try{for(var w=(g=void 0,a(C._attributeList._asArray())),T=w.next();!T.done;T=w.next())T.value._nodeDocument=v}catch(_){g={error:_}}finally{try{T&&!T.done&&(x=w.return)&&x.call(w)}finally{if(g)throw g.error}}s.dom.features.customElements&&u.Guard.isElementNode(C)&&C._customElementState==="custom"&&c.customElement_enqueueACustomElementCallbackReaction(C,"adoptedCallback",[S,v]),s.dom.features.steps&&h.dom_runAdoptingSteps(C,S),C=d.tree_getNextDescendantNode(b,C,!0,!0)}}}},function(n,r,o){var i=this&&this.__values||function(d){var p=typeof Symbol=="function"&&Symbol.iterator,h=p&&d[p],m=0;if(h)return h.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&m>=d.length&&(d=void 0),{value:d&&d[m++],done:!d}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(3),u=o(9),l=o(17),f=o(51),c=o(30);r.characterData_replaceData=function(d,p,h,m){var y,b,v=l.tree_nodeLength(d);if(p>v)throw new u.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+v+", Node is "+d.nodeName+".");p+h>v&&(h=v-p),a.dom.features.mutationObservers&&f.observer_queueMutationRecord("characterData",d,null,null,d._data,[],[],null,null);var g=d._data.substring(0,p)+m+d._data.substring(p+h);d._data=g;try{for(var x=i(a.dom.rangeList),S=x.next();!S.done;S=x.next()){var C=S.value;C._start[0]===d&&C._start[1]>p&&C._start[1]<=p+h&&(C._start[1]=p),C._end[0]===d&&C._end[1]>p&&C._end[1]<=p+h&&(C._end[1]=p),C._start[0]===d&&C._start[1]>p+h&&(C._start[1]+=m.length-h),C._end[0]===d&&C._end[1]>p+h&&(C._end[1]+=m.length-h)}}catch(w){y={error:w}}finally{try{S&&!S.done&&(b=x.return)&&b.call(x)}finally{if(y)throw y.error}}a.dom.features.steps&&s.Guard.isTextNode(d)&&d._parent!==null&&c.dom_runChildTextContentChangeSteps(d._parent)},r.characterData_substringData=function(d,p,h){var m=l.tree_nodeLength(d);if(p>m)throw new u.IndexSizeError("Offset exceeds character data length. Offset: "+p+", Length: "+m+", Node is "+d.nodeName+".");return p+h>m?d._data.substr(p):d._data.substr(p,h)}},function(n,r,o){var i=this&&this.__read||function(c,d){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var h,m,y=p.call(c),b=[];try{for(;(d===void 0||d-- >0)&&!(h=y.next()).done;)b.push(h.value)}catch(v){m={error:v}}finally{try{h&&!h.done&&(p=y.return)&&p.call(y)}finally{if(m)throw m.error}}return b},a=this&&this.__spread||function(){for(var c=[],d=0;d<arguments.length;d++)c=c.concat(i(arguments[d]));return c},s=this&&this.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&c[d],h=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=o(7);function l(c){var d=u.string.splitAStringOnASCIIWhitespace(c);return new Set(d)}function f(c){return a(c).join(" ")}r.orderedSet_parse=l,r.orderedSet_serialize=f,r.orderedSet_sanitize=function(c){return f(l(c))},r.orderedSet_contains=function(c,d,p){var h,m,y,b;try{for(var v=s(d),g=v.next();!g.done;g=v.next()){var x=g.value,S=!1;try{for(var C=(y=void 0,s(c)),w=C.next();!w.done;w=C.next()){var T=w.value;if(p){if(T===x){S=!0;break}}else if(T.toUpperCase()===x.toUpperCase()){S=!0;break}}}catch(_){y={error:_}}finally{try{w&&!w.done&&(b=C.return)&&b.call(C)}finally{if(y)throw y.error}}if(!S)return!1}}catch(_){h={error:_}}finally{try{g&&!g.done&&(m=v.return)&&m.call(v)}finally{if(h)throw h.error}}return!0}},function(n,r,o){o(179),Object.defineProperty(r,"__esModule",{value:!0});var i=o(262),a=o(110),s=o(1);a.dom.setFeatures(!1),r.createDocument=function(){var u=new i.DOMImplementation().createDocument(null,"root",null);return u.documentElement&&u.removeChild(u.documentElement),u},r.sanitizeInput=function(u,l){if(u==null)return u;if(l===void 0)return u+"";var f="";u+="";for(var c=0;c<u.length;c++){var d=u.charCodeAt(c);if(d===9||d===10||d===13||d>=32&&d<=55295||d>=57344&&d<=65533)f+=u.charAt(c);else if(d>=55296&&d<=56319&&c<u.length-1){var p=u.charCodeAt(c+1);p>=56320&&p<=57343?(d=1024*(d-55296)+p-56320+65536,f+=String.fromCodePoint(d),c++):f+=s.isString(l)?l:l(u.charAt(c),c,u)}else f+=s.isString(l)?l:l(u.charAt(c),c,u)}return f}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(1),a=o(153);r.AbortController=a.AbortControllerImpl;var s=o(154);r.AbortSignal=s.AbortSignalImpl;var u=o(102);r.AbstractRange=u.AbstractRangeImpl;var l=o(157);r.Attr=l.AttrImpl;var f=o(158);r.CDATASection=f.CDATASectionImpl;var c=o(71);r.CharacterData=c.CharacterDataImpl;var d=o(263),p=o(159);r.Comment=p.CommentImpl;var h=o(171);r.CustomEvent=h.CustomEventImpl;var m=o(100);r.DocumentFragment=m.DocumentFragmentImpl;var y=o(98);r.Document=y.DocumentImpl;var b=o(264),v=o(155);r.DocumentType=v.DocumentTypeImpl;var g=o(6);r.dom=g.dom;var x=o(148);r.DOMImplementation=x.DOMImplementationImpl;var S=o(170);r.DOMTokenList=S.DOMTokenListImpl;var C=o(99);r.Element=C.ElementImpl;var w=o(104);r.Event=w.EventImpl;var T=o(70);r.EventTarget=T.EventTargetImpl;var _=o(161);r.HTMLCollection=_.HTMLCollectionImpl;var A=o(265);r.MutationObserver=A.MutationObserverImpl;var E=o(169);r.MutationRecord=E.MutationRecordImpl;var D=o(164);r.NamedNodeMap=D.NamedNodeMapImpl;var O=o(168);r.NodeFilter=O.NodeFilterImpl;var P=o(34);r.Node=P.NodeImpl;var k=o(166);r.NodeIterator=k.NodeIteratorImpl;var U=o(162);r.NodeList=U.NodeListImpl;var H=o(163);r.NodeListStatic=H.NodeListStaticImpl;var R=o(266),B=o(267),M=o(268),z=o(160);r.ProcessingInstruction=z.ProcessingInstructionImpl;var $=o(165);r.Range=$.RangeImpl;var J=o(156);r.ShadowRoot=J.ShadowRootImpl;var Z=o(269),X=o(270);r.StaticRange=X.StaticRangeImpl;var te=o(101);r.Text=te.TextImpl;var ae=o(103);r.Traverser=ae.TraverserImpl;var ue=o(167);r.TreeWalker=ue.TreeWalkerImpl;var ie=o(149);r.Window=ie.WindowImpl;var F=o(151);r.XMLDocument=F.XMLDocumentImpl,i.applyMixin(C.ElementImpl,d.ChildNodeImpl),i.applyMixin(c.CharacterDataImpl,d.ChildNodeImpl),i.applyMixin(v.DocumentTypeImpl,d.ChildNodeImpl),i.applyMixin(y.DocumentImpl,b.DocumentOrShadowRootImpl),i.applyMixin(J.ShadowRootImpl,b.DocumentOrShadowRootImpl),i.applyMixin(C.ElementImpl,R.NonDocumentTypeChildNodeImpl),i.applyMixin(c.CharacterDataImpl,R.NonDocumentTypeChildNodeImpl),i.applyMixin(y.DocumentImpl,B.NonElementParentNodeImpl),i.applyMixin(m.DocumentFragmentImpl,B.NonElementParentNodeImpl),i.applyMixin(y.DocumentImpl,M.ParentNodeImpl),i.applyMixin(m.DocumentFragmentImpl,M.ParentNodeImpl),i.applyMixin(C.ElementImpl,M.ParentNodeImpl),i.applyMixin(te.TextImpl,Z.SlotableImpl),i.applyMixin(C.ElementImpl,Z.SlotableImpl)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.EOF=0]="EOF",i[i.Declaration=1]="Declaration",i[i.DocType=2]="DocType",i[i.Element=3]="Element",i[i.Text=4]="Text",i[i.CDATA=5]="CDATA",i[i.PI=6]="PI",i[i.Comment=7]="Comment",i[i.ClosingTag=8]="ClosingTag"}(r.TokenType||(r.TokenType={}))},function(n,r,o){o(64),o(20),o(66);var i,a=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p])})(l,f)},function(l,f){function c(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(1),u=function(l){function f(){return l!==null&&l.apply(this,arguments)||this}return a(f,l),f.prototype._parse=function(c,d){var p=this,h=this._builderOptions,m=null;return s.isFunction(d)?m=this.parse(c,d.apply(this)):s.isArray(d)||s.isSet(d)?s.forEachArray(d,function(y){return m=p.parse(c,y)},this):s.isMap(d)||s.isObject(d)?s.forEachObject(d,function(y,b){if(s.isFunction(b)&&(b=b.apply(p)),h.ignoreConverters||y.indexOf(h.convert.att)!==0)if(h.ignoreConverters||y.indexOf(h.convert.text)!==0)if(h.ignoreConverters||y.indexOf(h.convert.cdata)!==0)if(h.ignoreConverters||y.indexOf(h.convert.comment)!==0)if(h.ignoreConverters||y.indexOf(h.convert.ins)!==0){if(!((s.isArray(b)||s.isSet(b))&&s.isEmpty(b))){if((s.isMap(b)||s.isObject(b))&&s.isEmpty(b))m=p.element(c,void 0,p.sanitize(y))||m;else if(h.keepNullNodes||b!=null)if(s.isArray(b)||s.isSet(b))s.forEachArray(b,function(C){var w={};w[y]=C,m=p.parse(c,w)},p);else if(s.isMap(b)||s.isObject(b))(v=p.element(c,void 0,p.sanitize(y)))&&(m=v,p.parse(v,b));else if(b!=null&&b!==""){var v;(v=p.element(c,void 0,p.sanitize(y)))&&(m=v,p.text(v,p._decodeText(p.sanitize(b))))}else m=p.element(c,void 0,p.sanitize(y))||m}}else if(s.isString(b)){var g=b.indexOf(" "),x=g===-1?b:b.substr(0,g),S=g===-1?"":b.substr(g+1);m=p.instruction(c,p.sanitize(x),p.sanitize(S))||m}else s.isArray(b)||s.isSet(b)?s.forEachArray(b,function(C){var w=C.indexOf(" "),T=w===-1?C:C.substr(0,w),_=w===-1?"":C.substr(w+1);m=p.instruction(c,p.sanitize(T),p.sanitize(_))||m},p):s.forEachObject(b,function(C,w){return m=p.instruction(c,p.sanitize(C),p.sanitize(w))||m},p);else s.isArray(b)||s.isSet(b)?s.forEachArray(b,function(C){return m=p.comment(c,p.sanitize(C))||m},p):m=p.comment(c,p.sanitize(b))||m;else s.isArray(b)||s.isSet(b)?s.forEachArray(b,function(C){return m=p.cdata(c,p.sanitize(C))||m},p):m=p.cdata(c,p.sanitize(b))||m;else m=s.isMap(b)||s.isObject(b)?p.parse(c,b):p.text(c,p._decodeText(p.sanitize(b)))||m;else if(y===h.convert.att){if(s.isArray(b)||s.isSet(b))throw new Error("Invalid attribute: "+b.toString()+". "+c._debugInfo());s.forEachObject(b,function(C,w){m=p.attribute(c,void 0,p.sanitize(C),p._decodeAttributeValue(p.sanitize(w)))||m})}else m=p.attribute(c,void 0,p.sanitize(y.substr(h.convert.att.length)),p._decodeAttributeValue(p.sanitize(b)))||m},this):(h.keepNullNodes||d!=null)&&(m=this.text(c,this._decodeText(this.sanitize(d)))||m),m||c},f}(o(75).BaseReader);r.ObjectReader=u},function(n,r,o){var i=o(39);n.exports=new i({explicit:[o(286),o(287),o(288)]})},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(a){this.level=0,this._builderOptions=a,this._writerOptions=a};r.BaseCBWriter=i},function(n,r,o){var i=o(16),a=o(8),s=o(116);n.exports=!i&&!a(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},function(n,r,o){var i=o(11),a=o(13),s=i.document,u=a(s)&&a(s.createElement);n.exports=function(l){return u?s.createElement(l):{}}},function(n,r,o){var i=o(118),a=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(s){return a.call(s)}),n.exports=i.inspectSource},function(n,r,o){var i=o(11),a=o(80),s=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=s},function(n,r,o){var i=o(14),a=o(187),s=o(55),u=o(15);n.exports=function(l,f){for(var c=a(f),d=u.f,p=s.f,h=0;h<c.length;h++){var m=c[h];i(l,m)||d(l,m,p(f,m))}}},function(n,r,o){var i=o(11);n.exports=i},function(n,r,o){var i=o(14),a=o(24),s=o(122).indexOf,u=o(45);n.exports=function(l,f){var c,d=a(l),p=0,h=[];for(c in d)!i(u,c)&&i(d,c)&&h.push(c);for(;f.length>p;)i(d,c=f[p++])&&(~s(h,c)||h.push(c));return h}},function(n,r,o){var i=o(24),a=o(26),s=o(83),u=function(l){return function(f,c,d){var p,h=i(f),m=a(h.length),y=s(d,m);if(l&&c!=c){for(;m>y;)if((p=h[y++])!=p)return!0}else for(;m>y;y++)if((l||y in h)&&h[y]===c)return l||y||0;return!l&&-1}};n.exports={includes:u(!0),indexOf:u(!1)}},function(n,r,o){var i=o(8),a=/#|\.prototype\./,s=function(d,p){var h=l[u(d)];return h==c||h!=f&&(typeof p=="function"?i(p):!!p)},u=s.normalize=function(d){return String(d).replace(a,".").toLowerCase()},l=s.data={},f=s.NATIVE="N",c=s.POLYFILL="P";n.exports=s},function(n,r,o){var i=o(86);n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(n,r,o){var i=o(5);r.f=i},function(n,r,o){var i=o(120),a=o(14),s=o(125),u=o(15).f;n.exports=function(l){var f=i.Symbol||(i.Symbol={});a(f,l)||u(f,l,{value:s.f(l)})}},function(n,r){n.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},function(n,r,o){var i=o(13),a=o(59),s=o(5)("species");n.exports=function(u,l){var f;return a(u)&&(typeof(f=u.constructor)!="function"||f!==Array&&!a(f.prototype)?i(f)&&(f=f[s])===null&&(f=void 0):f=void 0),new(f===void 0?Array:f)(l===0?0:l)}},function(n,r,o){var i,a,s=o(11),u=o(193),l=s.process,f=l&&l.versions,c=f&&f.v8;c?a=(i=c.split("."))[0]+i[1]:u&&(!(i=u.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=u.match(/Chrome\/(\d+)/))&&(a=i[1]),n.exports=a&&+a},function(n,r,o){var i=o(5),a=o(60),s=o(15),u=i("unscopables"),l=Array.prototype;l[u]==null&&s.f(l,u,{configurable:!0,value:a(null)}),n.exports=function(f){l[u][f]=!0}},function(n,r,o){var i,a,s,u=o(132),l=o(21),f=o(14),c=o(5),d=o(44),p=c("iterator"),h=!1;[].keys&&("next"in(s=[].keys())?(a=u(u(s)))!==Object.prototype&&(i=a):h=!0),i==null&&(i={}),d||f(i,p)||l(i,p,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},function(n,r,o){var i=o(14),a=o(27),s=o(57),u=o(196),l=s("IE_PROTO"),f=Object.prototype;n.exports=u?Object.getPrototypeOf:function(c){return c=a(c),i(c,l)?c[l]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?f:null}},function(n,r,o){var i=o(18),a=o(197);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,u=!1,l={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(l,[]),u=l instanceof Array}catch(f){}return function(f,c){return i(f),a(c),u?s.call(f,c):f.__proto__=c,f}}():void 0)},function(n,r,o){var i=o(56),a=o(15),s=o(40);n.exports=function(u,l,f){var c=i(l);c in u?a.f(u,c,s(0,f)):u[c]=f}},function(n,r,o){var i=o(90),a=o(42),s=o(5)("toStringTag"),u=a(function(){return arguments}())=="Arguments";n.exports=i?a:function(l){var f,c,d;return l===void 0?"Undefined":l===null?"Null":typeof(c=function(p,h){try{return p[h]}catch(m){}}(f=Object(l),s))=="string"?c:u?a(f):(d=a(f))=="Object"&&typeof f.callee=="function"?"Arguments":d}},function(n,r,o){var i=o(18);n.exports=function(){var a=i(this),s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),a.dotAll&&(s+="s"),a.unicode&&(s+="u"),a.sticky&&(s+="y"),s}},function(n,r,o){var i=o(47),a=o(35),s=function(u){return function(l,f){var c,d,p=String(a(l)),h=i(f),m=p.length;return h<0||h>=m?u?"":void 0:(c=p.charCodeAt(h))<55296||c>56319||h+1===m||(d=p.charCodeAt(h+1))<56320||d>57343?u?p.charAt(h):c:u?p.slice(h,h+2):d-56320+(c-55296<<10)+65536}};n.exports={codeAt:s(!1),charAt:s(!0)}},function(n,r,o){var i=o(4),a=o(27),s=o(61);i({target:"Object",stat:!0,forced:o(8)(function(){s(1)})},{keys:function(u){return s(a(u))}})},function(n,r,o){var i=o(4),a=o(11),s=o(123),u=o(25),l=o(140),f=o(141),c=o(142),d=o(13),p=o(8),h=o(208),m=o(62),y=o(209);n.exports=function(b,v,g){var x=b.indexOf("Map")!==-1,S=b.indexOf("Weak")!==-1,C=x?"set":"add",w=a[b],T=w&&w.prototype,_=w,A={},E=function(H){var R=T[H];u(T,H,H=="add"?function(B){return R.call(this,B===0?0:B),this}:H=="delete"?function(B){return!(S&&!d(B))&&R.call(this,B===0?0:B)}:H=="get"?function(B){return S&&!d(B)?void 0:R.call(this,B===0?0:B)}:H=="has"?function(B){return!(S&&!d(B))&&R.call(this,B===0?0:B)}:function(B,M){return R.call(this,B===0?0:B,M),this})};if(s(b,typeof w!="function"||!(S||T.forEach&&!p(function(){new w().entries().next()}))))_=g.getConstructor(v,b,x,C),l.REQUIRED=!0;else if(s(b,!0)){var D=new _,O=D[C](S?{}:-0,1)!=D,P=p(function(){D.has(1)}),k=h(function(H){new w(H)}),U=!S&&p(function(){for(var H=new w,R=5;R--;)H[C](R,R);return!H.has(-0)});k||((_=v(function(H,R){c(H,_,b);var B=y(new w,H,_);return R!=null&&f(R,B[C],B,x),B})).prototype=T,T.constructor=_),(P||U)&&(E("delete"),E("has"),x&&E("get")),(U||O)&&E(C),S&&T.clear&&delete T.clear}return A[b]=_,i({global:!0,forced:_!=w},A),m(_,b),S||g.setStrong(_,b,x),_}},function(n,r,o){var i=o(45),a=o(13),s=o(14),u=o(15).f,l=o(58),f=o(204),c=l("meta"),d=0,p=Object.isExtensible||function(){return!0},h=function(y){u(y,c,{value:{objectID:"O"+ ++d,weakData:{}}})},m=n.exports={REQUIRED:!1,fastKey:function(y,b){if(!a(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!s(y,c)){if(!p(y))return"F";if(!b)return"E";h(y)}return y[c].objectID},getWeakData:function(y,b){if(!s(y,c)){if(!p(y))return!0;if(!b)return!1;h(y)}return y[c].weakData},onFreeze:function(y){return f&&m.REQUIRED&&p(y)&&!s(y,c)&&h(y),y}};i[c]=!0},function(n,r,o){var i=o(18),a=o(205),s=o(26),u=o(87),l=o(206),f=o(207),c=function(d,p){this.stopped=d,this.result=p};(n.exports=function(d,p,h,m,y){var b,v,g,x,S,C,w,T=u(p,h,m?2:1);if(y)b=d;else{if(typeof(v=l(d))!="function")throw TypeError("Target is not iterable");if(a(v)){for(g=0,x=s(d.length);x>g;g++)if((S=m?T(i(w=d[g])[0],w[1]):T(d[g]))&&S instanceof c)return S;return new c(!1)}b=v.call(d)}for(C=b.next;!(w=C.call(b)).done;)if(typeof(S=f(b,T,w.value,m))=="object"&&S&&S instanceof c)return S;return new c(!1)}).stop=function(d){return new c(!0,d)}},function(n,r){n.exports=function(o,i,a){if(!(o instanceof i))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return o}},function(n,r,o){var i=o(15).f,a=o(60),s=o(210),u=o(87),l=o(142),f=o(141),c=o(88),d=o(211),p=o(16),h=o(140).fastKey,m=o(43),y=m.set,b=m.getterFor;n.exports={getConstructor:function(v,g,x,S){var C=v(function(A,E){l(A,C,g),y(A,{type:g,index:a(null),first:void 0,last:void 0,size:0}),p||(A.size=0),E!=null&&f(E,A[S],A,x)}),w=b(g),T=function(A,E,D){var O,P,k=w(A),U=_(A,E);return U?U.value=D:(k.last=U={index:P=h(E,!0),key:E,value:D,previous:O=k.last,next:void 0,removed:!1},k.first||(k.first=U),O&&(O.next=U),p?k.size++:A.size++,P!=="F"&&(k.index[P]=U)),A},_=function(A,E){var D,O=w(A),P=h(E);if(P!=="F")return O.index[P];for(D=O.first;D;D=D.next)if(D.key==E)return D};return s(C.prototype,{clear:function(){for(var A=w(this),E=A.index,D=A.first;D;)D.removed=!0,D.previous&&(D.previous=D.previous.next=void 0),delete E[D.index],D=D.next;A.first=A.last=void 0,p?A.size=0:this.size=0},delete:function(A){var E=w(this),D=_(this,A);if(D){var O=D.next,P=D.previous;delete E.index[D.index],D.removed=!0,P&&(P.next=O),O&&(O.previous=P),E.first==D&&(E.first=O),E.last==D&&(E.last=P),p?E.size--:this.size--}return!!D},forEach:function(A){for(var E,D=w(this),O=u(A,arguments.length>1?arguments[1]:void 0,3);E=E?E.next:D.first;)for(O(E.value,E.key,this);E&&E.removed;)E=E.previous},has:function(A){return!!_(this,A)}}),s(C.prototype,x?{get:function(A){var E=_(this,A);return E&&E.value},set:function(A,E){return T(this,A===0?0:A,E)}}:{add:function(A){return T(this,A=A===0?0:A,A)}}),p&&i(C.prototype,"size",{get:function(){return w(this).size}}),C},setStrong:function(v,g,x){var S=g+" Iterator",C=b(g),w=b(S);c(v,g,function(T,_){y(this,{type:S,target:T,state:C(T),kind:_,last:void 0})},function(){for(var T=w(this),_=T.kind,A=T.last;A&&A.removed;)A=A.previous;return T.target&&(T.last=A=A?A.next:T.state.first)?_=="keys"?{value:A.key,done:!1}:_=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:(T.target=void 0,{value:void 0,done:!0})},x?"entries":"values",!x,!0),d(g)}}},function(n,r,o){var i,a=o(4),s=o(55).f,u=o(26),l=o(222),f=o(35),c=o(224),d=o(44),p="".endsWith,h=Math.min,m=c("endsWith");a({target:"String",proto:!0,forced:!!(d||m||(i=s(String.prototype,"endsWith"),!i||i.writable))&&!m},{endsWith:function(y){var b=String(f(this));l(y);var v=arguments.length>1?arguments[1]:void 0,g=u(b.length),x=v===void 0?g:h(u(v),g),S=String(y);return p?p.call(b,S,x):b.slice(x-S.length,x)===S}})},function(n,r,o){(function(i){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var a=o(229),s=o(230),u=o(231);function l(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(F,I){if(l()<I)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(F=new Uint8Array(I)).__proto__=c.prototype:(F===null&&(F=new c(I)),F.length=I),F}function c(F,I,j){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(F,I,j);if(typeof F=="number"){if(typeof I=="string")throw new Error("If encoding is specified then the first argument must be a string");return h(this,F)}return d(this,F,I,j)}function d(F,I,j,N){if(typeof I=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&I instanceof ArrayBuffer?function(L,G,W,Y){if(G.byteLength,W<0||G.byteLength<W)throw new RangeError("'offset' is out of bounds");if(G.byteLength<W+(Y||0))throw new RangeError("'length' is out of bounds");return G=W===void 0&&Y===void 0?new Uint8Array(G):Y===void 0?new Uint8Array(G,W):new Uint8Array(G,W,Y),c.TYPED_ARRAY_SUPPORT?(L=G).__proto__=c.prototype:L=m(L,G),L}(F,I,j,N):typeof I=="string"?function(L,G,W){if(typeof W=="string"&&W!==""||(W="utf8"),!c.isEncoding(W))throw new TypeError('"encoding" must be a valid string encoding');var Y=0|b(G,W),ee=(L=f(L,Y)).write(G,W);return ee!==Y&&(L=L.slice(0,ee)),L}(F,I,j):function(L,G){if(c.isBuffer(G)){var W=0|y(G.length);return(L=f(L,W)).length===0||G.copy(L,0,0,W),L}if(G){if(typeof ArrayBuffer<"u"&&G.buffer instanceof ArrayBuffer||"length"in G)return typeof G.length!="number"||(Y=G.length)!=Y?f(L,0):m(L,G);if(G.type==="Buffer"&&u(G.data))return m(L,G.data)}var Y;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(F,I)}function p(F){if(typeof F!="number")throw new TypeError('"size" argument must be a number');if(F<0)throw new RangeError('"size" argument must not be negative')}function h(F,I){if(p(I),F=f(F,I<0?0:0|y(I)),!c.TYPED_ARRAY_SUPPORT)for(var j=0;j<I;++j)F[j]=0;return F}function m(F,I){var j=I.length<0?0:0|y(I.length);F=f(F,j);for(var N=0;N<j;N+=1)F[N]=255&I[N];return F}function y(F){if(F>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|F}function b(F,I){if(c.isBuffer(F))return F.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(F)||F instanceof ArrayBuffer))return F.byteLength;typeof F!="string"&&(F=""+F);var j=F.length;if(j===0)return 0;for(var N=!1;;)switch(I){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return ae(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return ue(F).length;default:if(N)return ae(F).length;I=(""+I).toLowerCase(),N=!0}}function v(F,I,j){var N=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(I>>>=0))return"";for(F||(F="utf8");;)switch(F){case"hex":return U(this,I,j);case"utf8":case"utf-8":return O(this,I,j);case"ascii":return P(this,I,j);case"latin1":case"binary":return k(this,I,j);case"base64":return D(this,I,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,I,j);default:if(N)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),N=!0}}function g(F,I,j){var N=F[I];F[I]=F[j],F[j]=N}function x(F,I,j,N,L){if(F.length===0)return-1;if(typeof j=="string"?(N=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,isNaN(j)&&(j=L?0:F.length-1),j<0&&(j=F.length+j),j>=F.length){if(L)return-1;j=F.length-1}else if(j<0){if(!L)return-1;j=0}if(typeof I=="string"&&(I=c.from(I,N)),c.isBuffer(I))return I.length===0?-1:S(F,I,j,N,L);if(typeof I=="number")return I&=255,c.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(F,I,j):Uint8Array.prototype.lastIndexOf.call(F,I,j):S(F,[I],j,N,L);throw new TypeError("val must be string, number or Buffer")}function S(F,I,j,N,L){var G,W=1,Y=F.length,ee=I.length;if(N!==void 0&&((N=String(N).toLowerCase())==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(F.length<2||I.length<2)return-1;W=2,Y/=2,ee/=2,j/=2}function oe(me,ge){return W===1?me[ge]:me.readUInt16BE(ge*W)}if(L){var le=-1;for(G=j;G<Y;G++)if(oe(F,G)===oe(I,le===-1?0:G-le)){if(le===-1&&(le=G),G-le+1===ee)return le*W}else le!==-1&&(G-=G-le),le=-1}else for(j+ee>Y&&(j=Y-ee),G=j;G>=0;G--){for(var pe=!0,ce=0;ce<ee;ce++)if(oe(F,G+ce)!==oe(I,ce)){pe=!1;break}if(pe)return G}return-1}function C(F,I,j,N){j=Number(j)||0;var L=F.length-j;N?(N=Number(N))>L&&(N=L):N=L;var G=I.length;if(G%2!=0)throw new TypeError("Invalid hex string");N>G/2&&(N=G/2);for(var W=0;W<N;++W){var Y=parseInt(I.substr(2*W,2),16);if(isNaN(Y))return W;F[j+W]=Y}return W}function w(F,I,j,N){return ie(ae(I,F.length-j),F,j,N)}function T(F,I,j,N){return ie(function(L){for(var G=[],W=0;W<L.length;++W)G.push(255&L.charCodeAt(W));return G}(I),F,j,N)}function _(F,I,j,N){return T(F,I,j,N)}function A(F,I,j,N){return ie(ue(I),F,j,N)}function E(F,I,j,N){return ie(function(L,G){for(var W,Y,ee,oe=[],le=0;le<L.length&&!((G-=2)<0);++le)W=L.charCodeAt(le),Y=W>>8,ee=W%256,oe.push(ee),oe.push(Y);return oe}(I,F.length-j),F,j,N)}function D(F,I,j){return I===0&&j===F.length?a.fromByteArray(F):a.fromByteArray(F.slice(I,j))}function O(F,I,j){j=Math.min(F.length,j);for(var N=[],L=I;L<j;){var G,W,Y,ee,oe=F[L],le=null,pe=oe>239?4:oe>223?3:oe>191?2:1;if(L+pe<=j)switch(pe){case 1:oe<128&&(le=oe);break;case 2:(192&(G=F[L+1]))==128&&(ee=(31&oe)<<6|63&G)>127&&(le=ee);break;case 3:G=F[L+1],W=F[L+2],(192&G)==128&&(192&W)==128&&(ee=(15&oe)<<12|(63&G)<<6|63&W)>2047&&(ee<55296||ee>57343)&&(le=ee);break;case 4:G=F[L+1],W=F[L+2],Y=F[L+3],(192&G)==128&&(192&W)==128&&(192&Y)==128&&(ee=(15&oe)<<18|(63&G)<<12|(63&W)<<6|63&Y)>65535&&ee<1114112&&(le=ee)}le===null?(le=65533,pe=1):le>65535&&(le-=65536,N.push(le>>>10&1023|55296),le=56320|1023&le),N.push(le),L+=pe}return function(ce){var me=ce.length;if(me<=4096)return String.fromCharCode.apply(String,ce);for(var ge="",de=0;de<me;)ge+=String.fromCharCode.apply(String,ce.slice(de,de+=4096));return ge}(N)}r.Buffer=c,r.SlowBuffer=function(F){return+F!=F&&(F=0),c.alloc(+F)},r.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=i.TYPED_ARRAY_SUPPORT!==void 0?i.TYPED_ARRAY_SUPPORT:function(){try{var F=new Uint8Array(1);return F.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},F.foo()===42&&typeof F.subarray=="function"&&F.subarray(1,1).byteLength===0}catch(I){return!1}}(),r.kMaxLength=l(),c.poolSize=8192,c._augment=function(F){return F.__proto__=c.prototype,F},c.from=function(F,I,j){return d(null,F,I,j)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(F,I,j){return function(N,L,G,W){return p(L),L<=0?f(N,L):G!==void 0?typeof W=="string"?f(N,L).fill(G,W):f(N,L).fill(G):f(N,L)}(null,F,I,j)},c.allocUnsafe=function(F){return h(null,F)},c.allocUnsafeSlow=function(F){return h(null,F)},c.isBuffer=function(F){return!(F==null||!F._isBuffer)},c.compare=function(F,I){if(!c.isBuffer(F)||!c.isBuffer(I))throw new TypeError("Arguments must be Buffers");if(F===I)return 0;for(var j=F.length,N=I.length,L=0,G=Math.min(j,N);L<G;++L)if(F[L]!==I[L]){j=F[L],N=I[L];break}return j<N?-1:N<j?1:0},c.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(F,I){if(!u(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return c.alloc(0);var j;if(I===void 0)for(I=0,j=0;j<F.length;++j)I+=F[j].length;var N=c.allocUnsafe(I),L=0;for(j=0;j<F.length;++j){var G=F[j];if(!c.isBuffer(G))throw new TypeError('"list" argument must be an Array of Buffers');G.copy(N,L),L+=G.length}return N},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var F=this.length;if(F%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<F;I+=2)g(this,I,I+1);return this},c.prototype.swap32=function(){var F=this.length;if(F%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<F;I+=4)g(this,I,I+3),g(this,I+1,I+2);return this},c.prototype.swap64=function(){var F=this.length;if(F%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<F;I+=8)g(this,I,I+7),g(this,I+1,I+6),g(this,I+2,I+5),g(this,I+3,I+4);return this},c.prototype.toString=function(){var F=0|this.length;return F===0?"":arguments.length===0?O(this,0,F):v.apply(this,arguments)},c.prototype.equals=function(F){if(!c.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F||c.compare(this,F)===0},c.prototype.inspect=function(){var F="",I=r.INSPECT_MAX_BYTES;return this.length>0&&(F=this.toString("hex",0,I).match(/.{2}/g).join(" "),this.length>I&&(F+=" ... ")),"<Buffer "+F+">"},c.prototype.compare=function(F,I,j,N,L){if(!c.isBuffer(F))throw new TypeError("Argument must be a Buffer");if(I===void 0&&(I=0),j===void 0&&(j=F?F.length:0),N===void 0&&(N=0),L===void 0&&(L=this.length),I<0||j>F.length||N<0||L>this.length)throw new RangeError("out of range index");if(N>=L&&I>=j)return 0;if(N>=L)return-1;if(I>=j)return 1;if(this===F)return 0;for(var G=(L>>>=0)-(N>>>=0),W=(j>>>=0)-(I>>>=0),Y=Math.min(G,W),ee=this.slice(N,L),oe=F.slice(I,j),le=0;le<Y;++le)if(ee[le]!==oe[le]){G=ee[le],W=oe[le];break}return G<W?-1:W<G?1:0},c.prototype.includes=function(F,I,j){return this.indexOf(F,I,j)!==-1},c.prototype.indexOf=function(F,I,j){return x(this,F,I,j,!0)},c.prototype.lastIndexOf=function(F,I,j){return x(this,F,I,j,!1)},c.prototype.write=function(F,I,j,N){if(I===void 0)N="utf8",j=this.length,I=0;else if(j===void 0&&typeof I=="string")N=I,j=this.length,I=0;else{if(!isFinite(I))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");I|=0,isFinite(j)?(j|=0,N===void 0&&(N="utf8")):(N=j,j=void 0)}var L=this.length-I;if((j===void 0||j>L)&&(j=L),F.length>0&&(j<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var G=!1;;)switch(N){case"hex":return C(this,F,I,j);case"utf8":case"utf-8":return w(this,F,I,j);case"ascii":return T(this,F,I,j);case"latin1":case"binary":return _(this,F,I,j);case"base64":return A(this,F,I,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,F,I,j);default:if(G)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),G=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(F,I,j){var N="";j=Math.min(F.length,j);for(var L=I;L<j;++L)N+=String.fromCharCode(127&F[L]);return N}function k(F,I,j){var N="";j=Math.min(F.length,j);for(var L=I;L<j;++L)N+=String.fromCharCode(F[L]);return N}function U(F,I,j){var N=F.length;(!I||I<0)&&(I=0),(!j||j<0||j>N)&&(j=N);for(var L="",G=I;G<j;++G)L+=te(F[G]);return L}function H(F,I,j){for(var N=F.slice(I,j),L="",G=0;G<N.length;G+=2)L+=String.fromCharCode(N[G]+256*N[G+1]);return L}function R(F,I,j){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(F+I>j)throw new RangeError("Trying to access beyond buffer length")}function B(F,I,j,N,L,G){if(!c.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>L||I<G)throw new RangeError('"value" argument is out of bounds');if(j+N>F.length)throw new RangeError("Index out of range")}function M(F,I,j,N){I<0&&(I=65535+I+1);for(var L=0,G=Math.min(F.length-j,2);L<G;++L)F[j+L]=(I&255<<8*(N?L:1-L))>>>8*(N?L:1-L)}function z(F,I,j,N){I<0&&(I=4294967295+I+1);for(var L=0,G=Math.min(F.length-j,4);L<G;++L)F[j+L]=I>>>8*(N?L:3-L)&255}function $(F,I,j,N,L,G){if(j+N>F.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function J(F,I,j,N,L){return L||$(F,0,j,4),s.write(F,I,j,N,23,4),j+4}function Z(F,I,j,N,L){return L||$(F,0,j,8),s.write(F,I,j,N,52,8),j+8}c.prototype.slice=function(F,I){var j,N=this.length;if((F=~~F)<0?(F+=N)<0&&(F=0):F>N&&(F=N),(I=I===void 0?N:~~I)<0?(I+=N)<0&&(I=0):I>N&&(I=N),I<F&&(I=F),c.TYPED_ARRAY_SUPPORT)(j=this.subarray(F,I)).__proto__=c.prototype;else{var L=I-F;j=new c(L,void 0);for(var G=0;G<L;++G)j[G]=this[G+F]}return j},c.prototype.readUIntLE=function(F,I,j){F|=0,I|=0,j||R(F,I,this.length);for(var N=this[F],L=1,G=0;++G<I&&(L*=256);)N+=this[F+G]*L;return N},c.prototype.readUIntBE=function(F,I,j){F|=0,I|=0,j||R(F,I,this.length);for(var N=this[F+--I],L=1;I>0&&(L*=256);)N+=this[F+--I]*L;return N},c.prototype.readUInt8=function(F,I){return I||R(F,1,this.length),this[F]},c.prototype.readUInt16LE=function(F,I){return I||R(F,2,this.length),this[F]|this[F+1]<<8},c.prototype.readUInt16BE=function(F,I){return I||R(F,2,this.length),this[F]<<8|this[F+1]},c.prototype.readUInt32LE=function(F,I){return I||R(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+16777216*this[F+3]},c.prototype.readUInt32BE=function(F,I){return I||R(F,4,this.length),16777216*this[F]+(this[F+1]<<16|this[F+2]<<8|this[F+3])},c.prototype.readIntLE=function(F,I,j){F|=0,I|=0,j||R(F,I,this.length);for(var N=this[F],L=1,G=0;++G<I&&(L*=256);)N+=this[F+G]*L;return N>=(L*=128)&&(N-=Math.pow(2,8*I)),N},c.prototype.readIntBE=function(F,I,j){F|=0,I|=0,j||R(F,I,this.length);for(var N=I,L=1,G=this[F+--N];N>0&&(L*=256);)G+=this[F+--N]*L;return G>=(L*=128)&&(G-=Math.pow(2,8*I)),G},c.prototype.readInt8=function(F,I){return I||R(F,1,this.length),128&this[F]?-1*(255-this[F]+1):this[F]},c.prototype.readInt16LE=function(F,I){I||R(F,2,this.length);var j=this[F]|this[F+1]<<8;return 32768&j?4294901760|j:j},c.prototype.readInt16BE=function(F,I){I||R(F,2,this.length);var j=this[F+1]|this[F]<<8;return 32768&j?4294901760|j:j},c.prototype.readInt32LE=function(F,I){return I||R(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},c.prototype.readInt32BE=function(F,I){return I||R(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},c.prototype.readFloatLE=function(F,I){return I||R(F,4,this.length),s.read(this,F,!0,23,4)},c.prototype.readFloatBE=function(F,I){return I||R(F,4,this.length),s.read(this,F,!1,23,4)},c.prototype.readDoubleLE=function(F,I){return I||R(F,8,this.length),s.read(this,F,!0,52,8)},c.prototype.readDoubleBE=function(F,I){return I||R(F,8,this.length),s.read(this,F,!1,52,8)},c.prototype.writeUIntLE=function(F,I,j,N){F=+F,I|=0,j|=0,N||B(this,F,I,j,Math.pow(2,8*j)-1,0);var L=1,G=0;for(this[I]=255&F;++G<j&&(L*=256);)this[I+G]=F/L&255;return I+j},c.prototype.writeUIntBE=function(F,I,j,N){F=+F,I|=0,j|=0,N||B(this,F,I,j,Math.pow(2,8*j)-1,0);var L=j-1,G=1;for(this[I+L]=255&F;--L>=0&&(G*=256);)this[I+L]=F/G&255;return I+j},c.prototype.writeUInt8=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,1,255,0),c.TYPED_ARRAY_SUPPORT||(F=Math.floor(F)),this[I]=255&F,I+1},c.prototype.writeUInt16LE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[I]=255&F,this[I+1]=F>>>8):M(this,F,I,!0),I+2},c.prototype.writeUInt16BE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[I]=F>>>8,this[I+1]=255&F):M(this,F,I,!1),I+2},c.prototype.writeUInt32LE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[I+3]=F>>>24,this[I+2]=F>>>16,this[I+1]=F>>>8,this[I]=255&F):z(this,F,I,!0),I+4},c.prototype.writeUInt32BE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[I]=F>>>24,this[I+1]=F>>>16,this[I+2]=F>>>8,this[I+3]=255&F):z(this,F,I,!1),I+4},c.prototype.writeIntLE=function(F,I,j,N){if(F=+F,I|=0,!N){var L=Math.pow(2,8*j-1);B(this,F,I,j,L-1,-L)}var G=0,W=1,Y=0;for(this[I]=255&F;++G<j&&(W*=256);)F<0&&Y===0&&this[I+G-1]!==0&&(Y=1),this[I+G]=(F/W>>0)-Y&255;return I+j},c.prototype.writeIntBE=function(F,I,j,N){if(F=+F,I|=0,!N){var L=Math.pow(2,8*j-1);B(this,F,I,j,L-1,-L)}var G=j-1,W=1,Y=0;for(this[I+G]=255&F;--G>=0&&(W*=256);)F<0&&Y===0&&this[I+G+1]!==0&&(Y=1),this[I+G]=(F/W>>0)-Y&255;return I+j},c.prototype.writeInt8=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,1,127,-128),c.TYPED_ARRAY_SUPPORT||(F=Math.floor(F)),F<0&&(F=255+F+1),this[I]=255&F,I+1},c.prototype.writeInt16LE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[I]=255&F,this[I+1]=F>>>8):M(this,F,I,!0),I+2},c.prototype.writeInt16BE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[I]=F>>>8,this[I+1]=255&F):M(this,F,I,!1),I+2},c.prototype.writeInt32LE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[I]=255&F,this[I+1]=F>>>8,this[I+2]=F>>>16,this[I+3]=F>>>24):z(this,F,I,!0),I+4},c.prototype.writeInt32BE=function(F,I,j){return F=+F,I|=0,j||B(this,F,I,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),c.TYPED_ARRAY_SUPPORT?(this[I]=F>>>24,this[I+1]=F>>>16,this[I+2]=F>>>8,this[I+3]=255&F):z(this,F,I,!1),I+4},c.prototype.writeFloatLE=function(F,I,j){return J(this,F,I,!0,j)},c.prototype.writeFloatBE=function(F,I,j){return J(this,F,I,!1,j)},c.prototype.writeDoubleLE=function(F,I,j){return Z(this,F,I,!0,j)},c.prototype.writeDoubleBE=function(F,I,j){return Z(this,F,I,!1,j)},c.prototype.copy=function(F,I,j,N){if(j||(j=0),N||N===0||(N=this.length),I>=F.length&&(I=F.length),I||(I=0),N>0&&N<j&&(N=j),N===j||F.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("sourceStart out of bounds");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),F.length-I<N-j&&(N=F.length-I+j);var L,G=N-j;if(this===F&&j<I&&I<N)for(L=G-1;L>=0;--L)F[L+I]=this[L+j];else if(G<1e3||!c.TYPED_ARRAY_SUPPORT)for(L=0;L<G;++L)F[L+I]=this[L+j];else Uint8Array.prototype.set.call(F,this.subarray(j,j+G),I);return G},c.prototype.fill=function(F,I,j,N){if(typeof F=="string"){if(typeof I=="string"?(N=I,I=0,j=this.length):typeof j=="string"&&(N=j,j=this.length),F.length===1){var L=F.charCodeAt(0);L<256&&(F=L)}if(N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!c.isEncoding(N))throw new TypeError("Unknown encoding: "+N)}else typeof F=="number"&&(F&=255);if(I<0||this.length<I||this.length<j)throw new RangeError("Out of range index");if(j<=I)return this;var G;if(I>>>=0,j=j===void 0?this.length:j>>>0,F||(F=0),typeof F=="number")for(G=I;G<j;++G)this[G]=F;else{var W=c.isBuffer(F)?F:ae(new c(F,N).toString()),Y=W.length;for(G=0;G<j-I;++G)this[G+I]=W[G%Y]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function te(F){return F<16?"0"+F.toString(16):F.toString(16)}function ae(F,I){var j;I=I||1/0;for(var N=F.length,L=null,G=[],W=0;W<N;++W){if((j=F.charCodeAt(W))>55295&&j<57344){if(!L){if(j>56319){(I-=3)>-1&&G.push(239,191,189);continue}if(W+1===N){(I-=3)>-1&&G.push(239,191,189);continue}L=j;continue}if(j<56320){(I-=3)>-1&&G.push(239,191,189),L=j;continue}j=65536+(L-55296<<10|j-56320)}else L&&(I-=3)>-1&&G.push(239,191,189);if(L=null,j<128){if((I-=1)<0)break;G.push(j)}else if(j<2048){if((I-=2)<0)break;G.push(j>>6|192,63&j|128)}else if(j<65536){if((I-=3)<0)break;G.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;G.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return G}function ue(F){return a.toByteArray(function(I){if((I=function(j){return j.trim?j.trim():j.replace(/^\s+|\s+$/g,"")}(I).replace(X,"")).length<2)return"";for(;I.length%4!=0;)I+="=";return I}(F))}function ie(F,I,j,N){for(var L=0;L<N&&!(L+j>=I.length||L>=F.length);++L)I[L+j]=F[L];return L}}).call(this,o(78))},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.isASCIIByte=function(i){return i>=0&&i<=127}},function(n,r,o){var i=this&&this.__read||function(s,u){var l=typeof Symbol=="function"&&s[Symbol.iterator];if(!l)return s;var f,c,d=l.call(s),p=[];try{for(;(u===void 0||u-- >0)&&!(f=d.next()).done;)p.push(f.value)}catch(h){c={error:h}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(c)throw c.error}}return p},a=this&&this.__spread||function(){for(var s=[],u=0;u<arguments.length;u++)s=s.concat(i(arguments[u]));return s};Object.defineProperty(r,"__esModule",{value:!0}),r.length=function(s){return s.length},r.byteLowercase=function(s){for(var u=0;u<s.length;u++){var l=s[u];l>=65&&l<=90&&(s[u]=l+32)}},r.byteUppercase=function(s){for(var u=0;u<s.length;u++){var l=s[u];l>=97&&l<=122&&(s[u]=l-32)}},r.byteCaseInsensitiveMatch=function(s,u){if(s.length!==u.length)return!1;for(var l=0;l<s.length;l++){var f=s[l],c=u[l];if(f>=65&&f<=90&&(f+=32),c>=65&&c<=90&&(c+=32),f!==c)return!1}return!0},r.startsWith=function(s,u){for(var l=0;;){if(l>=s.length)return!1;if(l>=u.length)return!0;if(s[l]!==u[l])return!1;l++}},r.byteLessThan=function(s,u){for(var l=0;;){if(l>=s.length)return!1;if(l>=u.length)return!0;var f=s[l],c=u[l];if(f<c)return!0;if(f>c)return!1;l++}},r.isomorphicDecode=function(s){return String.fromCodePoint.apply(String,a(s))}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(6),a=o(7),s=o(0),u=o(12),l=function(){function f(c){this._associatedDocument=c||i.dom.window.document}return f.prototype.createDocumentType=function(c,d,p){return s.namespace_validate(c),s.create_documentType(this._associatedDocument,c,d,p)},f.prototype.createDocument=function(c,d,p){p===void 0&&(p=null);var h=s.create_xmlDocument(),m=null;return d&&(m=s.document_internalCreateElementNS(h,c,d)),p&&h.appendChild(p),m&&h.appendChild(m),h._origin=this._associatedDocument._origin,c===a.namespace.HTML?h._contentType="application/xhtml+xml":c===a.namespace.SVG?h._contentType="image/svg+xml":h._contentType="application/xml",h},f.prototype.createHTMLDocument=function(c){var d=s.create_document();d._type="html",d._contentType="text/html",d.appendChild(s.create_documentType(d,"html","",""));var p=s.element_createAnElement(d,"html",a.namespace.HTML);d.appendChild(p);var h=s.element_createAnElement(d,"head",a.namespace.HTML);if(p.appendChild(h),c!==void 0){var m=s.element_createAnElement(d,"title",a.namespace.HTML);h.appendChild(m);var y=s.create_text(d,c);m.appendChild(y)}var b=s.element_createAnElement(d,"body",a.namespace.HTML);return p.appendChild(b),d._origin=this._associatedDocument._origin,d},f.prototype.hasFeature=function(){return!0},f._create=function(c){return new f(c)},f}();r.DOMImplementationImpl=l,u.idl_defineConst(l.prototype,"_ID","@oozcitak/dom")},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(70),u=o(1),l=o(0),f=function(c){function d(){var p=c.call(this)||this;return p._signalSlots=new Set,p._mutationObserverMicrotaskQueued=!1,p._mutationObservers=new Set,p._iteratorList=new u.FixedSizeSet,p._associatedDocument=l.create_document(),p}return a(d,c),Object.defineProperty(d.prototype,"document",{get:function(){return this._associatedDocument},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"event",{get:function(){return this._currentEvent},enumerable:!0,configurable:!0}),d._create=function(){return new d},d}(s.EventTargetImpl);r.WindowImpl=f},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(2),a=function(){function s(){}return s.isNode=function(u){return!!u&&u._nodeType!==void 0},s.isDocumentNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Document},s.isDocumentTypeNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.DocumentType},s.isDocumentFragmentNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.DocumentFragment},s.isAttrNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Attribute},s.isCharacterDataNode=function(u){if(!s.isNode(u))return!1;var l=u._nodeType;return l===i.NodeType.Text||l===i.NodeType.ProcessingInstruction||l===i.NodeType.Comment||l===i.NodeType.CData},s.isTextNode=function(u){return s.isNode(u)&&(u._nodeType===i.NodeType.Text||u._nodeType===i.NodeType.CData)},s.isExclusiveTextNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Text},s.isCDATASectionNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.CData},s.isCommentNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Comment},s.isProcessingInstructionNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.ProcessingInstruction},s.isElementNode=function(u){return s.isNode(u)&&u._nodeType===i.NodeType.Element},s.isCustomElementNode=function(u){return s.isElementNode(u)&&u._customElementState==="custom"},s.isShadowRoot=function(u){return!!u&&u.host!==void 0},s.isMouseEvent=function(u){return!!u&&u.screenX!==void 0&&u.screenY!=null},s.isSlotable=function(u){return!!u&&u._name!==void 0&&u._assignedSlot!==void 0&&(s.isTextNode(u)||s.isElementNode(u))},s.isSlot=function(u){return!!u&&u._name!==void 0&&u._assignedNodes!==void 0&&s.isElementNode(u)},s.isWindow=function(u){return!!u&&u.navigator!==void 0},s.isEventListener=function(u){return!!u&&u.handleEvent!==void 0},s.isRegisteredObserver=function(u){return!!u&&u.observer!==void 0&&u.options!==void 0},s.isTransientRegisteredObserver=function(u){return!!u&&u.source!==void 0&&s.isRegisteredObserver(u)},s}();r.Guard=a},function(n,r,o){var i,a=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var s=function(u){function l(){return u.call(this)||this}return a(l,u),l}(o(98).DocumentImpl);r.XMLDocumentImpl=s},function(n,r,o){var i=this&&this.__values||function(N){var L=typeof Symbol=="function"&&Symbol.iterator,G=L&&N[L],W=0;if(G)return G.call(N);if(N&&typeof N.length=="number")return{next:function(){return N&&W>=N.length&&(N=void 0),{value:N&&N[W++],done:!N}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(N,L){var G=typeof Symbol=="function"&&N[Symbol.iterator];if(!G)return N;var W,Y,ee=G.call(N),oe=[];try{for(;(L===void 0||L-- >0)&&!(W=ee.next()).done;)oe.push(W.value)}catch(le){Y={error:le}}finally{try{W&&!W.done&&(G=ee.return)&&G.call(ee)}finally{if(Y)throw Y.error}}return oe};Object.defineProperty(r,"__esModule",{value:!0});var s,u=o(1),l=o(243),f=o(7),c=o(244),d={ftp:21,file:null,http:80,https:443,ws:80,wss:443},p=/[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,h=/[ "<>`]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,m=/[ "<>`#?{}]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,y=/[ "<>`#?{}/:;=@\[\]\\\^\|]|[\0-\x1F\x7F-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b=/[0-9A-Za-z!\$&-\/:;=\?@_~\xA0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uD83E\uD840-\uD87E\uD880-\uD8BE\uD8C0-\uD8FE\uD900-\uD93E\uD940-\uD97E\uD980-\uD9BE\uD9C0-\uD9FE\uDA00-\uDA3E\uDA40-\uDA7E\uDA80-\uDABE\uDAC0-\uDAFE\uDB00-\uDB3E\uDB40-\uDB7E\uDB80-\uDBBE\uDBC0-\uDBFE][\uDC00-\uDFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDC00-\uDFFD]/,v=/[\0\t\f\r #%/:?@\[\\\]]/;function g(N){s!==void 0&&s.call(null,"Validation Error: "+N)}function x(){return{scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null}}function S(N){return N in d}function C(N){return S(N.scheme)}function w(N){return d[N]||null}function T(N){return N.username!==""||N.password!==""}function _(N,L){var G,W;L===void 0&&(L=!1);var Y=N.scheme+":";if(N.host!==null?(Y+="//",T(N)&&(Y+=N.username,N.password!==""&&(Y+=":"+N.password),Y+="@"),Y+=A(N.host),N.port!==null&&(Y+=":"+N.port)):N.host===null&&N.scheme==="file"&&(Y+="//"),N._cannotBeABaseURLFlag)Y+=N.path[0];else try{for(var ee=i(N.path),oe=ee.next();!oe.done;oe=ee.next())Y+="/"+oe.value}catch(le){G={error:le}}finally{try{oe&&!oe.done&&(W=ee.return)&&W.call(ee)}finally{if(G)throw G.error}}return N.query!==null&&(Y+="?"+N.query),L||N.fragment===null||(Y+="#"+N.fragment),Y}function A(N){return u.isNumber(N)?E(N):u.isArray(N)?"["+D(N)+"]":N}function E(N){for(var L="",G=N,W=1;W<=4;W++)L=(G%256).toString()+L,W!==4&&(L="."+L),G=Math.floor(G/256);return L}function D(N){for(var L="",G=null,W=-1,Y=0,ee=0,oe=0;oe<8;oe++)if(N[oe]===0){Y=1;for(var le=oe+1;le<8&&N[le]===0;le++)Y++;Y>ee&&(ee=Y,W=oe)}ee>1&&(G=W);for(var pe=!1,ce=0;ce<8;ce++)pe&&N[ce]===0||(pe&&(pe=!1),G!==ce?(L+=N[ce].toString(16),ce!==7&&(L+=":")):(L+=ce===0?"::":":",pe=!0));return L}function O(N,L,G,W,Y){var ee,oe,le,pe;if(W===void 0){W={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,_cannotBeABaseURLFlag:!1,_blobURLEntry:null};var ce=/^[\u0000-\u001F\u0020]+/,me=/[\u0000-\u001F\u0020]+$/;(ce.test(N)||me.test(N))&&g("Input string contains leading or trailing control characters or space."),N=(N=N.replace(ce,"")).replace(me,"")}var ge=/[\u0009\u000A\u000D]/g;ge.test(N)&&g("Input string contains tab or newline characters."),N=N.replace(ge,"");var de=Y===void 0?l.ParserState.SchemeStart:Y;L===void 0&&(L=null);for(var Ee=G===void 0||G==="replacement"||G==="UTF-16BE"||G==="UTF-16LE"?"UTF-8":G,K="",Te=!1,we=!1,Se=!1,se=new u.StringWalker(N);;){switch(de){case l.ParserState.SchemeStart:if(f.codePoint.ASCIIAlpha.test(se.c()))K+=se.c().toLowerCase(),de=l.ParserState.Scheme;else{if(Y!==void 0)return g("Invalid scheme start character."),null;de=l.ParserState.NoScheme,se.pointer--}break;case l.ParserState.Scheme:if(f.codePoint.ASCIIAlphanumeric.test(se.c())||se.c()==="+"||se.c()==="-"||se.c()===".")K+=se.c().toLowerCase();else{if(se.c()!==":"){if(Y===void 0){K="",de=l.ParserState.NoScheme,se.pointer=0;continue}return g("Invalid input string."),null}if(Y!==void 0&&(S(W.scheme)&&!S(K)||!S(W.scheme)&&S(K)||(T(W)||W.port!==null)&&K==="file"||W.scheme==="file"&&(W.host===""||W.host===null)))return W;if(W.scheme=K,Y!==void 0)return W.port===w(W.scheme)&&(W.port=null),W;K="",W.scheme==="file"?(se.remaining().startsWith("//")||g("Invalid file URL scheme, '//' expected."),de=l.ParserState.File):C(W)&&L!==null&&L.scheme===W.scheme?de=l.ParserState.SpecialRelativeOrAuthority:C(W)?de=l.ParserState.SpecialAuthoritySlashes:se.remaining().startsWith("/")?(de=l.ParserState.PathOrAuthority,se.pointer++):(W._cannotBeABaseURLFlag=!0,W.path.push(""),de=l.ParserState.CannotBeABaseURLPath)}break;case l.ParserState.NoScheme:if(L===null||L._cannotBeABaseURLFlag&&se.c()!=="#")return g("Invalid input string."),null;L._cannotBeABaseURLFlag&&se.c()==="#"?(W.scheme=L.scheme,W.path=f.list.clone(L.path),W.query=L.query,W.fragment="",W._cannotBeABaseURLFlag=!0,de=l.ParserState.Fragment):L.scheme!=="file"?(de=l.ParserState.Relative,se.pointer--):(de=l.ParserState.File,se.pointer--);break;case l.ParserState.SpecialRelativeOrAuthority:se.c()==="/"&&se.remaining().startsWith("/")?(de=l.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer++):(g("Invalid input string."),de=l.ParserState.Relative,se.pointer--);break;case l.ParserState.PathOrAuthority:se.c()==="/"?de=l.ParserState.Authority:(de=l.ParserState.Path,se.pointer--);break;case l.ParserState.Relative:if(L===null)throw new Error("Invalid parser state. Base URL is null.");switch(W.scheme=L.scheme,se.c()){case"":W.username=L.username,W.password=L.password,W.host=L.host,W.port=L.port,W.path=f.list.clone(L.path),W.query=L.query;break;case"/":de=l.ParserState.RelativeSlash;break;case"?":W.username=L.username,W.password=L.password,W.host=L.host,W.port=L.port,W.path=f.list.clone(L.path),W.query="",de=l.ParserState.Query;break;case"#":W.username=L.username,W.password=L.password,W.host=L.host,W.port=L.port,W.path=f.list.clone(L.path),W.query=L.query,W.fragment="",de=l.ParserState.Fragment;break;default:C(W)&&se.c()==="\\"?(g("Invalid input string."),de=l.ParserState.RelativeSlash):(W.username=L.username,W.password=L.password,W.host=L.host,W.port=L.port,W.path=f.list.clone(L.path),W.path.length!==0&&W.path.splice(W.path.length-1,1),de=l.ParserState.Path,se.pointer--)}break;case l.ParserState.RelativeSlash:if(!C(W)||se.c()!=="/"&&se.c()!=="\\")if(se.c()==="/")de=l.ParserState.Authority;else{if(L===null)throw new Error("Invalid parser state. Base URL is null.");W.username=L.username,W.password=L.password,W.host=L.host,W.port=L.port,de=l.ParserState.Path,se.pointer--}else se.c()==="\\"&&g("Invalid input string."),de=l.ParserState.SpecialAuthorityIgnoreSlashes;break;case l.ParserState.SpecialAuthoritySlashes:se.c()==="/"&&se.remaining().startsWith("/")?(de=l.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer++):(g("Expected '//'."),de=l.ParserState.SpecialAuthorityIgnoreSlashes,se.pointer--);break;case l.ParserState.SpecialAuthorityIgnoreSlashes:se.c()!=="/"&&se.c()!=="\\"?(de=l.ParserState.Authority,se.pointer--):g("Unexpected '/' or '\\'.");break;case l.ParserState.Authority:if(se.c()==="@"){g("Unexpected '@'."),Te&&(K="%40"+K),Te=!0;try{for(var he=(ee=void 0,i(K)),be=he.next();!be.done;be=he.next()){var ye=be.value;if(ye!==":"||Se){var Ne=ie(ye,y);Se?W.password+=Ne:W.username+=Ne}else Se=!0}}catch(vr){ee={error:vr}}finally{try{be&&!be.done&&(oe=he.return)&&oe.call(he)}finally{if(ee)throw ee.error}}K=""}else if(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(W)&&se.c()==="\\"){if(Te&&K==="")return g("Invalid input string."),null;se.pointer-=K.length+1,K="",de=l.ParserState.Host}else K+=se.c();break;case l.ParserState.Host:case l.ParserState.Hostname:if(Y!==void 0&&W.scheme==="file")se.pointer--,de=l.ParserState.FileHost;else if(se.c()!==":"||we)if(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(W)&&se.c()==="\\"){if(se.pointer--,C(W)&&K==="")return g("Invalid input string."),null;if(Y!==void 0&&K===""&&(T(W)||W.port!==null))return g("Invalid input string."),W;if((Pe=M(K,!C(W)))===null)return null;if(W.host=Pe,K="",de=l.ParserState.PathStart,Y!==void 0)return W}else se.c()==="["&&(we=!0),se.c()==="]"&&(we=!1),K+=se.c();else{if(K==="")return g("Invalid input string."),null;if((Pe=M(K,!C(W)))===null)return null;if(W.host=Pe,K="",de=l.ParserState.Port,Y===l.ParserState.Hostname)return W}break;case l.ParserState.Port:if(f.codePoint.ASCIIDigit.test(se.c()))K+=se.c();else{if(!(se.c()===""||se.c()==="/"||se.c()==="?"||se.c()==="#"||C(W)&&se.c()==="\\"||Y))return g("Invalid input string."),null;if(K!==""&&K!==""){var ke=parseInt(K,10);if(ke>Math.pow(2,16)-1)return g("Invalid port number."),null;W.port=ke===w(W.scheme)?null:ke,K=""}if(Y!==void 0)return W;de=l.ParserState.PathStart,se.pointer--}break;case l.ParserState.File:if(W.scheme="file",se.c()==="/"||se.c()==="\\")se.c()==="\\"&&g("Invalid input string."),de=l.ParserState.FileSlash;else if(L!==null&&L.scheme==="file")switch(se.c()){case"":W.host=L.host,W.path=f.list.clone(L.path),W.query=L.query;break;case"?":W.host=L.host,W.path=f.list.clone(L.path),W.query="",de=l.ParserState.Query;break;case"#":W.host=L.host,W.path=f.list.clone(L.path),W.query=L.query,W.fragment="",de=l.ParserState.Fragment;break;default:B(se.substring())?g("Unexpected windows drive letter in input string."):(W.host=L.host,W.path=f.list.clone(L.path),U(W)),de=l.ParserState.Path,se.pointer--}else de=l.ParserState.Path,se.pointer--;break;case l.ParserState.FileSlash:se.c()==="/"||se.c()==="\\"?(se.c()==="\\"&&g("Invalid input string."),de=l.ParserState.FileHost):(L===null||L.scheme!=="file"||B(se.substring())||(H(L.path[0])?W.path.push(L.path[0]):W.host=L.host),de=l.ParserState.Path,se.pointer--);break;case l.ParserState.FileHost:if(se.c()===""||se.c()==="/"||se.c()==="\\"||se.c()==="?"||se.c()==="#")if(se.pointer--,Y===void 0&&R(K))g("Unexpected windows drive letter in input string."),de=l.ParserState.Path;else if(K===""){if(W.host="",Y!==void 0)return W;de=l.ParserState.PathStart}else{var Pe;if((Pe=M(K,!C(W)))===null)return null;if(Pe==="localhost"&&(Pe=""),W.host=Pe,Y!==void 0)return W;K="",de=l.ParserState.PathStart}else K+=se.c();break;case l.ParserState.PathStart:C(W)?(se.c()==="\\"&&g("Invalid input string."),de=l.ParserState.Path,se.c()!=="/"&&se.c()!=="\\"&&se.pointer--):Y===void 0&&se.c()==="?"?(W.query="",de=l.ParserState.Query):Y===void 0&&se.c()==="#"?(W.fragment="",de=l.ParserState.Fragment):se.c()!==""&&(de=l.ParserState.Path,se.c()!=="/"&&se.pointer--);break;case l.ParserState.Path:if(se.c()===""||se.c()==="/"||C(W)&&se.c()==="\\"||Y===void 0&&(se.c()==="?"||se.c()==="#")){if(C(W)&&se.c()==="\\"&&g("Invalid input string."),k(K))U(W),se.c()==="/"||C(W)&&se.c()==="\\"||W.path.push("");else if(!P(K)||se.c()==="/"||C(W)&&se.c()==="\\"){if(!P(K)){if(W.scheme==="file"&&W.path.length===0&&R(K)){W.host!==null&&W.host!==""&&(g("Invalid input string."),W.host="");var qe=Array.from(K);K=qe.slice(0,1)+":"+qe.slice(2)}W.path.push(K)}}else W.path.push("");if(K="",W.scheme==="file"&&(se.c()===""||se.c()==="?"||se.c()==="#"))for(;W.path.length>1&&W.path[0]==="";)g("Invalid input string."),W.path.splice(0,1);se.c()==="?"&&(W.query="",de=l.ParserState.Query),se.c()==="#"&&(W.fragment="",de=l.ParserState.Fragment)}else b.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),K+=ie(se.c(),m);break;case l.ParserState.CannotBeABaseURLPath:se.c()==="?"?(W.query="",de=l.ParserState.Query):se.c()==="#"?(W.fragment="",de=l.ParserState.Fragment):(se.c()===""||b.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),se.c()!==""&&(W.path[0]+=ie(se.c(),p)));break;case l.ParserState.Query:if(Ee==="UTF-8"||C(W)&&W.scheme!=="ws"&&W.scheme!=="wss"||(Ee="UTF-8"),Y===void 0&&se.c()==="#")W.fragment="",de=l.ParserState.Fragment;else if(se.c()!==""){if(b.test(se.c())||se.c()==="%"||g("Character is not a URL code point or a percent encoded character."),se.c()!=="%"||/^[0-9a-fA-F][0-9a-fA-F]/.test(se.remaining())||g("Percent encoded character must be followed by two hex digits."),Ee.toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var nt=u.utf8Encode(se.c());if(nt.length>=3&&nt[0]===38&&nt[1]===35&&nt[nt.length-1]===59)nt=nt.subarray(2,nt.length-1),W.query+="%26%23"+f.byteSequence.isomorphicDecode(nt)+"%3B";else try{for(var fn=(le=void 0,i(nt)),kn=fn.next();!kn.done;kn=fn.next()){var Rt=kn.value;Rt<33||Rt>126||Rt===34||Rt===35||Rt===60||Rt===62||Rt===39&&C(W)?W.query+=te(Rt):W.query+=String.fromCharCode(Rt)}}catch(vr){le={error:vr}}finally{try{kn&&!kn.done&&(pe=fn.return)&&pe.call(fn)}finally{if(le)throw le.error}}}break;case l.ParserState.Fragment:se.c()===""||(se.c()==="\0"?g("NULL character in input string."):(b.test(se.c())||se.c()==="%"||g("Unexpected character in fragment string."),se.c()!=="%"||/^[A-Za-z0-9][A-Za-z0-9]/.test(se.remaining())||g("Unexpected character in fragment string."),W.fragment+=ie(se.c(),h)))}if(se.eof)break;se.pointer++}return W}function P(N){return N==="."||N.toLowerCase()==="%2e"}function k(N){var L=N.toLowerCase();return L===".."||L===".%2e"||L==="%2e."||L==="%2e%2e"}function U(N){var L=N.path;L.length!==0&&(N.scheme==="file"&&L.length===1&&H(L[0])||N.path.splice(N.path.length-1,1))}function H(N){return N.length>=2&&f.codePoint.ASCIIAlpha.test(N[0])&&N[1]===":"}function R(N){return N.length>=2&&f.codePoint.ASCIIAlpha.test(N[0])&&(N[1]===":"||N[1]==="|")}function B(N){return N.length>=2&&R(N)&&(N.length===2||N[2]==="/"||N[2]==="\\"||N[2]==="?"||N[2]==="#")}function M(N,L){if(L===void 0&&(L=!1),N.startsWith("["))return N.endsWith("]")?J(N.substring(1,N.length-1)):(g("Expected ']' after '['."),null);if(L)return Z(N);var G=j(u.utf8Decode(ue(N)));if(G===null||v.test(G))return g("Invalid domain."),null;var W=$(G);return W===null||u.isNumber(W)?W:G}function z(N,L){L===void 0&&(L={value:!1});var G=10;return N.startsWith("0x")||N.startsWith("0X")?(L.value=!0,N=N.substr(2),G=16):N.length>=2&&N[0]==="0"&&(L.value=!0,N=N.substr(1),G=8),N===""?0:(G===10?/^[0-9]+$/:G===16?/^[0-9A-Fa-f]+$/:/^[0-7]+$/).test(N)?parseInt(N,G):null}function $(N){var L,G,W,Y,ee={value:!1},oe=N.split(".");if(oe[oe.length-1]===""&&(ee.value=!0,oe.length>1&&oe.pop()),oe.length>4)return N;var le=[];try{for(var pe=i(oe),ce=pe.next();!ce.done;ce=pe.next()){var me=ce.value;if(me===""||(we=z(me,ee))===null)return N;le.push(we)}}catch(Se){L={error:Se}}finally{try{ce&&!ce.done&&(G=pe.return)&&G.call(pe)}finally{if(L)throw L.error}}ee.value&&g("Invalid IP v4 address.");for(var ge=0;ge<le.length;ge++)if(le[ge]>255&&(g("Invalid IP v4 address."),ge<le.length-1))return null;if(le[le.length-1]>=Math.pow(256,5-le.length))return g("Invalid IP v4 address."),null;var de=le[le.length-1];le.pop();var Ee=0;try{for(var K=i(le),Te=K.next();!Te.done;Te=K.next()){var we;de+=(we=Te.value)*Math.pow(256,3-Ee),Ee++}}catch(Se){W={error:Se}}finally{try{Te&&!Te.done&&(Y=K.return)&&Y.call(K)}finally{if(W)throw W.error}}return de}function J(N){var L,G=[0,0,0,0,0,0,0,0],W=0,Y=null,ee=new u.StringWalker(N);if(ee.c()===":"){if(!ee.remaining().startsWith(":"))return g("Invalid IP v6 address."),null;ee.pointer+=2,Y=W+=1}for(;ee.c()!=="";){if(W===8)return g("Invalid IP v6 address."),null;if(ee.c()!==":"){for(var oe=0,le=0;le<4&&f.codePoint.ASCIIHexDigit.test(ee.c());)oe=16*oe+parseInt(ee.c(),16),ee.pointer++,le++;if(ee.c()==="."){if(le===0||(ee.pointer-=le,W>6))return g("Invalid IP v6 address."),null;for(var pe=0;ee.c()!=="";){var ce=null;if(pe>0){if(!(ee.c()==="."&&pe<4))return g("Invalid IP v6 address."),null;ee.pointer++}if(!f.codePoint.ASCIIDigit.test(ee.c()))return g("Invalid IP v6 address."),null;for(;f.codePoint.ASCIIDigit.test(ee.c());){var me=parseInt(ee.c(),10);if(ce===null)ce=me;else{if(ce===0)return g("Invalid IP v6 address."),null;ce=10*ce+me}if(ce>255)return g("Invalid IP v6 address."),null;ee.pointer++}if(ce===null)return g("Invalid IP v6 address."),null;G[W]=256*G[W]+ce,++pe!==2&&pe!==4||W++}if(pe!==4)return g("Invalid IP v6 address."),null;break}if(ee.c()===":"){if(ee.pointer++,ee.c()==="")return g("Invalid IP v6 address."),null}else if(ee.c()!=="")return g("Invalid IP v6 address."),null;G[W]=oe,W++}else{if(Y!==null)return g("Invalid IP v6 address."),null;ee.pointer++,Y=++W}}if(Y!==null){var ge=W-Y;for(W=7;W!==0&&ge>0;)L=a([G[Y+ge-1],G[W]],2),G[W]=L[0],G[Y+ge-1]=L[1],W--,ge--}else if(Y===null&&W!==8)return g("Invalid IP v6 address."),null;return G}function Z(N){var L,G;if(/[\x00\t\f\r #/:?@\[\\\]]/.test(N))return g("Invalid host string."),null;var W="";try{for(var Y=i(N),ee=Y.next();!ee.done;ee=Y.next())W+=ie(ee.value,p)}catch(oe){L={error:oe}}finally{try{ee&&!ee.done&&(G=Y.return)&&G.call(Y)}finally{if(L)throw L.error}}return W}function X(N){return null}function te(N){return"%"+("00"+N.toString(16).toUpperCase()).slice(-2)}function ae(N){for(var L=function(le){return le>=48&&le<=57||le>=65&&le<=70||le>=97&&le<=102},G=new Uint8Array(N.length),W=0,Y=0;Y<N.length;Y++){var ee=N[Y];if(ee!==37)G[W]=ee,W++;else if(ee===37&&Y>=N.length-2)G[W]=ee,W++;else if(ee!==37||L(N[Y+1])&&L(N[Y+2])){var oe=parseInt(u.utf8Decode(Uint8Array.of(N[Y+1],N[Y+2])),16);G[W]=oe,W++,Y+=2}else G[W]=ee,W++}return G.subarray(0,W)}function ue(N){return ae(u.utf8Encode(N))}function ie(N,L){var G,W;if(!L.test(N))return N;var Y=u.utf8Encode(N),ee="";try{for(var oe=i(Y),le=oe.next();!le.done;le=oe.next())ee+=te(le.value)}catch(pe){G={error:pe}}finally{try{le&&!le.done&&(W=oe.return)&&W.call(oe)}finally{if(G)throw G.error}}return ee}function F(N){var L,G,W,Y,ee=[],oe=[];try{for(var le=i(N),pe=le.next();!pe.done;pe=le.next()){var ce=pe.value;ce===38?(ee.push(Uint8Array.from(oe)),oe=[]):oe.push(ce)}}catch(be){L={error:be}}finally{try{pe&&!pe.done&&(G=le.return)&&G.call(le)}finally{if(L)throw L.error}}oe.length!==0&&ee.push(Uint8Array.from(oe));var me=[];try{for(var ge=i(ee),de=ge.next();!de.done;de=ge.next()){var Ee=de.value;if(Ee.length!==0){for(var K=Ee.indexOf(61),Te=K!==-1?Ee.slice(0,K):Ee,we=K!==-1?Ee.slice(K+1):new Uint8Array,Se=0;Se<Te.length;Se++)Te[Se]===43&&(Te[Se]=32);for(Se=0;Se<we.length;Se++)we[Se]===43&&(we[Se]=32);var se=u.utf8Decode(Te),he=u.utf8Decode(we);me.push([se,he])}}}catch(be){W={error:be}}finally{try{de&&!de.done&&(Y=ge.return)&&Y.call(ge)}finally{if(W)throw W.error}}return me}function I(N){var L,G,W="";try{for(var Y=i(N),ee=Y.next();!ee.done;ee=Y.next()){var oe=ee.value;W+=oe===32?"+":oe===42||oe===45||oe===46||oe>=48&&oe<=57||oe>=65&&oe<=90||oe===95||oe>=97&&oe<=122?String.fromCodePoint(oe):te(oe)}}catch(le){L={error:le}}finally{try{ee&&!ee.done&&(G=Y.return)&&G.call(Y)}finally{if(L)throw L.error}}return W}function j(N,L){var G=c.domainToASCII(N);return G===""?(g("Invalid domain name."),null):G}r.setValidationErrorCallback=function(N){s=N},r.newURL=x,r.isSpecialScheme=S,r.isSpecial=C,r.defaultPort=w,r.includesCredentials=T,r.cannotHaveAUsernamePasswordPort=function(N){return N.host===null||N.host===""||N._cannotBeABaseURLFlag||N.scheme==="file"},r.urlSerializer=_,r.hostSerializer=A,r.iPv4Serializer=E,r.iPv6Serializer=D,r.urlParser=function(N,L,G){var W=O(N,L,G);return W===null?null:(W.scheme!=="blob"||(W._blobURLEntry=null),W)},r.basicURLParser=O,r.setTheUsername=function(N,L){var G,W,Y="";try{for(var ee=i(L),oe=ee.next();!oe.done;oe=ee.next())Y+=ie(oe.value,y)}catch(le){G={error:le}}finally{try{oe&&!oe.done&&(W=ee.return)&&W.call(ee)}finally{if(G)throw G.error}}N.username=Y},r.setThePassword=function(N,L){var G,W,Y="";try{for(var ee=i(L),oe=ee.next();!oe.done;oe=ee.next())Y+=ie(oe.value,y)}catch(le){G={error:le}}finally{try{oe&&!oe.done&&(W=ee.return)&&W.call(ee)}finally{if(G)throw G.error}}N.password=Y},r.isSingleDotPathSegment=P,r.isDoubleDotPathSegment=k,r.shorten=U,r.isNormalizedWindowsDriveLetter=H,r.isWindowsDriveLetter=R,r.startsWithAWindowsDriveLetter=B,r.hostParser=M,r.iPv4NumberParser=z,r.iPv4Parser=$,r.iPv6Parser=J,r.opaqueHostParser=Z,r.resolveABlobURL=X,r.percentEncode=te,r.percentDecode=ae,r.stringPercentDecode=ue,r.utf8PercentEncode=ie,r.hostEquals=function(N,L){return N===L},r.urlEquals=function(N,L,G){return G===void 0&&(G=!1),_(N,G)===_(L,G)},r.urlEncodedStringParser=function(N){return F(u.utf8Encode(N))},r.urlEncodedParser=F,r.urlEncodedByteSerializer=I,r.urlEncodedSerializer=function(N,L){var G,W;if((L===void 0||L==="replacement"||L==="UTF-16BE"||L==="UTF-16LE"?"UTF-8":L).toUpperCase()!=="UTF-8")throw new Error("Only UTF-8 encoding is supported.");var Y="";try{for(var ee=i(N),oe=ee.next();!oe.done;oe=ee.next()){var le=oe.value,pe=I(u.utf8Encode(le[0])),ce=le[1];ce=I(u.utf8Encode(ce)),Y!==""&&(Y+="&"),Y+=pe+"="+ce}}catch(me){G={error:me}}finally{try{oe&&!oe.done&&(W=ee.return)&&W.call(ee)}finally{if(G)throw G.error}}return Y},r.origin=function N(L){switch(L.scheme){case"blob":L._blobURLEntry;var G=O(L.path[0]);return G===null?l.OpaqueOrigin:N(G);case"ftp":case"http":case"https":case"ws":case"wss":return[L.scheme,L.host===null?"":L.host,L.port,null];case"file":default:return l.OpaqueOrigin}},r.domainToASCII=j,r.domainToUnicode=function(N,L){var G=c.domainToUnicode(N);return G===""&&g("Invalid domain name."),G},r.asciiSerializationOfAnOrigin=function(N){if(N[0]===""&&N[1]===""&&N[2]===null&&N[3]===null)return"null";var L=N[0]+"://"+A(N[1]);return N[2]!==null&&(L+=":"+N[2].toString()),L}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=function(){function s(){this._signal=i.create_abortSignal()}return Object.defineProperty(s.prototype,"signal",{get:function(){return this._signal},enumerable:!0,configurable:!0}),s.prototype.abort=function(){i.abort_signalAbort(this._signal)},s}();r.AbortControllerImpl=a},function(n,r,o){var i,a=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])})(f,c)},function(f,c){function d(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(70),u=o(0),l=function(f){function c(){var d=f.call(this)||this;return d._abortedFlag=!1,d._abortAlgorithms=new Set,d}return a(c,f),Object.defineProperty(c.prototype,"aborted",{get:function(){return this._abortedFlag},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"onabort",{get:function(){return u.event_getterEventHandlerIDLAttribute(this,"onabort")},set:function(d){u.event_setterEventHandlerIDLAttribute(this,"onabort",d)},enumerable:!0,configurable:!0}),c._create=function(){return new c},c}(s.EventTargetImpl);r.AbortSignalImpl=l},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(2),u=o(34),l=o(12),f=function(c){function d(p,h,m){var y=c.call(this)||this;return y._name="",y._publicId="",y._systemId="",y._name=p,y._publicId=h,y._systemId=m,y}return a(d,c),Object.defineProperty(d.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"publicId",{get:function(){return this._publicId},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"systemId",{get:function(){return this._systemId},enumerable:!0,configurable:!0}),d.prototype.before=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ChildNode not implemented.")},d.prototype.after=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ChildNode not implemented.")},d.prototype.replaceWith=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];throw new Error("Mixin: ChildNode not implemented.")},d.prototype.remove=function(){throw new Error("Mixin: ChildNode not implemented.")},d._create=function(p,h,m,y){m===void 0&&(m=""),y===void 0&&(y="");var b=new d(h,m,y);return b._nodeDocument=p,b},d}(u.NodeImpl);r.DocumentTypeImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.DocumentType)},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(100),u=o(1),l=o(0),f=function(c){function d(p,h){var m=c.call(this)||this;return m._host=p,m._mode=h,m}return a(d,c),Object.defineProperty(d.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),d.prototype._getTheParent=function(p){return p._composedFlag||u.isEmpty(p._path)||l.tree_rootNode(p._path[0].invocationTarget)!==this?this._host:null},d._create=function(p,h){return new d(h,"closed")},d}(s.DocumentFragmentImpl);r.ShadowRootImpl=f},function(n,r,o){var i,a=this&&this.__extends||(i=function(d,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])})(d,p)},function(d,p){function h(){this.constructor=d}i(d,p),d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(2),u=o(34),l=o(0),f=o(12),c=function(d){function p(h){var m=d.call(this)||this;return m._namespace=null,m._namespacePrefix=null,m._element=null,m._value="",m._localName=h,m}return a(p,d),Object.defineProperty(p.prototype,"ownerElement",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"namespaceURI",{get:function(){return this._namespace},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"prefix",{get:function(){return this._namespacePrefix},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"localName",{get:function(){return this._localName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this._qualifiedName},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return this._value},set:function(h){l.attr_setAnExistingAttributeValue(this,h)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"_qualifiedName",{get:function(){return this._namespacePrefix!==null?this._namespacePrefix+":"+this._localName:this._localName},enumerable:!0,configurable:!0}),p._create=function(h,m){var y=new p(m);return y._nodeDocument=h,y},p}(u.NodeImpl);r.AttrImpl=c,f.idl_defineConst(c.prototype,"_nodeType",s.NodeType.Attribute),f.idl_defineConst(c.prototype,"specified",!0)},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(101),u=o(2),l=o(12),f=function(c){function d(p){return c.call(this,p)||this}return a(d,c),d._create=function(p,h){h===void 0&&(h="");var m=new d(h);return m._nodeDocument=p,m},d}(s.TextImpl);r.CDATASectionImpl=f,l.idl_defineConst(f.prototype,"_nodeType",u.NodeType.CData)},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(2),u=o(71),l=o(12),f=function(c){function d(p){return p===void 0&&(p=""),c.call(this,p)||this}return a(d,c),d._create=function(p,h){h===void 0&&(h="");var m=new d(h);return m._nodeDocument=p,m},d}(u.CharacterDataImpl);r.CommentImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.Comment)},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(2),u=o(71),l=o(12),f=function(c){function d(p,h){var m=c.call(this,h)||this;return m._target=p,m}return a(d,c),Object.defineProperty(d.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),d._create=function(p,h,m){var y=new d(h,m);return y._nodeDocument=p,y},d}(u.CharacterDataImpl);r.ProcessingInstructionImpl=f,l.idl_defineConst(f.prototype,"_nodeType",s.NodeType.ProcessingInstruction)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(7),a=o(0),s=o(3),u=o(1),l=function(){function f(c,d){return this._live=!0,this._root=c,this._filter=d,new Proxy(this,this)}return Object.defineProperty(f.prototype,"length",{get:function(){for(var c=this,d=0,p=a.tree_getFirstDescendantNode(this._root,!1,!1,function(h){return s.Guard.isElementNode(h)&&c._filter(h)});p!==null;)d++,p=a.tree_getNextDescendantNode(this._root,p,!1,!1,function(h){return s.Guard.isElementNode(h)&&c._filter(h)});return d},enumerable:!0,configurable:!0}),f.prototype.item=function(c){for(var d=this,p=0,h=a.tree_getFirstDescendantNode(this._root,!1,!1,function(m){return s.Guard.isElementNode(m)&&d._filter(m)});h!==null;){if(p===c)return h;p++,h=a.tree_getNextDescendantNode(this._root,h,!1,!1,function(m){return s.Guard.isElementNode(m)&&d._filter(m)})}return null},f.prototype.namedItem=function(c){var d=this;if(c==="")return null;for(var p=a.tree_getFirstDescendantNode(this._root,!1,!1,function(y){return s.Guard.isElementNode(y)&&d._filter(y)});p!=null;){if(p._uniqueIdentifier===c)return p;if(p._namespace===i.namespace.HTML)for(var h=0;h<p._attributeList.length;h++){var m=p._attributeList[h];if(m._localName==="name"&&m._namespace===null&&m._namespacePrefix===null&&m._value===c)return p}p=a.tree_getNextDescendantNode(this._root,p,!1,!1,function(y){return s.Guard.isElementNode(y)&&d._filter(y)})}return null},f.prototype[Symbol.iterator]=function(){var c=this._root,d=this._filter,p=a.tree_getFirstDescendantNode(c,!1,!1,function(h){return s.Guard.isElementNode(h)&&d(h)});return{next:function(){if(p===null)return{done:!0,value:null};var h={done:!1,value:p};return p=a.tree_getNextDescendantNode(c,p,!1,!1,function(m){return s.Guard.isElementNode(m)&&d(m)}),h}}},f.prototype.get=function(c,d,p){if(!u.isString(d)||f.reservedNames.indexOf(d)!==-1)return Reflect.get(c,d,p);var h=Number(d);return isNaN(h)?c.namedItem(d)||void 0:c.item(h)||void 0},f.prototype.set=function(c,d,p,h){if(!u.isString(d)||f.reservedNames.indexOf(d)!==-1)return Reflect.set(c,d,p,h);var m=Number(d),y=isNaN(m)?c.namedItem(d)||void 0:c.item(m)||void 0;return!(!y||!y._parent)&&(a.mutation_replace(y,p,y._parent),!0)},f._create=function(c,d){return d===void 0&&(d=function(){return!0}),new f(c,d)},f.reservedNames=["_root","_live","_filter","length","item","namedItem","get","set"],f}();r.HTMLCollectionImpl=l},function(n,r,o){var i=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,d=c&&f[c],p=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(1),u=o(0),l=function(){function f(c){return this._live=!0,this._filter=null,this._length=0,this._root=c,new Proxy(this,this)}return Object.defineProperty(f.prototype,"length",{get:function(){return this._root._children.size},enumerable:!0,configurable:!0}),f.prototype.item=function(c){if(c<0||c>this.length-1)return null;if(c<this.length/2){for(var d=0,p=this._root._firstChild;p!==null&&d!==c;)p=p._nextSibling,d++;return p}for(d=this.length-1,p=this._root._lastChild;p!==null&&d!==c;)p=p._previousSibling,d--;return p},f.prototype.keys=function(){var c;return(c={})[Symbol.iterator]=function(){var d=0;return{next:function(){return d===this.length?{done:!0,value:null}:{done:!1,value:d++}}.bind(this)}}.bind(this),c},f.prototype.values=function(){var c;return(c={})[Symbol.iterator]=function(){var d=this[Symbol.iterator]();return{next:function(){return d.next()}}}.bind(this),c},f.prototype.entries=function(){var c;return(c={})[Symbol.iterator]=function(){var d=this[Symbol.iterator](),p=0;return{next:function(){var h=d.next();return h.done?{done:!0,value:null}:{done:!1,value:[p++,h.value]}}}}.bind(this),c},f.prototype[Symbol.iterator]=function(){return this._root._children[Symbol.iterator]()},f.prototype.forEach=function(c,d){var p,h;d===void 0&&(d=a.dom.window);var m=0;try{for(var y=i(this._root._children),b=y.next();!b.done;b=y.next()){var v=b.value;c.call(d,v,m++,this)}}catch(g){p={error:g}}finally{try{b&&!b.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}},f.prototype.get=function(c,d,p){if(!s.isString(d))return Reflect.get(c,d,p);var h=Number(d);return isNaN(h)?Reflect.get(c,d,p):c.item(h)||void 0},f.prototype.set=function(c,d,p,h){if(!s.isString(d))return Reflect.set(c,d,p,h);var m=Number(d);if(isNaN(m))return Reflect.set(c,d,p,h);var y=c.item(m)||void 0;return!!y&&!!y._parent&&(u.mutation_replace(y,p,y._parent),!0)},f._create=function(c){return new f(c)},f}();r.NodeListImpl=l},function(n,r,o){var i=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&l[f],d=0;if(c)return c.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(1),u=function(){function l(f){return this._live=!1,this._items=[],this._length=0,this._root=f,this._items=[],this._filter=function(c){return!0},new Proxy(this,this)}return Object.defineProperty(l.prototype,"length",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),l.prototype.item=function(f){return f<0||f>this.length-1?null:this._items[f]},l.prototype.keys=function(){var f;return(f={})[Symbol.iterator]=function(){var c=0;return{next:function(){return c===this.length?{done:!0,value:null}:{done:!1,value:c++}}.bind(this)}}.bind(this),f},l.prototype.values=function(){var f;return(f={})[Symbol.iterator]=function(){var c=this[Symbol.iterator]();return{next:function(){return c.next()}}}.bind(this),f},l.prototype.entries=function(){var f;return(f={})[Symbol.iterator]=function(){var c=this[Symbol.iterator](),d=0;return{next:function(){var p=c.next();return p.done?{done:!0,value:null}:{done:!1,value:[d++,p.value]}}}}.bind(this),f},l.prototype[Symbol.iterator]=function(){var f=this._items[Symbol.iterator]();return{next:function(){return f.next()}}},l.prototype.forEach=function(f,c){var d,p;c===void 0&&(c=a.dom.window);var h=0;try{for(var m=i(this._items),y=m.next();!y.done;y=m.next()){var b=y.value;f.call(c,b,h++,this)}}catch(v){d={error:v}}finally{try{y&&!y.done&&(p=m.return)&&p.call(m)}finally{if(d)throw d.error}}},l.prototype.get=function(f,c,d){if(!s.isString(c))return Reflect.get(f,c,d);var p=Number(c);return isNaN(p)?Reflect.get(f,c,d):f._items[p]||void 0},l.prototype.set=function(f,c,d,p){if(!s.isString(c))return Reflect.set(f,c,d,p);var h=Number(c);return isNaN(h)?Reflect.set(f,c,d,p):h>=0&&h<f._items.length&&(f._items[h]=d,!0)},l._create=function(f,c){var d=new l(f);return d._items=c,d},l}();r.NodeListStaticImpl=u},function(n,r,o){var i,a=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])})(f,c)},function(f,c){function d(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(9),u=o(0),l=function(f){function c(d){var p=f.call(this)||this;return p._element=d,Object.setPrototypeOf(p,c.prototype),p}return a(c,f),c.prototype._asArray=function(){return this},c.prototype.item=function(d){return this[d]||null},c.prototype.getNamedItem=function(d){return u.element_getAnAttributeByName(d,this._element)},c.prototype.getNamedItemNS=function(d,p){return u.element_getAnAttributeByNamespaceAndLocalName(d||"",p,this._element)},c.prototype.setNamedItem=function(d){return u.element_setAnAttribute(d,this._element)},c.prototype.setNamedItemNS=function(d){return u.element_setAnAttribute(d,this._element)},c.prototype.removeNamedItem=function(d){var p=u.element_removeAnAttributeByName(d,this._element);if(p===null)throw new s.NotFoundError;return p},c.prototype.removeNamedItemNS=function(d,p){var h=u.element_removeAnAttributeByNamespaceAndLocalName(d||"",p,this._element);if(h===null)throw new s.NotFoundError;return h},c._create=function(d){return new c(d)},c}(Array);r.NamedNodeMapImpl=l},function(n,r,o){var i,a=this&&this.__extends||(i=function(y,b){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,g){v.__proto__=g}||function(v,g){for(var x in g)g.hasOwnProperty(x)&&(v[x]=g[x])})(y,b)},function(y,b){function v(){this.constructor=y}i(y,b),y.prototype=b===null?Object.create(b):(v.prototype=b.prototype,new v)}),s=this&&this.__values||function(y){var b=typeof Symbol=="function"&&Symbol.iterator,v=b&&y[b],g=0;if(v)return v.call(y);if(y&&typeof y.length=="number")return{next:function(){return y&&g>=y.length&&(y=void 0),{value:y&&y[g++],done:!y}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=o(6),l=o(2),f=o(102),c=o(9),d=o(0),p=o(12),h=o(3),m=function(y){function b(){var v=y.call(this)||this,g=u.dom.window._associatedDocument;return v._start=[g,0],v._end=[g,0],u.dom.rangeList.add(v),v}return a(b,y),Object.defineProperty(b.prototype,"commonAncestorContainer",{get:function(){for(var v=this._start[0];!d.tree_isAncestorOf(this._end[0],v,!0);){if(v._parent===null)throw new Error("Parent node  is null.");v=v._parent}return v},enumerable:!0,configurable:!0}),b.prototype.setStart=function(v,g){d.range_setTheStart(this,v,g)},b.prototype.setEnd=function(v,g){d.range_setTheEnd(this,v,g)},b.prototype.setStartBefore=function(v){var g=v._parent;if(g===null)throw new c.InvalidNodeTypeError;d.range_setTheStart(this,g,d.tree_index(v))},b.prototype.setStartAfter=function(v){var g=v._parent;if(g===null)throw new c.InvalidNodeTypeError;d.range_setTheStart(this,g,d.tree_index(v)+1)},b.prototype.setEndBefore=function(v){var g=v._parent;if(g===null)throw new c.InvalidNodeTypeError;d.range_setTheEnd(this,g,d.tree_index(v))},b.prototype.setEndAfter=function(v){var g=v._parent;if(g===null)throw new c.InvalidNodeTypeError;d.range_setTheEnd(this,g,d.tree_index(v)+1)},b.prototype.collapse=function(v){v?this._end=this._start:this._start=this._end},b.prototype.selectNode=function(v){d.range_select(v,this)},b.prototype.selectNodeContents=function(v){if(h.Guard.isDocumentTypeNode(v))throw new c.InvalidNodeTypeError;var g=d.tree_nodeLength(v);this._start=[v,0],this._end=[v,g]},b.prototype.compareBoundaryPoints=function(v,g){if(v!==l.HowToCompare.StartToStart&&v!==l.HowToCompare.StartToEnd&&v!==l.HowToCompare.EndToEnd&&v!==l.HowToCompare.EndToStart)throw new c.NotSupportedError;if(d.range_root(this)!==d.range_root(g))throw new c.WrongDocumentError;var x,S;switch(v){case l.HowToCompare.StartToStart:x=this._start,S=g._start;break;case l.HowToCompare.StartToEnd:x=this._end,S=g._start;break;case l.HowToCompare.EndToEnd:x=this._end,S=g._end;break;case l.HowToCompare.EndToStart:x=this._start,S=g._end;break;default:throw new c.NotSupportedError}var C=d.boundaryPoint_position(x,S);return C===l.BoundaryPosition.Before?-1:C===l.BoundaryPosition.After?1:0},b.prototype.deleteContents=function(){var v,g,x,S;if(!d.range_collapsed(this)){var C=this._startNode,w=this._startOffset,T=this._endNode,_=this._endOffset;if(C===T&&h.Guard.isCharacterDataNode(C))d.characterData_replaceData(C,w,_-w,"");else{var A,E,D=[];try{for(var O=s(d.range_getContainedNodes(this)),P=O.next();!P.done;P=O.next()){var k=(B=P.value)._parent;k!==null&&d.range_isContained(k,this)||D.push(B)}}catch(M){v={error:M}}finally{try{P&&!P.done&&(g=O.return)&&g.call(O)}finally{if(v)throw v.error}}if(d.tree_isAncestorOf(T,C,!0))A=C,E=w;else{for(var U=C;U._parent!==null&&!d.tree_isAncestorOf(T,U._parent,!0);)U=U._parent;if(U._parent===null)throw new Error("Parent node is null.");A=U._parent,E=d.tree_index(U)+1}h.Guard.isCharacterDataNode(C)&&d.characterData_replaceData(C,w,d.tree_nodeLength(C)-w,"");try{for(var H=s(D),R=H.next();!R.done;R=H.next()){var B;(B=R.value)._parent&&d.mutation_remove(B,B._parent)}}catch(M){x={error:M}}finally{try{R&&!R.done&&(S=H.return)&&S.call(H)}finally{if(x)throw x.error}}h.Guard.isCharacterDataNode(T)&&d.characterData_replaceData(T,0,_,""),this._start=[A,E],this._end=[A,E]}}},b.prototype.extractContents=function(){return d.range_extract(this)},b.prototype.cloneContents=function(){return d.range_cloneTheContents(this)},b.prototype.insertNode=function(v){return d.range_insert(v,this)},b.prototype.surroundContents=function(v){var g,x;try{for(var S=s(d.range_getPartiallyContainedNodes(this)),C=S.next();!C.done;C=S.next()){var w=C.value;if(!h.Guard.isTextNode(w))throw new c.InvalidStateError}}catch(_){g={error:_}}finally{try{C&&!C.done&&(x=S.return)&&x.call(S)}finally{if(g)throw g.error}}if(h.Guard.isDocumentNode(v)||h.Guard.isDocumentTypeNode(v)||h.Guard.isDocumentFragmentNode(v))throw new c.InvalidNodeTypeError;var T=d.range_extract(this);v._children.size!==0&&d.mutation_replaceAll(null,v),d.range_insert(v,this),d.mutation_append(T,v),d.range_select(v,this)},b.prototype.cloneRange=function(){return d.create_range(this._start,this._end)},b.prototype.detach=function(){u.dom.rangeList.delete(this)},b.prototype.isPointInRange=function(v,g){if(d.tree_rootNode(v)!==d.range_root(this))return!1;if(h.Guard.isDocumentTypeNode(v))throw new c.InvalidNodeTypeError;if(g>d.tree_nodeLength(v))throw new c.IndexSizeError;var x=[v,g];return d.boundaryPoint_position(x,this._start)!==l.BoundaryPosition.Before&&d.boundaryPoint_position(x,this._end)!==l.BoundaryPosition.After},b.prototype.comparePoint=function(v,g){if(d.tree_rootNode(v)!==d.range_root(this))throw new c.WrongDocumentError;if(h.Guard.isDocumentTypeNode(v))throw new c.InvalidNodeTypeError;if(g>d.tree_nodeLength(v))throw new c.IndexSizeError;var x=[v,g];return d.boundaryPoint_position(x,this._start)===l.BoundaryPosition.Before?-1:d.boundaryPoint_position(x,this._end)===l.BoundaryPosition.After?1:0},b.prototype.intersectsNode=function(v){if(d.tree_rootNode(v)!==d.range_root(this))return!1;var g=v._parent;if(g===null)return!0;var x=d.tree_index(v);return d.boundaryPoint_position([g,x],this._end)===l.BoundaryPosition.Before&&d.boundaryPoint_position([g,x+1],this._start)===l.BoundaryPosition.After},b.prototype.toString=function(){var v,g,x="";if(this._startNode===this._endNode&&h.Guard.isTextNode(this._startNode))return this._startNode._data.substring(this._startOffset,this._endOffset);h.Guard.isTextNode(this._startNode)&&(x+=this._startNode._data.substring(this._startOffset));try{for(var S=s(d.range_getContainedNodes(this)),C=S.next();!C.done;C=S.next()){var w=C.value;h.Guard.isTextNode(w)&&(x+=w._data)}}catch(T){v={error:T}}finally{try{C&&!C.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}return h.Guard.isTextNode(this._endNode)&&(x+=this._endNode._data.substring(0,this._endOffset)),x},b._create=function(v,g){var x=new b;return v&&(x._start=v),g&&(x._end=g),x},b.START_TO_START=0,b.START_TO_END=1,b.END_TO_END=2,b.END_TO_START=3,b}(f.AbstractRangeImpl);r.RangeImpl=m,p.idl_defineConst(m.prototype,"START_TO_START",0),p.idl_defineConst(m.prototype,"START_TO_END",1),p.idl_defineConst(m.prototype,"END_TO_END",2),p.idl_defineConst(m.prototype,"END_TO_START",3)},function(n,r,o){var i,a=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])})(f,c)},function(f,c){function d(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(103),u=o(0),l=function(f){function c(d,p,h){var m=f.call(this,d)||this;return m._iteratorCollection=void 0,m._reference=p,m._pointerBeforeReference=h,u.nodeIterator_iteratorList().add(m),m}return a(c,f),Object.defineProperty(c.prototype,"referenceNode",{get:function(){return this._reference},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"pointerBeforeReferenceNode",{get:function(){return this._pointerBeforeReference},enumerable:!0,configurable:!0}),c.prototype.nextNode=function(){return u.nodeIterator_traverse(this,!0)},c.prototype.previousNode=function(){return u.nodeIterator_traverse(this,!1)},c.prototype.detach=function(){u.nodeIterator_iteratorList().delete(this)},c._create=function(d,p,h){return new c(d,p,h)},c}(s.TraverserImpl);r.NodeIteratorImpl=l},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(2),u=o(103),l=o(0),f=function(c){function d(p,h){var m=c.call(this,p)||this;return m._current=h,m}return a(d,c),Object.defineProperty(d.prototype,"currentNode",{get:function(){return this._current},set:function(p){this._current=p},enumerable:!0,configurable:!0}),d.prototype.parentNode=function(){for(var p=this._current;p!==null&&p!==this._root;)if((p=p._parent)!==null&&l.traversal_filter(this,p)===s.FilterResult.Accept)return this._current=p,p;return null},d.prototype.firstChild=function(){return l.treeWalker_traverseChildren(this,!0)},d.prototype.lastChild=function(){return l.treeWalker_traverseChildren(this,!1)},d.prototype.nextSibling=function(){return l.treeWalker_traverseSiblings(this,!0)},d.prototype.previousNode=function(){for(var p=this._current;p!==this._root;){for(var h=p._previousSibling;h;){p=h;for(var m=l.traversal_filter(this,p);m!==s.FilterResult.Reject&&p._lastChild;)p=p._lastChild,m=l.traversal_filter(this,p);if(m===s.FilterResult.Accept)return this._current=p,p;h=p._previousSibling}if(p===this._root||p._parent===null)return null;if(p=p._parent,l.traversal_filter(this,p)===s.FilterResult.Accept)return this._current=p,p}return null},d.prototype.previousSibling=function(){return l.treeWalker_traverseSiblings(this,!1)},d.prototype.nextNode=function(){for(var p=this._current,h=s.FilterResult.Accept;;){for(;h!==s.FilterResult.Reject&&p._firstChild;)if(p=p._firstChild,(h=l.traversal_filter(this,p))===s.FilterResult.Accept)return this._current=p,p;for(var m=null,y=p;y!==null;){if(y===this._root)return null;if((m=y._nextSibling)!==null){p=m;break}y=y._parent}if((h=l.traversal_filter(this,p))===s.FilterResult.Accept)return this._current=p,p}},d._create=function(p,h){return new d(p,h)},d}(u.TraverserImpl);r.TreeWalkerImpl=f},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(2),a=o(12),s=function(){function u(){}return u.prototype.acceptNode=function(l){return i.FilterResult.Accept},u._create=function(){return new u},u.FILTER_ACCEPT=1,u.FILTER_REJECT=2,u.FILTER_SKIP=3,u.SHOW_ALL=4294967295,u.SHOW_ELEMENT=1,u.SHOW_ATTRIBUTE=2,u.SHOW_TEXT=4,u.SHOW_CDATA_SECTION=8,u.SHOW_ENTITY_REFERENCE=16,u.SHOW_ENTITY=32,u.SHOW_PROCESSING_INSTRUCTION=64,u.SHOW_COMMENT=128,u.SHOW_DOCUMENT=256,u.SHOW_DOCUMENT_TYPE=512,u.SHOW_DOCUMENT_FRAGMENT=1024,u.SHOW_NOTATION=2048,u}();r.NodeFilterImpl=s,a.idl_defineConst(s.prototype,"FILTER_ACCEPT",1),a.idl_defineConst(s.prototype,"FILTER_REJECT",2),a.idl_defineConst(s.prototype,"FILTER_SKIP",3),a.idl_defineConst(s.prototype,"SHOW_ALL",4294967295),a.idl_defineConst(s.prototype,"SHOW_ELEMENT",1),a.idl_defineConst(s.prototype,"SHOW_ATTRIBUTE",2),a.idl_defineConst(s.prototype,"SHOW_TEXT",4),a.idl_defineConst(s.prototype,"SHOW_CDATA_SECTION",8),a.idl_defineConst(s.prototype,"SHOW_ENTITY_REFERENCE",16),a.idl_defineConst(s.prototype,"SHOW_ENTITY",32),a.idl_defineConst(s.prototype,"SHOW_PROCESSING_INSTRUCTION",64),a.idl_defineConst(s.prototype,"SHOW_COMMENT",128),a.idl_defineConst(s.prototype,"SHOW_DOCUMENT",256),a.idl_defineConst(s.prototype,"SHOW_DOCUMENT_TYPE",512),a.idl_defineConst(s.prototype,"SHOW_DOCUMENT_FRAGMENT",1024),a.idl_defineConst(s.prototype,"SHOW_NOTATION",2048)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(s,u,l,f,c,d,p,h,m){this._type=s,this._target=u,this._addedNodes=l,this._removedNodes=f,this._previousSibling=c,this._nextSibling=d,this._attributeName=p,this._attributeNamespace=h,this._oldValue=m}return Object.defineProperty(a.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"addedNodes",{get:function(){return this._addedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"removedNodes",{get:function(){return this._removedNodes},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"previousSibling",{get:function(){return this._previousSibling},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"nextSibling",{get:function(){return this._nextSibling},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"attributeName",{get:function(){return this._attributeName},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"attributeNamespace",{get:function(){return this._attributeNamespace},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"oldValue",{get:function(){return this._oldValue},enumerable:!0,configurable:!0}),a._create=function(s,u,l,f,c,d,p,h,m){return new a(s,u,l,f,c,d,p,h,m)},a}();r.MutationRecordImpl=i},function(n,r,o){var i=this&&this.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&c[d],h=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(9),u=o(7),l=o(0),f=function(){function c(d,p){this._element=d,this._attribute=p,this._tokenSet=new Set;var h=p._localName,m=l.element_getAnAttributeValue(d,h),y=this;this._element._attributeChangeSteps.push(function(b,v,g,x,S){v===y._attribute._localName&&S===null&&(x?y._tokenSet=l.orderedSet_parse(x):y._tokenSet.clear())}),a.dom.features.steps&&l.dom_runAttributeChangeSteps(d,h,m,m,null)}return Object.defineProperty(c.prototype,"length",{get:function(){return this._tokenSet.size},enumerable:!0,configurable:!0}),c.prototype.item=function(d){var p,h,m=0;try{for(var y=i(this._tokenSet),b=y.next();!b.done;b=y.next()){var v=b.value;if(m===d)return v;m++}}catch(g){p={error:g}}finally{try{b&&!b.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}return null},c.prototype.contains=function(d){return this._tokenSet.has(d)},c.prototype.add=function(){for(var d,p,h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];try{for(var y=i(h),b=y.next();!b.done;b=y.next()){var v=b.value;if(v==="")throw new s.SyntaxError("Cannot add an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(v))throw new s.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.add(v)}}catch(g){d={error:g}}finally{try{b&&!b.done&&(p=y.return)&&p.call(y)}finally{if(d)throw d.error}}l.tokenList_updateSteps(this)},c.prototype.remove=function(){for(var d,p,h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];try{for(var y=i(h),b=y.next();!b.done;b=y.next()){var v=b.value;if(v==="")throw new s.SyntaxError("Cannot remove an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(v))throw new s.InvalidCharacterError("Token cannot contain whitespace.");this._tokenSet.delete(v)}}catch(g){d={error:g}}finally{try{b&&!b.done&&(p=y.return)&&p.call(y)}finally{if(d)throw d.error}}l.tokenList_updateSteps(this)},c.prototype.toggle=function(d,p){if(p===void 0&&(p=void 0),d==="")throw new s.SyntaxError("Cannot toggle an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(d))throw new s.InvalidCharacterError("Token cannot contain whitespace.");return this._tokenSet.has(d)?p!==void 0&&p!==!1||(this._tokenSet.delete(d),l.tokenList_updateSteps(this),!1):(p===void 0||p===!0)&&(this._tokenSet.add(d),l.tokenList_updateSteps(this),!0)},c.prototype.replace=function(d,p){if(d===""||p==="")throw new s.SyntaxError("Cannot replace an empty token.");if(u.codePoint.ASCIIWhiteSpace.test(d)||u.codePoint.ASCIIWhiteSpace.test(p))throw new s.InvalidCharacterError("Token cannot contain whitespace.");return!!this._tokenSet.has(d)&&(u.set.replace(this._tokenSet,d,p),l.tokenList_updateSteps(this),!0)},c.prototype.supports=function(d){return l.tokenList_validationSteps(this,d)},Object.defineProperty(c.prototype,"value",{get:function(){return l.tokenList_serializeSteps(this)},set:function(d){l.element_setAnAttributeValue(this._element,this._attribute._localName,d)},enumerable:!0,configurable:!0}),c.prototype[Symbol.iterator]=function(){var d=this._tokenSet[Symbol.iterator]();return{next:function(){return d.next()}}},c._create=function(d,p){return new c(d,p)},c}();r.DOMTokenListImpl=f},function(n,r,o){var i,a=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])})(f,c)},function(f,c){function d(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(104),u=o(0),l=function(f){function c(d,p){var h=f.call(this,d,p)||this;return h._detail=null,h._detail=p&&p.detail||null,h}return a(c,f),Object.defineProperty(c.prototype,"detail",{get:function(){return this._detail},enumerable:!0,configurable:!0}),c.prototype.initCustomEvent=function(d,p,h,m){p===void 0&&(p=!1),h===void 0&&(h=!1),m===void 0&&(m=null),this._dispatchFlag||(u.event_initialize(this,d,p,h),this._detail=m)},c}(s.EventImpl);r.CustomEventImpl=l},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(6),a=o(2),s=o(105),u=o(17);r.nodeIterator_traverse=function(l,f){for(var c=l._reference,d=l._pointerBeforeReference;;){if(f)if(d)d=!1;else{var p=u.tree_getFollowingNode(l._root,c);if(!p)return null;c=p}else if(d){var h=u.tree_getPrecedingNode(l.root,c);if(!h)return null;c=h}else d=!0;if(s.traversal_filter(l,c)===a.FilterResult.Accept)break}return l._reference=c,l._pointerBeforeReference=d,c},r.nodeIterator_iteratorList=function(){return i.dom.window._iteratorList}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(9),a=o(7),s=o(174);function u(l){if(!s.xml_isName(l))throw new i.InvalidCharacterError("Invalid XML name: "+l);if(!s.xml_isQName(l))throw new i.InvalidCharacterError("Invalid XML qualified name: "+l+".")}r.namespace_validate=u,r.namespace_validateAndExtract=function(l,f){l||(l=null),u(f);var c=f.split(":"),d=c.length===2?c[0]:null,p=c.length===2?c[1]:f;if(d&&l===null)throw new i.NamespaceError("Qualified name includes a prefix but the namespace is null.");if(d==="xml"&&l!==a.namespace.XML)throw new i.NamespaceError('Qualified name includes the "xml" prefix but the namespace is not the XML namespace.');if(l!==a.namespace.XMLNS&&(d==="xmlns"||f==="xmlns"))throw new i.NamespaceError('Qualified name includes the "xmlns" prefix but the namespace is not the XMLNS namespace.');if(l===a.namespace.XMLNS&&d!=="xmlns"&&f!=="xmlns")throw new i.NamespaceError('Qualified name does not include the "xmlns" prefix but the namespace is the XMLNS namespace.');return[l,d,p]},r.namespace_extractQName=function(l){u(l);var f=l.split(":");return[f.length===2?f[0]:null,f.length===2?f[1]:l]}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.xml_isName=function(i){for(var a=0;a<i.length;a++){var s=i.charCodeAt(a);if(!(s>=97&&s<=122||s>=65&&s<=90||s===58||s===95||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533)&&(a===0||!(s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256))){if(s>=55296&&s<=56319&&a<i.length-1){var u=i.charCodeAt(a+1);if(u>=56320&&u<=57343&&(a++,(s=1024*(s-55296)+u-56320+65536)>=65536&&s<=983039))continue}return!1}}return!0},r.xml_isQName=function(i){for(var a=!1,s=0;s<i.length;s++){var u=i.charCodeAt(s);if(!(u>=97&&u<=122||u>=65&&u<=90||u===95||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8204&&u<=8205||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533)&&(s===0||!(u===45||u===46||u>=48&&u<=57||u===183||u>=768&&u<=879||u>=8255&&u<=8256))){if(s===0||u!==58){if(u>=55296&&u<=56319&&s<i.length-1){var l=i.charCodeAt(s+1);if(l>=56320&&l<=57343&&(s++,(u=1024*(u-55296)+l-56320+65536)>=65536&&u<=983039))continue}return!1}if(a||s===i.length-1)return!1;a=!0}}return!0},r.xml_isLegalChar=function(i){for(var a=0;a<i.length;a++){var s=i.charCodeAt(a);if(!(s===9||s===10||s===13||s>=32&&s<=55295||s>=57344&&s<=65533)){if(s>=55296&&s<=56319&&a<i.length-1){var u=i.charCodeAt(a+1);if(u>=56320&&u<=57343&&(a++,(s=1024*(s-55296)+u-56320+65536)>=65536&&s<=1114111))continue}return!1}}return!0},r.xml_isPubidChar=function(i){for(var a=0;a<i.length;a++){var s=i.charCodeAt(a);if(!(s>=97&&s<=122||s>=65&&s<=90||s>=39&&s<=59||s===32||s===13||s===10||s>=35&&s<=37||s===33||s===61||s===63||s===64||s===95))return!1}return!0}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(2),a=o(17);r.boundaryPoint_position=function s(u,l){var f=u[0],c=u[1],d=l[0],p=l[1];if(console.assert(a.tree_rootNode(f)===a.tree_rootNode(d),"Boundary points must share the same root node."),f===d)return c===p?i.BoundaryPosition.Equal:c<p?i.BoundaryPosition.Before:i.BoundaryPosition.After;if(a.tree_isFollowing(d,f)){var h=s([d,p],[f,c]);if(h===i.BoundaryPosition.Before)return i.BoundaryPosition.After;if(h===i.BoundaryPosition.After)return i.BoundaryPosition.Before}if(a.tree_isAncestorOf(d,f)){for(var m=d;!a.tree_isChildOf(f,m);)m._parent!==null&&(m=m._parent);if(a.tree_index(m)<c)return i.BoundaryPosition.After}return i.BoundaryPosition.Before}},function(n,r,o){var i=this&&this.__values||function(h){var m=typeof Symbol=="function"&&Symbol.iterator,y=m&&h[m],b=0;if(y)return y.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&b>=h.length&&(h=void 0),{value:h&&h[b++],done:!h}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(3),u=o(7),l=o(29),f=o(108),c=o(30),d=o(37),p=o(52);r.node_stringReplaceAll=function(h,m){var y=null;h!==""&&(y=l.create_text(m._nodeDocument,h)),d.mutation_replaceAll(y,m)},r.node_clone=function h(m,y,b){var v,g,x,S,C;if(y===void 0&&(y=null),b===void 0&&(b=!1),y===null&&(y=m._nodeDocument),s.Guard.isElementNode(m)){C=p.element_createAnElement(y,m._localName,m._namespace,m._namespacePrefix,m._is,!1);try{for(var w=i(m._attributeList),T=w.next();!T.done;T=w.next()){var _=h(T.value,y);p.element_append(_,C)}}catch(k){v={error:k}}finally{try{T&&!T.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}}else if(s.Guard.isDocumentNode(m)){var A=l.create_document();A._encoding=m._encoding,A._contentType=m._contentType,A._URL=m._URL,A._origin=m._origin,A._type=m._type,A._mode=m._mode,C=A}else if(s.Guard.isDocumentTypeNode(m))C=l.create_documentType(y,m._name,m._publicId,m._systemId);else if(s.Guard.isAttrNode(m)){var E=l.create_attr(y,m.localName);E._namespace=m._namespace,E._namespacePrefix=m._namespacePrefix,E._value=m._value,C=E}else C=s.Guard.isExclusiveTextNode(m)?l.create_text(y,m._data):s.Guard.isCDATASectionNode(m)?l.create_cdataSection(y,m._data):s.Guard.isCommentNode(m)?l.create_comment(y,m._data):s.Guard.isProcessingInstructionNode(m)?l.create_processingInstruction(y,m._target,m._data):s.Guard.isDocumentFragmentNode(m)?l.create_documentFragment(y):Object.create(m);if(s.Guard.isDocumentNode(C)?(C._nodeDocument=C,y=C):C._nodeDocument=y,a.dom.features.steps&&c.dom_runCloningSteps(C,m,y,b),b)try{for(var D=i(m._children),O=D.next();!O.done;O=D.next()){var P=h(O.value,y,!0);d.mutation_append(P,C)}}catch(k){x={error:k}}finally{try{O&&!O.done&&(S=D.return)&&S.call(D)}finally{if(x)throw x.error}}return C},r.node_equals=function h(m,y){var b,v,g,x;if(m._nodeType!==y._nodeType)return!1;if(s.Guard.isDocumentTypeNode(m)&&s.Guard.isDocumentTypeNode(y)){if(m._name!==y._name||m._publicId!==y._publicId||m._systemId!==y._systemId)return!1}else if(s.Guard.isElementNode(m)&&s.Guard.isElementNode(y)){if(m._namespace!==y._namespace||m._namespacePrefix!==y._namespacePrefix||m._localName!==y._localName||m._attributeList.length!==y._attributeList.length)return!1}else if(s.Guard.isAttrNode(m)&&s.Guard.isAttrNode(y)){if(m._namespace!==y._namespace||m._localName!==y._localName||m._value!==y._value)return!1}else if(s.Guard.isProcessingInstructionNode(m)&&s.Guard.isProcessingInstructionNode(y)){if(m._target!==y._target||m._data!==y._data)return!1}else if(s.Guard.isCharacterDataNode(m)&&s.Guard.isCharacterDataNode(y)&&m._data!==y._data)return!1;if(s.Guard.isElementNode(m)&&s.Guard.isElementNode(y)){var S={};try{for(var C=i(m._attributeList),w=C.next();!w.done;w=C.next())S[(A=w.value)._localName]=A}catch(U){b={error:U}}finally{try{w&&!w.done&&(v=C.return)&&v.call(C)}finally{if(b)throw b.error}}try{for(var T=i(y._attributeList),_=T.next();!_.done;_=T.next()){var A,E=_.value;if(!(A=S[E._localName])||!h(A,E))return!1}}catch(U){g={error:U}}finally{try{_&&!_.done&&(x=T.return)&&x.call(T)}finally{if(g)throw g.error}}}if(m._children.size!==y._children.size)return!1;for(var D=m._children[Symbol.iterator](),O=y._children[Symbol.iterator](),P=D.next(),k=O.next();!P.done&&!k.done;){if(!h(P.value,k.value))return!1;P=D.next(),k=O.next()}return!0},r.node_listOfElementsWithQualifiedName=function(h,m){return h==="*"?l.create_htmlCollection(m):m._nodeDocument._type==="html"?l.create_htmlCollection(m,function(y){return y._namespace===u.namespace.HTML&&y._qualifiedName===h.toLowerCase()||y._namespace!==u.namespace.HTML&&y._qualifiedName===h}):l.create_htmlCollection(m,function(y){return y._qualifiedName===h})},r.node_listOfElementsWithNamespace=function(h,m,y){return h===""&&(h=null),h==="*"&&m==="*"?l.create_htmlCollection(y):h==="*"?l.create_htmlCollection(y,function(b){return b._localName===m}):m==="*"?l.create_htmlCollection(y,function(b){return b._namespace===h}):l.create_htmlCollection(y,function(b){return b._localName===m&&b._namespace===h})},r.node_listOfElementsWithClassNames=function(h,m){var y=f.orderedSet_parse(h);if(y.size===0)return l.create_htmlCollection(m,function(){return!1});var b=m._nodeDocument._mode!=="quirks";return l.create_htmlCollection(m,function(v){var g=v.classList;return f.orderedSet_contains(g._tokenSet,y,b)})},r.node_locateANamespacePrefix=function h(m,y){if(m._namespace===y&&m._namespacePrefix!==null)return m._namespacePrefix;for(var b=0;b<m._attributeList.length;b++){var v=m._attributeList[b];if(v._namespacePrefix==="xmlns"&&v._value===y)return v._localName}return m._parent&&s.Guard.isElementNode(m._parent)?h(m._parent,y):null},r.node_locateANamespace=function h(m,y){if(s.Guard.isElementNode(m)){if(m._namespace!==null&&m._namespacePrefix===y)return m._namespace;for(var b=0;b<m._attributeList.length;b++){var v=m._attributeList[b];if(v._namespace===u.namespace.XMLNS&&v._namespacePrefix==="xmlns"&&v._localName===y||y===null&&v._namespace===u.namespace.XMLNS&&v._namespacePrefix===null&&v._localName==="xmlns")return v._value||null}return m.parentElement===null?null:h(m.parentElement,y)}return s.Guard.isDocumentNode(m)?m.documentElement===null?null:h(m.documentElement,y):s.Guard.isDocumentTypeNode(m)||s.Guard.isDocumentFragmentNode(m)?null:s.Guard.isAttrNode(m)?m._element===null?null:h(m._element,y):m._parent&&s.Guard.isElementNode(m._parent)?h(m._parent,y):null}},function(n,r,o){var i=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],y=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(3),u=o(9),l=o(29),f=o(17),c=o(107),d=o(37);r.text_contiguousTextNodes=function(p,h){var m;return h===void 0&&(h=!1),(m={})[Symbol.iterator]=function(){for(var y=p;y&&s.Guard.isTextNode(y._previousSibling);)y=y._previousSibling;return{next:function(){if(y&&!h&&y===p&&(y=s.Guard.isTextNode(y._nextSibling)?y._nextSibling:null),y===null)return{done:!0,value:null};var b={done:!1,value:y};return y=s.Guard.isTextNode(y._nextSibling)?y._nextSibling:null,b}}},m},r.text_contiguousExclusiveTextNodes=function(p,h){var m;return h===void 0&&(h=!1),(m={})[Symbol.iterator]=function(){for(var y=p;y&&s.Guard.isExclusiveTextNode(y._previousSibling);)y=y._previousSibling;return{next:function(){if(y&&!h&&y===p&&(y=s.Guard.isExclusiveTextNode(y._nextSibling)?y._nextSibling:null),y===null)return{done:!0,value:null};var b={done:!1,value:y};return y=s.Guard.isExclusiveTextNode(y._nextSibling)?y._nextSibling:null,b}}},m},r.text_descendantTextContent=function(p){for(var h="",m=f.tree_getFirstDescendantNode(p,!1,!1,function(y){return s.Guard.isTextNode(y)});m!==null;)h+=m._data,m=f.tree_getNextDescendantNode(p,m,!1,!1,function(y){return s.Guard.isTextNode(y)});return h},r.text_split=function(p,h){var m,y,b=p._data.length;if(h>b)throw new u.IndexSizeError;var v=b-h,g=c.characterData_substringData(p,h,v),x=l.create_text(p._nodeDocument,g),S=p._parent;if(S!==null){d.mutation_insert(x,S,p._nextSibling);try{for(var C=i(a.dom.rangeList),w=C.next();!w.done;w=C.next()){var T=w.value;T._start[0]===p&&T._start[1]>h&&(T._start[0]=x,T._start[1]-=h),T._end[0]===p&&T._end[1]>h&&(T._end[0]=x,T._end[1]-=h);var _=f.tree_index(p);T._start[0]===S&&T._start[1]===_+1&&T._start[1]++,T._end[0]===S&&T._end[1]===_+1&&T._end[1]++}}catch(A){m={error:A}}finally{try{w&&!w.done&&(y=C.return)&&y.call(C)}finally{if(m)throw m.error}}}return c.characterData_replaceData(p,h,v,""),x}},function(n,r,o){var i=o(4),a=o(41),s=o(24),u=o(48),l=[].join,f=a!=Object,c=u("join",",");i({target:"Array",proto:!0,forced:f||!c},{join:function(d){return l.call(s(this),d===void 0?",":d)}})},function(n,r,o){var i=o(4),a=o(83),s=String.fromCharCode,u=String.fromCodePoint;i({target:"String",stat:!0,forced:!!u&&u.length!=1},{fromCodePoint:function(l){for(var f,c=[],d=arguments.length,p=0;d>p;){if(f=+arguments[p++],a(f,1114111)!==f)throw RangeError(f+" is not a valid code point");c.push(f<65536?s(f):s(55296+((f-=65536)>>10),f%1024+56320))}return c.join("")}})},function(n,r,o){var i=this&&this.__read||function(u,l){var f=typeof Symbol=="function"&&u[Symbol.iterator];if(!f)return u;var c,d,p=f.call(u),h=[];try{for(;(l===void 0||l-- >0)&&!(c=p.next()).done;)h.push(c.value)}catch(m){d={error:m}}finally{try{c&&!c.done&&(f=p.return)&&f.call(p)}finally{if(d)throw d.error}}return h};Object.defineProperty(r,"__esModule",{value:!0});var a=o(111),s=function(){function u(l,f){this._options={skipWhitespaceOnlyText:!1},this.err={line:-1,col:-1,index:-1,str:""},this._str=l,this._index=0,this._length=l.length,f&&(this._options.skipWhitespaceOnlyText=f.skipWhitespaceOnlyText||!1)}return u.prototype.nextToken=function(){if(this.eof())return{type:a.TokenType.EOF};var l=this.skipIfStartsWith("<")?this.openBracket():this.text();return this._options.skipWhitespaceOnlyText&&l.type===a.TokenType.Text&&u.isWhiteSpaceToken(l)&&(l=this.nextToken()),l},u.prototype.openBracket=function(){return this.skipIfStartsWith("?")?this.skipIfStartsWith("xml")?u.isSpace(this._str[this._index])?this.declaration():(this.seek(-3),this.pi()):this.pi():this.skipIfStartsWith("!")?this.skipIfStartsWith("--")?this.comment():this.skipIfStartsWith("[CDATA[")?this.cdata():this.skipIfStartsWith("DOCTYPE")?this.doctype():void this.throwError("Invalid '!' in opening tag."):this.skipIfStartsWith("/")?this.closeTag():this.openTag()},u.prototype.declaration=function(){for(var l="",f="",c="";!this.eof();){if(this.skipSpace(),this.skipIfStartsWith("?>"))return{type:a.TokenType.Declaration,version:l,encoding:f,standalone:c};var d=i(this.attribute(),2),p=d[0],h=d[1];p==="version"?l=h:p==="encoding"?f=h:p==="standalone"?c=h:this.throwError("Invalid attribute name: "+p)}this.throwError("Missing declaration end symbol `?>`")},u.prototype.doctype=function(){var l="",f="";this.skipSpace();var c=this.takeUntil2("[",">",!0);return this.skipSpace(),this.skipIfStartsWith("PUBLIC")?(l=this.quotedString(),f=this.quotedString()):this.skipIfStartsWith("SYSTEM")&&(f=this.quotedString()),this.skipSpace(),this.skipIfStartsWith("[")&&(this.skipUntil("]"),this.skipIfStartsWith("]")||this.throwError("Missing end bracket of DTD internal subset")),this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing doctype end symbol `>`"),{type:a.TokenType.DocType,name:c,pubId:l,sysId:f}},u.prototype.pi=function(){var l=this.takeUntilStartsWith("?>",!0);if(this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.skipSpace(),this.skipIfStartsWith("?>"))return{type:a.TokenType.PI,target:l,data:""};var f=this.takeUntilStartsWith("?>");return this.eof()&&this.throwError("Missing processing instruction end symbol `?>`"),this.seek(2),{type:a.TokenType.PI,target:l,data:f}},u.prototype.text=function(){var l=this.takeUntil("<");return{type:a.TokenType.Text,data:l}},u.prototype.comment=function(){var l=this.takeUntilStartsWith("-->");return this.eof()&&this.throwError("Missing comment end symbol `-->`"),this.seek(3),{type:a.TokenType.Comment,data:l}},u.prototype.cdata=function(){var l=this.takeUntilStartsWith("]]>");return this.eof()&&this.throwError("Missing CDATA end symbol `]>`"),this.seek(3),{type:a.TokenType.CDATA,data:l}},u.prototype.openTag=function(){this.skipSpace();var l=this.takeUntil2(">","/",!0);if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:a.TokenType.Element,name:l,attributes:[],selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:a.TokenType.Element,name:l,attributes:[],selfClosing:!0};for(var f=[];!this.eof();){if(this.skipSpace(),this.skipIfStartsWith(">"))return{type:a.TokenType.Element,name:l,attributes:f,selfClosing:!1};if(this.skipIfStartsWith("/>"))return{type:a.TokenType.Element,name:l,attributes:f,selfClosing:!0};var c=this.attribute();f.push(c)}this.throwError("Missing opening element tag end symbol `>`")},u.prototype.closeTag=function(){this.skipSpace();var l=this.takeUntil(">",!0);return this.skipSpace(),this.skipIfStartsWith(">")||this.throwError("Missing closing element tag end symbol `>`"),{type:a.TokenType.ClosingTag,name:l}},u.prototype.attribute=function(){this.skipSpace();var l=this.takeUntil("=",!0);return this.skipSpace(),this.skipIfStartsWith("=")||this.throwError("Missing equals sign before attribute value"),[l,this.quotedString()]},u.prototype.quotedString=function(){this.skipSpace();var l=this.take(1);u.isQuote(l)||this.throwError("Missing start quote character before quoted value");var f=this.takeUntil(l);return this.skipIfStartsWith(l)||this.throwError("Missing end quote character after quoted value"),f},u.prototype.eof=function(){return this._index>=this._length},u.prototype.skipIfStartsWith=function(l){var f=l.length;if(f===1)return this._str[this._index]===l&&(this._index++,!0);for(var c=0;c<f;c++)if(this._str[this._index+c]!==l[c])return!1;return this._index+=f,!0},u.prototype.seek=function(l){this._index+=l,this._index<0&&(this._index=0),this._index>this._length&&(this._index=this._length)},u.prototype.skipSpace=function(){for(;!this.eof()&&u.isSpace(this._str[this._index]);)this._index++},u.prototype.take=function(l){if(l===1)return this._str[this._index++];var f=this._index;return this.seek(l),this._str.slice(f,this._index)},u.prototype.takeUntil=function(l,f){f===void 0&&(f=!1);for(var c=this._index;this._index<this._length;){var d=this._str[this._index];if(d===l||f&&u.isSpace(d))break;this._index++}return this._str.slice(c,this._index)},u.prototype.takeUntil2=function(l,f,c){c===void 0&&(c=!1);for(var d=this._index;this._index<this._length;){var p=this._str[this._index];if(p===l||p===f||c&&u.isSpace(p))break;this._index++}return this._str.slice(d,this._index)},u.prototype.takeUntilStartsWith=function(l,f){f===void 0&&(f=!1);for(var c=this._index,d=l.length;this._index<this._length;){for(var p=!0,h=0;h<d;h++){var m=this._str[this._index+h],y=l[h];if(f&&u.isSpace(m))return this._str.slice(c,this._index);if(m!==y){this._index++,p=!1;break}}if(p)return this._str.slice(c,this._index)}return this._index=this._length,this._str.slice(c)},u.prototype.skipUntil=function(l){for(;this._index<this._length&&this._str[this._index]!==l;)this._index++},u.isWhiteSpaceToken=function(l){for(var f=l.data,c=0;c<f.length;c++){var d=f[c];if(d!==" "&&d!==`
`&&d!=="\r"&&d!=="	"&&d!=="\f")return!1}return!0},u.isSpace=function(l){return l===" "||l===`
`||l==="\r"||l==="	"},u.isQuote=function(l){return l==='"'||l==="'"},u.prototype.throwError=function(l){for(var f=/\r\n|\r|\n/g,c=null,d=0,p=0,h=this._str.length;(c=f.exec(this._str))!==null&&c!==null;)if(d++,c.index<this._index&&(p=f.lastIndex),c.index>this._index){h=c.index;break}throw this.err={line:d,col:this._index-p,index:this._index,str:this._str.substring(p,h)},new Error(l+`
Index: `+this.err.index+`
Ln: `+this.err.line+", Col: "+this.err.col+`
Input: `+this.err.str)},u.prototype[Symbol.iterator]=function(){return this._index=0,{next:function(){var l=this.nextToken();return l.type===a.TokenType.EOF?{done:!0,value:null}:{done:!1,value:l}}.bind(this)}},u}();r.XMLStringLexer=s},function(n,r,o){var i=o(39);n.exports=new i({include:[o(182)]})},function(n,r,o){var i=o(39);n.exports=new i({include:[o(113)],implicit:[o(289),o(290),o(291),o(292)]})},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(91),a=o(1),s=o(3),u=o(77),l=o(109);function f(h,m){var y=d(h===void 0||c(h)?h:i.DefaultBuilderOptions),b=c(h)?m:h,v=l.createDocument();p(v,y);var g=new u.XMLBuilderImpl(v);return b!==void 0&&g.ele(b),g}function c(h){if(!a.isPlainObject(h))return!1;for(var m in h)if(h.hasOwnProperty(m)&&!i.XMLBuilderOptionKeys.has(m))return!1;return!0}function d(h){h===void 0&&(h={});var m=a.applyDefaults(h,i.DefaultBuilderOptions);if(m.convert.att.length===0||m.convert.ins.length===0||m.convert.text.length===0||m.convert.cdata.length===0||m.convert.comment.length===0)throw new Error("JS object converter strings cannot be zero length.");return m}function p(h,m,y){var b=h;b._xmlBuilderOptions=m,b._isFragment=y}r.builder=function(h,m){var y=d(c(h)?h:i.DefaultBuilderOptions),b=s.Guard.isNode(h)||a.isArray(h)?h:m;if(b===void 0)throw new Error("Invalid arguments.");if(a.isArray(b)){for(var v=[],g=0;g<b.length;g++){var x=new u.XMLBuilderImpl(b[g]);x.set(y),v.push(x)}return v}var S=new u.XMLBuilderImpl(b);return S.set(y),S},r.create=f,r.fragment=function(h,m){var y=d(h===void 0||c(h)?h:i.DefaultBuilderOptions),b=c(h)?m:h,v=l.createDocument();p(v,y,!0);var g=new u.XMLBuilderImpl(v.createDocumentFragment());return b!==void 0&&g.ele(b),g},r.convert=function(h,m,y){var b,v,g;return c(h)&&m!==void 0?(b=h,v=m,g=y):(b=i.DefaultBuilderOptions,v=h,g=m||void 0),f(b,v).end(g)}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(77);r.builder=i.builder,r.create=i.create,r.fragment=i.fragment,r.convert=i.convert,r.createCB=i.createCB,r.fragmentCB=i.fragmentCB},function(n,r,o){o(31),o(32),o(33),o(191),o(192),o(194),o(64),o(19),o(198),o(199),o(89),o(201),o(65),o(20),o(66),o(22),o(23);var i=this&&this.__read||function(b,v){var g=typeof Symbol=="function"&&b[Symbol.iterator];if(!g)return b;var x,S,C=g.call(b),w=[];try{for(;(v===void 0||v-- >0)&&!(x=C.next()).done;)w.push(x.value)}catch(T){S={error:T}}finally{try{x&&!x.done&&(g=C.return)&&g.call(C)}finally{if(S)throw S.error}}return w},a=this&&this.__values||function(b){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&b[v],x=0;if(g)return g.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&x>=b.length&&(b=void 0),{value:b&&b[x++],done:!b}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=o(91),u=o(1),l=o(217),f=o(2),c=o(3),d=o(0),p=o(109),h=o(7),m=o(276),y=function(){function b(v){this._domNode=v}return Object.defineProperty(b.prototype,"node",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),b.prototype.set=function(v){return this._options=u.applyDefaults(u.applyDefaults(this._options,v,!0),s.DefaultBuilderOptions),this},b.prototype.ele=function(v,g,x){var S,C,w,T,_,A;if(u.isObject(v))return new m.ObjectReader(this._options).parse(this,v);if(v!==null&&/^\s*</.test(v))return new m.XMLReader(this._options).parse(this,v);if(v!==null&&/^\s*[\{\[]/.test(v))return new m.JSONReader(this._options).parse(this,v);if(v!==null&&/^(\s*|(#.*)|(%.*))*---/.test(v))return new m.YAMLReader(this._options).parse(this,v);if((v===null||u.isString(v))&&u.isString(g))T=(S=i([v,g,x],3))[0],_=S[1],A=S[2];else{if(v===null)throw new Error("Element name cannot be null. "+this._debugInfo());T=(C=i([void 0,v,u.isObject(g)?g:void 0],3))[0],_=C[1],A=C[2]}if(A&&(A=u.getValue(A)),T=(w=i(this._extractNamespace(p.sanitizeInput(T,this._options.invalidCharReplacement),p.sanitizeInput(_,this._options.invalidCharReplacement),!0),2))[0],_=w[1],T===void 0){var E=i(d.namespace_extractQName(_),1)[0];T=this.node.lookupNamespaceURI(E)}var D=T!=null?this._doc.createElementNS(T,_):this._doc.createElement(_);this.node.appendChild(D);var O=new b(D),P=this._doc.doctype;if(D===this._doc.documentElement&&P!==null){var k=this._doc.implementation.createDocumentType(this._doc.documentElement.tagName,P.publicId,P.systemId);this._doc.replaceChild(k,P)}return A&&!u.isEmpty(A)&&O.att(A),O},b.prototype.remove=function(){var v=this.up();return v.node.removeChild(this.node),v},b.prototype.att=function(v,g,x){var S,C,w,T,_,A,E=this;if(u.isMap(v)||u.isObject(v))return u.forEachObject(v,function(R,B){return E.att(R,B)},this),this;if(v!=null&&(v=u.getValue(v+"")),g!=null&&(g=u.getValue(g+"")),x!=null&&(x=u.getValue(x+"")),v!==null&&!u.isString(v)||!u.isString(g)||x!==null&&!u.isString(x)){if(!u.isString(v)||g!=null&&!u.isString(g))throw new Error("Attribute name and value not specified. "+this._debugInfo());T=(C=i([void 0,v,g],3))[0],_=C[1],A=C[2]}else T=(S=i([v,g,x],3))[0],_=S[1],A=S[2];if(this._options.keepNullAttributes&&A==null)A="";else if(A==null)return this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be assigned to an element node.");var D=this.node;T=(w=i(this._extractNamespace(T,_,!1),2))[0],_=w[1],_=p.sanitizeInput(_,this._options.invalidCharReplacement),T=p.sanitizeInput(T,this._options.invalidCharReplacement),A=p.sanitizeInput(A,this._options.invalidCharReplacement);var O=i(d.namespace_extractQName(_),2),P=O[0],k=O[1],U=i(d.namespace_extractQName(D.prefix?D.prefix+":"+D.localName:D.localName),1)[0],H=null;return P==="xmlns"?(T=h.namespace.XMLNS,D.namespaceURI===null&&U===k&&(H=A)):P===null&&k==="xmlns"&&U===null&&(T=h.namespace.XMLNS,H=A),H!==null&&(this._updateNamespace(H),D=this.node),T!==void 0?D.setAttributeNS(T,_,A):D.setAttribute(_,A),this},b.prototype.removeAtt=function(v,g){var x,S,C=this;if(!c.Guard.isElementNode(this.node))throw new Error("An attribute can only be removed from an element node.");if(v=u.getValue(v),g!==void 0&&(g=u.getValue(g)),v!==null&&g===void 0)S=v;else{if(v!==null&&!u.isString(v)||g===void 0)throw new Error("Attribute namespace must be a string. "+this._debugInfo());x=v,S=g}return u.isArray(S)||u.isSet(S)?u.forEachArray(S,function(w){return x===void 0?C.removeAtt(w):C.removeAtt(x,w)},this):x!==void 0?(S=p.sanitizeInput(S,this._options.invalidCharReplacement),x=p.sanitizeInput(x,this._options.invalidCharReplacement),this.node.removeAttributeNS(x,S)):(S=p.sanitizeInput(S,this._options.invalidCharReplacement),this.node.removeAttribute(S)),this},b.prototype.txt=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var g=this._doc.createTextNode(p.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(g),this},b.prototype.com=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var g=this._doc.createComment(p.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(g),this},b.prototype.dat=function(v){if(v==null){if(!this._options.keepNullNodes)return this;v=""}var g=this._doc.createCDATASection(p.sanitizeInput(v,this._options.invalidCharReplacement));return this.node.appendChild(g),this},b.prototype.ins=function(v,g){var x=this;if(g===void 0&&(g=""),g==null){if(!this._options.keepNullNodes)return this;g=""}if(u.isArray(v)||u.isSet(v))u.forEachArray(v,function(C){var w=(C+="").indexOf(" "),T=w===-1?C:C.substr(0,w),_=w===-1?"":C.substr(w+1);x.ins(T,_)},this);else if(u.isMap(v)||u.isObject(v))u.forEachObject(v,function(C,w){return x.ins(C,w)},this);else{var S=this._doc.createProcessingInstruction(p.sanitizeInput(v,this._options.invalidCharReplacement),p.sanitizeInput(g,this._options.invalidCharReplacement));this.node.appendChild(S)}return this},b.prototype.dec=function(v){return this._options.version=v.version||"1.0",this._options.encoding=v.encoding,this._options.standalone=v.standalone,this},b.prototype.dtd=function(v){var g=p.sanitizeInput(v&&v.name||(this._doc.documentElement?this._doc.documentElement.tagName:"ROOT"),this._options.invalidCharReplacement),x=p.sanitizeInput(v&&v.pubID||"",this._options.invalidCharReplacement),S=p.sanitizeInput(v&&v.sysID||"",this._options.invalidCharReplacement);if(this._doc.documentElement!==null&&g!==this._doc.documentElement.tagName)throw new Error("DocType name does not match document element name.");var C=this._doc.implementation.createDocumentType(g,x,S);return this._doc.doctype!==null?this._doc.replaceChild(C,this._doc.doctype):this._doc.insertBefore(C,this._doc.documentElement),this},b.prototype.import=function(v){var g,x,S=this._domNode,C=this._doc,w=v.node;if(c.Guard.isDocumentNode(w)){var T=w.documentElement;if(T===null)throw new Error("Imported document has no document element node. "+this._debugInfo());var _=C.importNode(T,!0);S.appendChild(_);var A=i(d.namespace_extractQName(_.prefix?_.prefix+":"+_.localName:_.localName),1)[0],E=S.lookupNamespaceURI(A);new b(_)._updateNamespace(E)}else if(c.Guard.isDocumentFragmentNode(w))try{for(var D=a(w.childNodes),O=D.next();!O.done;O=D.next()){var P=O.value;_=C.importNode(P,!0),S.appendChild(_),c.Guard.isElementNode(_)&&(A=i(d.namespace_extractQName(_.prefix?_.prefix+":"+_.localName:_.localName),1)[0],E=S.lookupNamespaceURI(A),new b(_)._updateNamespace(E))}}catch(k){g={error:k}}finally{try{O&&!O.done&&(x=D.return)&&x.call(D)}finally{if(g)throw g.error}}else _=C.importNode(w,!0),S.appendChild(_),c.Guard.isElementNode(_)&&(A=i(d.namespace_extractQName(_.prefix?_.prefix+":"+_.localName:_.localName),1)[0],E=S.lookupNamespaceURI(A),new b(_)._updateNamespace(E));return this},b.prototype.doc=function(){if(this._doc._isFragment){for(var v=this.node;v&&v.nodeType!==f.NodeType.DocumentFragment;)v=v.parentNode;if(v===null)throw new Error("Node has no parent node while searching for document fragment ancestor. "+this._debugInfo());return new b(v)}return new b(this._doc)},b.prototype.root=function(){var v=this._doc.documentElement;if(!v)throw new Error("Document root element is null. "+this._debugInfo());return new b(v)},b.prototype.up=function(){var v=this._domNode.parentNode;if(!v)throw new Error("Parent node is null. "+this._debugInfo());return new b(v)},b.prototype.prev=function(){var v=this._domNode.previousSibling;if(!v)throw new Error("Previous sibling node is null. "+this._debugInfo());return new b(v)},b.prototype.next=function(){var v=this._domNode.nextSibling;if(!v)throw new Error("Next sibling node is null. "+this._debugInfo());return new b(v)},b.prototype.first=function(){var v=this._domNode.firstChild;if(!v)throw new Error("First child node is null. "+this._debugInfo());return new b(v)},b.prototype.last=function(){var v=this._domNode.lastChild;if(!v)throw new Error("Last child node is null. "+this._debugInfo());return new b(v)},b.prototype.each=function(v,g,x,S){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var w=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2]);v.call(S,new b(C[0]),C[1],C[2]),C=w}return this},b.prototype.map=function(v,g,x,S){g===void 0&&(g=!1),x===void 0&&(x=!1);var C=[];return this.each(function(w,T,_){return C.push(v.call(S,w,T,_))},g,x),C},b.prototype.reduce=function(v,g,x,S,C){x===void 0&&(x=!1),S===void 0&&(S=!1);var w=g;return this.each(function(T,_,A){return w=v.call(C,w,T,_,A)},x,S),w},b.prototype.find=function(v,g,x,S){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var w=new b(C[0]);if(v.call(S,w,C[1],C[2]))return w;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}},b.prototype.filter=function(v,g,x,S){g===void 0&&(g=!1),x===void 0&&(x=!1);var C=[];return this.each(function(w,T,_){v.call(S,w,T,_)&&C.push(w)},g,x),C},b.prototype.every=function(v,g,x,S){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var w=new b(C[0]);if(!v.call(S,w,C[1],C[2]))return!1;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}return!0},b.prototype.some=function(v,g,x,S){g===void 0&&(g=!1),x===void 0&&(x=!1);for(var C=this._getFirstDescendantNode(this._domNode,g,x);C[0];){var w=new b(C[0]);if(v.call(S,w,C[1],C[2]))return!0;C=this._getNextDescendantNode(this._domNode,C[0],x,C[1],C[2])}return!1},b.prototype.toArray=function(v,g){v===void 0&&(v=!1),g===void 0&&(g=!1);var x=[];return this.each(function(S){return x.push(S)},v,g),x},b.prototype.toString=function(v){return(v=v||{}).format===void 0&&(v.format="xml"),this._serialize(v)},b.prototype.toObject=function(v){return(v=v||{}).format===void 0&&(v.format="object"),this._serialize(v)},b.prototype.end=function(v){return(v=v||{}).format===void 0&&(v.format="xml"),this.doc()._serialize(v)},b.prototype._getFirstDescendantNode=function(v,g,x){return g?[this._domNode,0,0]:x?this._getNextDescendantNode(v,v,x,0,0):[this._domNode.firstChild,0,1]},b.prototype._getNextDescendantNode=function(v,g,x,S,C){if(!x)return v===g?[g.firstChild,0,C+1]:[g.nextSibling,S+1,C];if(g.firstChild)return[g.firstChild,0,C+1];if(g===v)return[null,-1,-1];if(g.nextSibling)return[g.nextSibling,S+1,C];for(var w=g.parentNode;w&&w!==v;){if(w.nextSibling)return[w.nextSibling,d.tree_index(w.nextSibling),C-1];w=w.parentNode,C--}return[null,-1,-1]},b.prototype._serialize=function(v){if(v.format==="xml")return new l.XMLWriter(this._options,v).serialize(this.node);if(v.format==="map")return new l.MapWriter(this._options,v).serialize(this.node);if(v.format==="object")return new l.ObjectWriter(this._options,v).serialize(this.node);if(v.format==="json")return new l.JSONWriter(this._options,v).serialize(this.node);if(v.format==="yaml")return new l.YAMLWriter(this._options,v).serialize(this.node);throw new Error("Invalid writer format: "+v.format+". "+this._debugInfo())},b.prototype._extractNamespace=function(v,g,x){var S=g.indexOf("@");if(S>0&&(v===void 0&&(v=g.slice(S+1)),g=g.slice(0,S)),v===void 0)v=x?this._options.defaultNamespace.ele:this._options.defaultNamespace.att;else if(v!==null&&v[0]==="@"){var C=v.slice(1);if((v=this._options.namespaceAlias[C])===void 0)throw new Error("Namespace alias `"+C+"` is not defined. "+this._debugInfo())}return[v,g]},b.prototype._updateNamespace=function(v){var g,x,S,C,w=this._domNode;if(c.Guard.isElementNode(w)&&v!==null&&w.namespaceURI!==v){var T=i(d.namespace_extractQName(w.prefix?w.prefix+":"+w.localName:w.localName),2),_=T[0],A=T[1],E=d.create_element(this._doc,A,v,_);try{for(var D=a(w.attributes),O=D.next();!O.done;O=D.next()){var P=O.value,k=P.prefix?P.prefix+":"+P.localName:P.localName,U=i(d.namespace_extractQName(k),1)[0],H=P.namespaceURI;H===null&&U!==null&&(H=w.lookupNamespaceURI(U)),H===null?E.setAttribute(k,P.value):E.setAttributeNS(H,k,P.value)}}catch(Z){g={error:Z}}finally{try{O&&!O.done&&(x=D.return)&&x.call(D)}finally{if(g)throw g.error}}var R=w.parentNode;if(R===null)throw new Error("Parent node is null."+this._debugInfo());R.replaceChild(E,w),this._domNode=E;try{for(var B=a(w.childNodes),M=B.next();!M.done;M=B.next()){var z=M.value.cloneNode(!0);if(E.appendChild(z),c.Guard.isElementNode(z)){var $=i(d.namespace_extractQName(z.prefix?z.prefix+":"+z.localName:z.localName),1)[0],J=E.lookupNamespaceURI($);new b(z)._updateNamespace(J)}}}catch(Z){S={error:Z}}finally{try{M&&!M.done&&(C=B.return)&&C.call(B)}finally{if(S)throw S.error}}}},Object.defineProperty(b.prototype,"_doc",{get:function(){var v=this.node;if(c.Guard.isDocumentNode(v))return v;var g=v.ownerDocument;if(!g)throw new Error("Owner document is null. "+this._debugInfo());return g},enumerable:!0,configurable:!0}),b.prototype._debugInfo=function(v){var g=this.node,x=g.parentNode;v=v||g.nodeName;var S=x?x.nodeName:"";return S?"node: <"+v+">, parent: <"+S+">":"node: <"+v+">"},Object.defineProperty(b.prototype,"_options",{get:function(){var v=this._doc;if(v._xmlBuilderOptions===void 0)throw new Error("Builder options is not set.");return v._xmlBuilderOptions},set:function(v){this._doc._xmlBuilderOptions=v},enumerable:!0,configurable:!0}),b}();r.XMLBuilderImpl=y},function(n,r,o){var i=o(11),a=o(117),s=i.WeakMap;n.exports=typeof s=="function"&&/native code/.test(a(s))},function(n,r,o){var i=o(46),a=o(82),s=o(85),u=o(18);n.exports=i("Reflect","ownKeys")||function(l){var f=a.f(u(l)),c=s.f;return c?f.concat(c(l)):f}},function(n,r,o){var i=o(16),a=o(15),s=o(18),u=o(61);n.exports=i?Object.defineProperties:function(l,f){s(l);for(var c,d=u(f),p=d.length,h=0;p>h;)a.f(l,c=d[h++],f[c]);return l}},function(n,r,o){var i=o(46);n.exports=i("document","documentElement")},function(n,r,o){var i=o(24),a=o(82).f,s={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(l){return u&&s.call(l)=="[object Window]"?function(f){try{return a(f)}catch(c){return u.slice()}}(l):a(i(l))}},function(n,r,o){var i=o(4),a=o(36).every,s=o(48),u=o(28),l=s("every"),f=u("every");i({target:"Array",proto:!0,forced:!l||!f},{every:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(4),a=o(36).filter,s=o(63),u=o(28),l=s("filter"),f=u("filter");i({target:"Array",proto:!0,forced:!l||!f},{filter:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(46);n.exports=i("navigator","userAgent")||""},function(n,r,o){var i=o(4),a=o(36).find,s=o(130),u=o(28),l=!0,f=u("find");"find"in[]&&Array(1).find(function(){l=!1}),i({target:"Array",proto:!0,forced:l||!f},{find:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}}),s("find")},function(n,r,o){var i=o(131).IteratorPrototype,a=o(60),s=o(40),u=o(62),l=o(49),f=function(){return this};n.exports=function(c,d,p){var h=d+" Iterator";return c.prototype=a(i,{next:s(1,p)}),u(c,h,!1,!0),l[h]=f,c}},function(n,r,o){var i=o(8);n.exports=!i(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},function(n,r,o){var i=o(13);n.exports=function(a){if(!i(a)&&a!==null)throw TypeError("Can't set "+String(a)+" as a prototype");return a}},function(n,r,o){var i=o(4),a=o(36).map,s=o(63),u=o(28),l=s("map"),f=u("map");i({target:"Array",proto:!0,forced:!l||!f},{map:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(4),a=o(200).left,s=o(48),u=o(28),l=s("reduce"),f=u("reduce",{1:0});i({target:"Array",proto:!0,forced:!l||!f},{reduce:function(c){return a(this,c,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(127),a=o(27),s=o(41),u=o(26),l=function(f){return function(c,d,p,h){i(d);var m=a(c),y=s(m),b=u(m.length),v=f?b-1:0,g=f?-1:1;if(p<2)for(;;){if(v in y){h=y[v],v+=g;break}if(v+=g,f?v<0:b<=v)throw TypeError("Reduce of empty array with no initial value")}for(;f?v>=0:b>v;v+=g)v in y&&(h=d(h,y[v],v,m));return h}};n.exports={left:l(!1),right:l(!0)}},function(n,r,o){var i=o(4),a=o(36).some,s=o(48),u=o(28),l=s("some"),f=u("some");i({target:"Array",proto:!0,forced:!l||!f},{some:function(c){return a(this,c,arguments.length>1?arguments[1]:void 0)}})},function(n,r,o){var i=o(90),a=o(135);n.exports=i?{}.toString:function(){return"[object "+a(this)+"]"}},function(n,r){n.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(n,r,o){var i=o(8);n.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(n,r,o){var i=o(5),a=o(49),s=i("iterator"),u=Array.prototype;n.exports=function(l){return l!==void 0&&(a.Array===l||u[s]===l)}},function(n,r,o){var i=o(135),a=o(49),s=o(5)("iterator");n.exports=function(u){if(u!=null)return u[s]||u["@@iterator"]||a[i(u)]}},function(n,r,o){var i=o(18);n.exports=function(a,s,u,l){try{return l?s(i(u)[0],u[1]):s(u)}catch(c){var f=a.return;throw f!==void 0&&i(f.call(a)),c}}},function(n,r,o){var i=o(5)("iterator"),a=!1;try{var s=0,u={next:function(){return{done:!!s++}},return:function(){a=!0}};u[i]=function(){return this},Array.from(u,function(){throw 2})}catch(l){}n.exports=function(l,f){if(!f&&!a)return!1;var c=!1;try{var d={};d[i]=function(){return{next:function(){return{done:c=!0}}}},l(d)}catch(p){}return c}},function(n,r,o){var i=o(13),a=o(133);n.exports=function(s,u,l){var f,c;return a&&typeof(f=u.constructor)=="function"&&f!==l&&i(c=f.prototype)&&c!==l.prototype&&a(s,c),s}},function(n,r,o){var i=o(25);n.exports=function(a,s,u){for(var l in s)i(a,l,s[l],u);return a}},function(n,r,o){var i=o(46),a=o(15),s=o(5),u=o(16),l=s("species");n.exports=function(f){var c=i(f),d=a.f;u&&c&&!c[l]&&d(c,l,{configurable:!0,get:function(){return this}})}},function(n,r,o){var i=this&&this.__generator||function(u,l){var f,c,d,p,h={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(y){return function(b){return function(v){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,c&&(d=2&v[0]?c.return:v[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,v[1])).done)return d;switch(c=0,d&&(v=[2&v[0],d.value]),v[0]){case 0:case 1:d=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,c=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(d=h.trys,!((d=d.length>0&&d[d.length-1])||v[0]!==6&&v[0]!==2)){h=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){h.label=v[1];break}if(v[0]===6&&h.label<d[1]){h.label=d[1],d=v;break}if(d&&h.label<d[2]){h.label=d[2],h.ops.push(v);break}d[2]&&h.ops.pop(),h.trys.pop();continue}v=l.call(u,h)}catch(g){v=[6,g],c=0}finally{f=d=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([y,b])}}},a=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function u(l){l===void 0&&(l=1e3),this._items=new Set,this._limit=l}return u.prototype.add=function(l){if(this._items.add(l),this._items.size>this._limit){var f=this._items.values().next();f.done||this._items.delete(f.value)}return this},u.prototype.delete=function(l){return this._items.delete(l)},u.prototype.has=function(l){return this._items.has(l)},u.prototype.clear=function(){this._items.clear()},Object.defineProperty(u.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),u.prototype.forEach=function(l,f){var c=this;this._items.forEach(function(d){return l.call(f,d,d,c)})},u.prototype.keys=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items.keys())];case 1:return l.sent(),[2]}})},u.prototype.values=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items.values())];case 1:return l.sent(),[2]}})},u.prototype.entries=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items.entries())];case 1:return l.sent(),[2]}})},u.prototype[Symbol.iterator]=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items)];case 1:return l.sent(),[2]}})},Object.defineProperty(u.prototype,Symbol.toStringTag,{get:function(){return"FixedSizeSet"},enumerable:!0,configurable:!0}),u}();r.FixedSizeSet=s},function(n,r,o){var i=this&&this.__generator||function(u,l){var f,c,d,p,h={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(y){return function(b){return function(v){if(f)throw new TypeError("Generator is already executing.");for(;h;)try{if(f=1,c&&(d=2&v[0]?c.return:v[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,v[1])).done)return d;switch(c=0,d&&(v=[2&v[0],d.value]),v[0]){case 0:case 1:d=v;break;case 4:return h.label++,{value:v[1],done:!1};case 5:h.label++,c=v[1],v=[0];continue;case 7:v=h.ops.pop(),h.trys.pop();continue;default:if(d=h.trys,!((d=d.length>0&&d[d.length-1])||v[0]!==6&&v[0]!==2)){h=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){h.label=v[1];break}if(v[0]===6&&h.label<d[1]){h.label=d[1],d=v;break}if(d&&h.label<d[2]){h.label=d[2],h.ops.push(v);break}d[2]&&h.ops.pop(),h.trys.pop();continue}v=l.call(u,h)}catch(g){v=[6,g],c=0}finally{f=d=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([y,b])}}},a=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function u(l){l===void 0&&(l=1e3),this._items=new Map,this._limit=l}return u.prototype.get=function(l){return this._items.get(l)},u.prototype.set=function(l,f){if(this._items.set(l,f),this._items.size>this._limit){var c=this._items.keys().next();c.done||this._items.delete(c.value)}},u.prototype.delete=function(l){return this._items.delete(l)},u.prototype.has=function(l){return this._items.has(l)},u.prototype.clear=function(){this._items.clear()},Object.defineProperty(u.prototype,"size",{get:function(){return this._items.size},enumerable:!0,configurable:!0}),u.prototype.forEach=function(l,f){this._items.forEach(function(c,d){return l.call(f,d,c)})},u.prototype.keys=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items.keys())];case 1:return l.sent(),[2]}})},u.prototype.values=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items.values())];case 1:return l.sent(),[2]}})},u.prototype.entries=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items.entries())];case 1:return l.sent(),[2]}})},u.prototype[Symbol.iterator]=function(){return i(this,function(l){switch(l.label){case 0:return[5,a(this._items)];case 1:return l.sent(),[2]}})},Object.defineProperty(u.prototype,Symbol.toStringTag,{get:function(){return"ObjectCache"},enumerable:!0,configurable:!0}),u}();r.ObjectCache=s},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(s){s===void 0&&(s=1e3),this._items=new Map,this._limit=s}return a.prototype.check=function(s,u){if(this._items.get(s)===u)return!0;if(this._items.get(u)===s)return!1;var l=Math.random()<.5;if(l?this._items.set(s,u):this._items.set(u,s),this._items.size>this._limit){var f=this._items.keys().next();f.done||this._items.delete(f.value)}return l},a}();r.CompareCache=i},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(s){this._initialized=!1,this._value=void 0,this._initFunc=s}return Object.defineProperty(a.prototype,"value",{get:function(){return this._initialized||(this._value=this._initFunc(),this._initialized=!0),this._value},enumerable:!0,configurable:!0}),a}();r.Lazy=i},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function a(s){this._pointer=0,this._chars=Array.from(s),this._length=this._chars.length}return Object.defineProperty(a.prototype,"eof",{get:function(){return this._pointer>=this._length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),a.prototype.codePoint=function(){if(this._codePoint===void 0)if(this.eof)this._codePoint=-1;else{var s=this._chars[this._pointer].codePointAt(0);this._codePoint=s!==void 0?s:-1}return this._codePoint},a.prototype.c=function(){return this._c===void 0&&(this._c=this.eof?"":this._chars[this._pointer]),this._c},a.prototype.remaining=function(){return this._remaining===void 0&&(this._remaining=this.eof?"":this._chars.slice(this._pointer+1).join("")),this._remaining},a.prototype.substring=function(){return this._substring===void 0&&(this._substring=this.eof?"":this._chars.slice(this._pointer).join("")),this._substring},Object.defineProperty(a.prototype,"pointer",{get:function(){return this._pointer},set:function(s){s!==this._pointer&&(this._pointer=s,this._codePoint=void 0,this._c=void 0,this._remaining=void 0,this._substring=void 0)},enumerable:!0,configurable:!0}),a}();r.StringWalker=i},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(218);r.MapWriter=i.MapWriter;var a=o(258);r.XMLWriter=a.XMLWriter;var s=o(67);r.ObjectWriter=s.ObjectWriter;var u=o(260);r.JSONWriter=u.JSONWriter;var l=o(261);r.YAMLWriter=l.YAMLWriter},function(n,r,o){o(19),o(219),o(20),o(22),o(23);var i,a=this&&this.__extends||(i=function(f,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h])})(f,c)},function(f,c){function d(){this.constructor=f}i(f,c),f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(1),u=o(67),l=function(f){function c(d,p){var h=f.call(this,d)||this;return h._writerOptions=s.applyDefaults(p,{format:"map",wellFormed:!1,group:!1,verbose:!1}),h}return a(c,f),c.prototype.serialize=function(d){var p=s.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1,verbose:!1}),h=new u.ObjectWriter(this._builderOptions,p).serialize(d);return this._convertObject(h)},c.prototype._convertObject=function(d){if(s.isArray(d)){for(var p=0;p<d.length;p++)d[p]=this._convertObject(d[p]);return d}if(s.isObject(d)){var h=new Map;for(var m in d)h.set(m,this._convertObject(d[m]));return h}return d},c}(o(50).BaseWriter);r.MapWriter=l},function(n,r,o){var i=o(139),a=o(143);n.exports=i("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},a)},function(n,r,o){var i=o(4),a=o(8),s=o(59),u=o(13),l=o(27),f=o(26),c=o(134),d=o(128),p=o(63),h=o(5),m=o(129),y=h("isConcatSpreadable"),b=m>=51||!a(function(){var x=[];return x[y]=!1,x.concat()[0]!==x}),v=p("concat"),g=function(x){if(!u(x))return!1;var S=x[y];return S!==void 0?!!S:s(x)};i({target:"Array",proto:!0,forced:!b||!v},{concat:function(x){var S,C,w,T,_,A=l(this),E=d(A,0),D=0;for(S=-1,w=arguments.length;S<w;S++)if(g(_=S===-1?A:arguments[S])){if(D+(T=f(_.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(C=0;C<T;C++,D++)C in _&&c(E,D,_[C])}else{if(D>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(E,D++,_)}return E.length=D,E}})},function(n,r,o){var i=o(8);function a(s,u){return RegExp(s,u)}r.UNSUPPORTED_Y=i(function(){var s=a("a","y");return s.lastIndex=2,s.exec("abcd")!=null}),r.BROKEN_CARET=i(function(){var s=a("^r","gy");return s.lastIndex=2,s.exec("str")!=null})},function(n,r,o){var i=o(223);n.exports=function(a){if(i(a))throw TypeError("The method doesn't accept regular expressions");return a}},function(n,r,o){var i=o(13),a=o(42),s=o(5)("match");n.exports=function(u){var l;return i(u)&&((l=u[s])!==void 0?!!l:a(u)=="RegExp")}},function(n,r,o){var i=o(5)("match");n.exports=function(a){var s=/./;try{"/./"[a](s)}catch(u){try{return s[i]=!1,"/./"[a](s)}catch(l){}}return!1}},function(n,r,o){o(68);var i=o(25),a=o(8),s=o(5),u=o(93),l=o(21),f=s("species"),c=!a(function(){var y=/./;return y.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(y,"$<a>")!=="7"}),d="a".replace(/./,"$0")==="$0",p=s("replace"),h=!!/./[p]&&/./[p]("a","$0")==="",m=!a(function(){var y=/(?:)/,b=y.exec;y.exec=function(){return b.apply(this,arguments)};var v="ab".split(y);return v.length!==2||v[0]!=="a"||v[1]!=="b"});n.exports=function(y,b,v,g){var x=s(y),S=!a(function(){var E={};return E[x]=function(){return 7},""[y](E)!=7}),C=S&&!a(function(){var E=!1,D=/a/;return y==="split"&&((D={}).constructor={},D.constructor[f]=function(){return D},D.flags="",D[x]=/./[x]),D.exec=function(){return E=!0,null},D[x](""),!E});if(!S||!C||y==="replace"&&(!c||!d||h)||y==="split"&&!m){var w=/./[x],T=v(x,""[y],function(E,D,O,P,k){return D.exec===u?S&&!k?{done:!0,value:w.call(D,O,P)}:{done:!0,value:E.call(O,D,P)}:{done:!1}},{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),_=T[0],A=T[1];i(String.prototype,y,_),i(RegExp.prototype,x,b==2?function(E,D){return A.call(E,this,D)}:function(E){return A.call(E,this)})}g&&l(RegExp.prototype[x],"sham",!0)}},function(n,r,o){var i=o(137).charAt;n.exports=function(a,s,u){return s+(u?i(a,s).length:1)}},function(n,r,o){var i=o(42),a=o(93);n.exports=function(s,u){var l=s.exec;if(typeof l=="function"){var f=l.call(s,u);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(i(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return a.call(s,u)}},function(n,r,o){(function(i){Object.defineProperty(r,"__esModule",{value:!0});var a=o(96);r.forgivingBase64Encode=function(s){return i.from(s).toString("base64")},r.forgivingBase64Decode=function(s){return s===""?"":((s=s.replace(a.ASCIIWhiteSpace,"")).length%4==0&&(s.endsWith("==")?s=s.substr(0,s.length-2):s.endsWith("=")&&(s=s.substr(0,s.length-1))),s.length%4==1?null:/[0-9A-Za-z+/]/.test(s)?i.from(s,"base64").toString("utf8"):null)}}).call(this,o(145).Buffer)},function(n,r,o){r.byteLength=function(p){var h=c(p),m=h[0],y=h[1];return 3*(m+y)/4-y},r.toByteArray=function(p){var h,m,y=c(p),b=y[0],v=y[1],g=new s(function(C,w,T){return 3*(w+T)/4-T}(0,b,v)),x=0,S=v>0?b-4:b;for(m=0;m<S;m+=4)h=a[p.charCodeAt(m)]<<18|a[p.charCodeAt(m+1)]<<12|a[p.charCodeAt(m+2)]<<6|a[p.charCodeAt(m+3)],g[x++]=h>>16&255,g[x++]=h>>8&255,g[x++]=255&h;return v===2&&(h=a[p.charCodeAt(m)]<<2|a[p.charCodeAt(m+1)]>>4,g[x++]=255&h),v===1&&(h=a[p.charCodeAt(m)]<<10|a[p.charCodeAt(m+1)]<<4|a[p.charCodeAt(m+2)]>>2,g[x++]=h>>8&255,g[x++]=255&h),g},r.fromByteArray=function(p){for(var h,m=p.length,y=m%3,b=[],v=0,g=m-y;v<g;v+=16383)b.push(d(p,v,v+16383>g?g:v+16383));return y===1?(h=p[m-1],b.push(i[h>>2]+i[h<<4&63]+"==")):y===2&&(h=(p[m-2]<<8)+p[m-1],b.push(i[h>>10]+i[h>>4&63]+i[h<<2&63]+"=")),b.join("")};for(var i=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,f=u.length;l<f;++l)i[l]=u[l],a[u.charCodeAt(l)]=l;function c(p){var h=p.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=p.indexOf("=");return m===-1&&(m=h),[m,m===h?0:4-m%4]}function d(p,h,m){for(var y,b,v=[],g=h;g<m;g+=3)y=(p[g]<<16&16711680)+(p[g+1]<<8&65280)+(255&p[g+2]),v.push(i[(b=y)>>18&63]+i[b>>12&63]+i[b>>6&63]+i[63&b]);return v.join("")}a[45]=62,a[95]=63},function(n,r){r.read=function(o,i,a,s,u){var l,f,c=8*u-s-1,d=(1<<c)-1,p=d>>1,h=-7,m=a?u-1:0,y=a?-1:1,b=o[i+m];for(m+=y,l=b&(1<<-h)-1,b>>=-h,h+=c;h>0;l=256*l+o[i+m],m+=y,h-=8);for(f=l&(1<<-h)-1,l>>=-h,h+=s;h>0;f=256*f+o[i+m],m+=y,h-=8);if(l===0)l=1-p;else{if(l===d)return f?NaN:1/0*(b?-1:1);f+=Math.pow(2,s),l-=p}return(b?-1:1)*f*Math.pow(2,l-s)},r.write=function(o,i,a,s,u,l){var f,c,d,p=8*l-u-1,h=(1<<p)-1,m=h>>1,y=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:l-1,v=s?1:-1,g=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(c=isNaN(i)?1:0,f=h):(f=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-f))<1&&(f--,d*=2),(i+=f+m>=1?y/d:y*Math.pow(2,1-m))*d>=2&&(f++,d/=2),f+m>=h?(c=0,f=h):f+m>=1?(c=(i*d-1)*Math.pow(2,u),f+=m):(c=i*Math.pow(2,m-1)*Math.pow(2,u),f=0));u>=8;o[a+b]=255&c,b+=v,c/=256,u-=8);for(f=f<<u|c,p+=u;p>0;o[a+b]=255&f,b+=v,f/=256,p-=8);o[a+b-v]|=128*g}},function(n,r){var o={}.toString;n.exports=Array.isArray||function(i){return o.call(i)=="[object Array]"}},function(n,r,o){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(1);function s(u){var l,f;if(u===null||a.isString(u)||a.isNumber(u))return u;if(a.isArray(u)){var c=new Array;try{for(var d=i(u),p=d.next();!p.done;p=d.next()){var h=p.value;c.push(s(h))}}catch(b){l={error:b}}finally{try{p&&!p.done&&(f=d.return)&&f.call(d)}finally{if(l)throw l.error}}return c}if(a.isObject(u)){c=new Map;for(var m in u)if(u.hasOwnProperty(m)){var y=u[m];c.set(m,s(y))}return c}return u}r.parseJSONFromBytes=function(u){var l=a.utf8Decode(u);return JSON.parse.call(void 0,l)},r.serializeJSONToBytes=function(u){var l=JSON.stringify.call(void 0,u);return a.utf8Encode(l)},r.parseJSONIntoInfraValues=function(u){return s(JSON.parse.call(void 0,u))},r.convertAJSONDerivedJavaScriptValueToAnInfraValue=s},function(n,r,o){var i=this&&this.__generator||function(f,c){var d,p,h,m,y={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return m={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function b(v){return function(g){return function(x){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,p&&(h=2&x[0]?p.return:x[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,x[1])).done)return h;switch(p=0,h&&(x=[2&x[0],h.value]),x[0]){case 0:case 1:h=x;break;case 4:return y.label++,{value:x[1],done:!1};case 5:y.label++,p=x[1],x=[0];continue;case 7:x=y.ops.pop(),y.trys.pop();continue;default:if(h=y.trys,!((h=h.length>0&&h[h.length-1])||x[0]!==6&&x[0]!==2)){y=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){y.label=x[1];break}if(x[0]===6&&y.label<h[1]){y.label=h[1],h=x;break}if(h&&y.label<h[2]){y.label=h[2],y.ops.push(x);break}h[2]&&y.ops.pop(),y.trys.pop();continue}x=c.call(f,y)}catch(S){x=[6,S],p=0}finally{d=h=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([v,g])}}},a=this&&this.__read||function(f,c){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var p,h,m=d.call(f),y=[];try{for(;(c===void 0||c-- >0)&&!(p=m.next()).done;)y.push(p.value)}catch(b){h={error:b}}finally{try{p&&!p.done&&(d=m.return)&&d.call(m)}finally{if(h)throw h.error}}return y},s=this&&this.__spread||function(){for(var f=[],c=0;c<arguments.length;c++)f=f.concat(a(arguments[c]));return f},u=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,d=c&&f[c],p=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var l=o(1);r.append=function(f,c){f.push(c)},r.extend=function(f,c){f.push.apply(f,s(c))},r.prepend=function(f,c){f.unshift(c)},r.replace=function(f,c,d){var p,h,m=0;try{for(var y=u(f),b=y.next();!b.done;b=y.next()){var v=b.value;if(l.isFunction(c))c.call(null,v)&&(f[m]=d);else if(v===c)return void(f[m]=d);m++}}catch(g){p={error:g}}finally{try{b&&!b.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}},r.insert=function(f,c,d){f.splice(d,0,c)},r.remove=function(f,c){for(var d=f.length;d--;){var p=f[d];if(l.isFunction(c))c.call(null,p)&&f.splice(d,1);else if(p===c)return void f.splice(d,1)}},r.empty=function(f){f.length=0},r.contains=function(f,c){var d,p;try{for(var h=u(f),m=h.next();!m.done;m=h.next()){var y=m.value;if(l.isFunction(c)){if(c.call(null,y))return!0}else if(y===c)return!0}}catch(b){d={error:b}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(d)throw d.error}}return!1},r.size=function(f,c){var d,p;if(c===void 0)return f.length;var h=0;try{for(var m=u(f),y=m.next();!y.done;y=m.next()){var b=y.value;c.call(null,b)&&h++}}catch(v){d={error:v}}finally{try{y&&!y.done&&(p=m.return)&&p.call(m)}finally{if(d)throw d.error}}return h},r.isEmpty=function(f){return f.length===0},r.forEach=function(f,c){var d,p,h,m,y,b;return i(this,function(v){switch(v.label){case 0:return c!==void 0?[3,2]:[5,u(f)];case 1:return v.sent(),[3,9];case 2:v.trys.push([2,7,8,9]),d=u(f),p=d.next(),v.label=3;case 3:return p.done?[3,6]:(h=p.value,c.call(null,h)?[4,h]:[3,5]);case 4:v.sent(),v.label=5;case 5:return p=d.next(),[3,3];case 6:return[3,9];case 7:return m=v.sent(),y={error:m},[3,9];case 8:try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(y)throw y.error}return[7];case 9:return[2]}})},r.clone=function(f){return new(Array.bind.apply(Array,s([void 0],f)))},r.sortInAscendingOrder=function(f,c){return f.sort(function(d,p){return c.call(null,d,p)?-1:1})},r.sortInDescendingOrder=function(f,c){return f.sort(function(d,p){return c.call(null,d,p)?1:-1})}},function(n,r,o){var i=this&&this.__generator||function(f,c){var d,p,h,m,y={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return m={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function b(v){return function(g){return function(x){if(d)throw new TypeError("Generator is already executing.");for(;y;)try{if(d=1,p&&(h=2&x[0]?p.return:x[0]?p.throw||((h=p.return)&&h.call(p),0):p.next)&&!(h=h.call(p,x[1])).done)return h;switch(p=0,h&&(x=[2&x[0],h.value]),x[0]){case 0:case 1:h=x;break;case 4:return y.label++,{value:x[1],done:!1};case 5:y.label++,p=x[1],x=[0];continue;case 7:x=y.ops.pop(),y.trys.pop();continue;default:if(h=y.trys,!((h=h.length>0&&h[h.length-1])||x[0]!==6&&x[0]!==2)){y=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){y.label=x[1];break}if(x[0]===6&&y.label<h[1]){y.label=h[1],h=x;break}if(h&&y.label<h[2]){y.label=h[2],y.ops.push(x);break}h[2]&&y.ops.pop(),y.trys.pop();continue}x=c.call(f,y)}catch(S){x=[6,S],p=0}finally{d=h=0}if(5&x[0])throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}([v,g])}}},a=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,d=c&&f[c],p=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(f,c){var d=typeof Symbol=="function"&&f[Symbol.iterator];if(!d)return f;var p,h,m=d.call(f),y=[];try{for(;(c===void 0||c-- >0)&&!(p=m.next()).done;)y.push(p.value)}catch(b){h={error:b}}finally{try{p&&!p.done&&(d=m.return)&&d.call(m)}finally{if(h)throw h.error}}return y},u=this&&this.__spread||function(){for(var f=[],c=0;c<arguments.length;c++)f=f.concat(s(arguments[c]));return f};Object.defineProperty(r,"__esModule",{value:!0});var l=o(1);r.get=function(f,c){return f.get(c)},r.set=function(f,c,d){f.set(c,d)},r.remove=function(f,c){var d,p,h,m;if(l.isFunction(c)){var y=[];try{for(var b=a(f),v=b.next();!v.done;v=b.next()){var g=v.value;c.call(null,g)&&y.push(g[0])}}catch(w){d={error:w}}finally{try{v&&!v.done&&(p=b.return)&&p.call(b)}finally{if(d)throw d.error}}try{for(var x=a(y),S=x.next();!S.done;S=x.next()){var C=S.value;f.delete(C)}}catch(w){h={error:w}}finally{try{S&&!S.done&&(m=x.return)&&m.call(x)}finally{if(h)throw h.error}}}else f.delete(c)},r.contains=function(f,c){var d,p;if(l.isFunction(c)){try{for(var h=a(f),m=h.next();!m.done;m=h.next()){var y=m.value;if(c.call(null,y))return!0}}catch(b){d={error:b}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(d)throw d.error}}return!1}return f.has(c)},r.keys=function(f){return new Set(f.keys())},r.values=function(f){return u(f.values())},r.size=function(f,c){var d,p;if(c===void 0)return f.size;var h=0;try{for(var m=a(f),y=m.next();!y.done;y=m.next()){var b=y.value;c.call(null,b)&&h++}}catch(v){d={error:v}}finally{try{y&&!y.done&&(p=m.return)&&p.call(m)}finally{if(d)throw d.error}}return h},r.isEmpty=function(f){return f.size===0},r.forEach=function(f,c){var d,p,h,m,y,b;return i(this,function(v){switch(v.label){case 0:return c!==void 0?[3,2]:[5,a(f)];case 1:return v.sent(),[3,9];case 2:v.trys.push([2,7,8,9]),d=a(f),p=d.next(),v.label=3;case 3:return p.done?[3,6]:(h=p.value,c.call(null,h)?[4,h]:[3,5]);case 4:v.sent(),v.label=5;case 5:return p=d.next(),[3,3];case 6:return[3,9];case 7:return m=v.sent(),y={error:m},[3,9];case 8:try{p&&!p.done&&(b=d.return)&&b.call(d)}finally{if(y)throw y.error}return[7];case 9:return[2]}})},r.clone=function(f){return new Map(f)},r.sortInAscendingOrder=function(f,c){var d=new(Array.bind.apply(Array,u([void 0],f)));return d.sort(function(p,h){return c.call(null,p,h)?-1:1}),new Map(d)},r.sortInDescendingOrder=function(f,c){var d=new(Array.bind.apply(Array,u([void 0],f)));return d.sort(function(p,h){return c.call(null,p,h)?1:-1}),new Map(d)}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.HTML="http://www.w3.org/1999/xhtml",r.XML="http://www.w3.org/XML/1998/namespace",r.XMLNS="http://www.w3.org/2000/xmlns/",r.MathML="http://www.w3.org/1998/Math/MathML",r.SVG="http://www.w3.org/2000/svg",r.XLink="http://www.w3.org/1999/xlink"},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.enqueue=function(i,a){i.push(a)},r.dequeue=function(i){return i.shift()||null}},function(n,r,o){var i=this&&this.__generator||function(c,d){var p,h,m,y,b={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return y={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function v(g){return function(x){return function(S){if(p)throw new TypeError("Generator is already executing.");for(;b;)try{if(p=1,h&&(m=2&S[0]?h.return:S[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,S[1])).done)return m;switch(h=0,m&&(S=[2&S[0],m.value]),S[0]){case 0:case 1:m=S;break;case 4:return b.label++,{value:S[1],done:!1};case 5:b.label++,h=S[1],S=[0];continue;case 7:S=b.ops.pop(),b.trys.pop();continue;default:if(m=b.trys,!((m=m.length>0&&m[m.length-1])||S[0]!==6&&S[0]!==2)){b=0;continue}if(S[0]===3&&(!m||S[1]>m[0]&&S[1]<m[3])){b.label=S[1];break}if(S[0]===6&&b.label<m[1]){b.label=m[1],m=S;break}if(m&&b.label<m[2]){b.label=m[2],b.ops.push(S);break}m[2]&&b.ops.pop(),b.trys.pop();continue}S=d.call(c,b)}catch(C){S=[6,C],h=0}finally{p=m=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([g,x])}}},a=this&&this.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&c[d],h=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__read||function(c,d){var p=typeof Symbol=="function"&&c[Symbol.iterator];if(!p)return c;var h,m,y=p.call(c),b=[];try{for(;(d===void 0||d-- >0)&&!(h=y.next()).done;)b.push(h.value)}catch(v){m={error:v}}finally{try{h&&!h.done&&(p=y.return)&&p.call(y)}finally{if(m)throw m.error}}return b},u=this&&this.__spread||function(){for(var c=[],d=0;d<arguments.length;d++)c=c.concat(s(arguments[d]));return c};Object.defineProperty(r,"__esModule",{value:!0});var l=o(1);function f(c,d){var p,h;try{for(var m=a(c),y=m.next();!y.done;y=m.next()){var b=y.value;if(!d.has(b))return!1}}catch(v){p={error:v}}finally{try{y&&!y.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}return!0}r.append=function(c,d){c.add(d)},r.extend=function(c,d){d.forEach(c.add,c)},r.prepend=function(c,d){var p=new Set(c);c.clear(),c.add(d),p.forEach(c.add,c)},r.replace=function(c,d,p){var h,m,y=new Set;try{for(var b=a(c),v=b.next();!v.done;v=b.next()){var g=v.value;l.isFunction(d)?d.call(null,g)?y.add(p):y.add(g):g===d?y.add(p):y.add(g)}}catch(x){h={error:x}}finally{try{v&&!v.done&&(m=b.return)&&m.call(b)}finally{if(h)throw h.error}}c.clear(),y.forEach(c.add,c)},r.insert=function(c,d,p){var h,m,y=new Set,b=0;try{for(var v=a(c),g=v.next();!g.done;g=v.next()){var x=g.value;b===p&&y.add(d),y.add(x),b++}}catch(S){h={error:S}}finally{try{g&&!g.done&&(m=v.return)&&m.call(v)}finally{if(h)throw h.error}}c.clear(),y.forEach(c.add,c)},r.remove=function(c,d){var p,h,m,y;if(l.isFunction(d)){var b=[];try{for(var v=a(c),g=v.next();!g.done;g=v.next()){var x=g.value;d.call(null,x)&&b.push(x)}}catch(T){p={error:T}}finally{try{g&&!g.done&&(h=v.return)&&h.call(v)}finally{if(p)throw p.error}}try{for(var S=a(b),C=S.next();!C.done;C=S.next()){var w=C.value;c.delete(w)}}catch(T){m={error:T}}finally{try{C&&!C.done&&(y=S.return)&&y.call(S)}finally{if(m)throw m.error}}}else c.delete(d)},r.empty=function(c){c.clear()},r.contains=function(c,d){var p,h;if(!l.isFunction(d))return c.has(d);try{for(var m=a(c),y=m.next();!y.done;y=m.next()){var b=y.value;if(d.call(null,b))return!0}}catch(v){p={error:v}}finally{try{y&&!y.done&&(h=m.return)&&h.call(m)}finally{if(p)throw p.error}}return!1},r.size=function(c,d){var p,h;if(d===void 0)return c.size;var m=0;try{for(var y=a(c),b=y.next();!b.done;b=y.next()){var v=b.value;d.call(null,v)&&m++}}catch(g){p={error:g}}finally{try{b&&!b.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}return m},r.isEmpty=function(c){return c.size===0},r.forEach=function(c,d){var p,h,m,y,b,v;return i(this,function(g){switch(g.label){case 0:return d!==void 0?[3,2]:[5,a(c)];case 1:return g.sent(),[3,9];case 2:g.trys.push([2,7,8,9]),p=a(c),h=p.next(),g.label=3;case 3:return h.done?[3,6]:(m=h.value,d.call(null,m)?[4,m]:[3,5]);case 4:g.sent(),g.label=5;case 5:return h=p.next(),[3,3];case 6:return[3,9];case 7:return y=g.sent(),b={error:y},[3,9];case 8:try{h&&!h.done&&(v=p.return)&&v.call(p)}finally{if(b)throw b.error}return[7];case 9:return[2]}})},r.clone=function(c){return new Set(c)},r.sortInAscendingOrder=function(c,d){var p=new(Array.bind.apply(Array,u([void 0],c)));return p.sort(function(h,m){return d.call(null,h,m)?-1:1}),new Set(p)},r.sortInDescendingOrder=function(c,d){var p=new(Array.bind.apply(Array,u([void 0],c)));return p.sort(function(h,m){return d.call(null,h,m)?1:-1}),new Set(p)},r.isSubsetOf=f,r.isSupersetOf=function(c,d){return f(d,c)},r.intersection=function(c,d){var p,h,m=new Set;try{for(var y=a(c),b=y.next();!b.done;b=y.next()){var v=b.value;d.has(v)&&m.add(v)}}catch(g){p={error:g}}finally{try{b&&!b.done&&(h=y.return)&&h.call(y)}finally{if(p)throw p.error}}return m},r.union=function(c,d){var p=new Set(c);return d.forEach(p.add,p),p},r.range=function(c,d){for(var p=new Set,h=c;h<=d;h++)p.add(h);return p}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.push=function(i,a){i.push(a)},r.pop=function(i){return i.pop()||null}},function(n,r,o){var i=this&&this.__values||function(b){var v=typeof Symbol=="function"&&Symbol.iterator,g=v&&b[v],x=0;if(g)return g.call(b);if(b&&typeof b.length=="number")return{next:function(){return b&&x>=b.length&&(b=void 0),{value:b&&b[x++],done:!b}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(96),s=o(147),u=o(146),l=o(1);function f(b,v){for(var g=0;;){var x=g<b.length?b.charCodeAt(g):null,S=g<v.length?v.charCodeAt(g):null;if(x===null)return!0;if(x!==S)return!1;g++}}function c(b){var v,g,x=Array.from(b),S=new Uint8Array(x.length),C=0;try{for(var w=i(b),T=w.next();!T.done;T=w.next()){var _=T.value.codePointAt(0);console.assert(_!==void 0&&_<=255,"isomorphicEncode requires string bytes to be less than or equal to 0x00FF."),_!==void 0&&_<=255&&(S[C++]=_)}}catch(A){v={error:A}}finally{try{T&&!T.done&&(g=w.return)&&g.call(w)}finally{if(v)throw v.error}}return S}function d(b){return/^[\u0000-\u007F]*$/.test(b)}function p(b){var v,g,x="";try{for(var S=i(b),C=S.next();!C.done;C=S.next()){var w=C.value,T=w.codePointAt(0);x+=T!==void 0&&T>=65&&T<=90?String.fromCodePoint(T+32):w}}catch(_){v={error:_}}finally{try{C&&!C.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}return x}function h(b){return b.replace(/^[\t\n\f\r ]+/,"").replace(/[\t\n\f\r ]+$/,"")}function m(b,v,g){if(!l.isArray(v))return m(b,Array.from(v),g);for(var x="";g.position<v.length&&b.call(null,v[g.position]);)x+=v[g.position],g.position++;return x}function y(b,v){m(function(g){return a.ASCIIWhiteSpace.test(g)},b,v)}r.isCodeUnitPrefix=f,r.isCodeUnitLessThan=function(b,v){if(f(v,b))return!1;if(f(b,v))return!0;for(var g=0;g<Math.min(b.length,v.length);g++){var x=b.charCodeAt(g),S=v.charCodeAt(g);if(x!==S)return x<S}return!1},r.isomorphicEncode=c,r.isASCIIString=d,r.asciiLowercase=p,r.asciiUppercase=function(b){var v,g,x="";try{for(var S=i(b),C=S.next();!C.done;C=S.next()){var w=C.value,T=w.codePointAt(0);x+=T!==void 0&&T>=97&&T<=122?String.fromCodePoint(T-32):w}}catch(_){v={error:_}}finally{try{C&&!C.done&&(g=S.return)&&g.call(S)}finally{if(v)throw v.error}}return x},r.asciiCaseInsensitiveMatch=function(b,v){return p(b)===p(v)},r.asciiEncode=function(b){return console.assert(d(b),"asciiEncode requires an ASCII string."),c(b)},r.asciiDecode=function(b){var v,g;try{for(var x=i(b),S=x.next();!S.done;S=x.next()){var C=S.value;console.assert(u.isASCIIByte(C),"asciiDecode requires an ASCII byte sequence.")}}catch(w){v={error:w}}finally{try{S&&!S.done&&(g=x.return)&&g.call(x)}finally{if(v)throw v.error}}return s.isomorphicDecode(b)},r.stripNewlines=function(b){return b.replace(/[\n\r]/g,"")},r.normalizeNewlines=function(b){return b.replace(/\r\n/g,`
`).replace(/\r/g,`
`)},r.stripLeadingAndTrailingASCIIWhitespace=h,r.stripAndCollapseASCIIWhitespace=function(b){return h(b.replace(/[\t\n\f\r ]{2,}/g," "))},r.collectASequenceOfCodePoints=m,r.skipASCIIWhitespace=y,r.strictlySplit=function b(v,g){if(!l.isArray(v))return b(Array.from(v),g);var x={position:0},S=[],C=m(function(w){return g!==w},v,x);for(S.push(C);x.position<v.length;)console.assert(v[x.position]===g,"strictlySplit found no delimiter in input string."),x.position++,C=m(function(w){return g!==w},v,x),S.push(C);return S},r.splitAStringOnASCIIWhitespace=function b(v){if(!l.isArray(v))return b(Array.from(v));var g={position:0},x=[];for(y(v,g);g.position<v.length;){var S=m(function(C){return!a.ASCIIWhiteSpace.test(C)},v,g);x.push(S),y(v,g)}return x},r.splitAStringOnCommas=function b(v){if(!l.isArray(v))return b(Array.from(v));for(var g={position:0},x=[];g.position<v.length;){var S=m(function(C){return C!==","},v,g);x.push(h(S)),g.position<v.length&&(console.assert(v[g.position]===",","splitAStringOnCommas found no delimiter in input string."),g.position++)}return x},r.concatenate=function(b,v){return v===void 0&&(v=""),b.length===0?"":b.join(v)}},function(n,r,o){var i=this&&this.__values||function(s){var u=typeof Symbol=="function"&&Symbol.iterator,l=u&&s[u],f=0;if(l)return l.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(97);r.abort_add=function(s,u){u._abortedFlag||u._abortAlgorithms.add(s)},r.abort_remove=function(s,u){u._abortAlgorithms.delete(s)},r.abort_signalAbort=function(s){var u,l;if(!s._abortedFlag){s._abortedFlag=!0;try{for(var f=i(s._abortAlgorithms),c=f.next();!c.done;c=f.next())c.value.call(s)}catch(d){u={error:d}}finally{try{c&&!c.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}s._abortAlgorithms.clear(),a.event_fireAnEvent("abort",s)}}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(150),a=function(){function s(){}return s.asNode=function(u){if(i.Guard.isNode(u))return u;throw new Error("Invalid object. Node expected.")},s}();r.Cast=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function s(){}return Object.defineProperty(s.prototype,"size",{get:function(){return 0},enumerable:!0,configurable:!0}),s.prototype.add=function(u){throw new Error("Cannot add to an empty set.")},s.prototype.clear=function(){},s.prototype.delete=function(u){return!1},s.prototype.forEach=function(u,l){},s.prototype.has=function(u){return!1},s.prototype[Symbol.iterator]=function(){return new a},s.prototype.entries=function(){return new a},s.prototype.keys=function(){return new a},s.prototype.values=function(){return new a},Object.defineProperty(s.prototype,Symbol.toStringTag,{get:function(){return"EmptySet"},enumerable:!0,configurable:!0}),s}();r.EmptySet=i;var a=function(){function s(){}return s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){return{done:!0,value:null}},s}()},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),function(i){i[i.SchemeStart=0]="SchemeStart",i[i.Scheme=1]="Scheme",i[i.NoScheme=2]="NoScheme",i[i.SpecialRelativeOrAuthority=3]="SpecialRelativeOrAuthority",i[i.PathOrAuthority=4]="PathOrAuthority",i[i.Relative=5]="Relative",i[i.RelativeSlash=6]="RelativeSlash",i[i.SpecialAuthoritySlashes=7]="SpecialAuthoritySlashes",i[i.SpecialAuthorityIgnoreSlashes=8]="SpecialAuthorityIgnoreSlashes",i[i.Authority=9]="Authority",i[i.Host=10]="Host",i[i.Hostname=11]="Hostname",i[i.Port=12]="Port",i[i.File=13]="File",i[i.FileSlash=14]="FileSlash",i[i.FileHost=15]="FileHost",i[i.PathStart=16]="PathStart",i[i.Path=17]="Path",i[i.CannotBeABaseURLPath=18]="CannotBeABaseURLPath",i[i.Query=19]="Query",i[i.Fragment=20]="Fragment"}(r.ParserState||(r.ParserState={})),r.OpaqueOrigin=["","",null,null]},function(n,r,o){var i=o(245),a=o(247);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=S,r.resolve=function(C,w){return S(C,!1,!0).resolve(w)},r.resolveObject=function(C,w){return C?S(C,!1,!0).resolveObject(w):w},r.format=function(C){return a.isString(C)&&(C=S(C)),C instanceof s?C.format():s.prototype.format.call(C)},r.Url=s;var u=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),d=["'"].concat(c),p=["%","/","?",";","#"].concat(d),h=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=o(248);function S(C,w,T){if(C&&a.isObject(C)&&C instanceof s)return C;var _=new s;return _.parse(C,w,T),_}s.prototype.parse=function(C,w,T){if(!a.isString(C))throw new TypeError("Parameter 'url' must be a string, not "+typeof C);var _=C.indexOf("?"),A=_!==-1&&_<C.indexOf("#")?"?":"#",E=C.split(A);E[0]=E[0].replace(/\\/g,"/");var D=C=E.join(A);if(D=D.trim(),!T&&C.split("#").length===1){var O=f.exec(D);if(O)return this.path=D,this.href=D,this.pathname=O[1],O[2]?(this.search=O[2],this.query=w?x.parse(this.search.substr(1)):this.search.substr(1)):w&&(this.search="",this.query={}),this}var P=u.exec(D);if(P){var k=(P=P[0]).toLowerCase();this.protocol=k,D=D.substr(P.length)}if(T||P||D.match(/^\/\/[^@\/]+@[^@\/]+/)){var U=D.substr(0,2)==="//";!U||P&&v[P]||(D=D.substr(2),this.slashes=!0)}if(!v[P]&&(U||P&&!g[P])){for(var H,R,B=-1,M=0;M<h.length;M++)(z=D.indexOf(h[M]))!==-1&&(B===-1||z<B)&&(B=z);for((R=B===-1?D.lastIndexOf("@"):D.lastIndexOf("@",B))!==-1&&(H=D.slice(0,R),D=D.slice(R+1),this.auth=decodeURIComponent(H)),B=-1,M=0;M<p.length;M++){var z;(z=D.indexOf(p[M]))!==-1&&(B===-1||z<B)&&(B=z)}B===-1&&(B=D.length),this.host=D.slice(0,B),D=D.slice(B),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var J=this.hostname.split(/\./),Z=(M=0,J.length);M<Z;M++){var X=J[M];if(X&&!X.match(m)){for(var te="",ae=0,ue=X.length;ae<ue;ae++)X.charCodeAt(ae)>127?te+="x":te+=X[ae];if(!te.match(m)){var ie=J.slice(0,M),F=J.slice(M+1),I=X.match(y);I&&(ie.push(I[1]),F.unshift(I[2])),F.length&&(D="/"+F.join(".")+D),this.hostname=ie.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=i.toASCII(this.hostname));var j=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+j,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),D[0]!=="/"&&(D="/"+D))}if(!b[k])for(M=0,Z=d.length;M<Z;M++){var L=d[M];if(D.indexOf(L)!==-1){var G=encodeURIComponent(L);G===L&&(G=escape(L)),D=D.split(L).join(G)}}var W=D.indexOf("#");W!==-1&&(this.hash=D.substr(W),D=D.slice(0,W));var Y=D.indexOf("?");if(Y!==-1?(this.search=D.substr(Y),this.query=D.substr(Y+1),w&&(this.query=x.parse(this.query)),D=D.slice(0,Y)):w&&(this.search="",this.query={}),D&&(this.pathname=D),g[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var ee=this.search||"";this.path=j+ee}return this.href=this.format(),this},s.prototype.format=function(){var C=this.auth||"";C&&(C=(C=encodeURIComponent(C)).replace(/%3A/i,":"),C+="@");var w=this.protocol||"",T=this.pathname||"",_=this.hash||"",A=!1,E="";this.host?A=C+this.host:this.hostname&&(A=C+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(A+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(E=x.stringify(this.query));var D=this.search||E&&"?"+E||"";return w&&w.substr(-1)!==":"&&(w+=":"),this.slashes||(!w||g[w])&&A!==!1?(A="//"+(A||""),T&&T.charAt(0)!=="/"&&(T="/"+T)):A||(A=""),_&&_.charAt(0)!=="#"&&(_="#"+_),D&&D.charAt(0)!=="?"&&(D="?"+D),w+A+(T=T.replace(/[?#]/g,function(O){return encodeURIComponent(O)}))+(D=D.replace("#","%23"))+_},s.prototype.resolve=function(C){return this.resolveObject(S(C,!1,!0)).format()},s.prototype.resolveObject=function(C){if(a.isString(C)){var w=new s;w.parse(C,!1,!0),C=w}for(var T=new s,_=Object.keys(this),A=0;A<_.length;A++){var E=_[A];T[E]=this[E]}if(T.hash=C.hash,C.href==="")return T.href=T.format(),T;if(C.slashes&&!C.protocol){for(var D=Object.keys(C),O=0;O<D.length;O++){var P=D[O];P!=="protocol"&&(T[P]=C[P])}return g[T.protocol]&&T.hostname&&!T.pathname&&(T.path=T.pathname="/"),T.href=T.format(),T}if(C.protocol&&C.protocol!==T.protocol){if(!g[C.protocol]){for(var k=Object.keys(C),U=0;U<k.length;U++){var H=k[U];T[H]=C[H]}return T.href=T.format(),T}if(T.protocol=C.protocol,C.host||v[C.protocol])T.pathname=C.pathname;else{for(var R=(C.pathname||"").split("/");R.length&&!(C.host=R.shift()););C.host||(C.host=""),C.hostname||(C.hostname=""),R[0]!==""&&R.unshift(""),R.length<2&&R.unshift(""),T.pathname=R.join("/")}if(T.search=C.search,T.query=C.query,T.host=C.host||"",T.auth=C.auth,T.hostname=C.hostname||C.host,T.port=C.port,T.pathname||T.search){var B=T.pathname||"",M=T.search||"";T.path=B+M}return T.slashes=T.slashes||C.slashes,T.href=T.format(),T}var z=T.pathname&&T.pathname.charAt(0)==="/",$=C.host||C.pathname&&C.pathname.charAt(0)==="/",J=$||z||T.host&&C.pathname,Z=J,X=T.pathname&&T.pathname.split("/")||[],te=(R=C.pathname&&C.pathname.split("/")||[],T.protocol&&!g[T.protocol]);if(te&&(T.hostname="",T.port=null,T.host&&(X[0]===""?X[0]=T.host:X.unshift(T.host)),T.host="",C.protocol&&(C.hostname=null,C.port=null,C.host&&(R[0]===""?R[0]=C.host:R.unshift(C.host)),C.host=null),J=J&&(R[0]===""||X[0]==="")),$)T.host=C.host||C.host===""?C.host:T.host,T.hostname=C.hostname||C.hostname===""?C.hostname:T.hostname,T.search=C.search,T.query=C.query,X=R;else if(R.length)X||(X=[]),X.pop(),X=X.concat(R),T.search=C.search,T.query=C.query;else if(!a.isNullOrUndefined(C.search))return te&&(T.hostname=T.host=X.shift(),(I=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=I.shift(),T.host=T.hostname=I.shift())),T.search=C.search,T.query=C.query,a.isNull(T.pathname)&&a.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.href=T.format(),T;if(!X.length)return T.pathname=null,T.search?T.path="/"+T.search:T.path=null,T.href=T.format(),T;for(var ae=X.slice(-1)[0],ue=(T.host||C.host||X.length>1)&&(ae==="."||ae==="..")||ae==="",ie=0,F=X.length;F>=0;F--)(ae=X[F])==="."?X.splice(F,1):ae===".."?(X.splice(F,1),ie++):ie&&(X.splice(F,1),ie--);if(!J&&!Z)for(;ie--;ie)X.unshift("..");!J||X[0]===""||X[0]&&X[0].charAt(0)==="/"||X.unshift(""),ue&&X.join("/").substr(-1)!=="/"&&X.push("");var I,j=X[0]===""||X[0]&&X[0].charAt(0)==="/";return te&&(T.hostname=T.host=j?"":X.length?X.shift():"",(I=!!(T.host&&T.host.indexOf("@")>0)&&T.host.split("@"))&&(T.auth=I.shift(),T.host=T.hostname=I.shift())),(J=J||T.host&&X.length)&&!j&&X.unshift(""),X.length?T.pathname=X.join("/"):(T.pathname=null,T.path=null),a.isNull(T.pathname)&&a.isNull(T.search)||(T.path=(T.pathname?T.pathname:"")+(T.search?T.search:"")),T.auth=C.auth||T.auth,T.slashes=T.slashes||C.slashes,T.href=T.format(),T},s.prototype.parseHost=function(){var C=this.host,w=l.exec(C);w&&((w=w[0])!==":"&&(this.port=w.substr(1)),C=C.substr(0,C.length-w.length)),C&&(this.hostname=C)}},function(n,r,o){(function(i,a){var s;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(u){r&&r.nodeType,i&&i.nodeType;var l=typeof a=="object"&&a;l.global!==l&&l.window!==l&&l.self;var f,c=2147483647,d=/^xn--/,p=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,b=String.fromCharCode;function v(E){throw new RangeError(m[E])}function g(E,D){for(var O=E.length,P=[];O--;)P[O]=D(E[O]);return P}function x(E,D){var O=E.split("@"),P="";return O.length>1&&(P=O[0]+"@",E=O[1]),P+g((E=E.replace(h,".")).split("."),D).join(".")}function S(E){for(var D,O,P=[],k=0,U=E.length;k<U;)(D=E.charCodeAt(k++))>=55296&&D<=56319&&k<U?(64512&(O=E.charCodeAt(k++)))==56320?P.push(((1023&D)<<10)+(1023&O)+65536):(P.push(D),k--):P.push(D);return P}function C(E){return g(E,function(D){var O="";return D>65535&&(O+=b((D-=65536)>>>10&1023|55296),D=56320|1023&D),O+=b(D)}).join("")}function w(E,D){return E+22+75*(E<26)-((D!=0)<<5)}function T(E,D,O){var P=0;for(E=O?y(E/700):E>>1,E+=y(E/D);E>455;P+=36)E=y(E/35);return y(P+36*E/(E+38))}function _(E){var D,O,P,k,U,H,R,B,M,z,$,J=[],Z=E.length,X=0,te=128,ae=72;for((O=E.lastIndexOf("-"))<0&&(O=0),P=0;P<O;++P)E.charCodeAt(P)>=128&&v("not-basic"),J.push(E.charCodeAt(P));for(k=O>0?O+1:0;k<Z;){for(U=X,H=1,R=36;k>=Z&&v("invalid-input"),((B=($=E.charCodeAt(k++))-48<10?$-22:$-65<26?$-65:$-97<26?$-97:36)>=36||B>y((c-X)/H))&&v("overflow"),X+=B*H,!(B<(M=R<=ae?1:R>=ae+26?26:R-ae));R+=36)H>y(c/(z=36-M))&&v("overflow"),H*=z;ae=T(X-U,D=J.length+1,U==0),y(X/D)>c-te&&v("overflow"),te+=y(X/D),X%=D,J.splice(X++,0,te)}return C(J)}function A(E){var D,O,P,k,U,H,R,B,M,z,$,J,Z,X,te,ae=[];for(J=(E=S(E)).length,D=128,O=0,U=72,H=0;H<J;++H)($=E[H])<128&&ae.push(b($));for(P=k=ae.length,k&&ae.push("-");P<J;){for(R=c,H=0;H<J;++H)($=E[H])>=D&&$<R&&(R=$);for(R-D>y((c-O)/(Z=P+1))&&v("overflow"),O+=(R-D)*Z,D=R,H=0;H<J;++H)if(($=E[H])<D&&++O>c&&v("overflow"),$==D){for(B=O,M=36;!(B<(z=M<=U?1:M>=U+26?26:M-U));M+=36)te=B-z,X=36-z,ae.push(b(w(z+te%X,0))),B=y(te/X);ae.push(b(w(B,0))),U=T(O,Z,P==k),O=0,++P}++O,++D}return ae.join("")}f={version:"1.4.1",ucs2:{decode:S,encode:C},decode:_,encode:A,toASCII:function(E){return x(E,function(D){return p.test(D)?"xn--"+A(D):D})},toUnicode:function(E){return x(E,function(D){return d.test(D)?_(D.slice(4).toLowerCase()):D})}},(s=function(){return f}.call(r,o,r,i))===void 0||(i.exports=s)})()}).call(this,o(246)(n),o(78))},function(n,r){n.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(n,r,o){n.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return typeof i=="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},function(n,r,o){r.decode=r.parse=o(249),r.encode=r.stringify=o(250)},function(n,r,o){function i(s,u){return Object.prototype.hasOwnProperty.call(s,u)}n.exports=function(s,u,l,f){u=u||"&",l=l||"=";var c={};if(typeof s!="string"||s.length===0)return c;var d=/\+/g;s=s.split(u);var p=1e3;f&&typeof f.maxKeys=="number"&&(p=f.maxKeys);var h=s.length;p>0&&h>p&&(h=p);for(var m=0;m<h;++m){var y,b,v,g,x=s[m].replace(d,"%20"),S=x.indexOf(l);S>=0?(y=x.substr(0,S),b=x.substr(S+1)):(y=x,b=""),v=decodeURIComponent(y),g=decodeURIComponent(b),i(c,v)?a(c[v])?c[v].push(g):c[v]=[c[v],g]:c[v]=g}return c};var a=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}},function(n,r,o){var i=function(l){switch(typeof l){case"string":return l;case"boolean":return l?"true":"false";case"number":return isFinite(l)?l:"";default:return""}};n.exports=function(l,f,c,d){return f=f||"&",c=c||"=",l===null&&(l=void 0),typeof l=="object"?s(u(l),function(p){var h=encodeURIComponent(i(p))+c;return a(l[p])?s(l[p],function(m){return h+encodeURIComponent(i(m))}).join(f):h+encodeURIComponent(i(l[p]))}).join(f):d?encodeURIComponent(i(d))+c+encodeURIComponent(i(l)):""};var a=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function s(l,f){if(l.map)return l.map(f);for(var c=[],d=0;d<l.length;d++)c.push(f(l[d],d));return c}var u=Object.keys||function(l){var f=[];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&f.push(c);return f}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(52);r.attr_setAnExistingAttributeValue=function(a,s){a._element===null?a._value=s:i.element_change(a,a._element,s)}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(108),a=o(30),s=o(52);r.tokenList_validationSteps=function(u,l){if(!a.dom_hasSupportedTokens(u._attribute._localName))throw new TypeError("There are no supported tokens defined for attribute name: '"+u._attribute._localName+"'.");return a.dom_getSupportedTokens(u._attribute._localName).has(l.toLowerCase())},r.tokenList_updateSteps=function(u){(u._element.hasAttribute(u._attribute._localName)||u._tokenSet.size!==0)&&s.element_setAnAttributeValue(u._element,u._attribute._localName,i.orderedSet_serialize(u._tokenSet))},r.tokenList_serializeSteps=function(u){return s.element_getAnAttributeValue(u._element,u._attribute._localName)}},function(n,r,o){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(1);function s(u){return a.isBoolean(u)?u:u.capture||!1}r.eventTarget_flatten=s,r.eventTarget_flattenMore=function(u){var l=s(u),f=!1,c=!1;return a.isBoolean(u)||(f=u.once||!1,c=u.passive||!1),[l,c,f]},r.eventTarget_addEventListener=function(u,l){if(l.callback!==null){for(var f=0;f<u._eventListenerList.length;f++){var c=u._eventListenerList[f];if(c.type===l.type&&c.callback.handleEvent===l.callback.handleEvent&&c.capture===l.capture)return}u._eventListenerList.push(l)}},r.eventTarget_removeEventListener=function(u,l,f){l.removed=!0,u._eventListenerList.splice(f,1)},r.eventTarget_removeAllEventListeners=function(u){var l,f;try{for(var c=i(u._eventListenerList),d=c.next();!d.done;d=c.next())d.value.removed=!0}catch(p){l={error:p}}finally{try{d&&!d.done&&(f=c.return)&&f.call(c)}finally{if(l)throw l.error}}u._eventListenerList.length=0}},function(n,r,o){var i=this&&this.__values||function(u){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&u[l],c=0;if(f)return f.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),s=o(29);r.parentNode_convertNodesIntoANode=function(u,l){for(var f,c,d=null,p=0;p<u.length;p++){var h=u[p];if(a.isString(h)){var m=s.create_text(l,h);u[p]=m}}if(u.length===1)d=u[0];else{var y=d=s.create_documentFragment(l);try{for(var b=i(u),v=b.next();!v.done;v=b.next())h=v.value,y.appendChild(h)}catch(g){f={error:g}}finally{try{v&&!v.done&&(c=b.return)&&c.call(b)}finally{if(f)throw f.error}}}return d}},function(n,r,o){var i=this&&this.__values||function(w){var T=typeof Symbol=="function"&&Symbol.iterator,_=T&&w[T],A=0;if(_)return _.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&A>=w.length&&(w=void 0),{value:w&&w[A++],done:!w}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(w,T){var _=typeof Symbol=="function"&&w[Symbol.iterator];if(!_)return w;var A,E,D=_.call(w),O=[];try{for(;(T===void 0||T-- >0)&&!(A=D.next()).done;)O.push(A.value)}catch(P){E={error:P}}finally{try{A&&!A.done&&(_=D.return)&&_.call(D)}finally{if(E)throw E.error}}return O},s=this&&this.__spread||function(){for(var w=[],T=0;T<arguments.length;T++)w=w.concat(a(arguments[T]));return w};Object.defineProperty(r,"__esModule",{value:!0});var u=o(2),l=o(9),f=o(3),c=o(29),d=o(17),p=o(175),h=o(107),m=o(176),y=o(37),b=o(177);function v(w){return w._startNode===w._endNode&&w._startOffset===w._endOffset}function g(w){return d.tree_rootNode(w._startNode)}function x(w,T){return d.tree_rootNode(w)===g(T)&&p.boundaryPoint_position([w,0],T._start)===u.BoundaryPosition.After&&p.boundaryPoint_position([w,d.tree_nodeLength(w)],T._end)===u.BoundaryPosition.Before}function S(w,T){var _=d.tree_isAncestorOf(T._startNode,w,!0),A=d.tree_isAncestorOf(T._endNode,w,!0);return _&&!A||!_&&A}function C(w){var T,_,A,E,D,O,P=c.create_documentFragment(w._startNode._nodeDocument);if(v(w))return P;var k=w._startNode,U=w._startOffset,H=w._endNode,R=w._endOffset;if(k===H&&f.Guard.isCharacterDataNode(k))return(N=m.node_clone(k))._data=h.characterData_substringData(k,U,R-U),y.mutation_append(N,P),h.characterData_replaceData(k,U,R-U,""),P;for(var B=k;!d.tree_isAncestorOf(H,B,!0);){if(B._parent===null)throw new Error("Parent node  is null.");B=B._parent}var M=null;if(!d.tree_isAncestorOf(H,k,!0))try{for(var z=i(B._children),$=z.next();!$.done;$=z.next())if(S(te=$.value,w)){M=te;break}}catch(ee){T={error:ee}}finally{try{$&&!$.done&&(_=z.return)&&_.call(z)}finally{if(T)throw T.error}}var J=null;if(!d.tree_isAncestorOf(k,H,!0))for(var Z=s(B._children),X=Z.length-1;X>0;X--){var te;if(S(te=Z[X],w)){J=te;break}}var ae,ue,ie=[];try{for(var F=i(B._children),I=F.next();!I.done;I=F.next())if(x(Y=I.value,w)){if(f.Guard.isDocumentTypeNode(Y))throw new l.HierarchyRequestError;ie.push(Y)}}catch(ee){A={error:ee}}finally{try{I&&!I.done&&(E=F.return)&&E.call(F)}finally{if(A)throw A.error}}if(d.tree_isAncestorOf(H,k,!0))ae=k,ue=U;else{for(var j=k;j._parent!==null&&!d.tree_isAncestorOf(H,j._parent);)j=j._parent;if(j._parent===null)throw new Error("Parent node is null.");ae=j._parent,ue=1+d.tree_index(j)}if(f.Guard.isCharacterDataNode(M))(N=m.node_clone(k))._data=h.characterData_substringData(k,U,d.tree_nodeLength(k)-U),y.mutation_append(N,P),h.characterData_replaceData(k,U,d.tree_nodeLength(k)-U,"");else if(M!==null){var N=m.node_clone(M);y.mutation_append(N,P);var L=C(c.create_range([k,U],[M,d.tree_nodeLength(M)]));y.mutation_append(L,N)}try{for(var G=i(ie),W=G.next();!W.done;W=G.next()){var Y=W.value;y.mutation_append(Y,P)}}catch(ee){D={error:ee}}finally{try{W&&!W.done&&(O=G.return)&&O.call(G)}finally{if(D)throw D.error}}return f.Guard.isCharacterDataNode(J)?((N=m.node_clone(H))._data=h.characterData_substringData(H,0,R),y.mutation_append(N,P),h.characterData_replaceData(H,0,R,"")):J!==null&&(N=m.node_clone(J),y.mutation_append(N,P),L=C(c.create_range([J,0],[H,R])),y.mutation_append(L,N)),w._start=[ae,ue],w._end=[ae,ue],P}r.range_collapsed=v,r.range_root=g,r.range_isContained=x,r.range_isPartiallyContained=S,r.range_setTheStart=function(w,T,_){if(f.Guard.isDocumentTypeNode(T))throw new l.InvalidNodeTypeError;if(_>d.tree_nodeLength(T))throw new l.IndexSizeError;var A=[T,_];g(w)===d.tree_rootNode(T)&&p.boundaryPoint_position(A,w._end)!==u.BoundaryPosition.After||(w._end=A),w._start=A},r.range_setTheEnd=function(w,T,_){if(f.Guard.isDocumentTypeNode(T))throw new l.InvalidNodeTypeError;if(_>d.tree_nodeLength(T))throw new l.IndexSizeError;var A=[T,_];g(w)===d.tree_rootNode(T)&&p.boundaryPoint_position(A,w._start)!==u.BoundaryPosition.Before||(w._start=A),w._end=A},r.range_select=function(w,T){var _=w._parent;if(_===null)throw new l.InvalidNodeTypeError;var A=d.tree_index(w);T._start=[_,A],T._end=[_,A+1]},r.range_extract=C,r.range_cloneTheContents=function w(T){var _,A,E,D,O,P,k=c.create_documentFragment(T._startNode._nodeDocument);if(v(T))return k;var U=T._startNode,H=T._startOffset,R=T._endNode,B=T._endOffset;U===R&&f.Guard.isCharacterDataNode(U)&&((I=m.node_clone(U))._data=h.characterData_substringData(U,H,B-H),y.mutation_append(I,k));for(var M=U;!d.tree_isAncestorOf(R,M,!0);){if(M._parent===null)throw new Error("Parent node  is null.");M=M._parent}var z=null;if(!d.tree_isAncestorOf(R,U,!0))try{for(var $=i(M._children),J=$.next();!J.done;J=$.next())if(S(ae=J.value,T)){z=ae;break}}catch(W){_={error:W}}finally{try{J&&!J.done&&(A=$.return)&&A.call($)}finally{if(_)throw _.error}}var Z=null;if(!d.tree_isAncestorOf(U,R,!0))for(var X=s(M._children),te=X.length-1;te>0;te--){var ae;if(S(ae=X[te],T)){Z=ae;break}}var ue=[];try{for(var ie=i(M._children),F=ie.next();!F.done;F=ie.next())if(x(G=F.value,T)){if(f.Guard.isDocumentTypeNode(G))throw new l.HierarchyRequestError;ue.push(G)}}catch(W){E={error:W}}finally{try{F&&!F.done&&(D=ie.return)&&D.call(ie)}finally{if(E)throw E.error}}if(f.Guard.isCharacterDataNode(z))(I=m.node_clone(U))._data=h.characterData_substringData(U,H,d.tree_nodeLength(U)-H),y.mutation_append(I,k);else if(z!==null){var I=m.node_clone(z);y.mutation_append(I,k);var j=w(c.create_range([U,H],[z,d.tree_nodeLength(z)]));y.mutation_append(j,I)}try{for(var N=i(ue),L=N.next();!L.done;L=N.next()){var G=L.value,I=m.node_clone(G);y.mutation_append(I,k)}}catch(W){O={error:W}}finally{try{L&&!L.done&&(P=N.return)&&P.call(N)}finally{if(O)throw O.error}}return f.Guard.isCharacterDataNode(Z)?((I=m.node_clone(R))._data=h.characterData_substringData(R,0,B),y.mutation_append(I,k)):Z!==null&&(I=m.node_clone(Z),k.append(I),j=C(c.create_range([Z,0],[R,B])),y.mutation_append(j,I)),k},r.range_insert=function(w,T){var _,A;if(f.Guard.isProcessingInstructionNode(T._startNode)||f.Guard.isCommentNode(T._startNode)||f.Guard.isTextNode(T._startNode)&&T._startNode._parent===null||T._startNode===w)throw new l.HierarchyRequestError;var E,D=null;if(f.Guard.isTextNode(T._startNode))D=T._startNode;else{var O=0;try{for(var P=i(T._startNode._children),k=P.next();!k.done;k=P.next()){var U=k.value;if(O===T._startOffset){D=U;break}O++}}catch(R){_={error:R}}finally{try{k&&!k.done&&(A=P.return)&&A.call(P)}finally{if(_)throw _.error}}}if(D===null)E=T._startNode;else{if(D._parent===null)throw new Error("Parent node is null.");E=D._parent}y.mutation_ensurePreInsertionValidity(w,E,D),f.Guard.isTextNode(T._startNode)&&(D=b.text_split(T._startNode,T._startOffset)),w===D&&(D=w._nextSibling),w._parent!==null&&y.mutation_remove(w,w._parent);var H=D===null?d.tree_nodeLength(E):d.tree_index(D);f.Guard.isDocumentFragmentNode(w)?H+=d.tree_nodeLength(w):H++,y.mutation_preInsert(w,E,D),v(T)&&(T._end=[E,H])},r.range_getContainedNodes=function(w){var T;return(T={})[Symbol.iterator]=function(){var _=w.commonAncestorContainer,A=d.tree_getFirstDescendantNode(_);return{next:function(){for(;A&&!x(A,w);)A=d.tree_getNextDescendantNode(_,A);if(A===null)return{done:!0,value:null};var E={done:!1,value:A};return A=d.tree_getNextDescendantNode(_,A),E}}},T},r.range_getPartiallyContainedNodes=function(w){var T;return(T={})[Symbol.iterator]=function(){var _=w.commonAncestorContainer,A=d.tree_getFirstDescendantNode(_);return{next:function(){for(;A&&!S(A,w);)A=d.tree_getNextDescendantNode(_,A);if(A===null)return{done:!0,value:null};var E={done:!1,value:A};return A=d.tree_getNextDescendantNode(_,A),E}}},T}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(9);r.selectors_scopeMatchASelectorsString=function(a,s){throw new i.NotSupportedError}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(2),a=o(105);r.treeWalker_traverseChildren=function(s,u){for(var l=u?s._current._firstChild:s._current._lastChild;l!==null;){var f=a.traversal_filter(s,l);if(f===i.FilterResult.Accept)return s._current=l,l;if(f===i.FilterResult.Skip){var c=u?l._firstChild:l._lastChild;if(c!==null){l=c;continue}}for(;l!==null;){var d=u?l._nextSibling:l._previousSibling;if(d!==null){l=d;break}var p=l._parent;if(p===null||p===s._root||p===s._current)return null;l=p}}return null},r.treeWalker_traverseSiblings=function(s,u){var l=s._current;if(l===s._root)return null;for(;;){for(var f=u?l._nextSibling:l._previousSibling;f!==null;){l=f;var c=a.traversal_filter(s,l);if(c===i.FilterResult.Accept)return s._current=l,l;f=u?l._firstChild:l._lastChild,c!==i.FilterResult.Reject&&f!==null||(f=u?l._nextSibling:l._previousSibling)}if((l=l._parent)===null||l===s._root||a.traversal_filter(s,l)===i.FilterResult.Accept)return null}}},function(n,r,o){o(89),o(74);var i,a=this&&this.__extends||(i=function(d,p){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])})(d,p)},function(d,p){function h(){this.constructor=d}i(d,p),d.prototype=p===null?Object.create(p):(h.prototype=p.prototype,new h)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(1),u=o(2),l=o(50),f=o(3),c=function(d){function p(h,m){var y=d.call(this,h)||this;return y._indentation={},y._lengthToLastNewline=0,y._writerOptions=s.applyDefaults(m,{wellFormed:!1,headless:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,width:0,allowEmptyTags:!1,indentTextOnlyNodes:!1,spaceBeforeSlash:!1}),y}return a(p,d),p.prototype.serialize=function(h){return this._refs={suppressPretty:!1,emptyNode:!1,markup:""},h.nodeType!==u.NodeType.Document||this._writerOptions.headless||this.declaration(this._builderOptions.version,this._builderOptions.encoding,this._builderOptions.standalone),this.serializeNode(h,this._writerOptions.wellFormed),this._writerOptions.prettyPrint&&this._refs.markup.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(this._refs.markup=this._refs.markup.slice(0,-this._writerOptions.newline.length)),this._refs.markup},p.prototype.declaration=function(h,m,y){this._beginLine(),this._refs.markup+='<?xml version="'+h+'"',m!==void 0&&(this._refs.markup+=' encoding="'+m+'"'),y!==void 0&&(this._refs.markup+=' standalone="'+(y?"yes":"no")+'"'),this._refs.markup+="?>",this._endLine()},p.prototype.docType=function(h,m,y){this._beginLine(),this._refs.markup+=m&&y?"<!DOCTYPE "+h+' PUBLIC "'+m+'" "'+y+'">':m?"<!DOCTYPE "+h+' PUBLIC "'+m+'">':y?"<!DOCTYPE "+h+' SYSTEM "'+y+'">':"<!DOCTYPE "+h+">",this._endLine()},p.prototype.openTagBegin=function(h){this._beginLine(),this._refs.markup+="<"+h},p.prototype.openTagEnd=function(h,m,y){if(this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._writerOptions.prettyPrint&&!m&&!y){for(var b=!0,v=!0,g=this.currentNode.firstChild,x=0,S=0;g;){if(f.Guard.isExclusiveTextNode(g))S++;else{if(!f.Guard.isCDATASectionNode(g)){b=!1,v=!1;break}x++}g.data!==""&&(v=!1),g=g.nextSibling}this._refs.suppressPretty=!this._writerOptions.indentTextOnlyNodes&&b&&(x<=1&&S===0||x===0),this._refs.emptyNode=v}(y||m||this._refs.emptyNode)&&this._writerOptions.allowEmptyTags?this._refs.markup+="></"+h+">":this._refs.markup+=y?" />":m||this._refs.emptyNode?this._writerOptions.spaceBeforeSlash?" />":"/>":">",this._endLine()},p.prototype.closeTag=function(h){this._refs.emptyNode||(this._beginLine(),this._refs.markup+="</"+h+">"),this._refs.suppressPretty=!1,this._refs.emptyNode=!1,this._endLine()},p.prototype.attribute=function(h,m){var y=h+'="'+m+'"';this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._refs.markup.length-this._lengthToLastNewline+1+y.length>this._writerOptions.width?(this._endLine(),this._beginLine(),this._refs.markup+=this._indent(1)+y):this._refs.markup+=" "+y},p.prototype.text=function(h){h!==""&&(this._beginLine(),this._refs.markup+=h,this._endLine())},p.prototype.cdata=function(h){h!==""&&(this._beginLine(),this._refs.markup+="<![CDATA["+h+"]]>",this._endLine())},p.prototype.comment=function(h){this._beginLine(),this._refs.markup+="<!--"+h+"-->",this._endLine()},p.prototype.instruction=function(h,m){this._beginLine(),this._refs.markup+="<?"+(m===""?h:h+" "+m)+"?>",this._endLine()},p.prototype._beginLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._indent(this._writerOptions.offset+this.level))},p.prototype._endLine=function(){this._writerOptions.prettyPrint&&!this._refs.suppressPretty&&(this._refs.markup+=this._writerOptions.newline,this._lengthToLastNewline=this._refs.markup.length)},p.prototype._indent=function(h){if(h<=0)return"";if(this._indentation[h]!==void 0)return this._indentation[h];var m=this._writerOptions.indent.repeat(h);return this._indentation[h]=m,m},p}(l.BaseWriter);r.XMLWriter=c},function(n,r,o){var i=o(47),a=o(35);n.exports="".repeat||function(s){var u=String(a(this)),l="",f=i(s);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;f>0;(f>>>=1)&&(u+=u))1&f&&(l+=u);return l}},function(n,r,o){o(31),o(32),o(33),o(19),o(178),o(20),o(22),o(23);var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}),s=this&&this.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&c[d],h=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=o(67),l=o(1),f=function(c){function d(p,h){var m=c.call(this,p)||this;return m._writerOptions=l.applyDefaults(h,{wellFormed:!1,prettyPrint:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),m}return a(d,c),d.prototype.serialize=function(p){var h=l.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),m=new u.ObjectWriter(this._builderOptions,h).serialize(p);return this._beginLine(this._writerOptions,0)+this._convertObject(m,this._writerOptions)},d.prototype._convertObject=function(p,h,m){var y,b,v=this;m===void 0&&(m=0);var g="",x=this._isLeafNode(p);if(l.isArray(p)){g+="[";var S=p.length,C=0;try{for(var w=s(p),T=w.next();!T.done;T=w.next()){var _=T.value;g+=this._endLine(h,m+1)+this._beginLine(h,m+1)+this._convertObject(_,h,m+1),C<S-1&&(g+=","),C++}}catch(D){y={error:D}}finally{try{T&&!T.done&&(b=w.return)&&b.call(w)}finally{if(y)throw y.error}}g+=this._endLine(h,m)+this._beginLine(h,m),g+="]"}else if(l.isObject(p)){g+="{";var A=l.objectLength(p),E=0;l.forEachObject(p,function(D,O){x&&h.prettyPrint?g+=" ":g+=v._endLine(h,m+1)+v._beginLine(h,m+1),g+=v._key(D),h.prettyPrint&&(g+=" "),g+=v._convertObject(O,h,m+1),E<A-1&&(g+=","),E++},this),x&&h.prettyPrint?g+=" ":g+=this._endLine(h,m)+this._beginLine(h,m),g+="}"}else g+=this._val(p);return g},d.prototype._beginLine=function(p,h){if(!p.prettyPrint)return"";var m=p.offset+h+1;return m>0?new Array(m).join(p.indent):""},d.prototype._endLine=function(p,h){return p.prettyPrint?p.newline:""},d.prototype._key=function(p){return'"'+p+'":'},d.prototype._val=function(p){return JSON.stringify(p)},d.prototype._isLeafNode=function(p){return this._descendantCount(p)<=1},d.prototype._descendantCount=function(p,h){var m=this;return h===void 0&&(h=0),l.isArray(p)?l.forEachArray(p,function(y){return h+=m._descendantCount(y,h)},this):l.isObject(p)?l.forEachObject(p,function(y,b){return h+=m._descendantCount(b,h)},this):h++,h},d}(o(50).BaseWriter);r.JSONWriter=f},function(n,r,o){o(31),o(32),o(33),o(19),o(178),o(89),o(20),o(22),o(23);var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}),s=this&&this.__values||function(c){var d=typeof Symbol=="function"&&Symbol.iterator,p=d&&c[d],h=0;if(p)return p.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var u=o(67),l=o(1),f=function(c){function d(p,h){var m=c.call(this,p)||this;if(m._writerOptions=l.applyDefaults(h,{wellFormed:!1,indent:"  ",newline:`
`,offset:0,group:!1,verbose:!1}),m._writerOptions.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(m._writerOptions.offset<0)throw new Error("YAML offset should be zero or a positive number.");return m}return a(d,c),d.prototype.serialize=function(p){var h=l.applyDefaults(this._writerOptions,{format:"object",wellFormed:!1}),m=new u.ObjectWriter(this._builderOptions,h).serialize(p),y=this._beginLine(this._writerOptions,0)+"---"+this._endLine(this._writerOptions)+this._convertObject(m,this._writerOptions,0);return y.slice(-this._writerOptions.newline.length)===this._writerOptions.newline&&(y=y.slice(0,-this._writerOptions.newline.length)),y},d.prototype._convertObject=function(p,h,m,y){var b,v,g=this;y===void 0&&(y=!1);var x="";if(l.isArray(p))try{for(var S=s(p),C=S.next();!C.done;C=S.next()){var w=C.value;x+=this._beginLine(h,m,!0),l.isObject(w)?l.isEmpty(w)?x+='""'+this._endLine(h):x+=this._convertObject(w,h,m,!0):x+=this._val(w)+this._endLine(h)}}catch(T){b={error:T}}finally{try{C&&!C.done&&(v=S.return)&&v.call(S)}finally{if(b)throw b.error}}else l.forEachObject(p,function(T,_){y?(x+=g._key(T),y=!1):x+=g._beginLine(h,m)+g._key(T),l.isObject(_)?l.isEmpty(_)?x+=' ""'+g._endLine(h):x+=g._endLine(h)+g._convertObject(_,h,m+1):x+=" "+g._val(_)+g._endLine(h)},this);return x},d.prototype._beginLine=function(p,h,m){m===void 0&&(m=!1);var y=p.offset+h+1,b=new Array(y).join(p.indent);return m?b.substr(0,b.length-2)+"-"+b.substr(-1,1):b},d.prototype._endLine=function(p){return p.newline},d.prototype._key=function(p){return'"'+p+'":'},d.prototype._val=function(p){return JSON.stringify(p)},d}(o(50).BaseWriter);r.YAMLWriter=f},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),o(110).dom.setFeatures(!0);var i=o(110);r.DOMImplementation=i.DOMImplementation;var a=o(271);r.DOMParser=a.DOMParser;var s=o(274);r.XMLSerializer=s.XMLSerializer},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(3),a=o(0),s=function(){function u(){}return u.prototype.before=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=i.Cast.asNode(this),d=c._parent;if(d!==null){for(var p=c._previousSibling,h=!0;h&&p;){h=!1;for(var m=0;m<l.length;m++){var y=l[m];if(y===p){p=p._previousSibling,h=!0;break}}}var b=a.parentNode_convertNodesIntoANode(l,c._nodeDocument);p=p===null?d._firstChild:p._nextSibling,a.mutation_preInsert(b,d,p)}},u.prototype.after=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=i.Cast.asNode(this),d=c._parent;if(d){for(var p=c._nextSibling,h=!0;h&&p;){h=!1;for(var m=0;m<l.length;m++){var y=l[m];if(y===p){p=p._nextSibling,h=!0;break}}}var b=a.parentNode_convertNodesIntoANode(l,c._nodeDocument);a.mutation_preInsert(b,d,p)}},u.prototype.replaceWith=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var c=i.Cast.asNode(this),d=c._parent;if(d){for(var p=c._nextSibling,h=!0;h&&p;){h=!1;for(var m=0;m<l.length;m++){var y=l[m];if(y===p){p=p._nextSibling,h=!0;break}}}var b=a.parentNode_convertNodesIntoANode(l,c._nodeDocument);c._parent===d?a.mutation_replace(c,b,d):a.mutation_preInsert(b,d,p)}},u.prototype.remove=function(){var l=i.Cast.asNode(this),f=l._parent;f&&a.mutation_remove(l,f)},u}();r.ChildNodeImpl=s},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=function(){};r.DocumentOrShadowRootImpl=i},function(n,r,o){var i=this&&this.__values||function(f){var c=typeof Symbol=="function"&&Symbol.iterator,d=c&&f[c],p=0;if(d)return d.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&p>=f.length&&(f=void 0),{value:f&&f[p++],done:!f}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),s=o(3),u=o(7),l=function(){function f(c){this._nodeList=[],this._recordQueue=[],this._callback=c;var d=a.dom.window;u.set.append(d._mutationObservers,this)}return f.prototype.observe=function(c,d){var p,h;if((d=d||{childList:!1,subtree:!1}).attributeOldValue===void 0&&d.attributeFilter===void 0||d.attributes!==void 0||(d.attributes=!0),d.characterDataOldValue!==void 0&&d.characterData===void 0&&(d.characterData=!0),!d.childList&&!d.attributes&&!d.characterData)throw new TypeError;if(d.attributeOldValue&&!d.attributes)throw new TypeError;if(d.attributeFilter!==void 0&&!d.attributes)throw new TypeError;if(d.characterDataOldValue&&!d.characterData)throw new TypeError;var m=!1,y=d,b=function(S){var C,w;if(S.observer===v){m=!0;try{for(var T=(C=void 0,i(v._nodeList)),_=T.next();!_.done;_=T.next()){var A=_.value;u.list.remove(A._registeredObserverList,function(E){return s.Guard.isTransientRegisteredObserver(E)&&E.source===S})}}catch(E){C={error:E}}finally{try{_&&!_.done&&(w=T.return)&&w.call(T)}finally{if(C)throw C.error}}S.options=y}},v=this;try{for(var g=i(c._registeredObserverList),x=g.next();!x.done;x=g.next())b(x.value)}catch(S){p={error:S}}finally{try{x&&!x.done&&(h=g.return)&&h.call(g)}finally{if(p)throw p.error}}m||(c._registeredObserverList.push({observer:this,options:d}),this._nodeList.push(c))},f.prototype.disconnect=function(){var c,d,p=this;try{for(var h=i(this._nodeList),m=h.next();!m.done;m=h.next()){var y=m.value;u.list.remove(y._registeredObserverList,function(b){return b.observer===p})}}catch(b){c={error:b}}finally{try{m&&!m.done&&(d=h.return)&&d.call(h)}finally{if(c)throw c.error}}this._recordQueue=[]},f.prototype.takeRecords=function(){var c=this._recordQueue;return this._recordQueue=[],c},f}();r.MutationObserverImpl=l},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(3),a=function(){function s(){}return Object.defineProperty(s.prototype,"previousElementSibling",{get:function(){for(var u=i.Cast.asNode(this)._previousSibling;u;){if(i.Guard.isElementNode(u))return u;u=u._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nextElementSibling",{get:function(){for(var u=i.Cast.asNode(this)._nextSibling;u;){if(i.Guard.isElementNode(u))return u;u=u._nextSibling}return null},enumerable:!0,configurable:!0}),s}();r.NonDocumentTypeChildNodeImpl=a},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(3),a=o(0),s=function(){function u(){}return u.prototype.getElementById=function(l){for(var f=a.tree_getFirstDescendantNode(i.Cast.asNode(this),!1,!1,function(c){return i.Guard.isElementNode(c)});f!==null;){if(f._uniqueIdentifier===l)return f;f=a.tree_getNextDescendantNode(i.Cast.asNode(this),f,!1,!1,function(c){return i.Guard.isElementNode(c)})}return null},u}();r.NonElementParentNodeImpl=s},function(n,r,o){var i=this&&this.__values||function(l){var f=typeof Symbol=="function"&&Symbol.iterator,c=f&&l[f],d=0;if(c)return c.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&d>=l.length&&(l=void 0),{value:l&&l[d++],done:!l}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(3),s=o(0),u=function(){function l(){}return Object.defineProperty(l.prototype,"children",{get:function(){return s.create_htmlCollection(a.Cast.asNode(this))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstElementChild",{get:function(){for(var f=a.Cast.asNode(this)._firstChild;f;){if(a.Guard.isElementNode(f))return f;f=f._nextSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"lastElementChild",{get:function(){for(var f=a.Cast.asNode(this)._lastChild;f;){if(a.Guard.isElementNode(f))return f;f=f._previousSibling}return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"childElementCount",{get:function(){var f,c,d=0;try{for(var p=i(a.Cast.asNode(this)._children),h=p.next();!h.done;h=p.next()){var m=h.value;a.Guard.isElementNode(m)&&d++}}catch(y){f={error:y}}finally{try{h&&!h.done&&(c=p.return)&&c.call(p)}finally{if(f)throw f.error}}return d},enumerable:!0,configurable:!0}),l.prototype.prepend=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var d=a.Cast.asNode(this),p=s.parentNode_convertNodesIntoANode(f,d._nodeDocument);s.mutation_preInsert(p,d,d._firstChild)},l.prototype.append=function(){for(var f=[],c=0;c<arguments.length;c++)f[c]=arguments[c];var d=a.Cast.asNode(this),p=s.parentNode_convertNodesIntoANode(f,d._nodeDocument);s.mutation_append(p,d)},l.prototype.querySelector=function(f){var c=a.Cast.asNode(this),d=s.selectors_scopeMatchASelectorsString(f,c);return d.length===0?null:d[0]},l.prototype.querySelectorAll=function(f){var c=a.Cast.asNode(this),d=s.selectors_scopeMatchASelectorsString(f,c);return s.create_nodeListStatic(c,d)},l}();r.ParentNodeImpl=u},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=function(){function s(){}return Object.defineProperty(s.prototype,"_name",{get:function(){return this.__name||""},set:function(u){this.__name=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_assignedSlot",{get:function(){return this.__assignedSlot||null},set:function(u){this.__assignedSlot=u},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"assignedSlot",{get:function(){return i.shadowTree_findASlot(this,!0)},enumerable:!0,configurable:!0}),s}();r.SlotableImpl=a},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(102),u=o(9),l=o(3),f=function(c){function d(p){var h=c.call(this)||this;if(l.Guard.isDocumentTypeNode(p.startContainer)||l.Guard.isAttrNode(p.startContainer)||l.Guard.isDocumentTypeNode(p.endContainer)||l.Guard.isAttrNode(p.endContainer))throw new u.InvalidNodeTypeError;return h._start=[p.startContainer,p.startOffset],h._end=[p.endContainer,p.endOffset],h}return a(d,c),d}(s.AbstractRangeImpl);r.StaticRangeImpl=f},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(272);r.DOMParser=i.DOMParserImpl},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(0),a=o(273),s=function(){function u(){}return u.prototype.parseFromString=function(l,f){if(f==="text/html")throw new Error("HTML parser not implemented.");try{return(c=new a.XMLParserImpl().parse(l))._contentType=f,c}catch(m){var c,d="http://www.mozilla.org/newlayout/xml/parsererror.xml",p=(c=i.create_xmlDocument()).createElementNS(d,"parsererror"),h=c.createElementNS(d,"error");return h.setAttribute("message",m.message),p.appendChild(h),c.appendChild(p),c}},u}();r.DOMParserImpl=s},function(n,r,o){var i=this&&this.__read||function(p,h){var m=typeof Symbol=="function"&&p[Symbol.iterator];if(!m)return p;var y,b,v=m.call(p),g=[];try{for(;(h===void 0||h-- >0)&&!(y=v.next()).done;)g.push(y.value)}catch(x){b={error:x}}finally{try{y&&!y.done&&(m=v.return)&&m.call(v)}finally{if(b)throw b.error}}return g},a=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],y=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var s=o(180),u=o(111),l=o(7),f=o(0),c=o(69),d=function(){function p(){}return p.prototype.parse=function(h){for(var m,y,b,v,g=new s.XMLStringLexer(h,{skipWhitespaceOnlyText:!0}),x=f.create_document(),S=x,C=g.nextToken();C.type!==u.TokenType.EOF;){switch(C.type){case u.TokenType.Declaration:var w=C;if(w.version!=="1.0")throw new Error("Invalid xml version: "+w.version);break;case u.TokenType.DocType:var T=C;if(!f.xml_isPubidChar(T.pubId))throw new Error("DocType public identifier does not match PubidChar construct.");if(!f.xml_isLegalChar(T.sysId)||T.sysId.indexOf('"')!==-1&&T.sysId.indexOf("'")!==-1)throw new Error("DocType system identifier contains invalid characters.");S.appendChild(x.implementation.createDocumentType(T.name,T.pubId,T.sysId));break;case u.TokenType.CDATA:var _=C;if(!f.xml_isLegalChar(_.data)||_.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters.");S.appendChild(x.createCDATASection(_.data));break;case u.TokenType.Comment:var A=C;if(!f.xml_isLegalChar(A.data)||A.data.indexOf("--")!==-1||A.data.endsWith("-"))throw new Error("Comment data contains invalid characters.");S.appendChild(x.createComment(A.data));break;case u.TokenType.PI:var E=C;if(E.target.indexOf(":")!==-1||/^xml$/i.test(E.target))throw new Error("Processing instruction target contains invalid characters.");if(!f.xml_isLegalChar(E.data)||E.data.indexOf("?>")!==-1)throw new Error("Processing instruction data contains invalid characters.");S.appendChild(x.createProcessingInstruction(E.target,E.data));break;case u.TokenType.Text:var D=C;if(!f.xml_isLegalChar(D.data))throw new Error("Text data contains invalid characters.");S.appendChild(x.createTextNode(this._decodeText(D.data)));break;case u.TokenType.Element:var O=C,P=i(f.namespace_extractQName(O.name),2),k=P[0],U=P[1];if(U.indexOf(":")!==-1||!f.xml_isName(U))throw new Error("Node local name contains invalid characters.");if(k==="xmlns")throw new Error("An element cannot have the 'xmlns' prefix.");var H=S.lookupNamespaceURI(k),R={};try{for(var B=(m=void 0,a(O.attributes)),M=B.next();!M.done;M=B.next()){var z=i(M.value,2),$=z[0],J=z[1];if($==="xmlns")H=J;else{var Z=i(f.namespace_extractQName($),2),X=Z[0],te=Z[1];X==="xmlns"&&(te===k&&(H=J),R[te]=J)}}}catch(L){m={error:L}}finally{try{M&&!M.done&&(y=B.return)&&y.call(B)}finally{if(m)throw m.error}}var ae=H!==null?x.createElementNS(H,O.name):x.createElement(O.name);S.appendChild(ae);var ue=new c.LocalNameSet;try{for(var ie=(b=void 0,a(O.attributes)),F=ie.next();!F.done;F=ie.next()){var I=i(F.value,2),j=($=I[0],J=I[1],i(f.namespace_extractQName($),2)),N=(X=j[0],te=j[1],null);if(X==="xmlns"||X===null&&te==="xmlns"?N=l.namespace.XMLNS:(N=ae.lookupNamespaceURI(X))!==null&&ae.isDefaultNamespace(N)?N=null:N===null&&X!==null&&(N=R[X]||null),ue.has(N,te))throw new Error("Element contains duplicate attributes.");if(ue.set(N,te),N===l.namespace.XMLNS&&J===l.namespace.XMLNS)throw new Error("XMLNS namespace is reserved.");if(te.indexOf(":")!==-1||!f.xml_isName(te))throw new Error("Attribute local name contains invalid characters.");if(X==="xmlns"&&J==="")throw new Error("Empty XML namespace is not allowed.");N!==null?ae.setAttributeNS(N,$,this._decodeAttributeValue(J)):ae.setAttribute($,this._decodeAttributeValue(J))}}catch(L){b={error:L}}finally{try{F&&!F.done&&(v=ie.return)&&v.call(ie)}finally{if(b)throw b.error}}O.selfClosing||(S=ae);break;case u.TokenType.ClosingTag:if(C.name!==S.nodeName)throw new Error("Closing tag name does not match opening tag name.");S._parent&&(S=S._parent)}C=g.nextToken()}return x},p.prototype._decodeText=function(h){return h==null?h:h.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p.prototype._decodeAttributeValue=function(h){return h==null?h:h.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},p}();r.XMLParserImpl=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(275);r.XMLSerializer=i.XMLSerializerImpl},function(n,r,o){var i=this&&this.__values||function(p){var h=typeof Symbol=="function"&&Symbol.iterator,m=h&&p[h],y=0;if(m)return m.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&y>=p.length&&(p=void 0),{value:p&&p[y++],done:!p}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var a=o(2),s=o(69),u=o(95),l=o(9),f=o(7),c=o(0),d=function(){function p(){}return p.prototype.serializeToString=function(h){return this._xmlSerialization(h,!1)},p.prototype._xmlSerialization=function(h,m){if(h._nodeDocument===void 0||h._nodeDocument._hasNamespaces){var y=new u.NamespacePrefixMap;y.set("xml",f.namespace.XML);try{return this._serializeNodeNS(h,null,y,{value:1},m)}catch(b){throw new l.InvalidStateError}}else try{return this._serializeNode(h,m)}catch(b){throw new l.InvalidStateError}},p.prototype._serializeNodeNS=function(h,m,y,b,v){switch(h.nodeType){case a.NodeType.Element:return this._serializeElementNS(h,m,y,b,v);case a.NodeType.Document:return this._serializeDocumentNS(h,m,y,b,v);case a.NodeType.Comment:return this._serializeComment(h,v);case a.NodeType.Text:return this._serializeText(h,v);case a.NodeType.DocumentFragment:return this._serializeDocumentFragmentNS(h,m,y,b,v);case a.NodeType.DocumentType:return this._serializeDocumentType(h,v);case a.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(h,v);case a.NodeType.CData:return this._serializeCData(h,v);default:throw new Error("Unknown node type: "+h.nodeType)}},p.prototype._serializeNode=function(h,m){switch(h.nodeType){case a.NodeType.Element:return this._serializeElement(h,m);case a.NodeType.Document:return this._serializeDocument(h,m);case a.NodeType.Comment:return this._serializeComment(h,m);case a.NodeType.Text:return this._serializeText(h,m);case a.NodeType.DocumentFragment:return this._serializeDocumentFragment(h,m);case a.NodeType.DocumentType:return this._serializeDocumentType(h,m);case a.NodeType.ProcessingInstruction:return this._serializeProcessingInstruction(h,m);case a.NodeType.CData:return this._serializeCData(h,m);default:throw new Error("Unknown node type: "+h.nodeType)}},p.prototype._serializeElementNS=function(h,m,y,b,v){var g,x;if(v&&(h.localName.indexOf(":")!==-1||!c.xml_isName(h.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var S="<",C="",w=!1,T=!1,_=y.copy(),A={},E=this._recordNamespaceInformation(h,_,A),D=m,O=h.namespaceURI;if(D===O)E!==null&&(T=!0),S+=C=O===f.namespace.XML?"xml:"+h.localName:h.localName;else{var P=h.prefix,k=null;if(P===null&&O===E||(k=_.get(P,O)),P==="xmlns"){if(v)throw new Error("An element cannot have the 'xmlns' prefix (well-formed required).");k=P}k!==null?(C=k+":"+h.localName,E!==null&&E!==f.namespace.XML&&(D=E||null),S+=C):P!==null?(P in A&&(P=this._generatePrefix(O,_,b)),_.set(P,O),S+=C+=P+":"+h.localName,S+=" xmlns:"+P+'="'+this._serializeAttributeValue(O,v)+'"',E!==null&&(D=E||null)):E===null||E!==null&&E!==O?(T=!0,D=O,S+=C+=h.localName,S+=' xmlns="'+this._serializeAttributeValue(O,v)+'"'):(D=O,S+=C+=h.localName)}S+=this._serializeAttributesNS(h,_,b,A,T,v);var U=O===f.namespace.HTML;if(U&&h.childNodes.length===0&&p._VoidElementNames.has(h.localName)?(S+=" /",w=!0):U||h.childNodes.length!==0||(S+="/",w=!0),S+=">",w)return S;if(!(U&&h.localName==="template"))try{for(var H=i(h._children||h.childNodes),R=H.next();!R.done;R=H.next()){var B=R.value;S+=this._serializeNodeNS(B,D,_,b,v)}}catch(M){g={error:M}}finally{try{R&&!R.done&&(x=H.return)&&x.call(H)}finally{if(g)throw g.error}}return S+="</"+C+">"},p.prototype._serializeDocumentNS=function(h,m,y,b,v){var g,x;if(v&&h.documentElement===null)throw new Error("Missing document element (well-formed required).");var S="";try{for(var C=i(h._children||h.childNodes),w=C.next();!w.done;w=C.next()){var T=w.value;S+=this._serializeNodeNS(T,m,y,b,v)}}catch(_){g={error:_}}finally{try{w&&!w.done&&(x=C.return)&&x.call(C)}finally{if(g)throw g.error}}return S},p.prototype._serializeComment=function(h,m){if(m&&(!c.xml_isLegalChar(h.data)||h.data.indexOf("--")!==-1||h.data.endsWith("-")))throw new Error("Comment data contains invalid characters (well-formed required).");return"<!--"+h.data+"-->"},p.prototype._serializeText=function(h,m){if(m&&!c.xml_isLegalChar(h.data))throw new Error("Text data contains invalid characters (well-formed required).");for(var y="",b=0;b<h.data.length;b++){var v=h.data[b];y+=v==="&"?"&amp;":v==="<"?"&lt;":v===">"?"&gt;":v}return y},p.prototype._serializeDocumentFragmentNS=function(h,m,y,b,v){var g,x,S="";try{for(var C=i(h._children||h.childNodes),w=C.next();!w.done;w=C.next()){var T=w.value;S+=this._serializeNodeNS(T,m,y,b,v)}}catch(_){g={error:_}}finally{try{w&&!w.done&&(x=C.return)&&x.call(C)}finally{if(g)throw g.error}}return S},p.prototype._serializeDocumentType=function(h,m){if(m&&!c.xml_isPubidChar(h.publicId))throw new Error("DocType public identifier does not match PubidChar construct (well-formed required).");if(m&&(!c.xml_isLegalChar(h.systemId)||h.systemId.indexOf('"')!==-1&&h.systemId.indexOf("'")!==-1))throw new Error("DocType system identifier contains invalid characters (well-formed required).");return h.publicId&&h.systemId?"<!DOCTYPE "+h.name+' PUBLIC "'+h.publicId+'" "'+h.systemId+'">':h.publicId?"<!DOCTYPE "+h.name+' PUBLIC "'+h.publicId+'">':h.systemId?"<!DOCTYPE "+h.name+' SYSTEM "'+h.systemId+'">':"<!DOCTYPE "+h.name+">"},p.prototype._serializeProcessingInstruction=function(h,m){if(m&&(h.target.indexOf(":")!==-1||/^xml$/i.test(h.target)))throw new Error("Processing instruction target contains invalid characters (well-formed required).");if(m&&(!c.xml_isLegalChar(h.data)||h.data.indexOf("?>")!==-1))throw new Error("Processing instruction data contains invalid characters (well-formed required).");return"<?"+(h.data===""?h.target:h.target+" "+h.data)+"?>"},p.prototype._serializeCData=function(h,m){if(m&&h.data.indexOf("]]>")!==-1)throw new Error("CDATA contains invalid characters (well-formed required).");return"<![CDATA["+h.data+"]]>"},p.prototype._serializeAttributesNS=function(h,m,y,b,v,g){var x,S,C="",w=g?new s.LocalNameSet:void 0;try{for(var T=i(h.attributes),_=T.next();!_.done;_=T.next()){var A=_.value;if(v||g||A.namespaceURI!==null){if(g&&w&&w.has(A.namespaceURI,A.localName))throw new Error("Element contains duplicate attributes (well-formed required).");g&&w&&w.set(A.namespaceURI,A.localName);var E=A.namespaceURI,D=null;if(E!==null)if(D=m.get(A.prefix,E),E===f.namespace.XMLNS){if(A.value===f.namespace.XML||A.prefix===null&&v||A.prefix!==null&&(!(A.localName in b)||b[A.localName]!==A.value)&&m.has(A.localName,A.value))continue;if(g&&A.value===f.namespace.XMLNS)throw new Error("XMLNS namespace is reserved (well-formed required).");if(g&&A.value==="")throw new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required).");A.prefix==="xmlns"&&(D="xmlns")}else D===null&&(C+=" xmlns:"+(D=A.prefix===null||m.hasPrefix(A.prefix)&&!m.has(A.prefix,E)?this._generatePrefix(E,m,y):A.prefix)+'="'+this._serializeAttributeValue(E,g)+'"');if(C+=" ",D!==null&&(C+=D+":"),g&&(A.localName.indexOf(":")!==-1||!c.xml_isName(A.localName)||A.localName==="xmlns"&&E===null))throw new Error("Attribute local name contains invalid characters (well-formed required).");C+=A.localName+'="'+this._serializeAttributeValue(A.value,g)+'"'}else C+=" "+A.localName+'="'+this._serializeAttributeValue(A.value,g)+'"'}}catch(O){x={error:O}}finally{try{_&&!_.done&&(S=T.return)&&S.call(T)}finally{if(x)throw x.error}}return C},p.prototype._recordNamespaceInformation=function(h,m,y){var b,v,g=null;try{for(var x=i(h.attributes),S=x.next();!S.done;S=x.next()){var C=S.value,w=C.namespaceURI,T=C.prefix;if(w===f.namespace.XMLNS){if(T===null){g=C.value;continue}var _=C.localName,A=C.value;if(A===f.namespace.XML||(A===""&&(A=null),m.has(_,A)))continue;m.set(_,A),y[_]=A||""}}}catch(E){b={error:E}}finally{try{S&&!S.done&&(v=x.return)&&v.call(x)}finally{if(b)throw b.error}}return g},p.prototype._generatePrefix=function(h,m,y){var b="ns"+y.value;return y.value++,m.set(b,h),b},p.prototype._serializeAttributeValue=function(h,m){if(m&&h!==null&&!c.xml_isLegalChar(h))throw new Error("Invalid characters in attribute value.");if(h===null)return"";for(var y="",b=0;b<h.length;b++){var v=h[b];y+=v==='"'?"&quot;":v==="&"?"&amp;":v==="<"?"&lt;":v===">"?"&gt;":v}return y},p.prototype._serializeElement=function(h,m){var y,b;if(m&&(h.localName.indexOf(":")!==-1||!c.xml_isName(h.localName)))throw new Error("Node local name contains invalid characters (well-formed required).");var v=!1,g=h.localName,x="<"+g;if(x+=this._serializeAttributes(h,m),h._children.size===0&&(x+="/",v=!0),x+=">",v)return x;try{for(var S=i(h._children),C=S.next();!C.done;C=S.next()){var w=C.value;x+=this._serializeNode(w,m)}}catch(T){y={error:T}}finally{try{C&&!C.done&&(b=S.return)&&b.call(S)}finally{if(y)throw y.error}}return x+="</"+g+">"},p.prototype._serializeDocument=function(h,m){var y,b;if(m&&h.documentElement===null)throw new Error("Missing document element (well-formed required).");var v="";try{for(var g=i(h._children),x=g.next();!x.done;x=g.next()){var S=x.value;v+=this._serializeNode(S,m)}}catch(C){y={error:C}}finally{try{x&&!x.done&&(b=g.return)&&b.call(g)}finally{if(y)throw y.error}}return v},p.prototype._serializeDocumentFragment=function(h,m){var y,b,v="";try{for(var g=i(h._children),x=g.next();!x.done;x=g.next()){var S=x.value;v+=this._serializeNode(S,m)}}catch(C){y={error:C}}finally{try{x&&!x.done&&(b=g.return)&&b.call(g)}finally{if(y)throw y.error}}return v},p.prototype._serializeAttributes=function(h,m){var y,b,v="",g=m?{}:void 0;try{for(var x=i(h.attributes),S=x.next();!S.done;S=x.next()){var C=S.value;if(m&&g&&C.localName in g)throw new Error("Element contains duplicate attributes (well-formed required).");if(m&&g&&(g[C.localName]=!0),m&&(C.localName.indexOf(":")!==-1||!c.xml_isName(C.localName)))throw new Error("Attribute local name contains invalid characters (well-formed required).");v+=" "+C.localName+'="'+this._serializeAttributeValue(C.value,m)+'"'}}catch(w){y={error:w}}finally{try{S&&!S.done&&(b=x.return)&&b.call(x)}finally{if(y)throw y.error}}return v},p._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),p}();r.XMLSerializerImpl=d},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(277);r.XMLReader=i.XMLReader;var a=o(112);r.ObjectReader=a.ObjectReader;var s=o(280);r.JSONReader=s.JSONReader;var u=o(281);r.YAMLReader=u.YAMLReader},function(n,r,o){o(31),o(32),o(33),o(19),o(65),o(20),o(22),o(23);var i,a=this&&this.__extends||(i=function(h,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var v in b)b.hasOwnProperty(v)&&(y[v]=b[v])})(h,m)},function(h,m){function y(){this.constructor=h}i(h,m),h.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}),s=this&&this.__read||function(h,m){var y=typeof Symbol=="function"&&h[Symbol.iterator];if(!y)return h;var b,v,g=y.call(h),x=[];try{for(;(m===void 0||m-- >0)&&!(b=g.next()).done;)x.push(b.value)}catch(S){v={error:S}}finally{try{b&&!b.done&&(y=g.return)&&y.call(g)}finally{if(v)throw v.error}}return x},u=this&&this.__values||function(h){var m=typeof Symbol=="function"&&Symbol.iterator,y=m&&h[m],b=0;if(y)return y.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&b>=h.length&&(h=void 0),{value:h&&h[b++],done:!h}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0});var l=o(180),f=o(111),c=o(7),d=o(0),p=function(h){function m(){return h!==null&&h.apply(this,arguments)||this}return a(m,h),m.prototype._parse=function(y,b){for(var v,g,x,S,C=new l.XMLStringLexer(b,{skipWhitespaceOnlyText:!0}),w=y,T=y,_=C.nextToken();_.type!==f.TokenType.EOF;){switch(_.type){case f.TokenType.Declaration:var A=_,E=this.sanitize(A.version);if(E!=="1.0")throw new Error("Invalid xml version: "+E);var D={version:E};A.encoding&&(D.encoding=this.sanitize(A.encoding)),A.standalone&&(D.standalone=this.sanitize(A.standalone)==="yes"),T.set(D);break;case f.TokenType.DocType:var O=_;T=this.docType(T,this.sanitize(O.name),this.sanitize(O.pubId),this.sanitize(O.sysId))||T;break;case f.TokenType.CDATA:var P=_;T=this.cdata(T,this.sanitize(P.data))||T;break;case f.TokenType.Comment:var k=_;T=this.comment(T,this.sanitize(k.data))||T;break;case f.TokenType.PI:var U=_;T=this.instruction(T,this.sanitize(U.target),this.sanitize(U.data))||T;break;case f.TokenType.Text:var H=_;T=this.text(T,this._decodeText(this.sanitize(H.data)))||T;break;case f.TokenType.Element:var R=_,B=this.sanitize(R.name),M=s(d.namespace_extractQName(B),1)[0],z=T.node.lookupNamespaceURI(M),$={};try{for(var J=(v=void 0,u(R.attributes)),Z=J.next();!Z.done;Z=J.next()){var X=s(Z.value,2),te=X[0],ae=X[1];if(te=this.sanitize(te),ae=this.sanitize(ae),te==="xmlns")z=ae;else{var ue=s(d.namespace_extractQName(te),2),ie=ue[0],F=ue[1];ie==="xmlns"&&(F===M&&(z=ae),$[F]=ae)}}}catch(Y){v={error:Y}}finally{try{Z&&!Z.done&&(g=J.return)&&g.call(J)}finally{if(v)throw v.error}}var I=z!==null?this.element(T,z,B):this.element(T,void 0,B);if(I===void 0)break;T.node===y.node&&(w=I);try{for(var j=(x=void 0,u(R.attributes)),N=j.next();!N.done;N=j.next()){var L=s(N.value,2);te=L[0],ae=L[1],te=this.sanitize(te),ae=this.sanitize(ae);var G=s(d.namespace_extractQName(te),2),W=(ie=G[0],F=G[1],null);ie==="xmlns"||ie===null&&F==="xmlns"?W=c.namespace.XMLNS:(W=I.node.lookupNamespaceURI(ie))!==null&&I.node.isDefaultNamespace(W)?W=null:W===null&&ie!==null&&(W=$[ie]||null),W!==null?this.attribute(I,W,te,this._decodeAttributeValue(ae)):this.attribute(I,void 0,te,this._decodeAttributeValue(ae))}}catch(Y){x={error:Y}}finally{try{N&&!N.done&&(S=j.return)&&S.call(j)}finally{if(x)throw x.error}}R.selfClosing||(T=I);break;case f.TokenType.ClosingTag:T.node.parentNode&&(T=T.up())}_=C.nextToken()}return w},m}(o(75).BaseReader);r.XMLReader=p},function(n,r,o){var i=o(4),a=o(279);i({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},function(n,r,o){var i=o(16),a=o(8),s=o(61),u=o(85),l=o(79),f=o(27),c=o(41),d=Object.assign,p=Object.defineProperty;n.exports=!d||a(function(){if(i&&d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},m={},y=Symbol();return h[y]=7,"abcdefghijklmnopqrst".split("").forEach(function(b){m[b]=b}),d({},h)[y]!=7||s(d({},m)).join("")!="abcdefghijklmnopqrst"})?function(h,m){for(var y=f(h),b=arguments.length,v=1,g=u.f,x=l.f;b>v;)for(var S,C=c(arguments[v++]),w=g?s(C).concat(g(C)):s(C),T=w.length,_=0;T>_;)S=w[_++],i&&!x.call(C,S)||(y[S]=C[S]);return y}:d},function(n,r,o){var i,a=this&&this.__extends||(i=function(l,f){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var p in d)d.hasOwnProperty(p)&&(c[p]=d[p])})(l,f)},function(l,f){function c(){this.constructor=l}i(l,f),l.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(112),u=function(l){function f(){return l!==null&&l.apply(this,arguments)||this}return a(f,l),f.prototype._parse=function(c,d){return new s.ObjectReader(this._builderOptions).parse(c,JSON.parse(d))},f}(o(75).BaseReader);r.JSONReader=u},function(n,r,o){var i,a=this&&this.__extends||(i=function(c,d){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)h.hasOwnProperty(m)&&(p[m]=h[m])})(c,d)},function(c,d){function p(){this.constructor=c}i(c,d),c.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(r,"__esModule",{value:!0});var s=o(112),u=o(75),l=o(282),f=function(c){function d(){return c!==null&&c.apply(this,arguments)||this}return a(d,c),d.prototype._parse=function(p,h){var m=l.safeLoad(h);if(m===void 0)throw new Error("Unable to parse YAML document.");return new s.ObjectReader(this._builderOptions).parse(p,m)},d}(u.BaseReader);r.YAMLReader=f},function(n,r,o){var i=o(283);n.exports=i},function(n,r,o){var i=o(284),a=o(303);function s(u){return function(){throw new Error("Function "+u+" is deprecated and cannot be used.")}}n.exports.Type=o(10),n.exports.Schema=o(39),n.exports.FAILSAFE_SCHEMA=o(113),n.exports.JSON_SCHEMA=o(182),n.exports.CORE_SCHEMA=o(181),n.exports.DEFAULT_SAFE_SCHEMA=o(54),n.exports.DEFAULT_FULL_SCHEMA=o(76),n.exports.load=i.load,n.exports.loadAll=i.loadAll,n.exports.safeLoad=i.safeLoad,n.exports.safeLoadAll=i.safeLoadAll,n.exports.dump=a.dump,n.exports.safeDump=a.safeDump,n.exports.YAMLException=o(53),n.exports.MINIMAL_SCHEMA=o(113),n.exports.SAFE_SCHEMA=o(54),n.exports.DEFAULT_SCHEMA=o(76),n.exports.scan=s("scan"),n.exports.parse=s("parse"),n.exports.compose=s("compose"),n.exports.addConstructor=s("addConstructor")},function(n,r,o){var i=o(38),a=o(53),s=o(285),u=o(54),l=o(76),f=Object.prototype.hasOwnProperty,c=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,d=/[\x85\u2028\u2029]/,p=/[,\[\]\{\}]/,h=/^(?:!|!!|![a-z\-]+!)$/i,m=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function y(I){return Object.prototype.toString.call(I)}function b(I){return I===10||I===13}function v(I){return I===9||I===32}function g(I){return I===9||I===32||I===10||I===13}function x(I){return I===44||I===91||I===93||I===123||I===125}function S(I){var j;return 48<=I&&I<=57?I-48:97<=(j=32|I)&&j<=102?j-97+10:-1}function C(I){return I===48?"\0":I===97?"\x07":I===98?"\b":I===116||I===9?"	":I===110?`
`:I===118?"\v":I===102?"\f":I===114?"\r":I===101?"\x1B":I===32?" ":I===34?'"':I===47?"/":I===92?"\\":I===78?"":I===95?"":I===76?"\u2028":I===80?"\u2029":""}function w(I){return I<=65535?String.fromCharCode(I):String.fromCharCode(55296+(I-65536>>10),56320+(I-65536&1023))}for(var T=new Array(256),_=new Array(256),A=0;A<256;A++)T[A]=C(A)?1:0,_[A]=C(A);function E(I,j){this.input=I,this.filename=j.filename||null,this.schema=j.schema||l,this.onWarning=j.onWarning||null,this.legacy=j.legacy||!1,this.json=j.json||!1,this.listener=j.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=I.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function D(I,j){return new a(j,new s(I.filename,I.input,I.position,I.line,I.position-I.lineStart))}function O(I,j){throw D(I,j)}function P(I,j){I.onWarning&&I.onWarning.call(null,D(I,j))}var k={YAML:function(I,j,N){var L,G,W;I.version!==null&&O(I,"duplication of %YAML directive"),N.length!==1&&O(I,"YAML directive accepts exactly one argument"),(L=/^([0-9]+)\.([0-9]+)$/.exec(N[0]))===null&&O(I,"ill-formed argument of the YAML directive"),G=parseInt(L[1],10),W=parseInt(L[2],10),G!==1&&O(I,"unacceptable YAML version of the document"),I.version=N[0],I.checkLineBreaks=W<2,W!==1&&W!==2&&P(I,"unsupported YAML version of the document")},TAG:function(I,j,N){var L,G;N.length!==2&&O(I,"TAG directive accepts exactly two arguments"),L=N[0],G=N[1],h.test(L)||O(I,"ill-formed tag handle (first argument) of the TAG directive"),f.call(I.tagMap,L)&&O(I,'there is a previously declared suffix for "'+L+'" tag handle'),m.test(G)||O(I,"ill-formed tag prefix (second argument) of the TAG directive"),I.tagMap[L]=G}};function U(I,j,N,L){var G,W,Y,ee;if(j<N){if(ee=I.input.slice(j,N),L)for(G=0,W=ee.length;G<W;G+=1)(Y=ee.charCodeAt(G))===9||32<=Y&&Y<=1114111||O(I,"expected valid JSON character");else c.test(ee)&&O(I,"the stream contains non-printable characters");I.result+=ee}}function H(I,j,N,L){var G,W,Y,ee;for(i.isObject(N)||O(I,"cannot merge mappings; the provided source object is unacceptable"),Y=0,ee=(G=Object.keys(N)).length;Y<ee;Y+=1)W=G[Y],f.call(j,W)||(j[W]=N[W],L[W]=!0)}function R(I,j,N,L,G,W,Y,ee){var oe,le;if(Array.isArray(G))for(oe=0,le=(G=Array.prototype.slice.call(G)).length;oe<le;oe+=1)Array.isArray(G[oe])&&O(I,"nested arrays are not supported inside keys"),typeof G=="object"&&y(G[oe])==="[object Object]"&&(G[oe]="[object Object]");if(typeof G=="object"&&y(G)==="[object Object]"&&(G="[object Object]"),G=String(G),j===null&&(j={}),L==="tag:yaml.org,2002:merge")if(Array.isArray(W))for(oe=0,le=W.length;oe<le;oe+=1)H(I,j,W[oe],N);else H(I,j,W,N);else I.json||f.call(N,G)||!f.call(j,G)||(I.line=Y||I.line,I.position=ee||I.position,O(I,"duplicated mapping key")),j[G]=W,delete N[G];return j}function B(I){var j;(j=I.input.charCodeAt(I.position))===10?I.position++:j===13?(I.position++,I.input.charCodeAt(I.position)===10&&I.position++):O(I,"a line break is expected"),I.line+=1,I.lineStart=I.position}function M(I,j,N){for(var L=0,G=I.input.charCodeAt(I.position);G!==0;){for(;v(G);)G=I.input.charCodeAt(++I.position);if(j&&G===35)do G=I.input.charCodeAt(++I.position);while(G!==10&&G!==13&&G!==0);if(!b(G))break;for(B(I),G=I.input.charCodeAt(I.position),L++,I.lineIndent=0;G===32;)I.lineIndent++,G=I.input.charCodeAt(++I.position)}return N!==-1&&L!==0&&I.lineIndent<N&&P(I,"deficient indentation"),L}function z(I){var j,N=I.position;return!((j=I.input.charCodeAt(N))!==45&&j!==46||j!==I.input.charCodeAt(N+1)||j!==I.input.charCodeAt(N+2)||(N+=3,(j=I.input.charCodeAt(N))!==0&&!g(j)))}function $(I,j){j===1?I.result+=" ":j>1&&(I.result+=i.repeat(`
`,j-1))}function J(I,j){var N,L,G=I.tag,W=I.anchor,Y=[],ee=!1;for(I.anchor!==null&&(I.anchorMap[I.anchor]=Y),L=I.input.charCodeAt(I.position);L!==0&&L===45&&g(I.input.charCodeAt(I.position+1));)if(ee=!0,I.position++,M(I,!0,-1)&&I.lineIndent<=j)Y.push(null),L=I.input.charCodeAt(I.position);else if(N=I.line,te(I,j,3,!1,!0),Y.push(I.result),M(I,!0,-1),L=I.input.charCodeAt(I.position),(I.line===N||I.lineIndent>j)&&L!==0)O(I,"bad indentation of a sequence entry");else if(I.lineIndent<j)break;return!!ee&&(I.tag=G,I.anchor=W,I.kind="sequence",I.result=Y,!0)}function Z(I){var j,N,L,G,W=!1,Y=!1;if((G=I.input.charCodeAt(I.position))!==33)return!1;if(I.tag!==null&&O(I,"duplication of a tag property"),(G=I.input.charCodeAt(++I.position))===60?(W=!0,G=I.input.charCodeAt(++I.position)):G===33?(Y=!0,N="!!",G=I.input.charCodeAt(++I.position)):N="!",j=I.position,W){do G=I.input.charCodeAt(++I.position);while(G!==0&&G!==62);I.position<I.length?(L=I.input.slice(j,I.position),G=I.input.charCodeAt(++I.position)):O(I,"unexpected end of the stream within a verbatim tag")}else{for(;G!==0&&!g(G);)G===33&&(Y?O(I,"tag suffix cannot contain exclamation marks"):(N=I.input.slice(j-1,I.position+1),h.test(N)||O(I,"named tag handle cannot contain such characters"),Y=!0,j=I.position+1)),G=I.input.charCodeAt(++I.position);L=I.input.slice(j,I.position),p.test(L)&&O(I,"tag suffix cannot contain flow indicator characters")}return L&&!m.test(L)&&O(I,"tag name cannot contain such characters: "+L),W?I.tag=L:f.call(I.tagMap,N)?I.tag=I.tagMap[N]+L:N==="!"?I.tag="!"+L:N==="!!"?I.tag="tag:yaml.org,2002:"+L:O(I,'undeclared tag handle "'+N+'"'),!0}function X(I){var j,N;if((N=I.input.charCodeAt(I.position))!==38)return!1;for(I.anchor!==null&&O(I,"duplication of an anchor property"),N=I.input.charCodeAt(++I.position),j=I.position;N!==0&&!g(N)&&!x(N);)N=I.input.charCodeAt(++I.position);return I.position===j&&O(I,"name of an anchor node must contain at least one character"),I.anchor=I.input.slice(j,I.position),!0}function te(I,j,N,L,G){var W,Y,ee,oe,le,pe,ce,me,ge=1,de=!1,Ee=!1;if(I.listener!==null&&I.listener("open",I),I.tag=null,I.anchor=null,I.kind=null,I.result=null,W=Y=ee=N===4||N===3,L&&M(I,!0,-1)&&(de=!0,I.lineIndent>j?ge=1:I.lineIndent===j?ge=0:I.lineIndent<j&&(ge=-1)),ge===1)for(;Z(I)||X(I);)M(I,!0,-1)?(de=!0,ee=W,I.lineIndent>j?ge=1:I.lineIndent===j?ge=0:I.lineIndent<j&&(ge=-1)):ee=!1;if(ee&&(ee=de||G),ge!==1&&N!==4||(ce=N===1||N===2?j:j+1,me=I.position-I.lineStart,ge===1?ee&&(J(I,me)||function(K,Te,we){var Se,se,he,be,ye,Ne=K.tag,ke=K.anchor,Pe={},qe={},nt=null,fn=null,kn=null,Rt=!1,vr=!1;for(K.anchor!==null&&(K.anchorMap[K.anchor]=Pe),ye=K.input.charCodeAt(K.position);ye!==0;){if(Se=K.input.charCodeAt(K.position+1),he=K.line,be=K.position,ye!==63&&ye!==58||!g(Se)){if(!te(K,we,2,!1,!0))break;if(K.line===he){for(ye=K.input.charCodeAt(K.position);v(ye);)ye=K.input.charCodeAt(++K.position);if(ye===58)g(ye=K.input.charCodeAt(++K.position))||O(K,"a whitespace character is expected after the key-value separator within a block mapping"),Rt&&(R(K,Pe,qe,nt,fn,null),nt=fn=kn=null),vr=!0,Rt=!1,se=!1,nt=K.tag,fn=K.result;else{if(!vr)return K.tag=Ne,K.anchor=ke,!0;O(K,"can not read an implicit mapping pair; a colon is missed")}}else{if(!vr)return K.tag=Ne,K.anchor=ke,!0;O(K,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else ye===63?(Rt&&(R(K,Pe,qe,nt,fn,null),nt=fn=kn=null),vr=!0,Rt=!0,se=!0):Rt?(Rt=!1,se=!0):O(K,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),K.position+=1,ye=Se;if((K.line===he||K.lineIndent>Te)&&(te(K,Te,4,!0,se)&&(Rt?fn=K.result:kn=K.result),Rt||(R(K,Pe,qe,nt,fn,kn,he,be),nt=fn=kn=null),M(K,!0,-1),ye=K.input.charCodeAt(K.position)),K.lineIndent>Te&&ye!==0)O(K,"bad indentation of a mapping entry");else if(K.lineIndent<Te)break}return Rt&&R(K,Pe,qe,nt,fn,null),vr&&(K.tag=Ne,K.anchor=ke,K.kind="mapping",K.result=Pe),vr}(I,me,ce))||function(K,Te){var we,Se,se,he,be,ye,Ne,ke,Pe,qe,nt=!0,fn=K.tag,kn=K.anchor,Rt={};if((qe=K.input.charCodeAt(K.position))===91)se=93,ye=!1,Se=[];else{if(qe!==123)return!1;se=125,ye=!0,Se={}}for(K.anchor!==null&&(K.anchorMap[K.anchor]=Se),qe=K.input.charCodeAt(++K.position);qe!==0;){if(M(K,!0,Te),(qe=K.input.charCodeAt(K.position))===se)return K.position++,K.tag=fn,K.anchor=kn,K.kind=ye?"mapping":"sequence",K.result=Se,!0;nt||O(K,"missed comma between flow collection entries"),Pe=null,he=be=!1,qe===63&&g(K.input.charCodeAt(K.position+1))&&(he=be=!0,K.position++,M(K,!0,Te)),we=K.line,te(K,Te,1,!1,!0),ke=K.tag,Ne=K.result,M(K,!0,Te),qe=K.input.charCodeAt(K.position),!be&&K.line!==we||qe!==58||(he=!0,qe=K.input.charCodeAt(++K.position),M(K,!0,Te),te(K,Te,1,!1,!0),Pe=K.result),ye?R(K,Se,Rt,ke,Ne,Pe):he?Se.push(R(K,null,Rt,ke,Ne,Pe)):Se.push(Ne),M(K,!0,Te),(qe=K.input.charCodeAt(K.position))===44?(nt=!0,qe=K.input.charCodeAt(++K.position)):nt=!1}O(K,"unexpected end of the stream within a flow collection")}(I,ce)?Ee=!0:(Y&&function(K,Te){var we,Se,se,he,be,ye=1,Ne=!1,ke=!1,Pe=Te,qe=0,nt=!1;if((he=K.input.charCodeAt(K.position))===124)Se=!1;else{if(he!==62)return!1;Se=!0}for(K.kind="scalar",K.result="";he!==0;)if((he=K.input.charCodeAt(++K.position))===43||he===45)ye===1?ye=he===43?3:2:O(K,"repeat of a chomping mode identifier");else{if(!((se=48<=(be=he)&&be<=57?be-48:-1)>=0))break;se===0?O(K,"bad explicit indentation width of a block scalar; it cannot be less than one"):ke?O(K,"repeat of an indentation width identifier"):(Pe=Te+se-1,ke=!0)}if(v(he)){do he=K.input.charCodeAt(++K.position);while(v(he));if(he===35)do he=K.input.charCodeAt(++K.position);while(!b(he)&&he!==0)}for(;he!==0;){for(B(K),K.lineIndent=0,he=K.input.charCodeAt(K.position);(!ke||K.lineIndent<Pe)&&he===32;)K.lineIndent++,he=K.input.charCodeAt(++K.position);if(!ke&&K.lineIndent>Pe&&(Pe=K.lineIndent),b(he))qe++;else{if(K.lineIndent<Pe){ye===3?K.result+=i.repeat(`
`,Ne?1+qe:qe):ye===1&&Ne&&(K.result+=`
`);break}for(Se?v(he)?(nt=!0,K.result+=i.repeat(`
`,Ne?1+qe:qe)):nt?(nt=!1,K.result+=i.repeat(`
`,qe+1)):qe===0?Ne&&(K.result+=" "):K.result+=i.repeat(`
`,qe):K.result+=i.repeat(`
`,Ne?1+qe:qe),Ne=!0,ke=!0,qe=0,we=K.position;!b(he)&&he!==0;)he=K.input.charCodeAt(++K.position);U(K,we,K.position,!1)}}return!0}(I,ce)||function(K,Te){var we,Se,se;if((we=K.input.charCodeAt(K.position))!==39)return!1;for(K.kind="scalar",K.result="",K.position++,Se=se=K.position;(we=K.input.charCodeAt(K.position))!==0;)if(we===39){if(U(K,Se,K.position,!0),(we=K.input.charCodeAt(++K.position))!==39)return!0;Se=K.position,K.position++,se=K.position}else b(we)?(U(K,Se,se,!0),$(K,M(K,!1,Te)),Se=se=K.position):K.position===K.lineStart&&z(K)?O(K,"unexpected end of the document within a single quoted scalar"):(K.position++,se=K.position);O(K,"unexpected end of the stream within a single quoted scalar")}(I,ce)||function(K,Te){var we,Se,se,he,be,ye,Ne;if((ye=K.input.charCodeAt(K.position))!==34)return!1;for(K.kind="scalar",K.result="",K.position++,we=Se=K.position;(ye=K.input.charCodeAt(K.position))!==0;){if(ye===34)return U(K,we,K.position,!0),K.position++,!0;if(ye===92){if(U(K,we,K.position,!0),b(ye=K.input.charCodeAt(++K.position)))M(K,!1,Te);else if(ye<256&&T[ye])K.result+=_[ye],K.position++;else if((be=(Ne=ye)===120?2:Ne===117?4:Ne===85?8:0)>0){for(se=be,he=0;se>0;se--)(be=S(ye=K.input.charCodeAt(++K.position)))>=0?he=(he<<4)+be:O(K,"expected hexadecimal character");K.result+=w(he),K.position++}else O(K,"unknown escape sequence");we=Se=K.position}else b(ye)?(U(K,we,Se,!0),$(K,M(K,!1,Te)),we=Se=K.position):K.position===K.lineStart&&z(K)?O(K,"unexpected end of the document within a double quoted scalar"):(K.position++,Se=K.position)}O(K,"unexpected end of the stream within a double quoted scalar")}(I,ce)?Ee=!0:function(K){var Te,we,Se;if((Se=K.input.charCodeAt(K.position))!==42)return!1;for(Se=K.input.charCodeAt(++K.position),Te=K.position;Se!==0&&!g(Se)&&!x(Se);)Se=K.input.charCodeAt(++K.position);return K.position===Te&&O(K,"name of an alias node must contain at least one character"),we=K.input.slice(Te,K.position),K.anchorMap.hasOwnProperty(we)||O(K,'unidentified alias "'+we+'"'),K.result=K.anchorMap[we],M(K,!0,-1),!0}(I)?(Ee=!0,I.tag===null&&I.anchor===null||O(I,"alias node should not have any properties")):function(K,Te,we){var Se,se,he,be,ye,Ne,ke,Pe,qe=K.kind,nt=K.result;if(g(Pe=K.input.charCodeAt(K.position))||x(Pe)||Pe===35||Pe===38||Pe===42||Pe===33||Pe===124||Pe===62||Pe===39||Pe===34||Pe===37||Pe===64||Pe===96||(Pe===63||Pe===45)&&(g(Se=K.input.charCodeAt(K.position+1))||we&&x(Se)))return!1;for(K.kind="scalar",K.result="",se=he=K.position,be=!1;Pe!==0;){if(Pe===58){if(g(Se=K.input.charCodeAt(K.position+1))||we&&x(Se))break}else if(Pe===35){if(g(K.input.charCodeAt(K.position-1)))break}else{if(K.position===K.lineStart&&z(K)||we&&x(Pe))break;if(b(Pe)){if(ye=K.line,Ne=K.lineStart,ke=K.lineIndent,M(K,!1,-1),K.lineIndent>=Te){be=!0,Pe=K.input.charCodeAt(K.position);continue}K.position=he,K.line=ye,K.lineStart=Ne,K.lineIndent=ke;break}}be&&(U(K,se,he,!1),$(K,K.line-ye),se=he=K.position,be=!1),v(Pe)||(he=K.position+1),Pe=K.input.charCodeAt(++K.position)}return U(K,se,he,!1),!!K.result||(K.kind=qe,K.result=nt,!1)}(I,ce,N===1)&&(Ee=!0,I.tag===null&&(I.tag="?")),I.anchor!==null&&(I.anchorMap[I.anchor]=I.result)):ge===0&&(Ee=ee&&J(I,me))),I.tag!==null&&I.tag!=="!")if(I.tag==="?"){for(I.result!==null&&I.kind!=="scalar"&&O(I,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+I.kind+'"'),oe=0,le=I.implicitTypes.length;oe<le;oe+=1)if((pe=I.implicitTypes[oe]).resolve(I.result)){I.result=pe.construct(I.result),I.tag=pe.tag,I.anchor!==null&&(I.anchorMap[I.anchor]=I.result);break}}else f.call(I.typeMap[I.kind||"fallback"],I.tag)?(pe=I.typeMap[I.kind||"fallback"][I.tag],I.result!==null&&pe.kind!==I.kind&&O(I,"unacceptable node kind for !<"+I.tag+'> tag; it should be "'+pe.kind+'", not "'+I.kind+'"'),pe.resolve(I.result)?(I.result=pe.construct(I.result),I.anchor!==null&&(I.anchorMap[I.anchor]=I.result)):O(I,"cannot resolve a node with !<"+I.tag+"> explicit tag")):O(I,"unknown tag !<"+I.tag+">");return I.listener!==null&&I.listener("close",I),I.tag!==null||I.anchor!==null||Ee}function ae(I){var j,N,L,G,W=I.position,Y=!1;for(I.version=null,I.checkLineBreaks=I.legacy,I.tagMap={},I.anchorMap={};(G=I.input.charCodeAt(I.position))!==0&&(M(I,!0,-1),G=I.input.charCodeAt(I.position),!(I.lineIndent>0||G!==37));){for(Y=!0,G=I.input.charCodeAt(++I.position),j=I.position;G!==0&&!g(G);)G=I.input.charCodeAt(++I.position);for(L=[],(N=I.input.slice(j,I.position)).length<1&&O(I,"directive name must not be less than one character in length");G!==0;){for(;v(G);)G=I.input.charCodeAt(++I.position);if(G===35){do G=I.input.charCodeAt(++I.position);while(G!==0&&!b(G));break}if(b(G))break;for(j=I.position;G!==0&&!g(G);)G=I.input.charCodeAt(++I.position);L.push(I.input.slice(j,I.position))}G!==0&&B(I),f.call(k,N)?k[N](I,N,L):P(I,'unknown document directive "'+N+'"')}M(I,!0,-1),I.lineIndent===0&&I.input.charCodeAt(I.position)===45&&I.input.charCodeAt(I.position+1)===45&&I.input.charCodeAt(I.position+2)===45?(I.position+=3,M(I,!0,-1)):Y&&O(I,"directives end mark is expected"),te(I,I.lineIndent-1,4,!1,!0),M(I,!0,-1),I.checkLineBreaks&&d.test(I.input.slice(W,I.position))&&P(I,"non-ASCII line breaks are interpreted as content"),I.documents.push(I.result),I.position===I.lineStart&&z(I)?I.input.charCodeAt(I.position)===46&&(I.position+=3,M(I,!0,-1)):I.position<I.length-1&&O(I,"end of the stream or a document separator is expected")}function ue(I,j){j=j||{},(I=String(I)).length!==0&&(I.charCodeAt(I.length-1)!==10&&I.charCodeAt(I.length-1)!==13&&(I+=`
`),I.charCodeAt(0)===65279&&(I=I.slice(1)));var N=new E(I,j),L=I.indexOf("\0");for(L!==-1&&(N.position=L,O(N,"null byte is not allowed in input")),N.input+="\0";N.input.charCodeAt(N.position)===32;)N.lineIndent+=1,N.position+=1;for(;N.position<N.length-1;)ae(N);return N.documents}function ie(I,j,N){j!==null&&typeof j=="object"&&N===void 0&&(N=j,j=null);var L=ue(I,N);if(typeof j!="function")return L;for(var G=0,W=L.length;G<W;G+=1)j(L[G])}function F(I,j){var N=ue(I,j);if(N.length!==0){if(N.length===1)return N[0];throw new a("expected a single document in the stream, but found more")}}n.exports.loadAll=ie,n.exports.load=F,n.exports.safeLoadAll=function(I,j,N){return typeof j=="object"&&j!==null&&N===void 0&&(N=j,j=null),ie(I,j,i.extend({schema:u},N))},n.exports.safeLoad=function(I,j){return F(I,i.extend({schema:u},j))}},function(n,r,o){var i=o(38);function a(s,u,l,f,c){this.name=s,this.buffer=u,this.position=l,this.line=f,this.column=c}a.prototype.getSnippet=function(s,u){var l,f,c,d,p;if(!this.buffer)return null;for(s=s||4,u=u||75,l="",f=this.position;f>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(f-1))===-1;)if(f-=1,this.position-f>u/2-1){l=" ... ",f+=5;break}for(c="",d=this.position;d<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(d))===-1;)if((d+=1)-this.position>u/2-1){c=" ... ",d-=5;break}return p=this.buffer.slice(f,d),i.repeat(" ",s)+l+p+c+`
`+i.repeat(" ",s+this.position-f+l.length)+"^"},a.prototype.toString=function(s){var u,l="";return this.name&&(l+='in "'+this.name+'" '),l+="at line "+(this.line+1)+", column "+(this.column+1),s||(u=this.getSnippet())&&(l+=`:
`+u),l},n.exports=a},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:str",{kind:"scalar",construct:function(a){return a!==null?a:""}})},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(a){return a!==null?a:[]}})},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:map",{kind:"mapping",construct:function(a){return a!==null?a:{}}})},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(a){if(a===null)return!0;var s=a.length;return s===1&&a==="~"||s===4&&(a==="null"||a==="Null"||a==="NULL")},construct:function(){return null},predicate:function(a){return a===null},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(a){if(a===null)return!1;var s=a.length;return s===4&&(a==="true"||a==="True"||a==="TRUE")||s===5&&(a==="false"||a==="False"||a==="FALSE")},construct:function(a){return a==="true"||a==="True"||a==="TRUE"},predicate:function(a){return Object.prototype.toString.call(a)==="[object Boolean]"},represent:{lowercase:function(a){return a?"true":"false"},uppercase:function(a){return a?"TRUE":"FALSE"},camelcase:function(a){return a?"True":"False"}},defaultStyle:"lowercase"})},function(n,r,o){var i=o(38),a=o(10);function s(l){return 48<=l&&l<=55}function u(l){return 48<=l&&l<=57}n.exports=new a("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(l){if(l===null)return!1;var f,c,d=l.length,p=0,h=!1;if(!d)return!1;if((f=l[p])!=="-"&&f!=="+"||(f=l[++p]),f==="0"){if(p+1===d)return!0;if((f=l[++p])==="b"){for(p++;p<d;p++)if((f=l[p])!=="_"){if(f!=="0"&&f!=="1")return!1;h=!0}return h&&f!=="_"}if(f==="x"){for(p++;p<d;p++)if((f=l[p])!=="_"){if(!(48<=(c=l.charCodeAt(p))&&c<=57||65<=c&&c<=70||97<=c&&c<=102))return!1;h=!0}return h&&f!=="_"}for(;p<d;p++)if((f=l[p])!=="_"){if(!s(l.charCodeAt(p)))return!1;h=!0}return h&&f!=="_"}if(f==="_")return!1;for(;p<d;p++)if((f=l[p])!=="_"){if(f===":")break;if(!u(l.charCodeAt(p)))return!1;h=!0}return!(!h||f==="_")&&(f!==":"||/^(:[0-5]?[0-9])+$/.test(l.slice(p)))},construct:function(l){var f,c,d=l,p=1,h=[];return d.indexOf("_")!==-1&&(d=d.replace(/_/g,"")),(f=d[0])!=="-"&&f!=="+"||(f==="-"&&(p=-1),f=(d=d.slice(1))[0]),d==="0"?0:f==="0"?d[1]==="b"?p*parseInt(d.slice(2),2):d[1]==="x"?p*parseInt(d,16):p*parseInt(d,8):d.indexOf(":")!==-1?(d.split(":").forEach(function(m){h.unshift(parseInt(m,10))}),d=0,c=1,h.forEach(function(m){d+=m*c,c*=60}),p*d):p*parseInt(d,10)},predicate:function(l){return Object.prototype.toString.call(l)==="[object Number]"&&l%1==0&&!i.isNegativeZero(l)},represent:{binary:function(l){return l>=0?"0b"+l.toString(2):"-0b"+l.toString(2).slice(1)},octal:function(l){return l>=0?"0"+l.toString(8):"-0"+l.toString(8).slice(1)},decimal:function(l){return l.toString(10)},hexadecimal:function(l){return l>=0?"0x"+l.toString(16).toUpperCase():"-0x"+l.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(n,r,o){var i=o(38),a=o(10),s=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),u=/^[-+]?[0-9]+e/;n.exports=new a("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(l){return l!==null&&!(!s.test(l)||l[l.length-1]==="_")},construct:function(l){var f,c,d,p;return c=(f=l.replace(/_/g,"").toLowerCase())[0]==="-"?-1:1,p=[],"+-".indexOf(f[0])>=0&&(f=f.slice(1)),f===".inf"?c===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:f===".nan"?NaN:f.indexOf(":")>=0?(f.split(":").forEach(function(h){p.unshift(parseFloat(h,10))}),f=0,d=1,p.forEach(function(h){f+=h*d,d*=60}),c*f):c*parseFloat(f,10)},predicate:function(l){return Object.prototype.toString.call(l)==="[object Number]"&&(l%1!=0||i.isNegativeZero(l))},represent:function(l,f){var c;if(isNaN(l))switch(f){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===l)switch(f){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===l)switch(f){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(l))return"-0.0";return c=l.toString(10),u.test(c)?c.replace("e",".e"):c},defaultStyle:"lowercase"})},function(n,r,o){var i=o(10),a=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");n.exports=new i("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(u){return u!==null&&(a.exec(u)!==null||s.exec(u)!==null)},construct:function(u){var l,f,c,d,p,h,m,y,b=0,v=null;if((l=a.exec(u))===null&&(l=s.exec(u)),l===null)throw new Error("Date resolve error");if(f=+l[1],c=+l[2]-1,d=+l[3],!l[4])return new Date(Date.UTC(f,c,d));if(p=+l[4],h=+l[5],m=+l[6],l[7]){for(b=l[7].slice(0,3);b.length<3;)b+="0";b=+b}return l[9]&&(v=6e4*(60*+l[10]+ +(l[11]||0)),l[9]==="-"&&(v=-v)),y=new Date(Date.UTC(f,c,d,p,h,m,b)),v&&y.setTime(y.getTime()-v),y},instanceOf:Date,represent:function(u){return u.toISOString()}})},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(a){return a==="<<"||a===null}})},function(n,r,o){var i;try{i=o(145).Buffer}catch(u){}var a=o(10),s=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;n.exports=new a("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(u){if(u===null)return!1;var l,f,c=0,d=u.length,p=s;for(f=0;f<d;f++)if(!((l=p.indexOf(u.charAt(f)))>64)){if(l<0)return!1;c+=6}return c%8==0},construct:function(u){var l,f,c=u.replace(/[\r\n=]/g,""),d=c.length,p=s,h=0,m=[];for(l=0;l<d;l++)l%4==0&&l&&(m.push(h>>16&255),m.push(h>>8&255),m.push(255&h)),h=h<<6|p.indexOf(c.charAt(l));return(f=d%4*6)===0?(m.push(h>>16&255),m.push(h>>8&255),m.push(255&h)):f===18?(m.push(h>>10&255),m.push(h>>2&255)):f===12&&m.push(h>>4&255),i?i.from?i.from(m):new i(m):m},predicate:function(u){return i&&i.isBuffer(u)},represent:function(u){var l,f,c="",d=0,p=u.length,h=s;for(l=0;l<p;l++)l%3==0&&l&&(c+=h[d>>18&63],c+=h[d>>12&63],c+=h[d>>6&63],c+=h[63&d]),d=(d<<8)+u[l];return(f=p%3)===0?(c+=h[d>>18&63],c+=h[d>>12&63],c+=h[d>>6&63],c+=h[63&d]):f===2?(c+=h[d>>10&63],c+=h[d>>4&63],c+=h[d<<2&63],c+=h[64]):f===1&&(c+=h[d>>2&63],c+=h[d<<4&63],c+=h[64],c+=h[64]),c}})},function(n,r,o){var i=o(10),a=Object.prototype.hasOwnProperty,s=Object.prototype.toString;n.exports=new i("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(u){if(u===null)return!0;var l,f,c,d,p,h=[],m=u;for(l=0,f=m.length;l<f;l+=1){if(c=m[l],p=!1,s.call(c)!=="[object Object]")return!1;for(d in c)if(a.call(c,d)){if(p)return!1;p=!0}if(!p||h.indexOf(d)!==-1)return!1;h.push(d)}return!0},construct:function(u){return u!==null?u:[]}})},function(n,r,o){var i=o(10),a=Object.prototype.toString;n.exports=new i("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(s){if(s===null)return!0;var u,l,f,c,d,p=s;for(d=new Array(p.length),u=0,l=p.length;u<l;u+=1){if(f=p[u],a.call(f)!=="[object Object]"||(c=Object.keys(f)).length!==1)return!1;d[u]=[c[0],f[c[0]]]}return!0},construct:function(s){if(s===null)return[];var u,l,f,c,d,p=s;for(d=new Array(p.length),u=0,l=p.length;u<l;u+=1)f=p[u],c=Object.keys(f),d[u]=[c[0],f[c[0]]];return d}})},function(n,r,o){var i=o(10),a=Object.prototype.hasOwnProperty;n.exports=new i("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(s){if(s===null)return!0;var u,l=s;for(u in l)if(a.call(l,u)&&l[u]!==null)return!1;return!0},construct:function(s){return s!==null?s:{}}})},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(a){return a===void 0},represent:function(){return""}})},function(n,r,o){var i=o(10);n.exports=new i("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(a){if(a===null||a.length===0)return!1;var s=a,u=/\/([gim]*)$/.exec(a),l="";return!(s[0]==="/"&&(u&&(l=u[1]),l.length>3||s[s.length-l.length-1]!=="/"))},construct:function(a){var s=a,u=/\/([gim]*)$/.exec(a),l="";return s[0]==="/"&&(u&&(l=u[1]),s=s.slice(1,s.length-l.length-1)),new RegExp(s,l)},predicate:function(a){return Object.prototype.toString.call(a)==="[object RegExp]"},represent:function(a){var s="/"+a.source+"/";return a.global&&(s+="g"),a.multiline&&(s+="m"),a.ignoreCase&&(s+="i"),s}})},function(n,r,o){var i;try{i=o(302)}catch(s){typeof window<"u"&&(i=window.esprima)}var a=o(10);n.exports=new a("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(s){if(s===null)return!1;try{var u="("+s+")",l=i.parse(u,{range:!0});return l.type==="Program"&&l.body.length===1&&l.body[0].type==="ExpressionStatement"&&(l.body[0].expression.type==="ArrowFunctionExpression"||l.body[0].expression.type==="FunctionExpression")}catch(f){return!1}},construct:function(s){var u,l="("+s+")",f=i.parse(l,{range:!0}),c=[];if(f.type!=="Program"||f.body.length!==1||f.body[0].type!=="ExpressionStatement"||f.body[0].expression.type!=="ArrowFunctionExpression"&&f.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return f.body[0].expression.params.forEach(function(d){c.push(d.name)}),u=f.body[0].expression.body.range,f.body[0].expression.body.type==="BlockStatement"?new Function(c,l.slice(u[0]+1,u[1]-1)):new Function(c,"return "+l.slice(u[0],u[1]))},predicate:function(s){return Object.prototype.toString.call(s)==="[object Function]"},represent:function(s){return s.toString()}})},function(n,r,o){var i;i=function(){return function(a){var s={};function u(l){if(s[l])return s[l].exports;var f=s[l]={exports:{},id:l,loaded:!1};return a[l].call(f.exports,f,f.exports,u),f.loaded=!0,f.exports}return u.m=a,u.c=s,u.p="",u(0)}([function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(1),f=u(3),c=u(8),d=u(15);function p(m,y,b){var v=null,g=function(A,E){b&&b(A,E),v&&v.visit(A,E)},x=typeof b=="function"?g:null,S=!1;if(y){S=typeof y.comment=="boolean"&&y.comment;var C=typeof y.attachComment=="boolean"&&y.attachComment;(S||C)&&((v=new l.CommentHandler).attach=C,y.comment=!0,x=g)}var w,T=!1;y&&typeof y.sourceType=="string"&&(T=y.sourceType==="module"),w=y&&typeof y.jsx=="boolean"&&y.jsx?new f.JSXParser(m,y,x):new c.Parser(m,y,x);var _=T?w.parseModule():w.parseScript();return S&&v&&(_.comments=v.comments),w.config.tokens&&(_.tokens=w.tokens),w.config.tolerant&&(_.errors=w.errorHandler.errors),_}s.parse=p,s.parseModule=function(m,y,b){var v=y||{};return v.sourceType="module",p(m,v,b)},s.parseScript=function(m,y,b){var v=y||{};return v.sourceType="script",p(m,v,b)},s.tokenize=function(m,y,b){var v,g=new d.Tokenizer(m,y);v=[];try{for(;;){var x=g.getNextToken();if(!x)break;b&&(x=b(x)),v.push(x)}}catch(S){g.errorHandler.tolerate(S)}return g.errorHandler.tolerant&&(v.errors=g.errors()),v};var h=u(2);s.Syntax=h.Syntax,s.version="4.0.1"},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(2),f=function(){function c(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return c.prototype.insertInnerComments=function(d,p){if(d.type===l.Syntax.BlockStatement&&d.body.length===0){for(var h=[],m=this.leading.length-1;m>=0;--m){var y=this.leading[m];p.end.offset>=y.start&&(h.unshift(y.comment),this.leading.splice(m,1),this.trailing.splice(m,1))}h.length&&(d.innerComments=h)}},c.prototype.findTrailingComments=function(d){var p=[];if(this.trailing.length>0){for(var h=this.trailing.length-1;h>=0;--h){var m=this.trailing[h];m.start>=d.end.offset&&p.unshift(m.comment)}return this.trailing.length=0,p}var y=this.stack[this.stack.length-1];if(y&&y.node.trailingComments){var b=y.node.trailingComments[0];b&&b.range[0]>=d.end.offset&&(p=y.node.trailingComments,delete y.node.trailingComments)}return p},c.prototype.findLeadingComments=function(d){for(var p,h=[];this.stack.length>0&&(b=this.stack[this.stack.length-1])&&b.start>=d.start.offset;)p=b.node,this.stack.pop();if(p){for(var m=(p.leadingComments?p.leadingComments.length:0)-1;m>=0;--m){var y=p.leadingComments[m];y.range[1]<=d.start.offset&&(h.unshift(y),p.leadingComments.splice(m,1))}return p.leadingComments&&p.leadingComments.length===0&&delete p.leadingComments,h}for(m=this.leading.length-1;m>=0;--m){var b;(b=this.leading[m]).start<=d.start.offset&&(h.unshift(b.comment),this.leading.splice(m,1))}return h},c.prototype.visitNode=function(d,p){if(!(d.type===l.Syntax.Program&&d.body.length>0)){this.insertInnerComments(d,p);var h=this.findTrailingComments(p),m=this.findLeadingComments(p);m.length>0&&(d.leadingComments=m),h.length>0&&(d.trailingComments=h),this.stack.push({node:d,start:p.start.offset})}},c.prototype.visitComment=function(d,p){var h=d.type[0]==="L"?"Line":"Block",m={type:h,value:d.value};if(d.range&&(m.range=d.range),d.loc&&(m.loc=d.loc),this.comments.push(m),this.attach){var y={comment:{type:h,value:d.value,range:[p.start.offset,p.end.offset]},start:p.start.offset};d.loc&&(y.comment.loc=d.loc),d.type=h,this.leading.push(y),this.trailing.push(y)}},c.prototype.visit=function(d,p){d.type==="LineComment"||d.type==="BlockComment"?this.visitComment(d,p):this.attach&&this.visitNode(d,p)},c}();s.CommentHandler=f},function(a,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(a,s,u){var l,f=this&&this.__extends||(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,S){x.__proto__=S}||function(x,S){for(var C in S)S.hasOwnProperty(C)&&(x[C]=S[C])},function(x,S){function C(){this.constructor=x}l(x,S),x.prototype=S===null?Object.create(S):(C.prototype=S.prototype,new C)});Object.defineProperty(s,"__esModule",{value:!0});var c=u(4),d=u(5),p=u(6),h=u(7),m=u(8),y=u(13),b=u(14);function v(x){var S;switch(x.type){case p.JSXSyntax.JSXIdentifier:S=x.name;break;case p.JSXSyntax.JSXNamespacedName:var C=x;S=v(C.namespace)+":"+v(C.name);break;case p.JSXSyntax.JSXMemberExpression:var w=x;S=v(w.object)+"."+v(w.property)}return S}y.TokenName[100]="JSXIdentifier",y.TokenName[101]="JSXText";var g=function(x){function S(C,w,T){return x.call(this,C,w,T)||this}return f(S,x),S.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():x.prototype.parsePrimaryExpression.call(this)},S.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},S.prototype.finishJSX=function(){this.nextToken()},S.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},S.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},S.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},S.prototype.scanXHTMLEntity=function(C){for(var w="&",T=!0,_=!1,A=!1,E=!1;!this.scanner.eof()&&T&&!_;){var D=this.scanner.source[this.scanner.index];if(D===C)break;if(_=D===";",w+=D,++this.scanner.index,!_)switch(w.length){case 2:A=D==="#";break;case 3:A&&(T=(E=D==="x")||c.Character.isDecimalDigit(D.charCodeAt(0)),A=A&&!E);break;default:T=(T=T&&!(A&&!c.Character.isDecimalDigit(D.charCodeAt(0))))&&!(E&&!c.Character.isHexDigit(D.charCodeAt(0)))}}if(T&&_&&w.length>2){var O=w.substr(1,w.length-2);A&&O.length>1?w=String.fromCharCode(parseInt(O.substr(1),10)):E&&O.length>2?w=String.fromCharCode(parseInt("0"+O.substr(1),16)):A||E||!b.XHTMLEntities[O]||(w=b.XHTMLEntities[O])}return w},S.prototype.lexJSX=function(){var C=this.scanner.source.charCodeAt(this.scanner.index);if(C===60||C===62||C===47||C===58||C===61||C===123||C===125)return{type:7,value:D=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(C===34||C===39){for(var w=this.scanner.index,T=this.scanner.source[this.scanner.index++],_="";!this.scanner.eof()&&(O=this.scanner.source[this.scanner.index++])!==T;)_+=O==="&"?this.scanXHTMLEntity(T):O;return{type:8,value:_,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:w,end:this.scanner.index}}if(C===46){var A=this.scanner.source.charCodeAt(this.scanner.index+1),E=this.scanner.source.charCodeAt(this.scanner.index+2),D=A===46&&E===46?"...":".";return w=this.scanner.index,this.scanner.index+=D.length,{type:7,value:D,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:w,end:this.scanner.index}}if(C===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(c.Character.isIdentifierStart(C)&&C!==92){for(w=this.scanner.index,++this.scanner.index;!this.scanner.eof();){var O=this.scanner.source.charCodeAt(this.scanner.index);if(c.Character.isIdentifierPart(O)&&O!==92)++this.scanner.index;else{if(O!==45)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(w,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:w,end:this.scanner.index}}return this.scanner.lex()},S.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var C=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(C)),C},S.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var C=this.scanner.index,w="";!this.scanner.eof();){var T=this.scanner.source[this.scanner.index];if(T==="{"||T==="<")break;++this.scanner.index,w+=T,c.Character.isLineTerminator(T.charCodeAt(0))&&(++this.scanner.lineNumber,T==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var _={type:101,value:w,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index};return w.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(_)),_},S.prototype.peekJSXToken=function(){var C=this.scanner.saveState();this.scanner.scanComments();var w=this.lexJSX();return this.scanner.restoreState(C),w},S.prototype.expectJSX=function(C){var w=this.nextJSXToken();w.type===7&&w.value===C||this.throwUnexpectedToken(w)},S.prototype.matchJSX=function(C){var w=this.peekJSXToken();return w.type===7&&w.value===C},S.prototype.parseJSXIdentifier=function(){var C=this.createJSXNode(),w=this.nextJSXToken();return w.type!==100&&this.throwUnexpectedToken(w),this.finalize(C,new d.JSXIdentifier(w.value))},S.prototype.parseJSXElementName=function(){var C=this.createJSXNode(),w=this.parseJSXIdentifier();if(this.matchJSX(":")){var T=w;this.expectJSX(":");var _=this.parseJSXIdentifier();w=this.finalize(C,new d.JSXNamespacedName(T,_))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var A=w;this.expectJSX(".");var E=this.parseJSXIdentifier();w=this.finalize(C,new d.JSXMemberExpression(A,E))}return w},S.prototype.parseJSXAttributeName=function(){var C,w=this.createJSXNode(),T=this.parseJSXIdentifier();if(this.matchJSX(":")){var _=T;this.expectJSX(":");var A=this.parseJSXIdentifier();C=this.finalize(w,new d.JSXNamespacedName(_,A))}else C=T;return C},S.prototype.parseJSXStringLiteralAttribute=function(){var C=this.createJSXNode(),w=this.nextJSXToken();w.type!==8&&this.throwUnexpectedToken(w);var T=this.getTokenRaw(w);return this.finalize(C,new h.Literal(w.value,T))},S.prototype.parseJSXExpressionAttribute=function(){var C=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var w=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(C,new d.JSXExpressionContainer(w))},S.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},S.prototype.parseJSXNameValueAttribute=function(){var C=this.createJSXNode(),w=this.parseJSXAttributeName(),T=null;return this.matchJSX("=")&&(this.expectJSX("="),T=this.parseJSXAttributeValue()),this.finalize(C,new d.JSXAttribute(w,T))},S.prototype.parseJSXSpreadAttribute=function(){var C=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var w=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(C,new d.JSXSpreadAttribute(w))},S.prototype.parseJSXAttributes=function(){for(var C=[];!this.matchJSX("/")&&!this.matchJSX(">");){var w=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();C.push(w)}return C},S.prototype.parseJSXOpeningElement=function(){var C=this.createJSXNode();this.expectJSX("<");var w=this.parseJSXElementName(),T=this.parseJSXAttributes(),_=this.matchJSX("/");return _&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(C,new d.JSXOpeningElement(w,_,T))},S.prototype.parseJSXBoundaryElement=function(){var C=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var w=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(C,new d.JSXClosingElement(w))}var T=this.parseJSXElementName(),_=this.parseJSXAttributes(),A=this.matchJSX("/");return A&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(C,new d.JSXOpeningElement(T,A,_))},S.prototype.parseJSXEmptyExpression=function(){var C=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(C,new d.JSXEmptyExpression)},S.prototype.parseJSXExpressionContainer=function(){var C,w=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(C=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),C=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(w,new d.JSXExpressionContainer(C))},S.prototype.parseJSXChildren=function(){for(var C=[];!this.scanner.eof();){var w=this.createJSXChildNode(),T=this.nextJSXText();if(T.start<T.end){var _=this.getTokenRaw(T),A=this.finalize(w,new d.JSXText(T.value,_));C.push(A)}if(this.scanner.source[this.scanner.index]!=="{")break;var E=this.parseJSXExpressionContainer();C.push(E)}return C},S.prototype.parseComplexJSXElement=function(C){for(var w=[];!this.scanner.eof();){C.children=C.children.concat(this.parseJSXChildren());var T=this.createJSXChildNode(),_=this.parseJSXBoundaryElement();if(_.type===p.JSXSyntax.JSXOpeningElement){var A=_;if(A.selfClosing){var E=this.finalize(T,new d.JSXElement(A,[],null));C.children.push(E)}else w.push(C),C={node:T,opening:A,closing:null,children:[]}}if(_.type===p.JSXSyntax.JSXClosingElement){C.closing=_;var D=v(C.opening.name);if(D!==v(C.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",D),!(w.length>0))break;E=this.finalize(C.node,new d.JSXElement(C.opening,C.children,C.closing)),(C=w[w.length-1]).children.push(E),w.pop()}}return C},S.prototype.parseJSXElement=function(){var C=this.createJSXNode(),w=this.parseJSXOpeningElement(),T=[],_=null;if(!w.selfClosing){var A=this.parseComplexJSXElement({node:C,opening:w,closing:_,children:T});T=A.children,_=A.closing}return this.finalize(C,new d.JSXElement(w,T,_))},S.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var C=this.parseJSXElement();return this.finishJSX(),C},S.prototype.isStartOfExpression=function(){return x.prototype.isStartOfExpression.call(this)||this.match("<")},S}(m.Parser);s.JSXParser=g},function(a,s){Object.defineProperty(s,"__esModule",{value:!0});var u={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};s.Character={fromCodePoint:function(l){return l<65536?String.fromCharCode(l):String.fromCharCode(55296+(l-65536>>10))+String.fromCharCode(56320+(l-65536&1023))},isWhiteSpace:function(l){return l===32||l===9||l===11||l===12||l===160||l>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(l)>=0},isLineTerminator:function(l){return l===10||l===13||l===8232||l===8233},isIdentifierStart:function(l){return l===36||l===95||l>=65&&l<=90||l>=97&&l<=122||l===92||l>=128&&u.NonAsciiIdentifierStart.test(s.Character.fromCodePoint(l))},isIdentifierPart:function(l){return l===36||l===95||l>=65&&l<=90||l>=97&&l<=122||l>=48&&l<=57||l===92||l>=128&&u.NonAsciiIdentifierPart.test(s.Character.fromCodePoint(l))},isDecimalDigit:function(l){return l>=48&&l<=57},isHexDigit:function(l){return l>=48&&l<=57||l>=65&&l<=70||l>=97&&l<=102},isOctalDigit:function(l){return l>=48&&l<=55}}},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(6),f=function(S){this.type=l.JSXSyntax.JSXClosingElement,this.name=S};s.JSXClosingElement=f;var c=function(S,C,w){this.type=l.JSXSyntax.JSXElement,this.openingElement=S,this.children=C,this.closingElement=w};s.JSXElement=c;var d=function(){this.type=l.JSXSyntax.JSXEmptyExpression};s.JSXEmptyExpression=d;var p=function(S){this.type=l.JSXSyntax.JSXExpressionContainer,this.expression=S};s.JSXExpressionContainer=p;var h=function(S){this.type=l.JSXSyntax.JSXIdentifier,this.name=S};s.JSXIdentifier=h;var m=function(S,C){this.type=l.JSXSyntax.JSXMemberExpression,this.object=S,this.property=C};s.JSXMemberExpression=m;var y=function(S,C){this.type=l.JSXSyntax.JSXAttribute,this.name=S,this.value=C};s.JSXAttribute=y;var b=function(S,C){this.type=l.JSXSyntax.JSXNamespacedName,this.namespace=S,this.name=C};s.JSXNamespacedName=b;var v=function(S,C,w){this.type=l.JSXSyntax.JSXOpeningElement,this.name=S,this.selfClosing=C,this.attributes=w};s.JSXOpeningElement=v;var g=function(S){this.type=l.JSXSyntax.JSXSpreadAttribute,this.argument=S};s.JSXSpreadAttribute=g;var x=function(S,C){this.type=l.JSXSyntax.JSXText,this.value=S,this.raw=C};s.JSXText=x},function(a,s){Object.defineProperty(s,"__esModule",{value:!0}),s.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(2),f=function(fe){this.type=l.Syntax.ArrayExpression,this.elements=fe};s.ArrayExpression=f;var c=function(fe){this.type=l.Syntax.ArrayPattern,this.elements=fe};s.ArrayPattern=c;var d=function(fe,ve,$e){this.type=l.Syntax.ArrowFunctionExpression,this.id=null,this.params=fe,this.body=ve,this.generator=!1,this.expression=$e,this.async=!1};s.ArrowFunctionExpression=d;var p=function(fe,ve,$e){this.type=l.Syntax.AssignmentExpression,this.operator=fe,this.left=ve,this.right=$e};s.AssignmentExpression=p;var h=function(fe,ve){this.type=l.Syntax.AssignmentPattern,this.left=fe,this.right=ve};s.AssignmentPattern=h;var m=function(fe,ve,$e){this.type=l.Syntax.ArrowFunctionExpression,this.id=null,this.params=fe,this.body=ve,this.generator=!1,this.expression=$e,this.async=!0};s.AsyncArrowFunctionExpression=m;var y=function(fe,ve,$e){this.type=l.Syntax.FunctionDeclaration,this.id=fe,this.params=ve,this.body=$e,this.generator=!1,this.expression=!1,this.async=!0};s.AsyncFunctionDeclaration=y;var b=function(fe,ve,$e){this.type=l.Syntax.FunctionExpression,this.id=fe,this.params=ve,this.body=$e,this.generator=!1,this.expression=!1,this.async=!0};s.AsyncFunctionExpression=b;var v=function(fe){this.type=l.Syntax.AwaitExpression,this.argument=fe};s.AwaitExpression=v;var g=function(fe,ve,$e){var er=fe==="||"||fe==="&&";this.type=er?l.Syntax.LogicalExpression:l.Syntax.BinaryExpression,this.operator=fe,this.left=ve,this.right=$e};s.BinaryExpression=g;var x=function(fe){this.type=l.Syntax.BlockStatement,this.body=fe};s.BlockStatement=x;var S=function(fe){this.type=l.Syntax.BreakStatement,this.label=fe};s.BreakStatement=S;var C=function(fe,ve){this.type=l.Syntax.CallExpression,this.callee=fe,this.arguments=ve};s.CallExpression=C;var w=function(fe,ve){this.type=l.Syntax.CatchClause,this.param=fe,this.body=ve};s.CatchClause=w;var T=function(fe){this.type=l.Syntax.ClassBody,this.body=fe};s.ClassBody=T;var _=function(fe,ve,$e){this.type=l.Syntax.ClassDeclaration,this.id=fe,this.superClass=ve,this.body=$e};s.ClassDeclaration=_;var A=function(fe,ve,$e){this.type=l.Syntax.ClassExpression,this.id=fe,this.superClass=ve,this.body=$e};s.ClassExpression=A;var E=function(fe,ve){this.type=l.Syntax.MemberExpression,this.computed=!0,this.object=fe,this.property=ve};s.ComputedMemberExpression=E;var D=function(fe,ve,$e){this.type=l.Syntax.ConditionalExpression,this.test=fe,this.consequent=ve,this.alternate=$e};s.ConditionalExpression=D;var O=function(fe){this.type=l.Syntax.ContinueStatement,this.label=fe};s.ContinueStatement=O;var P=function(){this.type=l.Syntax.DebuggerStatement};s.DebuggerStatement=P;var k=function(fe,ve){this.type=l.Syntax.ExpressionStatement,this.expression=fe,this.directive=ve};s.Directive=k;var U=function(fe,ve){this.type=l.Syntax.DoWhileStatement,this.body=fe,this.test=ve};s.DoWhileStatement=U;var H=function(){this.type=l.Syntax.EmptyStatement};s.EmptyStatement=H;var R=function(fe){this.type=l.Syntax.ExportAllDeclaration,this.source=fe};s.ExportAllDeclaration=R;var B=function(fe){this.type=l.Syntax.ExportDefaultDeclaration,this.declaration=fe};s.ExportDefaultDeclaration=B;var M=function(fe,ve,$e){this.type=l.Syntax.ExportNamedDeclaration,this.declaration=fe,this.specifiers=ve,this.source=$e};s.ExportNamedDeclaration=M;var z=function(fe,ve){this.type=l.Syntax.ExportSpecifier,this.exported=ve,this.local=fe};s.ExportSpecifier=z;var $=function(fe){this.type=l.Syntax.ExpressionStatement,this.expression=fe};s.ExpressionStatement=$;var J=function(fe,ve,$e){this.type=l.Syntax.ForInStatement,this.left=fe,this.right=ve,this.body=$e,this.each=!1};s.ForInStatement=J;var Z=function(fe,ve,$e){this.type=l.Syntax.ForOfStatement,this.left=fe,this.right=ve,this.body=$e};s.ForOfStatement=Z;var X=function(fe,ve,$e,er){this.type=l.Syntax.ForStatement,this.init=fe,this.test=ve,this.update=$e,this.body=er};s.ForStatement=X;var te=function(fe,ve,$e,er){this.type=l.Syntax.FunctionDeclaration,this.id=fe,this.params=ve,this.body=$e,this.generator=er,this.expression=!1,this.async=!1};s.FunctionDeclaration=te;var ae=function(fe,ve,$e,er){this.type=l.Syntax.FunctionExpression,this.id=fe,this.params=ve,this.body=$e,this.generator=er,this.expression=!1,this.async=!1};s.FunctionExpression=ae;var ue=function(fe){this.type=l.Syntax.Identifier,this.name=fe};s.Identifier=ue;var ie=function(fe,ve,$e){this.type=l.Syntax.IfStatement,this.test=fe,this.consequent=ve,this.alternate=$e};s.IfStatement=ie;var F=function(fe,ve){this.type=l.Syntax.ImportDeclaration,this.specifiers=fe,this.source=ve};s.ImportDeclaration=F;var I=function(fe){this.type=l.Syntax.ImportDefaultSpecifier,this.local=fe};s.ImportDefaultSpecifier=I;var j=function(fe){this.type=l.Syntax.ImportNamespaceSpecifier,this.local=fe};s.ImportNamespaceSpecifier=j;var N=function(fe,ve){this.type=l.Syntax.ImportSpecifier,this.local=fe,this.imported=ve};s.ImportSpecifier=N;var L=function(fe,ve){this.type=l.Syntax.LabeledStatement,this.label=fe,this.body=ve};s.LabeledStatement=L;var G=function(fe,ve){this.type=l.Syntax.Literal,this.value=fe,this.raw=ve};s.Literal=G;var W=function(fe,ve){this.type=l.Syntax.MetaProperty,this.meta=fe,this.property=ve};s.MetaProperty=W;var Y=function(fe,ve,$e,er,Vd){this.type=l.Syntax.MethodDefinition,this.key=fe,this.computed=ve,this.value=$e,this.kind=er,this.static=Vd};s.MethodDefinition=Y;var ee=function(fe){this.type=l.Syntax.Program,this.body=fe,this.sourceType="module"};s.Module=ee;var oe=function(fe,ve){this.type=l.Syntax.NewExpression,this.callee=fe,this.arguments=ve};s.NewExpression=oe;var le=function(fe){this.type=l.Syntax.ObjectExpression,this.properties=fe};s.ObjectExpression=le;var pe=function(fe){this.type=l.Syntax.ObjectPattern,this.properties=fe};s.ObjectPattern=pe;var ce=function(fe,ve,$e,er,Vd,TT){this.type=l.Syntax.Property,this.key=ve,this.computed=$e,this.value=er,this.kind=fe,this.method=Vd,this.shorthand=TT};s.Property=ce;var me=function(fe,ve,$e,er){this.type=l.Syntax.Literal,this.value=fe,this.raw=ve,this.regex={pattern:$e,flags:er}};s.RegexLiteral=me;var ge=function(fe){this.type=l.Syntax.RestElement,this.argument=fe};s.RestElement=ge;var de=function(fe){this.type=l.Syntax.ReturnStatement,this.argument=fe};s.ReturnStatement=de;var Ee=function(fe){this.type=l.Syntax.Program,this.body=fe,this.sourceType="script"};s.Script=Ee;var K=function(fe){this.type=l.Syntax.SequenceExpression,this.expressions=fe};s.SequenceExpression=K;var Te=function(fe){this.type=l.Syntax.SpreadElement,this.argument=fe};s.SpreadElement=Te;var we=function(fe,ve){this.type=l.Syntax.MemberExpression,this.computed=!1,this.object=fe,this.property=ve};s.StaticMemberExpression=we;var Se=function(){this.type=l.Syntax.Super};s.Super=Se;var se=function(fe,ve){this.type=l.Syntax.SwitchCase,this.test=fe,this.consequent=ve};s.SwitchCase=se;var he=function(fe,ve){this.type=l.Syntax.SwitchStatement,this.discriminant=fe,this.cases=ve};s.SwitchStatement=he;var be=function(fe,ve){this.type=l.Syntax.TaggedTemplateExpression,this.tag=fe,this.quasi=ve};s.TaggedTemplateExpression=be;var ye=function(fe,ve){this.type=l.Syntax.TemplateElement,this.value=fe,this.tail=ve};s.TemplateElement=ye;var Ne=function(fe,ve){this.type=l.Syntax.TemplateLiteral,this.quasis=fe,this.expressions=ve};s.TemplateLiteral=Ne;var ke=function(){this.type=l.Syntax.ThisExpression};s.ThisExpression=ke;var Pe=function(fe){this.type=l.Syntax.ThrowStatement,this.argument=fe};s.ThrowStatement=Pe;var qe=function(fe,ve,$e){this.type=l.Syntax.TryStatement,this.block=fe,this.handler=ve,this.finalizer=$e};s.TryStatement=qe;var nt=function(fe,ve){this.type=l.Syntax.UnaryExpression,this.operator=fe,this.argument=ve,this.prefix=!0};s.UnaryExpression=nt;var fn=function(fe,ve,$e){this.type=l.Syntax.UpdateExpression,this.operator=fe,this.argument=ve,this.prefix=$e};s.UpdateExpression=fn;var kn=function(fe,ve){this.type=l.Syntax.VariableDeclaration,this.declarations=fe,this.kind=ve};s.VariableDeclaration=kn;var Rt=function(fe,ve){this.type=l.Syntax.VariableDeclarator,this.id=fe,this.init=ve};s.VariableDeclarator=Rt;var vr=function(fe,ve){this.type=l.Syntax.WhileStatement,this.test=fe,this.body=ve};s.WhileStatement=vr;var CT=function(fe,ve){this.type=l.Syntax.WithStatement,this.object=fe,this.body=ve};s.WithStatement=CT;var wT=function(fe,ve){this.type=l.Syntax.YieldExpression,this.argument=fe,this.delegate=ve};s.YieldExpression=wT},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(9),f=u(10),c=u(11),d=u(7),p=u(12),h=u(2),m=u(13),y=function(){function b(v,g,x){g===void 0&&(g={}),this.config={range:typeof g.range=="boolean"&&g.range,loc:typeof g.loc=="boolean"&&g.loc,source:null,tokens:typeof g.tokens=="boolean"&&g.tokens,comment:typeof g.comment=="boolean"&&g.comment,tolerant:typeof g.tolerant=="boolean"&&g.tolerant},this.config.loc&&g.source&&g.source!==null&&(this.config.source=String(g.source)),this.delegate=x,this.errorHandler=new f.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new p.Scanner(v,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return b.prototype.throwError=function(v){for(var g=[],x=1;x<arguments.length;x++)g[x-1]=arguments[x];var S=Array.prototype.slice.call(arguments,1),C=v.replace(/%(\d)/g,function(A,E){return l.assert(E<S.length,"Message reference must be in range"),S[E]}),w=this.lastMarker.index,T=this.lastMarker.line,_=this.lastMarker.column+1;throw this.errorHandler.createError(w,T,_,C)},b.prototype.tolerateError=function(v){for(var g=[],x=1;x<arguments.length;x++)g[x-1]=arguments[x];var S=Array.prototype.slice.call(arguments,1),C=v.replace(/%(\d)/g,function(A,E){return l.assert(E<S.length,"Message reference must be in range"),S[E]}),w=this.lastMarker.index,T=this.scanner.lineNumber,_=this.lastMarker.column+1;this.errorHandler.tolerateError(w,T,_,C)},b.prototype.unexpectedTokenError=function(v,g){var x,S=g||c.Messages.UnexpectedToken;if(v?(g||(S=v.type===2?c.Messages.UnexpectedEOS:v.type===3?c.Messages.UnexpectedIdentifier:v.type===6?c.Messages.UnexpectedNumber:v.type===8?c.Messages.UnexpectedString:v.type===10?c.Messages.UnexpectedTemplate:c.Messages.UnexpectedToken,v.type===4&&(this.scanner.isFutureReservedWord(v.value)?S=c.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(v.value)&&(S=c.Messages.StrictReservedWord))),x=v.value):x="ILLEGAL",S=S.replace("%0",x),v&&typeof v.lineNumber=="number"){var C=v.start,w=v.lineNumber,T=this.lastMarker.index-this.lastMarker.column,_=v.start-T+1;return this.errorHandler.createError(C,w,_,S)}return C=this.lastMarker.index,w=this.lastMarker.line,_=this.lastMarker.column+1,this.errorHandler.createError(C,w,_,S)},b.prototype.throwUnexpectedToken=function(v,g){throw this.unexpectedTokenError(v,g)},b.prototype.tolerateUnexpectedToken=function(v,g){this.errorHandler.tolerate(this.unexpectedTokenError(v,g))},b.prototype.collectComments=function(){if(this.config.comment){var v=this.scanner.scanComments();if(v.length>0&&this.delegate)for(var g=0;g<v.length;++g){var x=v[g],S=void 0;S={type:x.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(x.slice[0],x.slice[1])},this.config.range&&(S.range=x.range),this.config.loc&&(S.loc=x.loc);var C={start:{line:x.loc.start.line,column:x.loc.start.column,offset:x.range[0]},end:{line:x.loc.end.line,column:x.loc.end.column,offset:x.range[1]}};this.delegate(S,C)}}else this.scanner.scanComments()},b.prototype.getTokenRaw=function(v){return this.scanner.source.slice(v.start,v.end)},b.prototype.convertToken=function(v){var g={type:m.TokenName[v.type],value:this.getTokenRaw(v)};if(this.config.range&&(g.range=[v.start,v.end]),this.config.loc&&(g.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),v.type===9){var x=v.pattern,S=v.flags;g.regex={pattern:x,flags:S}}return g},b.prototype.nextToken=function(){var v=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var g=this.scanner.lex();return this.hasLineTerminator=v.lineNumber!==g.lineNumber,g&&this.context.strict&&g.type===3&&this.scanner.isStrictModeReservedWord(g.value)&&(g.type=4),this.lookahead=g,this.config.tokens&&g.type!==2&&this.tokens.push(this.convertToken(g)),v},b.prototype.nextRegexToken=function(){this.collectComments();var v=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(v))),this.lookahead=v,this.nextToken(),v},b.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},b.prototype.startNode=function(v,g){g===void 0&&(g=0);var x=v.start-v.lineStart,S=v.lineNumber;return x<0&&(x+=g,S--),{index:v.start,line:S,column:x}},b.prototype.finalize=function(v,g){if(this.config.range&&(g.range=[v.index,this.lastMarker.index]),this.config.loc&&(g.loc={start:{line:v.line,column:v.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(g.loc.source=this.config.source)),this.delegate){var x={start:{line:v.line,column:v.column,offset:v.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(g,x)}return g},b.prototype.expect=function(v){var g=this.nextToken();g.type===7&&g.value===v||this.throwUnexpectedToken(g)},b.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var v=this.lookahead;v.type===7&&v.value===","?this.nextToken():v.type===7&&v.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(v)):this.tolerateUnexpectedToken(v,c.Messages.UnexpectedToken)}else this.expect(",")},b.prototype.expectKeyword=function(v){var g=this.nextToken();g.type===4&&g.value===v||this.throwUnexpectedToken(g)},b.prototype.match=function(v){return this.lookahead.type===7&&this.lookahead.value===v},b.prototype.matchKeyword=function(v){return this.lookahead.type===4&&this.lookahead.value===v},b.prototype.matchContextualKeyword=function(v){return this.lookahead.type===3&&this.lookahead.value===v},b.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var v=this.lookahead.value;return v==="="||v==="*="||v==="**="||v==="/="||v==="%="||v==="+="||v==="-="||v==="<<="||v===">>="||v===">>>="||v==="&="||v==="^="||v==="|="},b.prototype.isolateCoverGrammar=function(v){var g=this.context.isBindingElement,x=this.context.isAssignmentTarget,S=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=v.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=g,this.context.isAssignmentTarget=x,this.context.firstCoverInitializedNameError=S,C},b.prototype.inheritCoverGrammar=function(v){var g=this.context.isBindingElement,x=this.context.isAssignmentTarget,S=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=v.call(this);return this.context.isBindingElement=this.context.isBindingElement&&g,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&x,this.context.firstCoverInitializedNameError=S||this.context.firstCoverInitializedNameError,C},b.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===2||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},b.prototype.parsePrimaryExpression=function(){var v,g,x,S=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),v=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(S,new d.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,c.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),v=this.finalize(S,new d.Literal(g.value,x));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),v=this.finalize(S,new d.Literal(g.value==="true",x));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),x=this.getTokenRaw(g),v=this.finalize(S,new d.Literal(null,x));break;case 10:v=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,v=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":v=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":v=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,g=this.nextRegexToken(),x=this.getTokenRaw(g),v=this.finalize(S,new d.RegexLiteral(g.regex,x,g.pattern,g.flags));break;default:v=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?v=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?v=this.finalize(S,new d.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?v=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),v=this.finalize(S,new d.ThisExpression)):v=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:v=this.throwUnexpectedToken(this.nextToken())}return v},b.prototype.parseSpreadElement=function(){var v=this.createNode();this.expect("...");var g=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(v,new d.SpreadElement(g))},b.prototype.parseArrayInitializer=function(){var v=this.createNode(),g=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),g.push(null);else if(this.match("...")){var x=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),g.push(x)}else g.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(v,new d.ArrayExpression(g))},b.prototype.parsePropertyMethod=function(v){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var g=this.context.strict,x=this.context.allowStrictDirective;this.context.allowStrictDirective=v.simple;var S=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&v.firstRestricted&&this.tolerateUnexpectedToken(v.firstRestricted,v.message),this.context.strict&&v.stricted&&this.tolerateUnexpectedToken(v.stricted,v.message),this.context.strict=g,this.context.allowStrictDirective=x,S},b.prototype.parsePropertyMethodFunction=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters(),S=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new d.FunctionExpression(null,x.params,S,!1))},b.prototype.parsePropertyMethodAsyncFunction=function(){var v=this.createNode(),g=this.context.allowYield,x=this.context.await;this.context.allowYield=!1,this.context.await=!0;var S=this.parseFormalParameters(),C=this.parsePropertyMethod(S);return this.context.allowYield=g,this.context.await=x,this.finalize(v,new d.AsyncFunctionExpression(null,S.params,C))},b.prototype.parseObjectPropertyKey=function(){var v,g=this.createNode(),x=this.nextToken();switch(x.type){case 8:case 6:this.context.strict&&x.octal&&this.tolerateUnexpectedToken(x,c.Messages.StrictOctalLiteral);var S=this.getTokenRaw(x);v=this.finalize(g,new d.Literal(x.value,S));break;case 3:case 1:case 5:case 4:v=this.finalize(g,new d.Identifier(x.value));break;case 7:x.value==="["?(v=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):v=this.throwUnexpectedToken(x);break;default:v=this.throwUnexpectedToken(x)}return v},b.prototype.isPropertyKey=function(v,g){return v.type===h.Syntax.Identifier&&v.name===g||v.type===h.Syntax.Literal&&v.value===g},b.prototype.parseObjectProperty=function(v){var g,x=this.createNode(),S=this.lookahead,C=null,w=null,T=!1,_=!1,A=!1,E=!1;if(S.type===3){var D=S.value;this.nextToken(),T=this.match("["),C=(E=!(this.hasLineTerminator||D!=="async"||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(x,new d.Identifier(D))}else this.match("*")?this.nextToken():(T=this.match("["),C=this.parseObjectPropertyKey());var O=this.qualifiedPropertyName(this.lookahead);if(S.type===3&&!E&&S.value==="get"&&O)g="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,w=this.parseGetterMethod();else if(S.type===3&&!E&&S.value==="set"&&O)g="set",T=this.match("["),C=this.parseObjectPropertyKey(),w=this.parseSetterMethod();else if(S.type===7&&S.value==="*"&&O)g="init",T=this.match("["),C=this.parseObjectPropertyKey(),w=this.parseGeneratorMethod(),_=!0;else if(C||this.throwUnexpectedToken(this.lookahead),g="init",this.match(":")&&!E)!T&&this.isPropertyKey(C,"__proto__")&&(v.value&&this.tolerateError(c.Messages.DuplicateProtoProperty),v.value=!0),this.nextToken(),w=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))w=E?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),_=!0;else if(S.type===3)if(D=this.finalize(x,new d.Identifier(S.value)),this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),A=!0;var P=this.isolateCoverGrammar(this.parseAssignmentExpression);w=this.finalize(x,new d.AssignmentPattern(D,P))}else A=!0,w=D;else this.throwUnexpectedToken(this.nextToken());return this.finalize(x,new d.Property(g,C,T,w,_,A))},b.prototype.parseObjectInitializer=function(){var v=this.createNode();this.expect("{");for(var g=[],x={value:!1};!this.match("}");)g.push(this.parseObjectProperty(x)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(v,new d.ObjectExpression(g))},b.prototype.parseTemplateHead=function(){l.assert(this.lookahead.head,"Template literal must start with a template head");var v=this.createNode(),g=this.nextToken(),x=g.value,S=g.cooked;return this.finalize(v,new d.TemplateElement({raw:x,cooked:S},g.tail))},b.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var v=this.createNode(),g=this.nextToken(),x=g.value,S=g.cooked;return this.finalize(v,new d.TemplateElement({raw:x,cooked:S},g.tail))},b.prototype.parseTemplateLiteral=function(){var v=this.createNode(),g=[],x=[],S=this.parseTemplateHead();for(x.push(S);!S.tail;)g.push(this.parseExpression()),S=this.parseTemplateElement(),x.push(S);return this.finalize(v,new d.TemplateLiteral(x,g))},b.prototype.reinterpretExpressionAsPattern=function(v){switch(v.type){case h.Syntax.Identifier:case h.Syntax.MemberExpression:case h.Syntax.RestElement:case h.Syntax.AssignmentPattern:break;case h.Syntax.SpreadElement:v.type=h.Syntax.RestElement,this.reinterpretExpressionAsPattern(v.argument);break;case h.Syntax.ArrayExpression:v.type=h.Syntax.ArrayPattern;for(var g=0;g<v.elements.length;g++)v.elements[g]!==null&&this.reinterpretExpressionAsPattern(v.elements[g]);break;case h.Syntax.ObjectExpression:for(v.type=h.Syntax.ObjectPattern,g=0;g<v.properties.length;g++)this.reinterpretExpressionAsPattern(v.properties[g].value);break;case h.Syntax.AssignmentExpression:v.type=h.Syntax.AssignmentPattern,delete v.operator,this.reinterpretExpressionAsPattern(v.left)}},b.prototype.parseGroupExpression=function(){var v;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),v={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var g=this.lookahead,x=[];if(this.match("..."))v=this.parseRestElement(x),this.expect(")"),this.match("=>")||this.expect("=>"),v={type:"ArrowParameterPlaceHolder",params:[v],async:!1};else{var S=!1;if(this.context.isBindingElement=!0,v=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(v);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var w=0;w<C.length;w++)this.reinterpretExpressionAsPattern(C[w]);S=!0,v={type:"ArrowParameterPlaceHolder",params:C,async:!1}}else if(this.match("...")){for(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(x)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1,w=0;w<C.length;w++)this.reinterpretExpressionAsPattern(C[w]);S=!0,v={type:"ArrowParameterPlaceHolder",params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(S)break}S||(v=this.finalize(this.startNode(g),new d.SequenceExpression(C)))}if(!S){if(this.expect(")"),this.match("=>")&&(v.type===h.Syntax.Identifier&&v.name==="yield"&&(S=!0,v={type:"ArrowParameterPlaceHolder",params:[v],async:!1}),!S)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),v.type===h.Syntax.SequenceExpression)for(w=0;w<v.expressions.length;w++)this.reinterpretExpressionAsPattern(v.expressions[w]);else this.reinterpretExpressionAsPattern(v);v={type:"ArrowParameterPlaceHolder",params:v.type===h.Syntax.SequenceExpression?v.expressions:[v],async:!1}}this.context.isBindingElement=!1}}}return v},b.prototype.parseArguments=function(){this.expect("(");var v=[];if(!this.match(")"))for(;;){var g=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(v.push(g),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),v},b.prototype.isIdentifierName=function(v){return v.type===3||v.type===4||v.type===1||v.type===5},b.prototype.parseIdentifierName=function(){var v=this.createNode(),g=this.nextToken();return this.isIdentifierName(g)||this.throwUnexpectedToken(g),this.finalize(v,new d.Identifier(g.value))},b.prototype.parseNewExpression=function(){var v,g=this.createNode(),x=this.parseIdentifierName();if(l.assert(x.name==="new","New expression must start with `new`"),this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var S=this.parseIdentifierName();v=new d.MetaProperty(x,S)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),w=this.match("(")?this.parseArguments():[];v=new d.NewExpression(C,w),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(g,v)},b.prototype.parseAsyncArgument=function(){var v=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,v},b.prototype.parseAsyncArguments=function(){this.expect("(");var v=[];if(!this.match(")"))for(;;){var g=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(v.push(g),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),v},b.prototype.parseLeftHandSideExpressionAllowCall=function(){var v,g=this.lookahead,x=this.matchContextualKeyword("async"),S=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(v=this.createNode(),this.nextToken(),v=this.finalize(v,new d.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):v=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();v=this.finalize(this.startNode(g),new d.StaticMemberExpression(v,C))}else if(this.match("(")){var w=x&&g.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var T=w?this.parseAsyncArguments():this.parseArguments();if(v=this.finalize(this.startNode(g),new d.CallExpression(v,T)),w&&this.match("=>")){for(var _=0;_<T.length;++_)this.reinterpretExpressionAsPattern(T[_]);v={type:"ArrowParameterPlaceHolder",params:T,async:!0}}}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),C=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),v=this.finalize(this.startNode(g),new d.ComputedMemberExpression(v,C));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var A=this.parseTemplateLiteral();v=this.finalize(this.startNode(g),new d.TaggedTemplateExpression(v,A))}return this.context.allowIn=S,v},b.prototype.parseSuper=function(){var v=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(v,new d.Super)},b.prototype.parseLeftHandSideExpression=function(){l.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var v=this.startNode(this.lookahead),g=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var x=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),g=this.finalize(v,new d.ComputedMemberExpression(g,x))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),x=this.parseIdentifierName(),g=this.finalize(v,new d.StaticMemberExpression(g,x));else{if(this.lookahead.type!==10||!this.lookahead.head)break;var S=this.parseTemplateLiteral();g=this.finalize(v,new d.TaggedTemplateExpression(g,S))}return g},b.prototype.parseUpdateExpression=function(){var v,g=this.lookahead;if(this.match("++")||this.match("--")){var x=this.startNode(g),S=this.nextToken();v=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&v.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(c.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment);var C=!0;v=this.finalize(x,new d.UpdateExpression(S.value,v,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(v=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&v.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(c.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var w=this.nextToken().value;C=!1,v=this.finalize(this.startNode(g),new d.UpdateExpression(w,v,C))}return v},b.prototype.parseAwaitExpression=function(){var v=this.createNode();this.nextToken();var g=this.parseUnaryExpression();return this.finalize(v,new d.AwaitExpression(g))},b.prototype.parseUnaryExpression=function(){var v;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var g=this.startNode(this.lookahead),x=this.nextToken();v=this.inheritCoverGrammar(this.parseUnaryExpression),v=this.finalize(g,new d.UnaryExpression(x.value,v)),this.context.strict&&v.operator==="delete"&&v.argument.type===h.Syntax.Identifier&&this.tolerateError(c.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else v=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return v},b.prototype.parseExponentiationExpression=function(){var v=this.lookahead,g=this.inheritCoverGrammar(this.parseUnaryExpression);if(g.type!==h.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var x=g,S=this.isolateCoverGrammar(this.parseExponentiationExpression);g=this.finalize(this.startNode(v),new d.BinaryExpression("**",x,S))}return g},b.prototype.binaryPrecedence=function(v){var g=v.value;return v.type===7?this.operatorPrecedence[g]||0:v.type===4&&(g==="instanceof"||this.context.allowIn&&g==="in")?7:0},b.prototype.parseBinaryExpression=function(){var v=this.lookahead,g=this.inheritCoverGrammar(this.parseExponentiationExpression),x=this.lookahead,S=this.binaryPrecedence(x);if(S>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[v,this.lookahead],w=g,T=this.isolateCoverGrammar(this.parseExponentiationExpression),_=[w,x.value,T],A=[S];!((S=this.binaryPrecedence(this.lookahead))<=0);){for(;_.length>2&&S<=A[A.length-1];){T=_.pop();var E=_.pop();A.pop(),w=_.pop(),C.pop();var D=this.startNode(C[C.length-1]);_.push(this.finalize(D,new d.BinaryExpression(E,w,T)))}_.push(this.nextToken().value),A.push(S),C.push(this.lookahead),_.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var O=_.length-1;g=_[O];for(var P=C.pop();O>1;){var k=C.pop(),U=P&&P.lineStart;D=this.startNode(k,U),E=_[O-1],g=this.finalize(D,new d.BinaryExpression(E,_[O-2],g)),O-=2,P=k}}return g},b.prototype.parseConditionalExpression=function(){var v=this.lookahead,g=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var x=this.context.allowIn;this.context.allowIn=!0;var S=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=x,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);g=this.finalize(this.startNode(v),new d.ConditionalExpression(g,S,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return g},b.prototype.checkPatternParam=function(v,g){switch(g.type){case h.Syntax.Identifier:this.validateParam(v,g,g.name);break;case h.Syntax.RestElement:this.checkPatternParam(v,g.argument);break;case h.Syntax.AssignmentPattern:this.checkPatternParam(v,g.left);break;case h.Syntax.ArrayPattern:for(var x=0;x<g.elements.length;x++)g.elements[x]!==null&&this.checkPatternParam(v,g.elements[x]);break;case h.Syntax.ObjectPattern:for(x=0;x<g.properties.length;x++)this.checkPatternParam(v,g.properties[x].value)}v.simple=v.simple&&g instanceof d.Identifier},b.prototype.reinterpretAsCoverFormalsList=function(v){var g,x=[v],S=!1;switch(v.type){case h.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":x=v.params,S=v.async;break;default:return null}g={simple:!0,paramSet:{}};for(var C=0;C<x.length;++C)(w=x[C]).type===h.Syntax.AssignmentPattern?w.right.type===h.Syntax.YieldExpression&&(w.right.argument&&this.throwUnexpectedToken(this.lookahead),w.right.type=h.Syntax.Identifier,w.right.name="yield",delete w.right.argument,delete w.right.delegate):S&&w.type===h.Syntax.Identifier&&w.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(g,w),x[C]=w;if(this.context.strict||!this.context.allowYield)for(C=0;C<x.length;++C){var w;(w=x[C]).type===h.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(g.message===c.Messages.StrictParamDupe){var T=this.context.strict?g.stricted:g.firstRestricted;this.throwUnexpectedToken(T,g.message)}return{simple:g.simple,params:x,stricted:g.stricted,firstRestricted:g.firstRestricted,message:g.message}},b.prototype.parseAssignmentExpression=function(){var v;if(!this.context.allowYield&&this.matchKeyword("yield"))v=this.parseYieldExpression();else{var g=this.lookahead,x=g;if(v=this.parseConditionalExpression(),x.type===3&&x.lineNumber===this.lookahead.lineNumber&&x.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var S=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(S),v={type:"ArrowParameterPlaceHolder",params:[S],async:!0}}if(v.type==="ArrowParameterPlaceHolder"||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=v.async,w=this.reinterpretAsCoverFormalsList(v);if(w){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var T=this.context.strict,_=this.context.allowStrictDirective;this.context.allowStrictDirective=w.simple;var A=this.context.allowYield,E=this.context.await;this.context.allowYield=!0,this.context.await=C;var D=this.startNode(g);this.expect("=>");var O=void 0;if(this.match("{")){var P=this.context.allowIn;this.context.allowIn=!0,O=this.parseFunctionSourceElements(),this.context.allowIn=P}else O=this.isolateCoverGrammar(this.parseAssignmentExpression);var k=O.type!==h.Syntax.BlockStatement;this.context.strict&&w.firstRestricted&&this.throwUnexpectedToken(w.firstRestricted,w.message),this.context.strict&&w.stricted&&this.tolerateUnexpectedToken(w.stricted,w.message),v=C?this.finalize(D,new d.AsyncArrowFunctionExpression(w.params,O,k)):this.finalize(D,new d.ArrowFunctionExpression(w.params,O,k)),this.context.strict=T,this.context.allowStrictDirective=_,this.context.allowYield=A,this.context.await=E}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.strict&&v.type===h.Syntax.Identifier){var U=v;this.scanner.isRestrictedWord(U.name)&&this.tolerateUnexpectedToken(x,c.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(U.name)&&this.tolerateUnexpectedToken(x,c.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(v):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var H=(x=this.nextToken()).value,R=this.isolateCoverGrammar(this.parseAssignmentExpression);v=this.finalize(this.startNode(g),new d.AssignmentExpression(H,v,R)),this.context.firstCoverInitializedNameError=null}}return v},b.prototype.parseExpression=function(){var v=this.lookahead,g=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var x=[];for(x.push(g);this.lookahead.type!==2&&this.match(",");)this.nextToken(),x.push(this.isolateCoverGrammar(this.parseAssignmentExpression));g=this.finalize(this.startNode(v),new d.SequenceExpression(x))}return g},b.prototype.parseStatementListItem=function(){var v;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalExportDeclaration),v=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalImportDeclaration),v=this.parseImportDeclaration();break;case"const":v=this.parseLexicalDeclaration({inFor:!1});break;case"function":v=this.parseFunctionDeclaration();break;case"class":v=this.parseClassDeclaration();break;case"let":v=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:v=this.parseStatement()}else v=this.parseStatement();return v},b.prototype.parseBlock=function(){var v=this.createNode();this.expect("{");for(var g=[];!this.match("}");)g.push(this.parseStatementListItem());return this.expect("}"),this.finalize(v,new d.BlockStatement(g))},b.prototype.parseLexicalBinding=function(v,g){var x=this.createNode(),S=this.parsePattern([],v);this.context.strict&&S.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(S.name)&&this.tolerateError(c.Messages.StrictVarName);var C=null;return v==="const"?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(c.Messages.DeclarationMissingInitializer,"const")):(!g.inFor&&S.type!==h.Syntax.Identifier||this.match("="))&&(this.expect("="),C=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(x,new d.VariableDeclarator(S,C))},b.prototype.parseBindingList=function(v,g){for(var x=[this.parseLexicalBinding(v,g)];this.match(",");)this.nextToken(),x.push(this.parseLexicalBinding(v,g));return x},b.prototype.isLexicalDeclaration=function(){var v=this.scanner.saveState();this.scanner.scanComments();var g=this.scanner.lex();return this.scanner.restoreState(v),g.type===3||g.type===7&&g.value==="["||g.type===7&&g.value==="{"||g.type===4&&g.value==="let"||g.type===4&&g.value==="yield"},b.prototype.parseLexicalDeclaration=function(v){var g=this.createNode(),x=this.nextToken().value;l.assert(x==="let"||x==="const","Lexical declaration must be either let or const");var S=this.parseBindingList(x,v);return this.consumeSemicolon(),this.finalize(g,new d.VariableDeclaration(S,x))},b.prototype.parseBindingRestElement=function(v,g){var x=this.createNode();this.expect("...");var S=this.parsePattern(v,g);return this.finalize(x,new d.RestElement(S))},b.prototype.parseArrayPattern=function(v,g){var x=this.createNode();this.expect("[");for(var S=[];!this.match("]");)if(this.match(","))this.nextToken(),S.push(null);else{if(this.match("...")){S.push(this.parseBindingRestElement(v,g));break}S.push(this.parsePatternWithDefault(v,g)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(x,new d.ArrayPattern(S))},b.prototype.parsePropertyPattern=function(v,g){var x,S,C=this.createNode(),w=!1,T=!1;if(this.lookahead.type===3){var _=this.lookahead;x=this.parseVariableIdentifier();var A=this.finalize(C,new d.Identifier(_.value));if(this.match("=")){v.push(_),T=!0,this.nextToken();var E=this.parseAssignmentExpression();S=this.finalize(this.startNode(_),new d.AssignmentPattern(A,E))}else this.match(":")?(this.expect(":"),S=this.parsePatternWithDefault(v,g)):(v.push(_),T=!0,S=A)}else w=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),S=this.parsePatternWithDefault(v,g);return this.finalize(C,new d.Property("init",x,w,S,!1,T))},b.prototype.parseObjectPattern=function(v,g){var x=this.createNode(),S=[];for(this.expect("{");!this.match("}");)S.push(this.parsePropertyPattern(v,g)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(x,new d.ObjectPattern(S))},b.prototype.parsePattern=function(v,g){var x;return this.match("[")?x=this.parseArrayPattern(v,g):this.match("{")?x=this.parseObjectPattern(v,g):(!this.matchKeyword("let")||g!=="const"&&g!=="let"||this.tolerateUnexpectedToken(this.lookahead,c.Messages.LetInLexicalBinding),v.push(this.lookahead),x=this.parseVariableIdentifier(g)),x},b.prototype.parsePatternWithDefault=function(v,g){var x=this.lookahead,S=this.parsePattern(v,g);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var w=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,S=this.finalize(this.startNode(x),new d.AssignmentPattern(S,w))}return S},b.prototype.parseVariableIdentifier=function(v){var g=this.createNode(),x=this.nextToken();return x.type===4&&x.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(x,c.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(x):x.type!==3?this.context.strict&&x.type===4&&this.scanner.isStrictModeReservedWord(x.value)?this.tolerateUnexpectedToken(x,c.Messages.StrictReservedWord):(this.context.strict||x.value!=="let"||v!=="var")&&this.throwUnexpectedToken(x):(this.context.isModule||this.context.await)&&x.type===3&&x.value==="await"&&this.tolerateUnexpectedToken(x),this.finalize(g,new d.Identifier(x.value))},b.prototype.parseVariableDeclaration=function(v){var g=this.createNode(),x=this.parsePattern([],"var");this.context.strict&&x.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(c.Messages.StrictVarName);var S=null;return this.match("=")?(this.nextToken(),S=this.isolateCoverGrammar(this.parseAssignmentExpression)):x.type===h.Syntax.Identifier||v.inFor||this.expect("="),this.finalize(g,new d.VariableDeclarator(x,S))},b.prototype.parseVariableDeclarationList=function(v){var g={inFor:v.inFor},x=[];for(x.push(this.parseVariableDeclaration(g));this.match(",");)this.nextToken(),x.push(this.parseVariableDeclaration(g));return x},b.prototype.parseVariableStatement=function(){var v=this.createNode();this.expectKeyword("var");var g=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(v,new d.VariableDeclaration(g,"var"))},b.prototype.parseEmptyStatement=function(){var v=this.createNode();return this.expect(";"),this.finalize(v,new d.EmptyStatement)},b.prototype.parseExpressionStatement=function(){var v=this.createNode(),g=this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new d.ExpressionStatement(g))},b.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(c.Messages.StrictFunction),this.parseStatement()},b.prototype.parseIfStatement=function(){var v,g=this.createNode(),x=null;this.expectKeyword("if"),this.expect("(");var S=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new d.EmptyStatement)):(this.expect(")"),v=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),x=this.parseIfClause())),this.finalize(g,new d.IfStatement(S,v,x))},b.prototype.parseDoWhileStatement=function(){var v=this.createNode();this.expectKeyword("do");var g=this.context.inIteration;this.context.inIteration=!0;var x=this.parseStatement();this.context.inIteration=g,this.expectKeyword("while"),this.expect("(");var S=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(v,new d.DoWhileStatement(x,S))},b.prototype.parseWhileStatement=function(){var v,g=this.createNode();this.expectKeyword("while"),this.expect("(");var x=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new d.EmptyStatement);else{this.expect(")");var S=this.context.inIteration;this.context.inIteration=!0,v=this.parseStatement(),this.context.inIteration=S}return this.finalize(g,new d.WhileStatement(x,v))},b.prototype.parseForStatement=function(){var v,g,x,S=null,C=null,w=null,T=!0,_=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){S=this.createNode(),this.nextToken();var A=this.context.allowIn;this.context.allowIn=!1;var E=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=A,E.length===1&&this.matchKeyword("in")){var D=E[0];D.init&&(D.id.type===h.Syntax.ArrayPattern||D.id.type===h.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(c.Messages.ForInOfLoopInitializer,"for-in"),S=this.finalize(S,new d.VariableDeclaration(E,"var")),this.nextToken(),v=S,g=this.parseExpression(),S=null}else E.length===1&&E[0].init===null&&this.matchContextualKeyword("of")?(S=this.finalize(S,new d.VariableDeclaration(E,"var")),this.nextToken(),v=S,g=this.parseAssignmentExpression(),S=null,T=!1):(S=this.finalize(S,new d.VariableDeclaration(E,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){S=this.createNode();var O=this.nextToken().value;this.context.strict||this.lookahead.value!=="in"?(A=this.context.allowIn,this.context.allowIn=!1,E=this.parseBindingList(O,{inFor:!0}),this.context.allowIn=A,E.length===1&&E[0].init===null&&this.matchKeyword("in")?(S=this.finalize(S,new d.VariableDeclaration(E,O)),this.nextToken(),v=S,g=this.parseExpression(),S=null):E.length===1&&E[0].init===null&&this.matchContextualKeyword("of")?(S=this.finalize(S,new d.VariableDeclaration(E,O)),this.nextToken(),v=S,g=this.parseAssignmentExpression(),S=null,T=!1):(this.consumeSemicolon(),S=this.finalize(S,new d.VariableDeclaration(E,O)))):(S=this.finalize(S,new d.Identifier(O)),this.nextToken(),v=S,g=this.parseExpression(),S=null)}else{var P=this.lookahead;if(A=this.context.allowIn,this.context.allowIn=!1,S=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=A,this.matchKeyword("in"))this.context.isAssignmentTarget&&S.type!==h.Syntax.AssignmentExpression||this.tolerateError(c.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(S),v=S,g=this.parseExpression(),S=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&S.type!==h.Syntax.AssignmentExpression||this.tolerateError(c.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(S),v=S,g=this.parseAssignmentExpression(),S=null,T=!1;else{if(this.match(",")){for(var k=[S];this.match(",");)this.nextToken(),k.push(this.isolateCoverGrammar(this.parseAssignmentExpression));S=this.finalize(this.startNode(P),new d.SequenceExpression(k))}this.expect(";")}}if(v===void 0&&(this.match(";")||(C=this.parseExpression()),this.expect(";"),this.match(")")||(w=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),x=this.finalize(this.createNode(),new d.EmptyStatement);else{this.expect(")");var U=this.context.inIteration;this.context.inIteration=!0,x=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=U}return v===void 0?this.finalize(_,new d.ForStatement(S,C,w,x)):T?this.finalize(_,new d.ForInStatement(v,g,x)):this.finalize(_,new d.ForOfStatement(v,g,x))},b.prototype.parseContinueStatement=function(){var v=this.createNode();this.expectKeyword("continue");var g=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier();g=x;var S="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,S)||this.throwError(c.Messages.UnknownLabel,x.name)}return this.consumeSemicolon(),g!==null||this.context.inIteration||this.throwError(c.Messages.IllegalContinue),this.finalize(v,new d.ContinueStatement(g))},b.prototype.parseBreakStatement=function(){var v=this.createNode();this.expectKeyword("break");var g=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var x=this.parseVariableIdentifier(),S="$"+x.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,S)||this.throwError(c.Messages.UnknownLabel,x.name),g=x}return this.consumeSemicolon(),g!==null||this.context.inIteration||this.context.inSwitch||this.throwError(c.Messages.IllegalBreak),this.finalize(v,new d.BreakStatement(g))},b.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(c.Messages.IllegalReturn);var v=this.createNode();this.expectKeyword("return");var g=(this.match(";")||this.match("}")||this.hasLineTerminator||this.lookahead.type===2)&&this.lookahead.type!==8&&this.lookahead.type!==10?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new d.ReturnStatement(g))},b.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(c.Messages.StrictModeWith);var v,g=this.createNode();this.expectKeyword("with"),this.expect("(");var x=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),v=this.finalize(this.createNode(),new d.EmptyStatement)):(this.expect(")"),v=this.parseStatement()),this.finalize(g,new d.WithStatement(x,v))},b.prototype.parseSwitchCase=function(){var v,g=this.createNode();this.matchKeyword("default")?(this.nextToken(),v=null):(this.expectKeyword("case"),v=this.parseExpression()),this.expect(":");for(var x=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)x.push(this.parseStatementListItem());return this.finalize(g,new d.SwitchCase(v,x))},b.prototype.parseSwitchStatement=function(){var v=this.createNode();this.expectKeyword("switch"),this.expect("(");var g=this.parseExpression();this.expect(")");var x=this.context.inSwitch;this.context.inSwitch=!0;var S=[],C=!1;for(this.expect("{");!this.match("}");){var w=this.parseSwitchCase();w.test===null&&(C&&this.throwError(c.Messages.MultipleDefaultsInSwitch),C=!0),S.push(w)}return this.expect("}"),this.context.inSwitch=x,this.finalize(v,new d.SwitchStatement(g,S))},b.prototype.parseLabelledStatement=function(){var v,g=this.createNode(),x=this.parseExpression();if(x.type===h.Syntax.Identifier&&this.match(":")){this.nextToken();var S=x,C="$"+S.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(c.Messages.Redeclaration,"Label",S.name),this.context.labelSet[C]=!0;var w=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),w=this.parseClassDeclaration();else if(this.matchKeyword("function")){var T=this.lookahead,_=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(T,c.Messages.StrictFunction):_.generator&&this.tolerateUnexpectedToken(T,c.Messages.GeneratorInLegacyContext),w=_}else w=this.parseStatement();delete this.context.labelSet[C],v=new d.LabeledStatement(S,w)}else this.consumeSemicolon(),v=new d.ExpressionStatement(x);return this.finalize(g,v)},b.prototype.parseThrowStatement=function(){var v=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(c.Messages.NewlineAfterThrow);var g=this.parseExpression();return this.consumeSemicolon(),this.finalize(v,new d.ThrowStatement(g))},b.prototype.parseCatchClause=function(){var v=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var g=[],x=this.parsePattern(g),S={},C=0;C<g.length;C++){var w="$"+g[C].value;Object.prototype.hasOwnProperty.call(S,w)&&this.tolerateError(c.Messages.DuplicateBinding,g[C].value),S[w]=!0}this.context.strict&&x.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(x.name)&&this.tolerateError(c.Messages.StrictCatchVariable),this.expect(")");var T=this.parseBlock();return this.finalize(v,new d.CatchClause(x,T))},b.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},b.prototype.parseTryStatement=function(){var v=this.createNode();this.expectKeyword("try");var g=this.parseBlock(),x=this.matchKeyword("catch")?this.parseCatchClause():null,S=this.matchKeyword("finally")?this.parseFinallyClause():null;return x||S||this.throwError(c.Messages.NoCatchOrFinally),this.finalize(v,new d.TryStatement(g,x,S))},b.prototype.parseDebuggerStatement=function(){var v=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(v,new d.DebuggerStatement)},b.prototype.parseStatement=function(){var v;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:v=this.parseExpressionStatement();break;case 7:var g=this.lookahead.value;v=g==="{"?this.parseBlock():g==="("?this.parseExpressionStatement():g===";"?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:v=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":v=this.parseBreakStatement();break;case"continue":v=this.parseContinueStatement();break;case"debugger":v=this.parseDebuggerStatement();break;case"do":v=this.parseDoWhileStatement();break;case"for":v=this.parseForStatement();break;case"function":v=this.parseFunctionDeclaration();break;case"if":v=this.parseIfStatement();break;case"return":v=this.parseReturnStatement();break;case"switch":v=this.parseSwitchStatement();break;case"throw":v=this.parseThrowStatement();break;case"try":v=this.parseTryStatement();break;case"var":v=this.parseVariableStatement();break;case"while":v=this.parseWhileStatement();break;case"with":v=this.parseWithStatement();break;default:v=this.parseExpressionStatement()}break;default:v=this.throwUnexpectedToken(this.lookahead)}return v},b.prototype.parseFunctionSourceElements=function(){var v=this.createNode();this.expect("{");var g=this.parseDirectivePrologues(),x=this.context.labelSet,S=this.context.inIteration,C=this.context.inSwitch,w=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)g.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=x,this.context.inIteration=S,this.context.inSwitch=C,this.context.inFunctionBody=w,this.finalize(v,new d.BlockStatement(g))},b.prototype.validateParam=function(v,g,x){var S="$"+x;this.context.strict?(this.scanner.isRestrictedWord(x)&&(v.stricted=g,v.message=c.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(v.paramSet,S)&&(v.stricted=g,v.message=c.Messages.StrictParamDupe)):v.firstRestricted||(this.scanner.isRestrictedWord(x)?(v.firstRestricted=g,v.message=c.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(x)?(v.firstRestricted=g,v.message=c.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(v.paramSet,S)&&(v.stricted=g,v.message=c.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(v.paramSet,S,{value:!0,enumerable:!0,writable:!0,configurable:!0}):v.paramSet[S]=!0},b.prototype.parseRestElement=function(v){var g=this.createNode();this.expect("...");var x=this.parsePattern(v);return this.match("=")&&this.throwError(c.Messages.DefaultRestParameter),this.match(")")||this.throwError(c.Messages.ParameterAfterRestParameter),this.finalize(g,new d.RestElement(x))},b.prototype.parseFormalParameter=function(v){for(var g=[],x=this.match("...")?this.parseRestElement(g):this.parsePatternWithDefault(g),S=0;S<g.length;S++)this.validateParam(v,g[S],g[S].value);v.simple=v.simple&&x instanceof d.Identifier,v.params.push(x)},b.prototype.parseFormalParameters=function(v){var g;if(g={simple:!0,params:[],firstRestricted:v},this.expect("("),!this.match(")"))for(g.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(g),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:g.simple,params:g.params,stricted:g.stricted,firstRestricted:g.firstRestricted,message:g.message}},b.prototype.matchAsyncFunction=function(){var v=this.matchContextualKeyword("async");if(v){var g=this.scanner.saveState();this.scanner.scanComments();var x=this.scanner.lex();this.scanner.restoreState(g),v=g.lineNumber===x.lineNumber&&x.type===4&&x.value==="function"}return v},b.prototype.parseFunctionDeclaration=function(v){var g=this.createNode(),x=this.matchContextualKeyword("async");x&&this.nextToken(),this.expectKeyword("function");var S,C=!x&&this.match("*");C&&this.nextToken();var w=null,T=null;if(!v||!this.match("(")){var _=this.lookahead;w=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(_.value)&&this.tolerateUnexpectedToken(_,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(_.value)?(T=_,S=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(_.value)&&(T=_,S=c.Messages.StrictReservedWord)}var A=this.context.await,E=this.context.allowYield;this.context.await=x,this.context.allowYield=!C;var D=this.parseFormalParameters(T),O=D.params,P=D.stricted;T=D.firstRestricted,D.message&&(S=D.message);var k=this.context.strict,U=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var H=this.parseFunctionSourceElements();return this.context.strict&&T&&this.throwUnexpectedToken(T,S),this.context.strict&&P&&this.tolerateUnexpectedToken(P,S),this.context.strict=k,this.context.allowStrictDirective=U,this.context.await=A,this.context.allowYield=E,x?this.finalize(g,new d.AsyncFunctionDeclaration(w,O,H)):this.finalize(g,new d.FunctionDeclaration(w,O,H,C))},b.prototype.parseFunctionExpression=function(){var v=this.createNode(),g=this.matchContextualKeyword("async");g&&this.nextToken(),this.expectKeyword("function");var x,S=!g&&this.match("*");S&&this.nextToken();var C,w=null,T=this.context.await,_=this.context.allowYield;if(this.context.await=g,this.context.allowYield=!S,!this.match("(")){var A=this.lookahead;w=this.context.strict||S||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(A.value)&&this.tolerateUnexpectedToken(A,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(A.value)?(C=A,x=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(A.value)&&(C=A,x=c.Messages.StrictReservedWord)}var E=this.parseFormalParameters(C),D=E.params,O=E.stricted;C=E.firstRestricted,E.message&&(x=E.message);var P=this.context.strict,k=this.context.allowStrictDirective;this.context.allowStrictDirective=E.simple;var U=this.parseFunctionSourceElements();return this.context.strict&&C&&this.throwUnexpectedToken(C,x),this.context.strict&&O&&this.tolerateUnexpectedToken(O,x),this.context.strict=P,this.context.allowStrictDirective=k,this.context.await=T,this.context.allowYield=_,g?this.finalize(v,new d.AsyncFunctionExpression(w,D,U)):this.finalize(v,new d.FunctionExpression(w,D,U,S))},b.prototype.parseDirective=function(){var v=this.lookahead,g=this.createNode(),x=this.parseExpression(),S=x.type===h.Syntax.Literal?this.getTokenRaw(v).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(g,S?new d.Directive(x,S):new d.ExpressionStatement(x))},b.prototype.parseDirectivePrologues=function(){for(var v=null,g=[];;){var x=this.lookahead;if(x.type!==8)break;var S=this.parseDirective();g.push(S);var C=S.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,v&&this.tolerateUnexpectedToken(v,c.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(x,c.Messages.IllegalLanguageModeDirective)):!v&&x.octal&&(v=x)}return g},b.prototype.qualifiedPropertyName=function(v){switch(v.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return v.value==="["}return!1},b.prototype.parseGetterMethod=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length>0&&this.tolerateError(c.Messages.BadGetterArity);var S=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new d.FunctionExpression(null,x.params,S,!1))},b.prototype.parseSetterMethod=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();x.params.length!==1?this.tolerateError(c.Messages.BadSetterArity):x.params[0]instanceof d.RestElement&&this.tolerateError(c.Messages.BadSetterRestParameter);var S=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new d.FunctionExpression(null,x.params,S,!1))},b.prototype.parseGeneratorMethod=function(){var v=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var x=this.parseFormalParameters();this.context.allowYield=!1;var S=this.parsePropertyMethod(x);return this.context.allowYield=g,this.finalize(v,new d.FunctionExpression(null,x.params,S,!0))},b.prototype.isStartOfExpression=function(){var v=!0,g=this.lookahead.value;switch(this.lookahead.type){case 7:v=g==="["||g==="("||g==="{"||g==="+"||g==="-"||g==="!"||g==="~"||g==="++"||g==="--"||g==="/"||g==="/=";break;case 4:v=g==="class"||g==="delete"||g==="function"||g==="let"||g==="new"||g==="super"||g==="this"||g==="typeof"||g==="void"||g==="yield"}return v},b.prototype.parseYieldExpression=function(){var v=this.createNode();this.expectKeyword("yield");var g=null,x=!1;if(!this.hasLineTerminator){var S=this.context.allowYield;this.context.allowYield=!1,(x=this.match("*"))?(this.nextToken(),g=this.parseAssignmentExpression()):this.isStartOfExpression()&&(g=this.parseAssignmentExpression()),this.context.allowYield=S}return this.finalize(v,new d.YieldExpression(g,x))},b.prototype.parseClassElement=function(v){var g=this.lookahead,x=this.createNode(),S="",C=null,w=null,T=!1,_=!1,A=!1,E=!1;if(this.match("*"))this.nextToken();else if(T=this.match("["),(C=this.parseObjectPropertyKey()).name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(g=this.lookahead,A=!0,T=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),g.type===3&&!this.hasLineTerminator&&g.value==="async"){var D=this.lookahead.value;D!==":"&&D!=="("&&D!=="*"&&(E=!0,g=this.lookahead,C=this.parseObjectPropertyKey(),g.type===3&&g.value==="constructor"&&this.tolerateUnexpectedToken(g,c.Messages.ConstructorIsAsync))}var O=this.qualifiedPropertyName(this.lookahead);return g.type===3?g.value==="get"&&O?(S="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,w=this.parseGetterMethod()):g.value==="set"&&O&&(S="set",T=this.match("["),C=this.parseObjectPropertyKey(),w=this.parseSetterMethod()):g.type===7&&g.value==="*"&&O&&(S="init",T=this.match("["),C=this.parseObjectPropertyKey(),w=this.parseGeneratorMethod(),_=!0),!S&&C&&this.match("(")&&(S="init",w=E?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),_=!0),S||this.throwUnexpectedToken(this.lookahead),S==="init"&&(S="method"),T||(A&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(g,c.Messages.StaticPrototype),!A&&this.isPropertyKey(C,"constructor")&&((S!=="method"||!_||w&&w.generator)&&this.throwUnexpectedToken(g,c.Messages.ConstructorSpecialMethod),v.value?this.throwUnexpectedToken(g,c.Messages.DuplicateConstructor):v.value=!0,S="constructor")),this.finalize(x,new d.MethodDefinition(C,T,w,S,A))},b.prototype.parseClassElementList=function(){var v=[],g={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():v.push(this.parseClassElement(g));return this.expect("}"),v},b.prototype.parseClassBody=function(){var v=this.createNode(),g=this.parseClassElementList();return this.finalize(v,new d.ClassBody(g))},b.prototype.parseClassDeclaration=function(v){var g=this.createNode(),x=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var S=v&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var w=this.parseClassBody();return this.context.strict=x,this.finalize(g,new d.ClassDeclaration(S,C,w))},b.prototype.parseClassExpression=function(){var v=this.createNode(),g=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var x=this.lookahead.type===3?this.parseVariableIdentifier():null,S=null;this.matchKeyword("extends")&&(this.nextToken(),S=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=g,this.finalize(v,new d.ClassExpression(x,S,C))},b.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var v=this.createNode(),g=this.parseDirectivePrologues();this.lookahead.type!==2;)g.push(this.parseStatementListItem());return this.finalize(v,new d.Module(g))},b.prototype.parseScript=function(){for(var v=this.createNode(),g=this.parseDirectivePrologues();this.lookahead.type!==2;)g.push(this.parseStatementListItem());return this.finalize(v,new d.Script(g))},b.prototype.parseModuleSpecifier=function(){var v=this.createNode();this.lookahead.type!==8&&this.throwError(c.Messages.InvalidModuleSpecifier);var g=this.nextToken(),x=this.getTokenRaw(g);return this.finalize(v,new d.Literal(g.value,x))},b.prototype.parseImportSpecifier=function(){var v,g,x=this.createNode();return this.lookahead.type===3?(g=v=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),g=this.parseVariableIdentifier())):(g=v=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),g=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(x,new d.ImportSpecifier(g,v))},b.prototype.parseNamedImports=function(){this.expect("{");for(var v=[];!this.match("}");)v.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),v},b.prototype.parseImportDefaultSpecifier=function(){var v=this.createNode(),g=this.parseIdentifierName();return this.finalize(v,new d.ImportDefaultSpecifier(g))},b.prototype.parseImportNamespaceSpecifier=function(){var v=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(c.Messages.NoAsAfterImportNamespace),this.nextToken();var g=this.parseIdentifierName();return this.finalize(v,new d.ImportNamespaceSpecifier(g))},b.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalImportDeclaration);var v,g=this.createNode();this.expectKeyword("import");var x=[];if(this.lookahead.type===8)v=this.parseModuleSpecifier();else{if(this.match("{")?x=x.concat(this.parseNamedImports()):this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(x.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?x.push(this.parseImportNamespaceSpecifier()):this.match("{")?x=x.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var S=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(S,this.lookahead.value)}this.nextToken(),v=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(g,new d.ImportDeclaration(x,v))},b.prototype.parseExportSpecifier=function(){var v=this.createNode(),g=this.parseIdentifierName(),x=g;return this.matchContextualKeyword("as")&&(this.nextToken(),x=this.parseIdentifierName()),this.finalize(v,new d.ExportSpecifier(g,x))},b.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalExportDeclaration);var v,g=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var x=this.parseFunctionDeclaration(!0);v=this.finalize(g,new d.ExportDefaultDeclaration(x))}else this.matchKeyword("class")?(x=this.parseClassDeclaration(!0),v=this.finalize(g,new d.ExportDefaultDeclaration(x))):this.matchContextualKeyword("async")?(x=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression(),v=this.finalize(g,new d.ExportDefaultDeclaration(x))):(this.matchContextualKeyword("from")&&this.throwError(c.Messages.UnexpectedToken,this.lookahead.value),x=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon(),v=this.finalize(g,new d.ExportDefaultDeclaration(x)));else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var S=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(S,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),v=this.finalize(g,new d.ExportAllDeclaration(C))}else if(this.lookahead.type===4){switch(x=void 0,this.lookahead.value){case"let":case"const":x=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":x=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}v=this.finalize(g,new d.ExportNamedDeclaration(x,[],null))}else if(this.matchAsyncFunction())x=this.parseFunctionDeclaration(),v=this.finalize(g,new d.ExportNamedDeclaration(x,[],null));else{var w=[],T=null,_=!1;for(this.expect("{");!this.match("}");)_=_||this.matchKeyword("default"),w.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),T=this.parseModuleSpecifier(),this.consumeSemicolon()):_?(S=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause,this.throwError(S,this.lookahead.value)):this.consumeSemicolon(),v=this.finalize(g,new d.ExportNamedDeclaration(null,w,T))}return v},b}();s.Parser=y},function(a,s){Object.defineProperty(s,"__esModule",{value:!0}),s.assert=function(u,l){if(!u)throw new Error("ASSERT: "+l)}},function(a,s){Object.defineProperty(s,"__esModule",{value:!0});var u=function(){function l(){this.errors=[],this.tolerant=!1}return l.prototype.recordError=function(f){this.errors.push(f)},l.prototype.tolerate=function(f){if(!this.tolerant)throw f;this.recordError(f)},l.prototype.constructError=function(f,c){var d=new Error(f);try{throw d}catch(p){Object.create&&Object.defineProperty&&(d=Object.create(p),Object.defineProperty(d,"column",{value:c}))}return d},l.prototype.createError=function(f,c,d,p){var h="Line "+c+": "+p,m=this.constructError(h,d);return m.index=f,m.lineNumber=c,m.description=p,m},l.prototype.throwError=function(f,c,d,p){throw this.createError(f,c,d,p)},l.prototype.tolerateError=function(f,c,d,p){var h=this.createError(f,c,d,p);if(!this.tolerant)throw h;this.recordError(h)},l}();s.ErrorHandler=u},function(a,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(9),f=u(4),c=u(11);function d(m){return"0123456789abcdef".indexOf(m.toLowerCase())}function p(m){return"01234567".indexOf(m)}var h=function(){function m(y,b){this.source=y,this.errorHandler=b,this.trackComment=!1,this.isModule=!1,this.length=y.length,this.index=0,this.lineNumber=y.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return m.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},m.prototype.restoreState=function(y){this.index=y.index,this.lineNumber=y.lineNumber,this.lineStart=y.lineStart},m.prototype.eof=function(){return this.index>=this.length},m.prototype.throwUnexpectedToken=function(y){return y===void 0&&(y=c.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,y)},m.prototype.tolerateUnexpectedToken=function(y){y===void 0&&(y=c.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,y)},m.prototype.skipSingleLineComment=function(y){var b,v,g=[];for(this.trackComment&&(g=[],b=this.index-y,v={start:{line:this.lineNumber,column:this.index-this.lineStart-y},end:{}});!this.eof();){var x=this.source.charCodeAt(this.index);if(++this.index,f.Character.isLineTerminator(x)){if(this.trackComment){v.end={line:this.lineNumber,column:this.index-this.lineStart-1};var S={multiLine:!1,slice:[b+y,this.index-1],range:[b,this.index-1],loc:v};g.push(S)}return x===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}return this.trackComment&&(v.end={line:this.lineNumber,column:this.index-this.lineStart},S={multiLine:!1,slice:[b+y,this.index],range:[b,this.index],loc:v},g.push(S)),g},m.prototype.skipMultiLineComment=function(){var y,b,v=[];for(this.trackComment&&(v=[],y=this.index-2,b={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var g=this.source.charCodeAt(this.index);if(f.Character.isLineTerminator(g))g===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(g===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){b.end={line:this.lineNumber,column:this.index-this.lineStart};var x={multiLine:!0,slice:[y+2,this.index-2],range:[y,this.index],loc:b};v.push(x)}return v}++this.index}else++this.index}return this.trackComment&&(b.end={line:this.lineNumber,column:this.index-this.lineStart},x={multiLine:!0,slice:[y+2,this.index],range:[y,this.index],loc:b},v.push(x)),this.tolerateUnexpectedToken(),v},m.prototype.scanComments=function(){var y;this.trackComment&&(y=[]);for(var b=this.index===0;!this.eof();){var v=this.source.charCodeAt(this.index);if(f.Character.isWhiteSpace(v))++this.index;else if(f.Character.isLineTerminator(v))++this.index,v===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,b=!0;else if(v===47)if((v=this.source.charCodeAt(this.index+1))===47){this.index+=2;var g=this.skipSingleLineComment(2);this.trackComment&&(y=y.concat(g)),b=!0}else{if(v!==42)break;this.index+=2,g=this.skipMultiLineComment(),this.trackComment&&(y=y.concat(g))}else if(b&&v===45){if(this.source.charCodeAt(this.index+1)!==45||this.source.charCodeAt(this.index+2)!==62)break;this.index+=3,g=this.skipSingleLineComment(3),this.trackComment&&(y=y.concat(g))}else{if(v!==60||this.isModule||this.source.slice(this.index+1,this.index+4)!=="!--")break;this.index+=4,g=this.skipSingleLineComment(4),this.trackComment&&(y=y.concat(g))}}return y},m.prototype.isFutureReservedWord=function(y){switch(y){case"enum":case"export":case"import":case"super":return!0;default:return!1}},m.prototype.isStrictModeReservedWord=function(y){switch(y){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},m.prototype.isRestrictedWord=function(y){return y==="eval"||y==="arguments"},m.prototype.isKeyword=function(y){switch(y.length){case 2:return y==="if"||y==="in"||y==="do";case 3:return y==="var"||y==="for"||y==="new"||y==="try"||y==="let";case 4:return y==="this"||y==="else"||y==="case"||y==="void"||y==="with"||y==="enum";case 5:return y==="while"||y==="break"||y==="catch"||y==="throw"||y==="const"||y==="yield"||y==="class"||y==="super";case 6:return y==="return"||y==="typeof"||y==="delete"||y==="switch"||y==="export"||y==="import";case 7:return y==="default"||y==="finally"||y==="extends";case 8:return y==="function"||y==="continue"||y==="debugger";case 10:return y==="instanceof";default:return!1}},m.prototype.codePointAt=function(y){var b=this.source.charCodeAt(y);if(b>=55296&&b<=56319){var v=this.source.charCodeAt(y+1);v>=56320&&v<=57343&&(b=1024*(b-55296)+v-56320+65536)}return b},m.prototype.scanHexEscape=function(y){for(var b=y==="u"?4:2,v=0,g=0;g<b;++g){if(this.eof()||!f.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;v=16*v+d(this.source[this.index++])}return String.fromCharCode(v)},m.prototype.scanUnicodeCodePointEscape=function(){var y=this.source[this.index],b=0;for(y==="}"&&this.throwUnexpectedToken();!this.eof()&&(y=this.source[this.index++],f.Character.isHexDigit(y.charCodeAt(0)));)b=16*b+d(y);return(b>1114111||y!=="}")&&this.throwUnexpectedToken(),f.Character.fromCodePoint(b)},m.prototype.getIdentifier=function(){for(var y=this.index++;!this.eof();){var b=this.source.charCodeAt(this.index);if(b===92)return this.index=y,this.getComplexIdentifier();if(b>=55296&&b<57343)return this.index=y,this.getComplexIdentifier();if(!f.Character.isIdentifierPart(b))break;++this.index}return this.source.slice(y,this.index)},m.prototype.getComplexIdentifier=function(){var y,b=this.codePointAt(this.index),v=f.Character.fromCodePoint(b);for(this.index+=v.length,b===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,y=this.scanUnicodeCodePointEscape()):(y=this.scanHexEscape("u"))!==null&&y!=="\\"&&f.Character.isIdentifierStart(y.charCodeAt(0))||this.throwUnexpectedToken(),v=y);!this.eof()&&(b=this.codePointAt(this.index),f.Character.isIdentifierPart(b));)v+=y=f.Character.fromCodePoint(b),this.index+=y.length,b===92&&(v=v.substr(0,v.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,y=this.scanUnicodeCodePointEscape()):(y=this.scanHexEscape("u"))!==null&&y!=="\\"&&f.Character.isIdentifierPart(y.charCodeAt(0))||this.throwUnexpectedToken(),v+=y);return v},m.prototype.octalToDecimal=function(y){var b=y!=="0",v=p(y);return!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(b=!0,v=8*v+p(this.source[this.index++]),"0123".indexOf(y)>=0&&!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(v=8*v+p(this.source[this.index++]))),{code:v,octal:b}},m.prototype.scanIdentifier=function(){var y,b=this.index,v=this.source.charCodeAt(b)===92?this.getComplexIdentifier():this.getIdentifier();if((y=v.length===1?3:this.isKeyword(v)?4:v==="null"?5:v==="true"||v==="false"?1:3)!=3&&b+v.length!==this.index){var g=this.index;this.index=b,this.tolerateUnexpectedToken(c.Messages.InvalidEscapedReservedWord),this.index=g}return{type:y,value:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:b,end:this.index}},m.prototype.scanPunctuator=function(){var y=this.index,b=this.source[this.index];switch(b){case"(":case"{":b==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,b="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:(b=this.source.substr(this.index,4))===">>>="?this.index+=4:(b=b.substr(0,3))==="==="||b==="!=="||b===">>>"||b==="<<="||b===">>="||b==="**="?this.index+=3:(b=b.substr(0,2))==="&&"||b==="||"||b==="=="||b==="!="||b==="+="||b==="-="||b==="*="||b==="/="||b==="++"||b==="--"||b==="<<"||b===">>"||b==="&="||b==="|="||b==="^="||b==="%="||b==="<="||b===">="||b==="=>"||b==="**"?this.index+=2:(b=this.source[this.index],"<>=!+-*%&|^/".indexOf(b)>=0&&++this.index)}return this.index===y&&this.throwUnexpectedToken(),{type:7,value:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanHexLiteral=function(y){for(var b="";!this.eof()&&f.Character.isHexDigit(this.source.charCodeAt(this.index));)b+=this.source[this.index++];return b.length===0&&this.throwUnexpectedToken(),f.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+b,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanBinaryLiteral=function(y){for(var b,v="";!this.eof()&&((b=this.source[this.index])==="0"||b==="1");)v+=this.source[this.index++];return v.length===0&&this.throwUnexpectedToken(),this.eof()||(b=this.source.charCodeAt(this.index),(f.Character.isIdentifierStart(b)||f.Character.isDecimalDigit(b))&&this.throwUnexpectedToken()),{type:6,value:parseInt(v,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanOctalLiteral=function(y,b){var v="",g=!1;for(f.Character.isOctalDigit(y.charCodeAt(0))?(g=!0,v="0"+this.source[this.index++]):++this.index;!this.eof()&&f.Character.isOctalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];return g||v.length!==0||this.throwUnexpectedToken(),(f.Character.isIdentifierStart(this.source.charCodeAt(this.index))||f.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(v,8),octal:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:b,end:this.index}},m.prototype.isImplicitOctalLiteral=function(){for(var y=this.index+1;y<this.length;++y){var b=this.source[y];if(b==="8"||b==="9")return!1;if(!f.Character.isOctalDigit(b.charCodeAt(0)))return!0}return!0},m.prototype.scanNumericLiteral=function(){var y=this.index,b=this.source[y];l.assert(f.Character.isDecimalDigit(b.charCodeAt(0))||b===".","Numeric literal must start with a decimal digit or a decimal point");var v="";if(b!=="."){if(v=this.source[this.index++],b=this.source[this.index],v==="0"){if(b==="x"||b==="X")return++this.index,this.scanHexLiteral(y);if(b==="b"||b==="B")return++this.index,this.scanBinaryLiteral(y);if(b==="o"||b==="O")return this.scanOctalLiteral(b,y);if(b&&f.Character.isOctalDigit(b.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(b,y)}for(;f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];b=this.source[this.index]}if(b==="."){for(v+=this.source[this.index++];f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];b=this.source[this.index]}if(b==="e"||b==="E")if(v+=this.source[this.index++],(b=this.source[this.index])!=="+"&&b!=="-"||(v+=this.source[this.index++]),f.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;f.Character.isDecimalDigit(this.source.charCodeAt(this.index));)v+=this.source[this.index++];else this.throwUnexpectedToken();return f.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(v),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanStringLiteral=function(){var y=this.index,b=this.source[y];l.assert(b==="'"||b==='"',"String literal must starts with a quote"),++this.index;for(var v=!1,g="";!this.eof();){var x=this.source[this.index++];if(x===b){b="";break}if(x==="\\")if((x=this.source[this.index++])&&f.Character.isLineTerminator(x.charCodeAt(0)))++this.lineNumber,x==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(x){case"u":if(this.source[this.index]==="{")++this.index,g+=this.scanUnicodeCodePointEscape();else{var S=this.scanHexEscape(x);S===null&&this.throwUnexpectedToken(),g+=S}break;case"x":var C=this.scanHexEscape(x);C===null&&this.throwUnexpectedToken(c.Messages.InvalidHexEscapeSequence),g+=C;break;case"n":g+=`
`;break;case"r":g+="\r";break;case"t":g+="	";break;case"b":g+="\b";break;case"f":g+="\f";break;case"v":g+="\v";break;case"8":case"9":g+=x,this.tolerateUnexpectedToken();break;default:if(x&&f.Character.isOctalDigit(x.charCodeAt(0))){var w=this.octalToDecimal(x);v=w.octal||v,g+=String.fromCharCode(w.code)}else g+=x}else{if(f.Character.isLineTerminator(x.charCodeAt(0)))break;g+=x}}return b!==""&&(this.index=y,this.throwUnexpectedToken()),{type:8,value:g,octal:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.scanTemplate=function(){var y="",b=!1,v=this.index,g=this.source[v]==="`",x=!1,S=2;for(++this.index;!this.eof();){var C=this.source[this.index++];if(C==="`"){S=1,x=!0,b=!0;break}if(C==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,b=!0;break}y+=C}else if(C==="\\")if(C=this.source[this.index++],f.Character.isLineTerminator(C.charCodeAt(0)))++this.lineNumber,C==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(C){case"n":y+=`
`;break;case"r":y+="\r";break;case"t":y+="	";break;case"u":if(this.source[this.index]==="{")++this.index,y+=this.scanUnicodeCodePointEscape();else{var w=this.index,T=this.scanHexEscape(C);T!==null?y+=T:(this.index=w,y+=C)}break;case"x":var _=this.scanHexEscape(C);_===null&&this.throwUnexpectedToken(c.Messages.InvalidHexEscapeSequence),y+=_;break;case"b":y+="\b";break;case"f":y+="\f";break;case"v":y+="\v";break;default:C==="0"?(f.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral),y+="\0"):f.Character.isOctalDigit(C.charCodeAt(0))?this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral):y+=C}else f.Character.isLineTerminator(C.charCodeAt(0))?(++this.lineNumber,C==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,y+=`
`):y+=C}return b||this.throwUnexpectedToken(),g||this.curlyStack.pop(),{type:10,value:this.source.slice(v+1,this.index-S),cooked:y,head:g,tail:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:v,end:this.index}},m.prototype.testRegExp=function(y,b){var v=y,g=this;b.indexOf("u")>=0&&(v=v.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(x,S,C){var w=parseInt(S||C,16);return w>1114111&&g.throwUnexpectedToken(c.Messages.InvalidRegExp),w<=65535?String.fromCharCode(w):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(v)}catch(x){this.throwUnexpectedToken(c.Messages.InvalidRegExp)}try{return new RegExp(y,b)}catch(x){return null}},m.prototype.scanRegExpBody=function(){var y=this.source[this.index];l.assert(y==="/","Regular expression literal must start with a slash");for(var b=this.source[this.index++],v=!1,g=!1;!this.eof();)if(b+=y=this.source[this.index++],y==="\\")y=this.source[this.index++],f.Character.isLineTerminator(y.charCodeAt(0))&&this.throwUnexpectedToken(c.Messages.UnterminatedRegExp),b+=y;else if(f.Character.isLineTerminator(y.charCodeAt(0)))this.throwUnexpectedToken(c.Messages.UnterminatedRegExp);else if(v)y==="]"&&(v=!1);else{if(y==="/"){g=!0;break}y==="["&&(v=!0)}return g||this.throwUnexpectedToken(c.Messages.UnterminatedRegExp),b.substr(1,b.length-2)},m.prototype.scanRegExpFlags=function(){for(var y="";!this.eof();){var b=this.source[this.index];if(!f.Character.isIdentifierPart(b.charCodeAt(0)))break;if(++this.index,b!=="\\"||this.eof())y+=b;else if((b=this.source[this.index])==="u"){++this.index;var v=this.index,g=this.scanHexEscape("u");if(g!==null)for(y+=g;v<this.index;++v)this.source[v];else this.index=v,y+="u";this.tolerateUnexpectedToken()}else this.tolerateUnexpectedToken()}return y},m.prototype.scanRegExp=function(){var y=this.index,b=this.scanRegExpBody(),v=this.scanRegExpFlags();return{type:9,value:"",pattern:b,flags:v,regex:this.testRegExp(b,v),lineNumber:this.lineNumber,lineStart:this.lineStart,start:y,end:this.index}},m.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var y=this.source.charCodeAt(this.index);return f.Character.isIdentifierStart(y)?this.scanIdentifier():y===40||y===41||y===59?this.scanPunctuator():y===39||y===34?this.scanStringLiteral():y===46?f.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():f.Character.isDecimalDigit(y)?this.scanNumericLiteral():y===96||y===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():y>=55296&&y<57343&&f.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},m}();s.Scanner=h},function(a,s){Object.defineProperty(s,"__esModule",{value:!0}),s.TokenName={},s.TokenName[1]="Boolean",s.TokenName[2]="<end>",s.TokenName[3]="Identifier",s.TokenName[4]="Keyword",s.TokenName[5]="Null",s.TokenName[6]="Numeric",s.TokenName[7]="Punctuator",s.TokenName[8]="String",s.TokenName[9]="RegularExpression",s.TokenName[10]="Template"},function(a,s){Object.defineProperty(s,"__esModule",{value:!0}),s.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(a,s,u){Object.defineProperty(s,"__esModule",{value:!0});var l=u(10),f=u(12),c=u(13),d=function(){function h(){this.values=[],this.curly=this.paren=-1}return h.prototype.beforeFunctionExpression=function(m){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(m)>=0},h.prototype.isRegexStart=function(){var m=this.values[this.values.length-1],y=m!==null;switch(m){case"this":case"]":y=!1;break;case")":var b=this.values[this.paren-1];y=b==="if"||b==="while"||b==="for"||b==="with";break;case"}":if(y=!1,this.values[this.curly-3]==="function")y=!!(v=this.values[this.curly-4])&&!this.beforeFunctionExpression(v);else if(this.values[this.curly-4]==="function"){var v;y=!(v=this.values[this.curly-5])||!this.beforeFunctionExpression(v)}}return y},h.prototype.push=function(m){m.type===7||m.type===4?(m.value==="{"?this.curly=this.values.length:m.value==="("&&(this.paren=this.values.length),this.values.push(m.value)):this.values.push(null)},h}(),p=function(){function h(m,y){this.errorHandler=new l.ErrorHandler,this.errorHandler.tolerant=!!y&&typeof y.tolerant=="boolean"&&y.tolerant,this.scanner=new f.Scanner(m,this.errorHandler),this.scanner.trackComment=!!y&&typeof y.comment=="boolean"&&y.comment,this.trackRange=!!y&&typeof y.range=="boolean"&&y.range,this.trackLoc=!!y&&typeof y.loc=="boolean"&&y.loc,this.buffer=[],this.reader=new d}return h.prototype.errors=function(){return this.errorHandler.errors},h.prototype.getNextToken=function(){if(this.buffer.length===0){var m=this.scanner.scanComments();if(this.scanner.trackComment)for(var y=0;y<m.length;++y){var b=m[y],v=this.scanner.source.slice(b.slice[0],b.slice[1]),g={type:b.multiLine?"BlockComment":"LineComment",value:v};this.trackRange&&(g.range=b.range),this.trackLoc&&(g.loc=b.loc),this.buffer.push(g)}if(!this.scanner.eof()){var x=void 0;this.trackLoc&&(x={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var S=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(S);var C={type:c.TokenName[S.type],value:this.scanner.source.slice(S.start,S.end)};if(this.trackRange&&(C.range=[S.start,S.end]),this.trackLoc&&(x.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=x),S.type===9){var w=S.pattern,T=S.flags;C.regex={pattern:w,flags:T}}this.buffer.push(C)}}return this.buffer.shift()},h}();s.Tokenizer=p}])},n.exports=i()},function(n,r,o){var i=o(38),a=o(53),s=o(76),u=o(54),l=Object.prototype.toString,f=Object.prototype.hasOwnProperty,c={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},d=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function p(P){var k,U,H;if(k=P.toString(16).toUpperCase(),P<=255)U="x",H=2;else if(P<=65535)U="u",H=4;else{if(!(P<=4294967295))throw new a("code point within a string may not be greater than 0xFFFFFFFF");U="U",H=8}return"\\"+U+i.repeat("0",H-k.length)+k}function h(P){this.schema=P.schema||s,this.indent=Math.max(1,P.indent||2),this.noArrayIndent=P.noArrayIndent||!1,this.skipInvalid=P.skipInvalid||!1,this.flowLevel=i.isNothing(P.flowLevel)?-1:P.flowLevel,this.styleMap=function(k,U){var H,R,B,M,z,$,J;if(U===null)return{};for(H={},B=0,M=(R=Object.keys(U)).length;B<M;B+=1)z=R[B],$=String(U[z]),z.slice(0,2)==="!!"&&(z="tag:yaml.org,2002:"+z.slice(2)),(J=k.compiledTypeMap.fallback[z])&&f.call(J.styleAliases,$)&&($=J.styleAliases[$]),H[z]=$;return H}(this.schema,P.styles||null),this.sortKeys=P.sortKeys||!1,this.lineWidth=P.lineWidth||80,this.noRefs=P.noRefs||!1,this.noCompatMode=P.noCompatMode||!1,this.condenseFlow=P.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function m(P,k){for(var U,H=i.repeat(" ",k),R=0,B=-1,M="",z=P.length;R<z;)(B=P.indexOf(`
`,R))===-1?(U=P.slice(R),R=z):(U=P.slice(R,B+1),R=B+1),U.length&&U!==`
`&&(M+=H),M+=U;return M}function y(P,k){return`
`+i.repeat(" ",P.indent*k)}function b(P){return P===32||P===9}function v(P){return 32<=P&&P<=126||161<=P&&P<=55295&&P!==8232&&P!==8233||57344<=P&&P<=65533&&P!==65279||65536<=P&&P<=1114111}function g(P,k){return v(P)&&P!==65279&&P!==44&&P!==91&&P!==93&&P!==123&&P!==125&&P!==58&&(P!==35||k&&function(U){return v(U)&&!b(U)&&U!==65279&&U!==13&&U!==10}(k))}function x(P){return/^\n* /.test(P)}function S(P,k,U,H,R){var B,M,z,$,J=!1,Z=!1,X=H!==-1,te=-1,ae=v($=P.charCodeAt(0))&&$!==65279&&!b($)&&$!==45&&$!==63&&$!==58&&$!==44&&$!==91&&$!==93&&$!==123&&$!==125&&$!==35&&$!==38&&$!==42&&$!==33&&$!==124&&$!==61&&$!==62&&$!==39&&$!==34&&$!==37&&$!==64&&$!==96&&!b(P.charCodeAt(P.length-1));if(k)for(B=0;B<P.length;B++){if(!v(M=P.charCodeAt(B)))return 5;z=B>0?P.charCodeAt(B-1):null,ae=ae&&g(M,z)}else{for(B=0;B<P.length;B++){if((M=P.charCodeAt(B))===10)J=!0,X&&(Z=Z||B-te-1>H&&P[te+1]!==" ",te=B);else if(!v(M))return 5;z=B>0?P.charCodeAt(B-1):null,ae=ae&&g(M,z)}Z=Z||X&&B-te-1>H&&P[te+1]!==" "}return J||Z?U>9&&x(P)?5:Z?4:3:ae&&!R(P)?1:2}function C(P,k,U,H){P.dump=function(){if(k.length===0)return"''";if(!P.noCompatMode&&d.indexOf(k)!==-1)return"'"+k+"'";var R=P.indent*Math.max(1,U),B=P.lineWidth===-1?-1:Math.max(Math.min(P.lineWidth,40),P.lineWidth-R),M=H||P.flowLevel>-1&&U>=P.flowLevel;switch(S(k,M,P.indent,B,function(z){return function($,J){var Z,X;for(Z=0,X=$.implicitTypes.length;Z<X;Z+=1)if($.implicitTypes[Z].resolve(J))return!0;return!1}(P,z)})){case 1:return k;case 2:return"'"+k.replace(/'/g,"''")+"'";case 3:return"|"+w(k,P.indent)+T(m(k,R));case 4:return">"+w(k,P.indent)+T(m(function(z,$){for(var J,Z,X=/(\n+)([^\n]*)/g,te=(ue=z.indexOf(`
`),ue=ue!==-1?ue:z.length,X.lastIndex=ue,_(z.slice(0,ue),$)),ae=z[0]===`
`||z[0]===" ",ue;Z=X.exec(z);){var ie=Z[1],F=Z[2];J=F[0]===" ",te+=ie+(ae||J||F===""?"":`
`)+_(F,$),ae=J}return te}(k,B),R));case 5:return'"'+function(z){for(var $,J,Z,X="",te=0;te<z.length;te++)($=z.charCodeAt(te))>=55296&&$<=56319&&(J=z.charCodeAt(te+1))>=56320&&J<=57343?(X+=p(1024*($-55296)+J-56320+65536),te++):(Z=c[$],X+=!Z&&v($)?z[te]:Z||p($));return X}(k)+'"';default:throw new a("impossible error: invalid scalar style")}}()}function w(P,k){var U=x(P)?String(k):"",H=P[P.length-1]===`
`;return U+(H&&(P[P.length-2]===`
`||P===`
`)?"+":H?"":"-")+`
`}function T(P){return P[P.length-1]===`
`?P.slice(0,-1):P}function _(P,k){if(P===""||P[0]===" ")return P;for(var U,H,R=/ [^ ]/g,B=0,M=0,z=0,$="";U=R.exec(P);)(z=U.index)-B>k&&(H=M>B?M:z,$+=`
`+P.slice(B,H),B=H+1),M=z;return $+=`
`,P.length-B>k&&M>B?$+=P.slice(B,M)+`
`+P.slice(M+1):$+=P.slice(B),$.slice(1)}function A(P,k,U){var H,R,B,M,z,$;for(B=0,M=(R=U?P.explicitTypes:P.implicitTypes).length;B<M;B+=1)if(((z=R[B]).instanceOf||z.predicate)&&(!z.instanceOf||typeof k=="object"&&k instanceof z.instanceOf)&&(!z.predicate||z.predicate(k))){if(P.tag=U?z.tag:"?",z.represent){if($=P.styleMap[z.tag]||z.defaultStyle,l.call(z.represent)==="[object Function]")H=z.represent(k,$);else{if(!f.call(z.represent,$))throw new a("!<"+z.tag+'> tag resolver accepts not "'+$+'" style');H=z.represent[$](k,$)}P.dump=H}return!0}return!1}function E(P,k,U,H,R,B){P.tag=null,P.dump=U,A(P,U,!1)||A(P,U,!0);var M=l.call(P.dump);H&&(H=P.flowLevel<0||P.flowLevel>k);var z,$,J=M==="[object Object]"||M==="[object Array]";if(J&&($=(z=P.duplicates.indexOf(U))!==-1),(P.tag!==null&&P.tag!=="?"||$||P.indent!==2&&k>0)&&(R=!1),$&&P.usedDuplicates[z])P.dump="*ref_"+z;else{if(J&&$&&!P.usedDuplicates[z]&&(P.usedDuplicates[z]=!0),M==="[object Object]")H&&Object.keys(P.dump).length!==0?(function(X,te,ae,ue){var ie,F,I,j,N,L,G="",W=X.tag,Y=Object.keys(ae);if(X.sortKeys===!0)Y.sort();else if(typeof X.sortKeys=="function")Y.sort(X.sortKeys);else if(X.sortKeys)throw new a("sortKeys must be a boolean or a function");for(ie=0,F=Y.length;ie<F;ie+=1)L="",ue&&ie===0||(L+=y(X,te)),j=ae[I=Y[ie]],E(X,te+1,I,!0,!0,!0)&&((N=X.tag!==null&&X.tag!=="?"||X.dump&&X.dump.length>1024)&&(X.dump&&X.dump.charCodeAt(0)===10?L+="?":L+="? "),L+=X.dump,N&&(L+=y(X,te)),E(X,te+1,j,!0,N)&&(X.dump&&X.dump.charCodeAt(0)===10?L+=":":L+=": ",G+=L+=X.dump));X.tag=W,X.dump=G||"{}"}(P,k,P.dump,R),$&&(P.dump="&ref_"+z+P.dump)):(function(X,te,ae){var ue,ie,F,I,j,N="",L=X.tag,G=Object.keys(ae);for(ue=0,ie=G.length;ue<ie;ue+=1)j="",ue!==0&&(j+=", "),X.condenseFlow&&(j+='"'),I=ae[F=G[ue]],E(X,te,F,!1,!1)&&(X.dump.length>1024&&(j+="? "),j+=X.dump+(X.condenseFlow?'"':"")+":"+(X.condenseFlow?"":" "),E(X,te,I,!1,!1)&&(N+=j+=X.dump));X.tag=L,X.dump="{"+N+"}"}(P,k,P.dump),$&&(P.dump="&ref_"+z+" "+P.dump));else if(M==="[object Array]"){var Z=P.noArrayIndent&&k>0?k-1:k;H&&P.dump.length!==0?(function(X,te,ae,ue){var ie,F,I="",j=X.tag;for(ie=0,F=ae.length;ie<F;ie+=1)E(X,te+1,ae[ie],!0,!0)&&(ue&&ie===0||(I+=y(X,te)),X.dump&&X.dump.charCodeAt(0)===10?I+="-":I+="- ",I+=X.dump);X.tag=j,X.dump=I||"[]"}(P,Z,P.dump,R),$&&(P.dump="&ref_"+z+P.dump)):(function(X,te,ae){var ue,ie,F="",I=X.tag;for(ue=0,ie=ae.length;ue<ie;ue+=1)E(X,te,ae[ue],!1,!1)&&(ue!==0&&(F+=","+(X.condenseFlow?"":" ")),F+=X.dump);X.tag=I,X.dump="["+F+"]"}(P,Z,P.dump),$&&(P.dump="&ref_"+z+" "+P.dump))}else{if(M!=="[object String]"){if(P.skipInvalid)return!1;throw new a("unacceptable kind of an object to dump "+M)}P.tag!=="?"&&C(P,P.dump,k,B)}P.tag!==null&&P.tag!=="?"&&(P.dump="!<"+P.tag+"> "+P.dump)}return!0}function D(P,k){var U,H,R=[],B=[];for(function M(z,$,J){var Z,X,te;if(z!==null&&typeof z=="object")if((X=$.indexOf(z))!==-1)J.indexOf(X)===-1&&J.push(X);else if($.push(z),Array.isArray(z))for(X=0,te=z.length;X<te;X+=1)M(z[X],$,J);else for(Z=Object.keys(z),X=0,te=Z.length;X<te;X+=1)M(z[Z[X]],$,J)}(P,R,B),U=0,H=B.length;U<H;U+=1)k.duplicates.push(R[B[U]]);k.usedDuplicates=new Array(H)}function O(P,k){var U=new h(k=k||{});return U.noRefs||D(P,U),E(U,0,P,!0,!0)?U.dump+`
`:""}n.exports.dump=O,n.exports.safeDump=function(P,k){return O(P,i.extend({schema:u},k))}},function(n,r,o){o(31),o(32),o(33),o(64),o(19),o(65),o(20),o(68),o(92),o(144),o(22),o(94),o(23);var i,a=this&&this.__extends||(i=function(S,C){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var _ in T)T.hasOwnProperty(_)&&(w[_]=T[_])})(S,C)},function(S,C){function w(){this.constructor=S}i(S,C),S.prototype=C===null?Object.create(C):(w.prototype=C.prototype,new w)}),s=this&&this.__values||function(S){var C=typeof Symbol=="function"&&Symbol.iterator,w=C&&S[C],T=0;if(w)return w.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&T>=S.length&&(S=void 0),{value:S&&S[T++],done:!S}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},u=this&&this.__read||function(S,C){var w=typeof Symbol=="function"&&S[Symbol.iterator];if(!w)return S;var T,_,A=w.call(S),E=[];try{for(;(C===void 0||C-- >0)&&!(T=A.next()).done;)E.push(T.value)}catch(D){_={error:D}}finally{try{T&&!T.done&&(w=A.return)&&w.call(A)}finally{if(_)throw _.error}}return E};Object.defineProperty(r,"__esModule",{value:!0});var l=o(91),f=o(1),c=o(183),d=o(0),p=o(7),h=o(95),m=o(69),y=o(3),b=o(305),v=o(306),g=o(307),x=function(S){function C(w,T){T===void 0&&(T=!1);var _=S.call(this)||this;return _._hasDeclaration=!1,_._docTypeName="",_._hasDocumentElement=!1,_._currentElementSerialized=!1,_._openTags=[],_._ended=!1,_._fragment=T,_._options=f.applyDefaults(w||{},l.DefaultXMLBuilderCBOptions),_._builderOptions={defaultNamespace:_._options.defaultNamespace,namespaceAlias:_._options.namespaceAlias},_._options.format==="json"?_._writer=new v.JSONCBWriter(_._options):_._options.format==="yaml"?_._writer=new g.YAMLCBWriter(_._options):_._writer=new b.XMLCBWriter(_._options),_._options.data!==void 0&&_.on("data",_._options.data),_._options.end!==void 0&&_.on("end",_._options.end),_._options.error!==void 0&&_.on("error",_._options.error),_._prefixMap=new h.NamespacePrefixMap,_._prefixMap.set("xml",p.namespace.XML),_._prefixIndex={value:1},_._push(_._writer.frontMatter()),_}return a(C,S),C.prototype.ele=function(w,T,_){var A,E;if(f.isObject(w)||f.isString(w)&&(/^\s*</.test(w)||/^\s*[\{\[]/.test(w)||/^(\s*|(#.*)|(%.*))*---/.test(w))){var D=c.fragment().set(this._options);try{D.ele(w)}catch(U){return this.emit("error",U),this}try{for(var O=s(D.node.childNodes),P=O.next();!P.done;P=O.next()){var k=P.value;this._fromNode(k)}}catch(U){A={error:U}}finally{try{P&&!P.done&&(E=O.return)&&E.call(O)}finally{if(A)throw A.error}}return this}if(this._serializeOpenTag(!0),!this._fragment&&this._hasDocumentElement&&this._writer.level===0)return this.emit("error",new Error("Document cannot have multiple document element nodes.")),this;try{this._currentElement=c.fragment(this._builderOptions).ele(w,T,_)}catch(U){return this.emit("error",U),this}return this._fragment||this._hasDocumentElement||this._docTypeName===""||this._currentElement.node._qualifiedName===this._docTypeName?(this._currentElementSerialized=!1,this._fragment||(this._hasDocumentElement=!0),this):(this.emit("error",new Error("Document element name does not match DocType declaration name.")),this)},C.prototype.att=function(w,T,_){if(this._currentElement===void 0)return this.emit("error",new Error("Cannot insert an attribute node as child of a document node.")),this;try{this._currentElement.att(w,T,_)}catch(A){return this.emit("error",A),this}return this},C.prototype.com=function(w){var T;this._serializeOpenTag(!0);try{T=c.fragment(this._builderOptions).com(w).first().node}catch(_){return this.emit("error",_),this}return!this._options.wellFormed||d.xml_isLegalChar(T.data)&&T.data.indexOf("--")===-1&&!T.data.endsWith("-")?(this._push(this._writer.comment(T.data)),this):(this.emit("error",new Error("Comment data contains invalid characters (well-formed required).")),this)},C.prototype.txt=function(w){if(!this._fragment&&this._currentElement===void 0)return this.emit("error",new Error("Cannot insert a text node as child of a document node.")),this;var T;this._serializeOpenTag(!0);try{T=c.fragment(this._builderOptions).txt(w).first().node}catch(A){return this.emit("error",A),this}if(this._options.wellFormed&&!d.xml_isLegalChar(T.data))return this.emit("error",new Error("Text data contains invalid characters (well-formed required).")),this;var _=T.data.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this._push(this._writer.text(_)),this},C.prototype.ins=function(w,T){var _;T===void 0&&(T=""),this._serializeOpenTag(!0);try{_=c.fragment(this._builderOptions).ins(w,T).first().node}catch(A){return this.emit("error",A),this}return this._options.wellFormed&&(_.target.indexOf(":")!==-1||/^xml$/i.test(_.target))?(this.emit("error",new Error("Processing instruction target contains invalid characters (well-formed required).")),this):this._options.wellFormed&&!d.xml_isLegalChar(_.data)?(this.emit("error",Error("Processing instruction data contains invalid characters (well-formed required).")),this):(this._push(this._writer.instruction(_.target,_.data)),this)},C.prototype.dat=function(w){var T;this._serializeOpenTag(!0);try{T=c.fragment(this._builderOptions).dat(w).first().node}catch(_){return this.emit("error",_),this}return this._push(this._writer.cdata(T.data)),this},C.prototype.dec=function(w){return w===void 0&&(w={version:"1.0"}),this._fragment?(this.emit("error",Error("Cannot insert an XML declaration into a document fragment.")),this):this._hasDeclaration?(this.emit("error",Error("XML declaration is already inserted.")),this):(this._push(this._writer.declaration(w.version||"1.0",w.encoding,w.standalone)),this._hasDeclaration=!0,this)},C.prototype.dtd=function(w){if(this._fragment)return this.emit("error",Error("Cannot insert a DocType declaration into a document fragment.")),this;if(this._docTypeName!=="")return this.emit("error",new Error("DocType declaration is already inserted.")),this;if(this._hasDocumentElement)return this.emit("error",new Error("Cannot insert DocType declaration after document element.")),this;var T;try{T=c.create().dtd(w).first().node}catch(_){return this.emit("error",_),this}return this._options.wellFormed&&!d.xml_isPubidChar(T.publicId)?(this.emit("error",new Error("DocType public identifier does not match PubidChar construct (well-formed required).")),this):this._options.wellFormed&&(!d.xml_isLegalChar(T.systemId)||T.systemId.indexOf('"')!==-1&&T.systemId.indexOf("'")!==-1)?(this.emit("error",new Error("DocType system identifier contains invalid characters (well-formed required).")),this):(this._docTypeName=w.name,this._push(this._writer.docType(w.name,T.publicId,T.systemId)),this)},C.prototype.import=function(w){var T,_,A=c.fragment().set(this._options);try{A.import(w)}catch(P){return this.emit("error",P),this}try{for(var E=s(A.node.childNodes),D=E.next();!D.done;D=E.next()){var O=D.value;this._fromNode(O)}}catch(P){T={error:P}}finally{try{D&&!D.done&&(_=E.return)&&_.call(E)}finally{if(T)throw T.error}}return this},C.prototype.up=function(){return this._serializeOpenTag(!1),this._serializeCloseTag(),this},C.prototype.end=function(){for(this._serializeOpenTag(!1);this._openTags.length>0;)this._serializeCloseTag();return this._push(null),this},C.prototype._serializeOpenTag=function(w){if(!this._currentElementSerialized&&this._currentElement!==void 0){var T=this._currentElement.node;if(!this._options.wellFormed||T.localName.indexOf(":")===-1&&d.xml_isName(T.localName)){var _="",A=!1,E=this._prefixMap.copy(),D={},O=this._recordNamespaceInformation(T,E,D),P=this._openTags.length===0?null:this._openTags[this._openTags.length-1][1],k=T.namespaceURI;if(k===null&&(k=P),P===k)O!==null&&(A=!0),_=k===p.namespace.XML?"xml:"+T.localName:T.localName,this._writer.beginElement(_),this._push(this._writer.openTagBegin(_));else{var U=T.prefix,H=null;if(U===null&&k===O||(H=E.get(U,k)),U==="xmlns"){if(this._options.wellFormed)return void this.emit("error",new Error("An element cannot have the 'xmlns' prefix (well-formed required)."));H=U}H!==null?(_=H+":"+T.localName,O!==null&&O!==p.namespace.XML&&(P=O||null),this._writer.beginElement(_),this._push(this._writer.openTagBegin(_))):U!==null?(U in D&&(U=this._generatePrefix(k,E,this._prefixIndex)),E.set(U,k),_+=U+":"+T.localName,this._writer.beginElement(_),this._push(this._writer.openTagBegin(_)),this._push(this._writer.attribute("xmlns:"+U,this._serializeAttributeValue(k,this._options.wellFormed))),O!==null&&(P=O||null)):O===null||O!==null&&O!==k?(A=!0,_+=T.localName,P=k,this._writer.beginElement(_),this._push(this._writer.openTagBegin(_)),this._push(this._writer.attribute("xmlns",this._serializeAttributeValue(k,this._options.wellFormed)))):(_+=T.localName,P=k,this._writer.beginElement(_),this._push(this._writer.openTagBegin(_)))}this._serializeAttributes(T,E,this._prefixIndex,D,A,this._options.wellFormed);var R=k===p.namespace.HTML;R&&!w&&C._VoidElementNames.has(T.localName)?(this._push(this._writer.openTagEnd(_,!0,!0)),this._writer.endElement(_)):R||w?this._push(this._writer.openTagEnd(_,!1,!1)):(this._push(this._writer.openTagEnd(_,!0,!1)),this._writer.endElement(_)),this._currentElementSerialized=!0,this._openTags.push([_,P,this._prefixMap,w]),this._isPrefixMapModified(this._prefixMap,E)&&(this._prefixMap=E),this._writer.level++}else this.emit("error",new Error("Node local name contains invalid characters (well-formed required)."))}},C.prototype._serializeCloseTag=function(){this._writer.level--;var w=this._openTags.pop();if(w!==void 0){var T=u(w,4),_=T[0],A=(T[1],T[2]),E=T[3];this._prefixMap=A,E&&(this._push(this._writer.closeTag(_)),this._writer.endElement(_))}else this.emit("error",new Error("Last element is undefined."))},C.prototype._push=function(w){w===null?(this._ended=!0,this.emit("end")):this._ended?this.emit("error",new Error("Cannot push to ended stream.")):w.length!==0&&(this._writer.hasData=!0,this.emit("data",w,this._writer.level))},C.prototype._fromNode=function(w){var T,_,A,E;if(y.Guard.isElementNode(w)){var D=w.prefix?w.prefix+":"+w.localName:w.localName;w.namespaceURI!==null?this.ele(w.namespaceURI,D):this.ele(D);try{for(var O=s(w.attributes),P=O.next();!P.done;P=O.next()){var k=P.value,U=k.prefix?k.prefix+":"+k.localName:k.localName;k.namespaceURI!==null?this.att(k.namespaceURI,U,k.value):this.att(U,k.value)}}catch(M){T={error:M}}finally{try{P&&!P.done&&(_=O.return)&&_.call(O)}finally{if(T)throw T.error}}try{for(var H=s(w.childNodes),R=H.next();!R.done;R=H.next()){var B=R.value;this._fromNode(B)}}catch(M){A={error:M}}finally{try{R&&!R.done&&(E=H.return)&&E.call(H)}finally{if(A)throw A.error}}this.up()}else y.Guard.isExclusiveTextNode(w)&&w.data?this.txt(w.data):y.Guard.isCommentNode(w)?this.com(w.data):y.Guard.isCDATASectionNode(w)?this.dat(w.data):y.Guard.isProcessingInstructionNode(w)&&this.ins(w.target,w.data)},C.prototype._serializeAttributes=function(w,T,_,A,E,D){var O,P,k=D?new m.LocalNameSet:void 0;try{for(var U=s(w.attributes),H=U.next();!H.done;H=U.next()){var R=H.value;if(D||E||R.namespaceURI!==null){if(D&&k&&k.has(R.namespaceURI,R.localName))return void this.emit("error",new Error("Element contains duplicate attributes (well-formed required)."));D&&k&&k.set(R.namespaceURI,R.localName);var B=R.namespaceURI,M=null;if(B!==null)if(M=T.get(R.prefix,B),B===p.namespace.XMLNS){if(R.value===p.namespace.XML||R.prefix===null&&E||R.prefix!==null&&(!(R.localName in A)||A[R.localName]!==R.value)&&T.has(R.localName,R.value))continue;if(D&&R.value===p.namespace.XMLNS)return void this.emit("error",new Error("XMLNS namespace is reserved (well-formed required)."));if(D&&R.value==="")return void this.emit("error",new Error("Namespace prefix declarations cannot be used to undeclare a namespace (well-formed required)."));R.prefix==="xmlns"&&(M="xmlns")}else M===null&&(M=R.prefix===null||T.hasPrefix(R.prefix)&&!T.has(R.prefix,B)?this._generatePrefix(B,T,_):R.prefix,this._push(this._writer.attribute("xmlns:"+M,this._serializeAttributeValue(B,this._options.wellFormed))));if(D&&(R.localName.indexOf(":")!==-1||!d.xml_isName(R.localName)||R.localName==="xmlns"&&B===null))return void this.emit("error",new Error("Attribute local name contains invalid characters (well-formed required)."));this._push(this._writer.attribute((M!==null?M+":":"")+R.localName,this._serializeAttributeValue(R.value,this._options.wellFormed)))}else this._push(this._writer.attribute(R.localName,this._serializeAttributeValue(R.value,this._options.wellFormed)))}}catch(z){O={error:z}}finally{try{H&&!H.done&&(P=U.return)&&P.call(U)}finally{if(O)throw O.error}}},C.prototype._serializeAttributeValue=function(w,T){return T&&w!==null&&!d.xml_isLegalChar(w)?(this.emit("error",new Error("Invalid characters in attribute value.")),""):w===null?"":w.replace(/(?!&(lt|gt|amp|apos|quot);)&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},C.prototype._recordNamespaceInformation=function(w,T,_){var A,E,D=null;try{for(var O=s(w.attributes),P=O.next();!P.done;P=O.next()){var k=P.value,U=k.namespaceURI,H=k.prefix;if(U===p.namespace.XMLNS){if(H===null){D=k.value;continue}var R=k.localName,B=k.value;if(B===p.namespace.XML||(B===""&&(B=null),T.has(R,B)))continue;T.set(R,B),_[R]=B||""}}}catch(M){A={error:M}}finally{try{P&&!P.done&&(E=O.return)&&E.call(O)}finally{if(A)throw A.error}}return D},C.prototype._generatePrefix=function(w,T,_){var A="ns"+_.value;return _.value++,T.set(A,w),A},C.prototype._isPrefixMapModified=function(w,T){var _=w._items,A=T._items,E=w._nullItems,D=T._nullItems;for(var O in A){var P=_[O];if(P===void 0)return!0;var k=A[O];if(P.length!==k.length)return!0;for(var U=0;U<P.length;U++)if(P[U]!==k[U])return!0}if(E.length!==D.length)return!0;for(U=0;U<E.length;U++)if(E[U]!==D[U])return!0;return!1},C._VoidElementNames=new Set(["area","base","basefont","bgsound","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]),C}(o(308).EventEmitter);r.XMLBuilderCBImpl=x},function(n,r,o){o(74);var i,a=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var s=function(u){function l(f){var c=u.call(this,f)||this;return c._lineLength=0,c}return a(l,u),l.prototype.frontMatter=function(){return""},l.prototype.declaration=function(f,c,d){var p=this._beginLine()+"<?xml";return p+=' version="'+f+'"',c!==void 0&&(p+=' encoding="'+c+'"'),d!==void 0&&(p+=' standalone="'+(d?"yes":"no")+'"'),p+="?>"},l.prototype.docType=function(f,c,d){var p=this._beginLine();return p+=c&&d?"<!DOCTYPE "+f+' PUBLIC "'+c+'" "'+d+'">':c?"<!DOCTYPE "+f+' PUBLIC "'+c+'">':d?"<!DOCTYPE "+f+' SYSTEM "'+d+'">':"<!DOCTYPE "+f+">"},l.prototype.comment=function(f){return this._beginLine()+"<!--"+f+"-->"},l.prototype.text=function(f){return this._beginLine()+f},l.prototype.instruction=function(f,c){return c?this._beginLine()+"<?"+f+" "+c+"?>":this._beginLine()+"<?"+f+"?>"},l.prototype.cdata=function(f){return this._beginLine()+"<![CDATA["+f+"]]>"},l.prototype.openTagBegin=function(f){return this._lineLength+=1+f.length,this._beginLine()+"<"+f},l.prototype.openTagEnd=function(f,c,d){return d?" />":c?this._writerOptions.allowEmptyTags?"></"+f+">":this._writerOptions.spaceBeforeSlash?" />":"/>":">"},l.prototype.closeTag=function(f){return this._beginLine()+"</"+f+">"},l.prototype.attribute=function(f,c){var d=f+'="'+c+'"';return this._writerOptions.prettyPrint&&this._writerOptions.width>0&&this._lineLength+1+d.length>this._writerOptions.width?(d=this._beginLine()+this._indent(1)+d,this._lineLength=d.length,d):(this._lineLength+=1+d.length," "+d)},l.prototype.beginElement=function(f){},l.prototype.endElement=function(f){},l.prototype._beginLine=function(){if(this._writerOptions.prettyPrint){var f=(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level);return this._lineLength=f.length,f}return""},l.prototype._indent=function(f){return f<=0?"":this._writerOptions.indent.repeat(f)},l}(o(114).BaseCBWriter);r.XMLCBWriter=s},function(n,r,o){o(74);var i,a=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var s=function(u){function l(f){var c=u.call(this,f)||this;return c._hasChildren=[],c._additionalLevel=0,c}return a(l,u),l.prototype.frontMatter=function(){return""},l.prototype.declaration=function(f,c,d){return""},l.prototype.docType=function(f,c,d){return""},l.prototype.comment=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.comment)+this._sep()+this._val(f)+this._sep()+"}"},l.prototype.text=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.text)+this._sep()+this._val(f)+this._sep()+"}"},l.prototype.instruction=function(f,c){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.ins)+this._sep()+this._val(c?f+" "+c:f)+this._sep()+"}"},l.prototype.cdata=function(f){return this._comma()+this._beginLine()+"{"+this._sep()+this._key(this._builderOptions.convert.cdata)+this._sep()+this._val(f)+this._sep()+"}"},l.prototype.attribute=function(f,c){return this._comma()+this._beginLine(1)+"{"+this._sep()+this._key(this._builderOptions.convert.att+f)+this._sep()+this._val(c)+this._sep()+"}"},l.prototype.openTagBegin=function(f){var c=this._comma()+this._beginLine()+"{"+this._sep()+this._key(f)+this._sep()+"{";return this._additionalLevel++,this.hasData=!0,c+=this._beginLine()+this._key(this._builderOptions.convert.text)+this._sep()+"[",this._hasChildren.push(!1),c},l.prototype.openTagEnd=function(f,c,d){if(c){var p=this._sep()+"]";return this._additionalLevel--,p+=this._beginLine()+"}"+this._sep()+"}"}return""},l.prototype.closeTag=function(f){var c=this._beginLine()+"]";return this._additionalLevel--,c+=this._beginLine()+"}"+this._sep()+"}"},l.prototype.beginElement=function(f){},l.prototype.endElement=function(f){this._hasChildren.pop()},l.prototype._beginLine=function(f){return f===void 0&&(f=0),this._writerOptions.prettyPrint?(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level+f):""},l.prototype._indent=function(f){return f+this._additionalLevel<=0?"":this._writerOptions.indent.repeat(f+this._additionalLevel)},l.prototype._comma=function(){var f=this._hasChildren[this._hasChildren.length-1]?",":"";return this._hasChildren.length>0&&(this._hasChildren[this._hasChildren.length-1]=!0),f},l.prototype._sep=function(){return this._writerOptions.prettyPrint?" ":""},l.prototype._key=function(f){return'"'+f+'":'},l.prototype._val=function(f){return JSON.stringify(f)},l}(o(114).BaseCBWriter);r.JSONCBWriter=s},function(n,r,o){o(74);var i,a=this&&this.__extends||(i=function(u,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])})(u,l)},function(u,l){function f(){this.constructor=u}i(u,l),u.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)});Object.defineProperty(r,"__esModule",{value:!0});var s=function(u){function l(f){var c=u.call(this,f)||this;if(c._rootWritten=!1,c._additionalLevel=0,f.indent.length<2)throw new Error("YAML indententation string must be at least two characters long.");if(f.offset<0)throw new Error("YAML offset should be zero or a positive number.");return c}return a(l,u),l.prototype.frontMatter=function(){return this._beginLine()+"---"},l.prototype.declaration=function(f,c,d){return""},l.prototype.docType=function(f,c,d){return""},l.prototype.comment=function(f){return this._beginLine()+this._key(this._builderOptions.convert.comment)+" "+this._val(f)},l.prototype.text=function(f){return this._beginLine()+this._key(this._builderOptions.convert.text)+" "+this._val(f)},l.prototype.instruction=function(f,c){return this._beginLine()+this._key(this._builderOptions.convert.ins)+" "+this._val(c?f+" "+c:f)},l.prototype.cdata=function(f){return this._beginLine()+this._key(this._builderOptions.convert.cdata)+" "+this._val(f)},l.prototype.attribute=function(f,c){this._additionalLevel++;var d=this._beginLine()+this._key(this._builderOptions.convert.att+f)+" "+this._val(c);return this._additionalLevel--,d},l.prototype.openTagBegin=function(f){var c=this._beginLine()+this._key(f);return this._rootWritten||(this._rootWritten=!0),this.hasData=!0,this._additionalLevel++,c+=this._beginLine(!0)+this._key(this._builderOptions.convert.text)},l.prototype.openTagEnd=function(f,c,d){return c?" "+this._val(""):""},l.prototype.closeTag=function(f){return this._additionalLevel--,""},l.prototype.beginElement=function(f){},l.prototype.endElement=function(f){},l.prototype._beginLine=function(f){return f===void 0&&(f=!1),(this.hasData?this._writerOptions.newline:"")+this._indent(this._writerOptions.offset+this.level,f)},l.prototype._indent=function(f,c){if(f+this._additionalLevel<=0)return"";var d=this._writerOptions.indent.repeat(f+this._additionalLevel);return!c&&this._rootWritten?d.substr(0,d.length-2)+"-"+d.substr(-1,1):d},l.prototype._key=function(f){return'"'+f+'":'},l.prototype._val=function(f){return JSON.stringify(f)},l}(o(114).BaseCBWriter);r.YAMLCBWriter=s},function(n,r,o){var i,a=typeof Reflect=="object"?Reflect:null,s=a&&typeof a.apply=="function"?a.apply:function(g,x,S){return Function.prototype.apply.call(g,x,S)};i=a&&typeof a.ownKeys=="function"?a.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var u=Number.isNaN||function(g){return g!=g};function l(){l.init.call(this)}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var f=10;function c(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function d(g){return g._maxListeners===void 0?l.defaultMaxListeners:g._maxListeners}function p(g,x,S,C){var w,T,_,A;if(c(S),(T=g._events)===void 0?(T=g._events=Object.create(null),g._eventsCount=0):(T.newListener!==void 0&&(g.emit("newListener",x,S.listener?S.listener:S),T=g._events),_=T[x]),_===void 0)_=T[x]=S,++g._eventsCount;else if(typeof _=="function"?_=T[x]=C?[S,_]:[_,S]:C?_.unshift(S):_.push(S),(w=d(g))>0&&_.length>w&&!_.warned){_.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=g,E.type=x,E.count=_.length,A=E,console&&console.warn&&console.warn(A)}return g}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(g,x,S){var C={fired:!1,wrapFn:void 0,target:g,type:x,listener:S},w=h.bind(C);return w.listener=S,C.wrapFn=w,w}function y(g,x,S){var C=g._events;if(C===void 0)return[];var w=C[x];return w===void 0?[]:typeof w=="function"?S?[w.listener||w]:[w]:S?function(T){for(var _=new Array(T.length),A=0;A<_.length;++A)_[A]=T[A].listener||T[A];return _}(w):v(w,w.length)}function b(g){var x=this._events;if(x!==void 0){var S=x[g];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}function v(g,x){for(var S=new Array(x),C=0;C<x;++C)S[C]=g[C];return S}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(g){if(typeof g!="number"||g<0||u(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");f=g}}),l.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||u(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(g){for(var x=[],S=1;S<arguments.length;S++)x.push(arguments[S]);var C=g==="error",w=this._events;if(w!==void 0)C=C&&w.error===void 0;else if(!C)return!1;if(C){var T;if(x.length>0&&(T=x[0]),T instanceof Error)throw T;var _=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw _.context=T,_}var A=w[g];if(A===void 0)return!1;if(typeof A=="function")s(A,this,x);else{var E=A.length,D=v(A,E);for(S=0;S<E;++S)s(D[S],this,x)}return!0},l.prototype.addListener=function(g,x){return p(this,g,x,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(g,x){return p(this,g,x,!0)},l.prototype.once=function(g,x){return c(x),this.on(g,m(this,g,x)),this},l.prototype.prependOnceListener=function(g,x){return c(x),this.prependListener(g,m(this,g,x)),this},l.prototype.removeListener=function(g,x){var S,C,w,T,_;if(c(x),(C=this._events)===void 0)return this;if((S=C[g])===void 0)return this;if(S===x||S.listener===x)--this._eventsCount==0?this._events=Object.create(null):(delete C[g],C.removeListener&&this.emit("removeListener",g,S.listener||x));else if(typeof S!="function"){for(w=-1,T=S.length-1;T>=0;T--)if(S[T]===x||S[T].listener===x){_=S[T].listener,w=T;break}if(w<0)return this;w===0?S.shift():function(A,E){for(;E+1<A.length;E++)A[E]=A[E+1];A.pop()}(S,w),S.length===1&&(C[g]=S[0]),C.removeListener!==void 0&&this.emit("removeListener",g,_||x)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(g){var x,S,C;if((S=this._events)===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete S[g]),this;if(arguments.length===0){var w,T=Object.keys(S);for(C=0;C<T.length;++C)(w=T[C])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(x=S[g])=="function")this.removeListener(g,x);else if(x!==void 0)for(C=x.length-1;C>=0;C--)this.removeListener(g,x[C]);return this},l.prototype.listeners=function(g){return y(this,g,!0)},l.prototype.rawListeners=function(g){return y(this,g,!1)},l.listenerCount=function(g,x){return typeof g.listenerCount=="function"?g.listenerCount(x):b.call(g,x)},l.prototype.listenerCount=b,l.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var i=o(77);r.createCB=function(a){return new i.XMLBuilderCBImpl(a)},r.fragmentCB=function(a){return new i.XMLBuilderCBImpl(a,!0)}}])})})(mJ);function gJ(t,e){e.classHierarchy.push("vtkStringArray"),t.getComponent=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.values[n*e.numberOfComponents+r]},t.setComponent=(n,r,o)=>{o!==e.values[n*e.numberOfComponents+r]&&(e.values[n*e.numberOfComponents+r]=o,t.modified())},t.getData=()=>e.values,t.getTuple=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const o=e.numberOfComponents||1;r.length&&(r.length=o);const i=n*o;for(let a=0;a<o;a++)r[a]=e.values[i+a];return r},t.getTupleLocation=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:1)*e.numberOfComponents},t.getNumberOfComponents=()=>e.numberOfComponents,t.getNumberOfValues=()=>e.values.length,t.getNumberOfTuples=()=>e.values.length/e.numberOfComponents,t.getDataType=()=>e.dataType,t.newClone=()=>zS({name:e.name,numberOfComponents:e.numberOfComponents}),t.getName=()=>(e.name||t.setName(`vtkStringArray${t.getMTime()}`),e.name),t.setData=(n,r)=>{e.values=n,e.size=n.length,r&&(e.numberOfComponents=r),e.size%e.numberOfComponents!==0&&(e.numberOfComponents=1),t.modified()}}const vJ={name:"",numberOfComponents:1,size:0,dataType:"string"};function GS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,vJ,n),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkStringArray object without: size > 0, values");e.values?Array.isArray(e.values)&&(e.values=[...e.values]):e.values=[],e.values&&(e.size=e.values.length),V.obj(t,e),V.set(t,e,["name"]),gJ(t,e)}const zS=V.newInstance(GS,"vtkStringArray");var yJ={newInstance:zS,extend:GS};function bJ(t,e){return[...t.getElementsByTagName(e)]}function q3(t,e){return bJ(t,e)[0]}function xJ(t){return Tm.create(t)}function SJ(t){const e=/^\s*<AppendedData\s+encoding="raw">\s*_/m,n=/\n\s*<\/AppendedData>/m;return gu.extractBinary(t,e,n)}const ci={Int8:Int8Array,UInt8:Uint8Array,Int16:Int16Array,UInt16:Uint16Array,Int32:Int32Array,UInt32:Uint32Array,Int64:Int32Array,UInt64:Uint32Array,Float32:Float32Array,Float64:Float64Array},vu={Int8:1,UInt8:1,Int16:2,UInt16:2,Int32:4,UInt32:4,Int64:8,UInt64:8,Float32:4,Float64:8};function _m(t){const e=t.length-1;return t.filter((n,r)=>r<e&&r%2===0)}function Am(t,e,n){if(!["UInt64","UInt32"].includes(n))throw new Error(`Cannot handle a header type of ${n}`);let r=ci[n],o=ci[e],i=!1;n==="UInt64"&&(r=ci.UInt32),/^U?Int64$/.test(e)&&(i=!0,o=ci[e.replace("64","32")]);const{byteOffset:a}=t,s=vu[e],u=vu[n];let l;a%u===0?l=new r(t.buffer,a,1):l=new r(t.buffer.slice(a,a+u));const f=Number(l[0]);let c,d=f/s;i&&(d*=2);const p=a+u;return p%s===0?c=new o(t.buffer,p,d):c=new o(t.buffer.slice(p,p+f)),i&&(c=_m(c)),c}function CJ(t,e){if(e==="UInt64"){let u=new Uint32Array(t.buffer,0,6);const l=u[0],f=u[2],c=u[4],d=[8,l,f,c];u=new Uint32Array(t.buffer,3*8,l*2);for(let p=0;p<l;p++)d.push(u[p*2]);return d}let n=new Uint32Array(t.buffer,0,3);const r=4,o=n[0],i=n[1],a=n[2],s=[r,o,i,a];n=new Uint32Array(t.buffer,3*4,o);for(let u=0;u<o;u++)s.push(n[u]);return s}function wJ(t,e){const[n]=t;return(t.length-1)*n}function TJ(t,e){const n=Hr(t);e.uint8.set(n,e.offset),e.offset+=n.length}function jg(t,e){const n=CJ(t,e),r=n[1],o=n[2],i=n[3];let a=0;r>0&&(i===0?a=r*o:a=(r-1)*o+i);const s=new ArrayBuffer(a),u={offset:0,uint8:new Uint8Array(s)};let l=wJ(n);for(;l<t.length&&t[l]!==120;)l++;for(let f=0;f<r;f++){const c=n[4+f],d=new Uint8Array(t.buffer,l,c);TJ(d,u),l+=c}return u.uint8}function yu(t,e,n,r,o,i){const a=e.getAttribute("type"),s=e.getAttribute("Name"),u=e.getAttribute("format"),l=Number(e.getAttribute("NumberOfComponents")||"1");let f=null;if(u==="ascii"){f=new ci[a](t*l);let c=0;e.firstChild.nodeValue.split(/[\\t \\n]+/).forEach(d=>{d.trim().length&&(f[c++]=Number(d))})}else if(u==="binary"){const c=new Uint8Array(Da.toArrayBuffer(e.firstChild.nodeValue.trim()));if(n==="vtkZLibDataCompressor"){const d=jg(c,o);f=new ci[a](d.buffer),/^U?Int64$/.test(a)&&(f=_m(f))}else f=new ci[a](c.buffer,vu[o]),a.indexOf("Int64")!==-1&&(f=_m(f))}else if(u==="appended"){const c=Number(e.getAttribute("offset"));f=Am(new Uint8Array(i,c),a,o)}else console.error("Format not supported",u);return{name:s,values:f,numberOfComponents:l}}function zp(t){return new TextDecoder().decode(t).split("\0").slice(0,-1)}function _J(t,e,n,r,o){const i=t.getAttribute("Name"),a=t.getAttribute("format"),s=Number(t.getAttribute("NumberOfComponents")||"1"),u=Number(t.getAttribute("NumberOfTuples")||"1")*s,l=[];if(a==="ascii"){const f=t.firstChild.nodeValue.trim().split(/\s+/);let c=0;const d=[];for(;l.length<u;){const p=Number(f[c++]);p===0?(l.push(d.join("")),d.length=0):d.push(String.fromCharCode(p))}}else if(a==="binary"){const f=new Uint8Array(Da.toArrayBuffer(t.firstChild.nodeValue.trim()));if(e==="vtkZLibDataCompressor"){const c=jg(f,r);l.push(...zp(c))}else{const c=Am(f,"UInt8",r);l.push(...zp(c))}}else if(a==="appended"){const f=Number(t.getAttribute("offset")),c=Am(new Uint8Array(o,f),"UInt8",r);l.push(...zp(c))}else V.vtkErrorMacro(`Format not supported: ${a}`);return{name:i,values:l,numberOfComponents:s}}function AJ(t,e,n,r,o,i){const a={},s=e.getElementsByTagName("DataArray");for(let h=0;h<s.length;h++){const m=s[h];a[m.getAttribute("Name")]=m}const u=yu(t,a.offsets,n,r,o,i).values,l=u[u.length-1],f=yu(l,a.connectivity,n,r,o,i).values,c=new Uint32Array(t+l);let d=0,p=0;return u.forEach(h=>{const m=h-p;c[d++]=m;for(let y=0;y<m;y++)c[d++]=f[p+y];p=h}),c}function EJ(t,e,n,r,o,i,a){if(e){const s=["Scalars","Vectors","Normals","Tensors","TCoords"],u={};s.forEach(c=>{const d=e.getAttribute(c);d&&(u[d]=n[`set${c}`])});const l=e.getElementsByTagName("DataArray"),f=l.length;for(let c=0;c<f;c++){const d=l[c],p=Ce.newInstance(yu(t,d,r,o,i,a)),h=p.getName();(u[h]||n.addArray)(p)}}}function DJ(t,e,n,r,o){const i=[...t.getElementsByTagName("DataArray")].map(s=>Ce.newInstance(yu(Number(s.getAttribute("NumberOfTuples")),s,e,n,r,o))),a=[...t.getElementsByTagName("Array")].filter(s=>s.getAttribute("type")==="String").map(s=>yJ.newInstance(_J(s,e,n,r,o)));return[...i,...a]}function IJ(t,e){e.classHierarchy.push("vtkXMLReader"),e.dataAccessHelper||(e.dataAccessHelper=Zs.get("http"));function n(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.dataAccessHelper.fetchBinary(r,o)}t.setUrl=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e.url=r;const i=r.split("/");return i.pop(),e.baseURL=i.join("/"),t.loadData(o)},t.loadData=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n(e.url,r).then(t.parseAsArrayBuffer)},t.parseAsArrayBuffer=r=>{if(!r)return!1;if(r!==e.rawDataBuffer)t.modified();else return!0;const{text:o,binaryBuffer:i}=SJ(r);e.rawDataBuffer=r,e.binaryBuffer=i;const a=xJ(o).root(),s=a.node,u=s.getAttribute("type"),l=s.getAttribute("compressor"),f=s.getAttribute("byte_order"),c=s.getAttribute("header_type")||"UInt32";if(l&&l!=="vtkZLibDataCompressor")return console.error("Invalid compressor",l),!1;if(f&&f!=="LittleEndian")return console.error("Only LittleEndian encoding is supported"),!1;if(u!==e.dataType)return console.error("Invalid data type",u,"expecting",e.dataType),!1;if(q3(s,"AppendedData")){const p=q3(s,"AppendedData"),h=p.getAttribute("encoding"),m=a.filter(S=>{const{node:C}=S;return C.nodeType===Node.ELEMENT_NODE&&C.getAttribute("format")==="appended"&&C.hasAttribute("offset")},!1,!0).map(S=>({node:S.node,offset:Number(S.node.getAttribute("offset"))}));m.sort((S,C)=>S.offset-C.offset);let y=e.binaryBuffer;h==="base64"&&(y=p.textContent.trim().substr(1));const b=[];for(let S=0;S<m.length;++S){const C=m[S].offset;let w=0;S===m.length-1?w=y.length||y.byteLength:w=m[S+1].offset,h==="base64"?b.push(new Uint8Array(Da.toArrayBuffer(y.substring(C,w)))):b.push(new Uint8Array(y.slice(C,w)))}if(l==="vtkZLibDataCompressor")for(let S=0;S<b.length;++S){const C=b[S],w=jg(C,c),T=new Uint8Array(w.length+vu[c]);new ci[c](T.buffer,0,1)[0]=w.length,T.set(w,vu[c]),b[S]=T}const v=b.reduce((S,C)=>S+C.length,0),g=new ArrayBuffer(v),x=new Uint8Array(g);for(let S=0,C=0;S<b.length;++S)m[S].node.setAttribute("offset",C),x.set(b[S],C),C+=b[S].length;if(e.binaryBuffer=g,!e.binaryBuffer)return console.error("Processing appended data format: requires binaryBuffer to parse"),!1}t.parseXML(s,u,l,f,c);const d=s.getElementsByTagName(u)[0].getElementsByTagName("FieldData")[0];if(d){const p=DJ(d,l,f,c,e.binaryBuffer);for(let h=0;h<e.output.length;h++){const m=e.output[h].getFieldData();for(let y=0;y<p.length;y++)m.addArray(p[y])}}return!0},t.requestData=(r,o)=>{t.parseAsArrayBuffer(e.rawDataBuffer)}}const PJ={};function OJ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,PJ,n),V.obj(t,e),V.get(t,e,["url","baseURL"]),V.setGet(t,e,["dataAccessHelper"]),V.algo(t,e,0,1),IJ(t,e)}var Ti={extend:OJ,processDataArray:yu,processFieldData:EJ,processCells:AJ};function NJ(t,e){e.classHierarchy.push("vtkXMLImageDataReader"),t.parseXML=(n,r,o,i,a)=>{var s;const u=n.getElementsByTagName(e.dataType)[0],l=u.getAttribute("Origin").split(" ").map(h=>Number(h)),f=u.getAttribute("Spacing").split(" ").map(h=>Number(h)),c=(s=u.getAttribute("Direction"))==null?void 0:s.split(" ").map(h=>Number(h)),d=u.getElementsByTagName("Piece"),p=d.length;for(let h=0;h<p;h++){const m=d[h],y=m.getAttribute("Extent").split(" ").map(v=>Number(v)),b=Ig.newInstance({origin:l,spacing:f,direction:c,extent:y});Ti.processFieldData(b.getNumberOfPoints(),m.getElementsByTagName("PointData")[0],b.getPointData(),o,i,a,e.binaryBuffer),Ti.processFieldData(b.getNumberOfCells(),m.getElementsByTagName("CellData")[0],b.getCellData(),o,i,a,e.binaryBuffer),e.output[h]=b}}}const RJ={dataType:"ImageData"};function MJ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,RJ,n),Ti.extend(t,e,n),NJ(t,e)}V.newInstance(MJ,"vtkXMLImageDataReader");function kJ(t,e,n,r,o,i,a){const s=Number(n.getAttribute(`NumberOf${e}`));if(s>0){const u=n.getElementsByTagName(e)[0].getElementsByTagName("DataArray")[0],{values:l,numberOfComponents:f}=Ti.processDataArray(s,u,r,o,i,a);t[`get${e}`]().setData(l,f)}return s}function LJ(t,e,n,r,o,i,a){const s=Number(n.getAttribute(`NumberOf${e}`));if(s>0){const u=Ti.processCells(s,n.getElementsByTagName(e)[0],r,o,i,a);t[`get${e}`]().setData(u)}return s}function FJ(t,e){e.classHierarchy.push("vtkXMLPolyDataReader"),t.parseXML=(n,r,o,i,a)=>{const s=n.getElementsByTagName(e.dataType)[0].getElementsByTagName("Piece"),u=s.length;for(let l=0;l<u;l++){const f=bt.newInstance(),c=s[l],d=kJ(f,"Points",c,o,i,a,e.binaryBuffer);let p=0;["Verts","Lines","Strips","Polys"].forEach(h=>{p+=LJ(f,h,c,o,i,a,e.binaryBuffer)}),Ti.processFieldData(d,c.getElementsByTagName("PointData")[0],f.getPointData(),o,i,a,e.binaryBuffer),Ti.processFieldData(p,c.getElementsByTagName("CellData")[0],f.getCellData(),o,i,a,e.binaryBuffer),e.output[l]=f}}}const BJ={dataType:"PolyData"};function VJ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,BJ,n),Ti.extend(t,e,n),FJ(t,e)}V.newInstance(VJ,"vtkXMLPolyDataReader");const UJ={props:{port:{type:Number,default:0},vtkClass:{type:String,default:"vtkConeSource"},state:{type:Object,default:()=>({})}},setup(t){const e=Ae(null),n=We("downstream"),r=We("representation");Pt("downstream",e),cn(()=>{e.value=Tn(q({vtkClass:t.vtkClass},t.state)),n.value.setInputConnection(e.value.getOutputPort(),t.port)}),Ht(()=>{e.value&&(e.value.delete(),e.value=null)}),xe(()=>t.vtkClass,o=>{e.value=Tn(q({vtkClass:o},t.state)),n.setInputConnection(e.value.getOutputPort(),t.port)}),xe(()=>t.state,o=>{e.value.set(o),r&&r.dataChanged()})},template:'<div :class="`vtk-algorithm-${vtkClass}`"><slot></slot></div>'},{vtkWarningMacro:zc}=V;function GJ(t,e){e.classHierarchy.push("vtkCalculator"),t.setFormula=n=>n===e.formula?!1:(e.formula=n,t.modified(),!0),t.getFormula=()=>e.formula,t.augmentInputArrays=(n,r)=>{const o=r.slice(0);return(n===$t.POINT||n===$t.VERTEX)&&o.push({location:$t.COORDINATE}),o},t.createSimpleFormulaObject=function(n,r,o,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return{getArrays:s=>({input:s[0].isA("vtkImageData")?r.map(u=>({location:n,name:u})):t.augmentInputArrays(n,r.map(u=>({location:n,name:u}))),output:[{location:n,name:o,attribute:"outputAttributeType"in a?a.outputAttributeType:s7.SCALARS,numberOfComponents:"numberOfOutputComponents"in a?a.numberOfOutputComponents:1}]}),evaluate:(s,u)=>{const l=new Array(s.length),f=s.map((m,y)=>{const b=m.getNumberOfComponents(),v=m.getData();return b===1?g=>v[g]:g=>m.getTuple(g,l[y])}),c=u[0],d=c.getData(),p=c.getNumberOfComponents();let h=new Array(p);if(p===1)d.forEach((m,y)=>{d[y]=i(...f.map(b=>b(y)),y,h)});else{const m=c.getNumberOfTuples();for(let y=0;y<m;++y)h=i(...f.map(b=>b(y)),y,h),c.setTuple(y,h)}}}},t.setFormulaSimple=function(n,r,o,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return t.setFormula(t.createSimpleFormulaObject(n,r,o,i,a))},t.prepareArrays=(n,r,o)=>{const i=[],a=[];return n.input.forEach(s=>{if(s.location===$t.COORDINATE)i.push(r.getPoints());else{const u=[[$t.UNIFORM,f=>f.getFieldData()],[$t.POINT,f=>f.getPointData()],[$t.CELL,f=>f.getCellData()],[$t.VERTEX,f=>f.getVertexData()],[$t.EDGE,f=>f.getEdgeData()],[$t.ROW,f=>f.getRowData()]].reduce((f,c)=>(f[c[0]]=c[1],f),{}),l="location"in s&&s.location in u?u[s.location](r):null;l?s.name?i.push(l.getArrayByName(s.name)):"index"in s?i.push(l.getArrayByIndex(s.index)):"attribute"in s&&s.location!==$t.UNIFORM?i.push(l.getActiveAttribute(s.attribute)):(zc(`No matching array for specifier "${JSON.stringify(s)}".`),i.push(null)):(zc(`Specifier "${JSON.stringify(s)}" did not provide a usable location.`),i.push(null))}}),n.output.forEach(s=>{const u=q({},s),l="numberOfComponents"in u?u.numberOfComponents:1;if(s.location===$t.UNIFORM&&"tuples"in u&&(u.size=l*u.tuples),s.location===$t.COORDINATE){const f=r.getPoints(),c=Fo.newInstance({dataType:f.getDataType()});c.setNumberOfPoints(f.getNumberOfPoints(),f.getNumberOfComponents()),o.setPoints(c),a.push(c)}else{const f=[[$t.UNIFORM,p=>p.getFieldData(),(p,h)=>"tuples"in h?h.tuples:0],[$t.POINT,p=>p.getPointData(),p=>p.getNumberOfPoints()],[$t.CELL,p=>p.getCellData(),p=>p.getNumberOfCells()],[$t.VERTEX,p=>p.getVertexData(),p=>p.getNumberOfVertices()],[$t.EDGE,p=>p.getEdgeData(),p=>p.getNumberOfEdges()],[$t.ROW,p=>p.getRowData(),p=>p.getNumberOfRows()]].reduce((p,h)=>(p[h[0]]={getData:h[1],getSize:h[2]},p),{});let c=null,d=0;if("location"in s&&s.location in f&&(c=f[s.location].getData(o),d=f[s.location].getSize(r,u)),d<=0)zc(`Output array size could not be determined for ${JSON.stringify(s)}.`),a.push(null);else if(c){u.size=l*d;const p=Ce.newInstance(u),h=c.addArray(p);"attribute"in u&&s.location!==$t.UNIFORM&&c.setActiveAttributeByIndex(h,u.attribute),a.push(p)}else zc(`Specifier "${JSON.stringify(s)}" did not provide a usable location.`),a.push(null)}}),{arraysIn:i,arraysOut:a}},t.requestData=(n,r)=>{if(!e.formula)return 0;const o=e.formula.getArrays(n),i=Tn({vtkClass:n[0].getClassName()});i.shallowCopy(n[0]),r[0]=i;const a=t.prepareArrays(o,n[0],r[0]);return e.formula.evaluate(a.arraysIn,a.arraysOut),1}}const zJ={formula:{getArrays:()=>({input:[],output:[]}),evaluate:()=>null}};function jS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,zJ,n),V.obj(t,e),V.algo(t,e,1,1),GJ(t,e)}const jJ=V.newInstance(jS,"vtkCalculator");var WJ={newInstance:jJ,extend:jS};const{FieldDataTypes:X3}=ka,HJ={props:{port:{type:Number,default:0},name:{type:String,default:"scalars"},location:{type:String,default:"POINT"},arrays:{type:Array,default:()=>[]},formula:{type:Function,default:t=>t[0]}},setup(t){const e=Ae(WJ.newInstance()),n=We("downstream");Pt("downstream",e),cn(()=>{e.value.setFormulaSimple(X3[t.location],t.arrays,t.name,t.formula),n.value.setInputConnection(e.value.getOutputPort(),t.port)}),Ht(()=>{e.value&&(e.value.delete(),e.value=null)}),Ws(()=>{e.value.setFormulaSimple(X3[t.location],t.arrays,t.name,t.formula)})},template:'<div class="vtk-calculator"><slot></slot></div>'},WS={setup(){const t=We("dataset");Pt("fields",t==null?void 0:t.getCellData())},template:'<div class="vtk-cell-data"><slot></slot></div>'},$J={int32:Int32Array,int16:Int16Array,int8:Int8Array,uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array,float32:Float32Array,float64:Float64Array};function HS(t,e){if(!t)return null;if(Array.isArray(t))return e.from(t);if(t.dtype){const{bvals:n,dtype:r}=t,o=Da.toArrayBuffer(n);return new $J[r](o)}return t}const $S={props:{name:{type:String,default:"scalars"},registration:{type:String,default:"addArray"},type:{type:String,default:"Float32Array"},values:{type:[Array,Object,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array]},numberOfComponents:{type:Number,default:1}},setup(t){const e=We("dataset"),n=We("fields"),r=We("representation"),o=Ce.newInstance({empty:!0}),i=Io(()=>{const f=_n[t.type];o.setData(HS(t.values,f),t.numberOfComponents),e&&e.modified(),r&&r.dataChanged()},1),{name:a,type:s,values:u,numberOfComponents:l}=Go(t);xe(a,o.setName),xe(s,i),xe(u,i),xe(l,i),cn(()=>{n&&n[t.registration](o),t.name&&o.setName(t.name),t.values&&(t.values.bvals||t.values.length)&&i()}),Ht(()=>{n&&n.removeArray(o),o.delete()}),Pt("array",o)},template:'<div class="vtk-data-array" :name="name" />'},KJ={setup(){const t=We("dataset");Pt("fields",t==null?void 0:t.getFieldData())},template:'<div class="vtk-field-data"><slot></slot></div>'};var qJ=[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"BkRd",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,1,0,0]},{ColorSpace:"RGB",Name:"BkGn",NanColor:[1,0,1],RGBPoints:[0,0,0,0,1,0,1,0]},{ColorSpace:"RGB",Name:"BkBu",NanColor:[1,1,0],RGBPoints:[0,0,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"BkMa",NanColor:[0,1,0],RGBPoints:[0,0,0,0,1,1,0,1]},{ColorSpace:"RGB",Name:"BkCy",NanColor:[0,1,1],RGBPoints:[0,0,0,0,1,0,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,754296e-12,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,111641e-12,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,363578e-12,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,405298e-12,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4264e-11,0,620844e-12,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,33216e-11,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,405432e-12,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,455569e-13]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,455569e-13,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}];const Bs=Object.create(null);qJ.filter(t=>t.RGBPoints).filter(t=>t.ColorSpace!=="CIELAB").forEach(t=>{Bs[t.Name]=t});const Vs=Object.keys(Bs);Vs.sort();function XJ(t){return Bs[t]}function YJ(t){!t.RGBPoints||t.ColorSpace==="CIELAB"||(Bs[t.Name]||(Vs.push(t.Name),Vs.sort()),Bs[t.Name]=t)}function JJ(t){const e=Vs.indexOf(t);e>-1&&Vs.splice(e,1),delete Bs[t]}var Wg={addPreset:YJ,removePresetByName:JJ,getPresetByName:XJ,rgbPresetNames:Vs};const ZJ={RGB:0,HSV:1,LAB:2,DIVERGING:3},QJ={LINEAR:0,LOG10:1};var KS={ColorSpace:ZJ,Scale:QJ};const{ColorSpace:Er,Scale:qS}=KS,{ScalarMappingTarget:jc}=Sd,{vtkDebugMacro:eZ,vtkErrorMacro:mo,vtkWarningMacro:tZ}=V;function Y3(t,e){const n=t[0],r=t[1],o=t[2],i=Math.sqrt(n*n+r*r+o*o),a=i>.001?Math.acos(n/i):0,s=a>.001?Math.atan2(o,r):0;e[0]=i,e[1]=a,e[2]=s}function nZ(t,e){const n=t[0],r=t[1],o=t[2];e[0]=n*Math.cos(r),e[1]=n*Math.sin(r)*Math.cos(o),e[2]=n*Math.sin(r)*Math.sin(o)}function J3(t,e){if(t[0]>=e-.1)return t[2];const n=t[1]*Math.sqrt(e*e-t[0]*t[0])/(t[0]*Math.sin(t[1]));return t[2]>-.3*Math.PI?t[2]+n:t[2]-n}function rZ(t,e){let n=t-e;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}function Z3(t,e,n,r){const o=[],i=[];na(e,o),na(n,i);const a=[],s=[];Y3(o,a),Y3(i,s);let u=t;if(a[1]>.05&&s[1]>.05&&rZ(a[2],s[2])>.33*Math.PI){let c=Math.max(a[0],s[0]);c=Math.max(88,c),t<.5?(s[0]=c,s[1]=0,s[2]=0,u*=2):(a[0]=c,a[1]=0,a[2]=0,u=2*u-1)}a[1]<.05&&s[1]>.05?a[2]=J3(s,a[0]):s[1]<.05&&a[1]>.05&&(s[2]=J3(a,s[0]));const l=[];l[0]=(1-u)*a[0]+u*s[0],l[1]=(1-u)*a[1]+u*s[1],l[2]=(1-u)*a[2]+u*s[2];const f=[];nZ(l,f),Cf(f,r)}function oZ(t,e){e.classHierarchy.push("vtkColorTransferFunction"),t.getSize=()=>e.nodes.length,t.addRGBPoint=(n,r,o,i)=>t.addRGBPointLong(n,r,o,i,.5,0),t.addRGBPointLong=function(n,r,o,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(a<0||a>1)return mo("Midpoint outside range [0.0, 1.0]"),-1;if(s<0||s>1)return mo("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);const u={x:n,r,g:o,b:i,midpoint:a,sharpness:s};e.nodes.push(u),t.sortAndUpdateRange();let l=0;for(;l<e.nodes.length&&e.nodes[l].x!==n;l++);return l<e.nodes.length?l:-1},t.addHSVPoint=(n,r,o,i)=>t.addHSVPointLong(n,r,o,i,.5,0),t.addHSVPointLong=function(n,r,o,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.5,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;const u=[];return Xi([r,o,i],u),t.addRGBPoint(n,u[0],u[1],u[2],a,s)},t.setNodes=n=>{if(e.nodes!==n){const r=JSON.stringify(e.nodes);e.nodes=n;const o=JSON.stringify(e.nodes);if(t.sortAndUpdateRange()||r!==o)return t.modified(),!0}return!1},t.sortAndUpdateRange=()=>{const n=JSON.stringify(e.nodes);e.nodes.sort((i,a)=>i.x-a.x);const r=JSON.stringify(e.nodes),o=t.updateRange();return!o&&n!==r?(t.modified(),!0):o},t.updateRange=()=>{const n=[2];n[0]=e.mappingRange[0],n[1]=e.mappingRange[1];const r=e.nodes.length;return r?(e.mappingRange[0]=e.nodes[0].x,e.mappingRange[1]=e.nodes[r-1].x):(e.mappingRange[0]=0,e.mappingRange[1]=0),n[0]===e.mappingRange[0]&&n[1]===e.mappingRange[1]?!1:(t.modified(),!0)},t.removePoint=n=>{let r=0;for(;r<e.nodes.length&&e.nodes[r].x!==n;r++);const o=r;if(r>=e.nodes.length)return-1;let i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),o},t.movePoint=(n,r)=>{if(n!==r){t.removePoint(r);for(let o=0;o<e.nodes.length;o++)if(e.nodes[o].x===n){e.nodes[o].x=r,t.sortAndUpdateRange();break}}},t.removeAllPoints=()=>{e.nodes=[],t.sortAndUpdateRange()},t.addRGBSegment=(n,r,o,i,a,s,u,l)=>{t.sortAndUpdateRange();for(let f=0;f<e.nodes.length;)e.nodes[f].x>=n&&e.nodes[f].x<=a?e.nodes.splice(f,1):f++;t.addRGBPointLong(n,r,o,i,.5,0),t.addRGBPointLong(a,s,u,l,.5,0),t.modified()},t.addHSVSegment=(n,r,o,i,a,s,u,l)=>{const f=[r,o,i],c=[s,u,l],d=[],p=[];Xi(f,d),Xi(c,p),t.addRGBSegment(n,d[0],d[1],d[2],a,p[0],p[1],p[2])},t.mapValue=n=>{const r=[];return t.getColor(n,r),[Math.floor(255*r[0]+.5),Math.floor(255*r[1]+.5),Math.floor(255*r[2]+.5),255]},t.getColor=(n,r)=>{if(e.indexedLookup){const o=t.getSize(),i=t.getAnnotatedValueIndexInternal(n);if(i<0||o===0){const a=t.getNanColorByReference();r[0]=a[0],r[1]=a[1],r[2]=a[2]}else{const a=[];t.getNodeValue(i%o,a),r[0]=a[1],r[1]=a[2],r[2]=a[3]}return}t.getTable(n,n,1,r)},t.getRedValue=n=>{const r=[];return t.getColor(n,r),r[0]},t.getGreenValue=n=>{const r=[];return t.getColor(n,r),r[1]},t.getBlueValue=n=>{const r=[];return t.getColor(n,r),r[2]},t.getTable=(n,r,o,i)=>{const a=Number(n),s=Number(r);if(wf(a)||wf(s)){for(let _=0;_<o;_++)i[_*3+0]=e.nanColor[0],i[_*3+1]=e.nanColor[1],i[_*3+2]=e.nanColor[2];return}let u=0;const l=e.nodes.length;let f=0,c=0,d=0;l!==0&&(f=e.nodes[l-1].r,c=e.nodes[l-1].g,d=e.nodes[l-1].b);let p=0,h=0,m=0;const y=[0,0,0],b=[0,0,0];let v=0,g=0;const x=[];let S=e.scale===qS.LOG10;S&&(S=e.mappingRange[0]>0);let C=0,w=0,T=0;S&&(C=Math.log10(a),w=Math.log10(s));for(let _=0;_<o;_++){const A=3*_;if(o>1?S?(T=C+_/(o-1)*(w-C),p=_e(10,T)):p=a+_/(o-1)*(s-a):S?(T=.5*(C+w),p=_e(10,T)):p=.5*(a+s),e.discretize){const E=e.mappingRange;if(p>=E[0]&&p<=E[1]){const D=e.numberOfValues,O=E[1]-E[0];if(D<=1)p=E[0]+O/2;else{const P=(p-E[0])/O,k=pg(D*P);p=E[0]+k/(D-1)*O}}}for(;u<l&&p>e.nodes[u].x;)u++,u<l&&(h=e.nodes[u-1].x,m=e.nodes[u].x,S&&(h=Math.log10(h),m=Math.log10(m)),y[0]=e.nodes[u-1].r,b[0]=e.nodes[u].r,y[1]=e.nodes[u-1].g,b[1]=e.nodes[u].g,y[2]=e.nodes[u-1].b,b[2]=e.nodes[u].b,v=e.nodes[u-1].midpoint,g=e.nodes[u-1].sharpness,v<1e-5&&(v=1e-5),v>.99999&&(v=.99999));if(p>e.mappingRange[1])i[A]=0,i[A+1]=0,i[A+2]=0,e.clamping&&(t.getUseAboveRangeColor()?(i[A]=e.aboveRangeColor[0],i[A+1]=e.aboveRangeColor[1],i[A+2]=e.aboveRangeColor[2]):(i[A]=f,i[A+1]=c,i[A+2]=d));else if(p<e.mappingRange[0]||vx(p)&&p<0)i[A]=0,i[A+1]=0,i[A+2]=0,e.clamping&&(t.getUseBelowRangeColor()?(i[A]=e.belowRangeColor[0],i[A+1]=e.belowRangeColor[1],i[A+2]=e.belowRangeColor[2]):l>0&&(i[A]=e.nodes[0].r,i[A+1]=e.nodes[0].g,i[A+2]=e.nodes[0].b));else if(u===0&&(Math.abs(p-a)<1e-6||e.discretize))l>0?(i[A]=e.nodes[0].r,i[A+1]=e.nodes[0].g,i[A+2]=e.nodes[0].b):(i[A]=0,i[A+1]=0,i[A+2]=0);else{let E=0;if(S?E=(T-h)/(m-h):E=(p-h)/(m-h),E<v?E=.5*E/v:E=.5+.5*(E-v)/(1-v),g>.99)if(E<.5){i[A]=y[0],i[A+1]=y[1],i[A+2]=y[2];continue}else{i[A]=b[0],i[A+1]=b[1],i[A+2]=b[2];continue}if(g<.01){if(e.colorSpace===Er.RGB)i[A]=(1-E)*y[0]+E*b[0],i[A+1]=(1-E)*y[1]+E*b[1],i[A+2]=(1-E)*y[2]+E*b[2];else if(e.colorSpace===Er.HSV){const M=[],z=[];El(y,M),El(b,z),e.hSVWrap&&(M[0]-z[0]>.5||z[0]-M[0]>.5)&&(M[0]>z[0]?M[0]-=1:z[0]-=1);const $=[];$[0]=(1-E)*M[0]+E*z[0],$[0]<0&&($[0]+=1),$[1]=(1-E)*M[1]+E*z[1],$[2]=(1-E)*M[2]+E*z[2],Xi($,x),i[A]=x[0],i[A+1]=x[1],i[A+2]=x[2]}else if(e.colorSpace===Er.LAB){const M=[],z=[];na(y,M),na(b,z);const $=[];$[0]=(1-E)*M[0]+E*z[0],$[1]=(1-E)*M[1]+E*z[1],$[2]=(1-E)*M[2]+E*z[2],Cf($,x),i[A]=x[0],i[A+1]=x[1],i[A+2]=x[2]}else e.colorSpace===Er.DIVERGING?(Z3(E,y,b,x),i[A]=x[0],i[A+1]=x[1],i[A+2]=x[2]):mo("ColorSpace set to invalid value.",e.colorSpace);continue}E<.5?E=.5*_e(E*2,1+10*g):E>.5&&(E=1-.5*_e((1-E)*2,1+10*g));const D=E*E,O=D*E,P=2*O-3*D+1,k=-2*O+3*D,U=O-2*D+E,H=O-D;let R,B;if(e.colorSpace===Er.RGB)for(let M=0;M<3;M++)R=b[M]-y[M],B=(1-g)*R,i[A+M]=P*y[M]+k*b[M]+U*B+H*B;else if(e.colorSpace===Er.HSV){const M=[],z=[];El(y,M),El(b,z),e.hSVWrap&&(M[0]-z[0]>.5||z[0]-M[0]>.5)&&(M[0]>z[0]?M[0]-=1:z[0]-=1);const $=[];for(let J=0;J<3;J++)R=z[J]-M[J],B=(1-g)*R,$[J]=P*M[J]+k*z[J]+U*B+H*B,J===0&&$[J]<0&&($[J]+=1);Xi($,x),i[A]=x[0],i[A+1]=x[1],i[A+2]=x[2]}else if(e.colorSpace===Er.LAB){const M=[],z=[];na(y,M),na(b,z);const $=[];for(let J=0;J<3;J++)R=z[J]-M[J],B=(1-g)*R,$[J]=P*M[J]+k*z[J]+U*B+H*B;Cf($,x),i[A]=x[0],i[A+1]=x[1],i[A+2]=x[2]}else e.colorSpace===Er.DIVERGING?(Z3(E,y,b,x),i[A]=x[0],i[A+1]=x[1],i[A+2]=x[2]):mo("ColorSpace set to invalid value.");for(let M=0;M<3;M++)i[A+M]=i[A+M]<0?0:i[A+M],i[A+M]=i[A+M]>1?1:i[A+M]}}},t.getUint8Table=function(n,r,o){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t.getMTime()<=e.buildTime&&e.tableSize===o&&e.tableWithAlpha!==i)return e.table;if(e.nodes.length===0)return mo("Attempting to lookup a value with no points in the function"),e.table;const a=i?4:3;(e.tableSize!==o||e.tableWithAlpha!==i)&&(e.table=new Uint8Array(o*a),e.tableSize=o,e.tableWithAlpha=i);const s=[];t.getTable(n,r,o,s);for(let u=0;u<o;u++)e.table[u*a+0]=Math.floor(s[u*3+0]*255+.5),e.table[u*a+1]=Math.floor(s[u*3+1]*255+.5),e.table[u*a+2]=Math.floor(s[u*3+2]*255+.5),i&&(e.table[u*a+3]=255);return e.buildTime.modified(),e.table},t.buildFunctionFromArray=n=>{t.removeAllPoints();const r=n.getNumberOfComponents();for(let o=0;o<n.getNumberOfTuples();o++)switch(r){case 3:{e.nodes.push({x:o,r:n.getComponent(o,0),g:n.getComponent(o,1),b:n.getComponent(o,2),midpoint:.5,sharpness:0});break}case 4:{e.nodes.push({x:n.getComponent(o,0),r:n.getComponent(o,1),g:n.getComponent(o,2),b:n.getComponent(o,3),midpoint:.5,sharpness:0});break}case 5:{e.nodes.push({x:o,r:n.getComponent(o,0),g:n.getComponent(o,1),b:n.getComponent(o,2),midpoint:n.getComponent(o,4),sharpness:n.getComponent(o,5)});break}case 6:{e.nodes.push({x:n.getComponent(o,0),r:n.getComponent(o,1),g:n.getComponent(o,2),b:n.getComponent(o,3),midpoint:n.getComponent(o,4),sharpness:n.getComponent(o,5)});break}}t.sortAndUpdateRange()},t.buildFunctionFromTable=(n,r,o,i)=>{let a=0;t.removeAllPoints(),o>1&&(a=(r-n)/(o-1));for(let s=0;s<o;s++){const u={x:n+a*s,r:i[s*3],g:i[s*3+1],b:i[s*3+2],sharpness:0,midpoint:.5};e.nodes.push(u)}t.sortAndUpdateRange()},t.getNodeValue=(n,r)=>n<0||n>=e.nodes.length?(mo("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].r,r[2]=e.nodes[n].g,r[3]=e.nodes[n].b,r[4]=e.nodes[n].midpoint,r[5]=e.nodes[n].sharpness,1),t.setNodeValue=(n,r)=>{if(n<0||n>=e.nodes.length)return mo("Index out of range!"),-1;const o=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].r=r[1],e.nodes[n].g=r[2],e.nodes[n].b=r[3],e.nodes[n].midpoint=r[4],e.nodes[n].sharpness=r[5],o!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.getNumberOfAvailableColors=()=>e.indexedLookup&&t.getSize()?t.getSize():e.tableSize?e.tableSize:16777216,t.getIndexedColor=(n,r)=>{const o=t.getSize();if(o>0&&n>=0){const a=[];t.getNodeValue(n%o,a);for(let s=0;s<3;++s)r[s]=a[s+1];r[3]=1;return}const i=t.getNanColorByReference();r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=1},t.fillFromDataPointer=(n,r)=>{if(!(n<=0||!r)){t.removeAllPoints();for(let o=0;o<n;o++)t.addRGBPoint(r[o*4],r[o*4+1],r[o*4+2],r[o*4+3])}},t.setMappingRange=(n,r)=>{const o=[n,r],i=t.getRange();if(i[1]===o[1]&&i[0]===o[0])return;if(o[1]===o[0]){mo("attempt to set zero width color range");return}const a=(o[1]-o[0])/(i[1]-i[0]),s=o[0]-i[0]*a;for(let u=0;u<e.nodes.length;++u)e.nodes[u].x=e.nodes[u].x*a+s;e.mappingRange[0]=o[0],e.mappingRange[1]=o[1],t.modified()},t.adjustRange=n=>{const r=t.getRange(),o=[];r[0]<n[0]?(t.getColor(n[0],o),t.addRGBPoint(n[0],o[0],o[1],o[2])):(t.getColor(r[0],o),t.addRGBPoint(n[0],o[0],o[1],o[2])),r[1]>n[1]?(t.getColor(n[1],o),t.addRGBPoint(n[1],o[0],o[1],o[2])):(t.getColor(r[1],o),t.addRGBPoint(n[1],o[0],o[1],o[2])),t.sortAndUpdateRange();for(let i=0;i<e.nodes.length;)e.nodes[i].x>=n[0]&&e.nodes[i].x<=n[1]?e.nodes.splice(i,1):++i;return 1},t.estimateMinNumberOfSamples=(n,r)=>{const o=t.findMinimumXDistance();return Math.ceil((r-n)/o)},t.findMinimumXDistance=()=>{if(e.nodes.length<2)return-1;let n=Number.MAX_VALUE;for(let r=0;r<e.nodes.length-1;r++){const o=e.nodes[r+1].x-e.nodes[r].x;o<n&&(n=o)}return n},t.mapScalarsThroughTable=(n,r,o,i)=>{if(t.getSize()===0){eZ("Transfer Function Has No Points!");return}e.indexedLookup?t.mapDataIndexed(n,r,o,i):t.mapData(n,r,o,i)},t.mapData=(n,r,o,i)=>{if(t.getSize()===0){tZ("Transfer Function Has No Points!");return}const a=Math.floor(t.getAlpha()*255+.5),s=n.getNumberOfTuples(),u=n.getNumberOfComponents(),l=r.getData(),f=n.getData(),c=[];if(o===jc.RGBA)for(let d=0;d<s;d++){const p=f[d*u+i];t.getColor(p,c),l[d*4]=Math.floor(c[0]*255+.5),l[d*4+1]=Math.floor(c[1]*255+.5),l[d*4+2]=Math.floor(c[2]*255+.5),l[d*4+3]=a}if(o===jc.RGB)for(let d=0;d<s;d++){const p=f[d*u+i];t.getColor(p,c),l[d*3]=Math.floor(c[0]*255+.5),l[d*3+1]=Math.floor(c[1]*255+.5),l[d*3+2]=Math.floor(c[2]*255+.5)}if(o===jc.LUMINANCE)for(let d=0;d<s;d++){const p=f[d*u+i];t.getColor(p,c),l[d]=Math.floor(c[0]*76.5+c[1]*150.45+c[2]*28.05+.5)}if(o===jc.LUMINANCE_ALPHA)for(let d=0;d<s;d++){const p=f[d*u+i];t.getColor(p,c),l[d*2]=Math.floor(c[0]*76.5+c[1]*150.45+c[2]*28.05+.5),l[d*2+1]=a}},t.applyColorMap=n=>{const r=JSON.stringify(e.colorSpace);n.ColorSpace&&(e.colorSpace=Er[n.ColorSpace.toUpperCase()],e.colorSpace===void 0&&(mo(`ColorSpace ${n.ColorSpace} not supported, using RGB instead`),e.colorSpace=Er.RGB));let o=r!==JSON.stringify(e.colorSpace);const i=o||JSON.stringify(e.nanColor);if(n.NanColor)for(e.nanColor=[].concat(n.NanColor);e.nanColor.length<4;)e.nanColor.push(1);o=o||i!==JSON.stringify(e.nanColor);const a=o||JSON.stringify(e.nodes);if(n.RGBPoints){const l=n.RGBPoints.length;e.nodes=[];const f=.5,c=0;for(let d=0;d<l;d+=4)e.nodes.push({x:n.RGBPoints[d],r:n.RGBPoints[d+1],g:n.RGBPoints[d+2],b:n.RGBPoints[d+3],midpoint:f,sharpness:c})}const s=t.sortAndUpdateRange(),u=!s&&(o||a!==JSON.stringify(e.nodes));return u&&t.modified(),s||u}}const iZ={clamping:!0,colorSpace:Er.RGB,hSVWrap:!0,scale:qS.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null,discretize:!1,numberOfValues:256};function XS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,iZ,n),Sd.extend(t,e,n),e.table=[],e.nodes=[],e.nanColor=[.5,0,0,1],e.belowRangeColor=[0,0,0,1],e.aboveRangeColor=[1,1,1,1],e.buildTime={},V.obj(e.buildTime),V.get(t,e,["buildTime","mappingRange"]),V.setGet(t,e,["useAboveRangeColor","useBelowRangeColor","colorSpace","discretize","numberOfValues"]),V.setArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"],4),V.getArray(t,e,["nanColor","belowRangeColor","aboveRangeColor"]),oZ(t,e)}const aZ=V.newInstance(XS,"vtkColorTransferFunction");var Hg=q({newInstance:aZ,extend:XS},KS);const YS={id:{type:String},colorMapPreset:{type:String,default:"erdc_rainbow_bright"},colorDataRange:{type:Array,default:()=>[0,1]},actor:{type:Object},mapper:{type:Object},property:{type:Object}};let sZ=class{constructor(t,e,n,r){this.refs={presetName:e,colorRange:n},this.view=r,this.actor=ko.newInstance(),this.lookupTable=Hg.newInstance(),this.mapper=t({lookupTable:this.lookupTable,useLookupTableScalarRange:!0}),this.actor.setMapper(this.mapper),this.property=this.actor.getProperty()}updateColorMapPreset(){const t=Wg.getPresetByName(this.refs.presetName.value);this.lookupTable.applyColorMap(t),this.updateColorDataRange()}updateColorDataRange(){this.lookupTable.setMappingRange(...this.refs.colorRange.value),this.lookupTable.updateRange(),this.dataChanged()}dataChanged(){this.view&&Gt(this.view.render)}};function JS(t,e){const n=We("view"),{colorMapPreset:r,colorDataRange:o}=Go(t),i=new sZ(e,r,o,n),a=Ae(i.mapper);Pt("representation",i),Pt("downstream",a),cn(()=>{["actor","mapper","property"].forEach(s=>{i[s].set(t[s])}),i.actor.set({representationId:t.id},!0),i.updateColorMapPreset(),n.renderer.addActor(i.actor)}),Ht(()=>{var s;(s=n==null?void 0:n.renderer)==null||s.removeActor(i.actor),i.actor.delete(),i.actor=null,i.mapper.delete(),i.mapper=null,i.lookupTable.delete(),i.lookupTable=null}),["actor","mapper","property"].forEach(s=>{xe(()=>t[s],u=>{i[s].set(u)&&i.dataChanged()})}),["colorMapPreset","colorDataRange"].forEach(s=>{xe(()=>t[s],()=>i[`update${Xs(s)}`]())}),xe(()=>t.id,s=>i.actor.set({representationId:s},!0))}const lZ={props:YS,setup(t){JS(t,Lo.newInstance)},template:'<div class="vtk-geometry-representation"><slot></slot></div>'},uZ={DIRECTION:0,ROTATION:1,MATRIX:2},cZ={SCALE_BY_CONSTANT:0,SCALE_BY_MAGNITUDE:1,SCALE_BY_COMPONENTS:2};var ZS={OrientationModes:uZ,ScaleModes:cZ};const{OrientationModes:ei,ScaleModes:yo}=ZS,{vtkErrorMacro:fZ}=V;function dZ(t,e){e.classHierarchy.push("vtkGlyph3DMapper"),t.getOrientationModeAsString=()=>V.enumToString(ei,e.orientationMode),t.setOrientationModeToDirection=()=>t.setOrientationMode(ei.DIRECTION),t.setOrientationModeToRotation=()=>t.setOrientationMode(ei.ROTATION),t.setOrientationModeToMatrix=()=>t.setOrientationMode(ei.MATRIX),t.getOrientationArrayData=()=>{const n=t.getInputData(0);return!n||!n.getPointData()?null:e.orientationArray?n.getPointData().getArray(e.orientationArray):n.getPointData().getVectors()},t.getScaleModeAsString=()=>V.enumToString(yo,e.scaleMode),t.setScaleModeToScaleByMagnitude=()=>t.setScaleMode(yo.SCALE_BY_MAGNITUDE),t.setScaleModeToScaleByComponents=()=>t.setScaleMode(yo.SCALE_BY_COMPONENTS),t.setScaleModeToScaleByConstant=()=>t.setScaleMode(yo.SCALE_BY_CONSTANT),t.getScaleArrayData=()=>{const n=t.getInputData(0);return!n||!n.getPointData()?null:e.scaleArray?n.getPointData().getArray(e.scaleArray):n.getPointData().getScalars()},t.getBounds=()=>{const n=t.getInputData(0),r=t.getInputData(1);return!n||!r?Ro():(t.buildArrays(),e.bounds)},t.buildArrays=()=>{const n=t.getInputData(0),r=t.getInputData(1);if(e.buildTime.getMTime()<r.getMTime()||e.buildTime.getMTime()<n.getMTime()||e.buildTime.getMTime()<t.getMTime()){const o=n.getPoints().getData();let i=t.getScaleArrayData(),a=null,s=0;i&&(a=i.getData(),s=i.getNumberOfComponents()),e.scaling&&i&&e.scaleMode===yo.SCALE_BY_COMPONENTS&&i.getNumberOfComponents()!==3&&(fZ("Cannot scale by components since scale array does not have 3 components."),i=null);const u=r.getBounds(),l=[];et.getCorners(u,l),e.bounds[0]=et.INIT_BOUNDS[0],e.bounds[1]=et.INIT_BOUNDS[1],e.bounds[2]=et.INIT_BOUNDS[2],e.bounds[3]=et.INIT_BOUNDS[3],e.bounds[4]=et.INIT_BOUNDS[4],e.bounds[5]=et.INIT_BOUNDS[5];const f=new Float64Array(3),c=t.getOrientationArrayData(),d=Le(new Float64Array(16)),p=[],h=[],m=o.length/3;e.matrixArray=new Float32Array(16*m);const y=e.matrixArray.buffer;e.normalArray=new Float32Array(9*m);const b=e.normalArray.buffer,v=[],g=[];for(let C=0;C<m;++C){const w=new Float32Array(y,C*64,16);if(p[0]=o[C*3],p[1]=o[C*3+1],p[2]=o[C*3+2],Ot(w,d,p),c)switch(c.getTuple(C,g),e.orientationMode){case ei.MATRIX:{const _=[...g.slice(0,3),0,...g.slice(3,6),0,...g.slice(6,9),0,0,0,0,1];lt(w,w,_);break}case ei.ROTATION:pd(w,w,g[2]),dd(w,w,g[0]),iu(w,w,g[1]);break;case ei.DIRECTION:if(g[1]===0&&g[2]===0)g[0]<0&&iu(w,w,3.1415926);else{const _=sr(g),A=[];A[0]=(g[0]+_)/2,A[1]=g[1]/2,A[2]=g[2]/2,Cn(w,w,3.1415926,A)}break}if(e.scaling){if(h[0]=e.scaleFactor,h[1]=e.scaleFactor,h[2]=e.scaleFactor,i)switch(e.scaleMode){case yo.SCALE_BY_MAGNITUDE:for(let _=0;_<s;++_)v[_]=a[C*s+_];h[0]*=sr(v,s),h[1]=h[0],h[2]=h[0];break;case yo.SCALE_BY_COMPONENTS:for(let _=0;_<s;++_)v[_]=a[C*s+_];h[0]*=v[0],h[1]*=v[1],h[2]*=v[2];break;case yo.SCALE_BY_CONSTANT:}h[0]===0&&(h[0]=1e-10),h[1]===0&&(h[1]=1e-10),h[2]===0&&(h[2]=1e-10),xi(w,w,h)}for(let _=0;_<8;++_)Be(f,l[_],w),f[0]<e.bounds[0]&&(e.bounds[0]=f[0]),f[1]<e.bounds[2]&&(e.bounds[2]=f[1]),f[2]<e.bounds[4]&&(e.bounds[4]=f[2]),f[0]>e.bounds[1]&&(e.bounds[1]=f[0]),f[1]>e.bounds[3]&&(e.bounds[3]=f[1]),f[2]>e.bounds[5]&&(e.bounds[5]=f[2]);const T=new Float32Array(b,C*36,9);Lu(T,w),qs(T,T),fd(T,T)}const x=t.getAbstractScalars(n,e.scalarMode,e.arrayAccessMode,e.arrayId,e.colorByArrayName).scalars;e.useLookupTableScalarRange||t.getLookupTable().setRange(e.scalarRange[0],e.scalarRange[1]),e.colorArray=null;const S=t.getLookupTable();S&&x&&(S.build(),e.colorArray=S.mapScalars(x,e.colorMode,0)),e.buildTime.modified()}},t.getPrimitiveCount=()=>{const n=t.getInputData(1),r=t.getInputData().getPoints().getNumberOfValues()/3;return{points:r*n.getPoints().getNumberOfValues()/3,verts:r*(n.getVerts().getNumberOfValues()-n.getVerts().getNumberOfCells()),lines:r*(n.getLines().getNumberOfValues()-2*n.getLines().getNumberOfCells()),triangles:r*(n.getPolys().getNumberOfValues()-3*n.getLines().getNumberOfCells())}},t.setSourceConnection=n=>t.setInputConnection(n,1)}const pZ={orient:!0,orientationMode:ei.DIRECTION,orientationArray:null,scaling:!0,scaleFactor:1,scaleMode:yo.SCALE_BY_MAGNITUDE,scaleArray:null,matrixArray:null,normalArray:null,colorArray:null};function QS(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,pZ,n),Lo.extend(t,e,n),V.algo(t,e,2,0),e.buildTime={},V.obj(e.buildTime,{mtime:0}),e.boundsTime={},V.obj(e.boundsTime,{mtime:0}),V.setGet(t,e,["orient","orientationMode","orientationArray","scaleArray","scaleFactor","scaleMode","scaling"]),V.get(t,e,["colorArray","matrixArray","normalArray","buildTime"]),dZ(t,e)}const hZ=V.newInstance(QS,"vtkGlyph3DMapper");var eC=q({newInstance:hZ,extend:QS},ZS);const mZ={props:YS,setup(t){JS(t,eC.newInstance)},template:'<div class="vtk-glyph-representation"><slot></slot></div>'},gZ=[Array,Float32Array,Float64Array,Object],Wc=[Array,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Object],tC={props:{port:{type:Number,default:0},points:{type:gZ},verts:{type:Wc},lines:{type:Wc},polys:{type:Wc},strips:{type:Wc},connectivity:{type:String,default:"manual"}},setup(t){const e=re(()=>t.points&&t.points.length>196608?Uint32Array:Uint16Array),n=We("downstream"),r=We("representation"),o=bt.newInstance(),i=Io(()=>{if(t.connectivity!=="manual"){const d=t.points.length/3;switch(t.connectivity){case"points":{const p=new Uint32Array(d+1);p[0]=d;for(let h=0;h<d;h++)p[h+1]=h;o.getVerts().setData(p)}break;case"triangles":{const p=new Uint32Array(d+d/3);let h=0;for(let m=0;m<d;m+=3)p[h++]=3,p[h++]=m+0,p[h++]=m+1,p[h++]=m+2;o.getPolys().setData(p)}break;case"strips":{const p=new Uint32Array(d+1);p[0]=d;for(let h=0;h<d;h++)p[h+1]=h;o.getStrips().setData(p)}break}}o.modified(),r&&r.dataChanged()},1);function a(d,p,h,m){const y=HS(d,h);y&&(o[p]().setData(y,m||1),i())}const{points:s,verts:u,lines:l,polys:f,strips:c}=Go(t);xe(s,d=>a(d,"getPoints",Float64Array,3)),xe(u,d=>a(d,"getVerts",e.value)),xe(l,d=>a(d,"getLines",e.value)),xe(f,d=>a(d,"getPolys",e.value)),xe(c,d=>a(d,"getStrips",e.value)),xe(n,()=>{n.value&&n.value.setInputData(o,t.port)}),cn(()=>{a(t.points,"getPoints",Float64Array,3),a(t.verts,"getVerts",e.value),a(t.lines,"getLines",e.value),a(t.polys,"getPolys",e.value),a(t.strips,"getStrips",e.value),n.value&&n.value.setInputData(o,t.port)}),Ht(()=>{o.delete()}),Pt("dataset",o)},template:'<div class="vtk-polydata"><slot></slot></div>'},nC={setup(){const t=We("dataset");Pt("fields",t==null?void 0:t.getPointData())},template:'<div class="vtk-point-data"><slot></slot></div>'},vZ={props:{port:{type:Number,default:0},state:{type:Object}},components:{VtkPolydata:tC,VtkCellData:WS,VtkPointData:nC,VtkDataArray:$S},template:`
    <vtk-polydata v-if="state" v-bind="state.mesh">
      <vtk-point-data>
        <vtk-data-array
          v-if="state.field && state.field.location == 'PointData'"
          registration="setScalars"
          v-bind="state.field"
        />
        <vtk-data-array
          v-if="state.pointArrays"
          v-for="array, idx in state.pointArrays"
          :key="array.name"
          v-bind="array"
        />
      </vtk-point-data>
      <vtk-cell-data>
        <vtk-data-array
          v-if="state.field && state.field.location == 'CellData'"
          registration="setScalars"
          v-bind="state.field"
        />
        <vtk-data-array
          v-if="state.cellArrays"
          v-for="array, idx in state.cellArrays"
          :key="array.name"
          v-bind="array"
        />
      </vtk-cell-data>
    </vtk-polydata>
  `},yZ={props:{port:{type:Number,default:0},vtkClass:{type:String,default:""},url:{type:String},parseAsText:{type:String},parseAsArrayBuffer:{type:String},renderOnUpdate:{type:Boolean,default:!1},resetCameraOnUpdate:{type:Boolean,default:!1}},setup(t){const e=Ae(null),n=We("downstream"),r=We("representation"),o=We("view");function i(){e.value&&(r&&r.dataChanged(),t.resetCameraOnUpdate&&o.resetCamera(),t.renderOnUpdate&&o.render())}const{vtkClass:a,url:s,parseAsText:u,parseAsArrayBuffer:l}=Go(t);xe(a,f=>{let c=e.value;e.value=Tn({vtkClass:f}),n.setInputConnection(e.value.getOutputPort(),t.port),c&&c.delete()}),xe(s,f=>vt(this,null,function*(){yield e.value.setUrl(f),i()})),xe(u,f=>{e.value.parseAsText(f),i()}),xe(l,f=>{e.value.parseAsArrayBuffer(Da.toArrayBuffer(f)),i()}),cn(()=>vt(this,null,function*(){let f=!1;e.value=Tn({vtkClass:t.vtkClass}),n.value.setInputConnection(e.value.getOutputPort(),t.port),t.url&&(yield e.value.setUrl(t.url),f=!0),t.parseAsText&&(e.value.parseAsText(t.parseAsText),f=!0),t.parseAsArrayBuffer&&(e.value.parseAsArrayBuffer(Da.toArrayBuffer(t.parseAsArrayBuffer)),f=!0),f&&i()})),Ht(()=>{e.value&&(e.value.delete(),e.value=null)})}},{vtkErrorMacro:bZ}=V;function xZ(t,e){e.classHierarchy.push("vtkCanvasView");function n(){e._renderable&&(e.canvas.setAttribute("width",e.size[0]),e.canvas.setAttribute("height",e.size[1])),e.viewStream&&e.viewStream.setSize(e.size[0],e.size[1]),e.canvas.style.display=e.useOffScreen?"none":"block",e.el&&(e.el.style.cursor=e.cursorVisibility?e.cursor:"none")}t.onModified(n),t.setContainer=r=>{e.el&&e.el!==r&&(e.canvas.parentNode!==e.el&&bZ("Error: canvas parent node does not match container"),e.el.removeChild(e.canvas),e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)),e.el!==r&&(e.el=r,e.el&&e.el.appendChild(e.canvas),e.useBackgroundImage&&e.el.appendChild(e.bgImage),t.modified())},t.setBackgroundImage=r=>{e.bgImage.src=r.src},t.setUseBackgroundImage=r=>{e.useBackgroundImage=r,e.useBackgroundImage&&e.el&&!e.el.contains(e.bgImage)?e.el.appendChild(e.bgImage):!e.useBackgroundImage&&e.el&&e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)},t.setViewStream=r=>e.viewStream===r?!1:(e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.viewStream=r,e.viewStream&&(t.setUseBackgroundImage(!0),e.subscription=e.viewStream.onImageReady(o=>t.setBackgroundImage(o.image)),e.viewStream.setSize(e.size[0],e.size[1]),e.viewStream.invalidateCache(),e.viewStream.render(),t.modified()),!0),t.delete=V.chain(t.setViewStream,t.delete),e._renderable=t,e._renderers=[t],t.traverseAllPasses=()=>{},t.isInViewport=()=>!0,t.getInteractive=()=>!0}const SZ={canvas:null,size:[300,300],cursorVisibility:!0,cursor:"pointer",useOffScreen:!1,useBackgroundImage:!1};function rC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,SZ,n),e.canvas=document.createElement("canvas"),e.canvas.style.width="100%",e.bgImage=new Image,e.bgImage.style.position="absolute",e.bgImage.style.left="0",e.bgImage.style.top="0",e.bgImage.style.width="100%",e.bgImage.style.height="100%",e.bgImage.style.zIndex="-1",V.obj(t,e,n),V.get(t,e,["useBackgroundImage","_renderable"]),V.setGet(t,e,["canvas","cursor","useOffScreen","interactor"]),V.setGetArray(t,e,["size"],2),V.getArray(t,e,["_renderers"]),V.moveToProtected(t,e,["renderable","renderers"]),xZ(t,e)}const CZ=V.newInstance(rC,"vtkCanvasView");var wZ={newInstance:CZ,extend:rC};function TZ(t){return{subscribeToImageStream:e=>t.subscribe("viewport.image.push.subscription",e),unsubscribeToImageStream:e=>t.unsubscribe(e),registerView:e=>t.call("viewport.image.push.observer.add",[e]),unregisterView:e=>t.call("viewport.image.push.observer.remove",[e]),enableView:(e,n)=>t.call("viewport.image.push.enabled",[e,n]),render:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{size:[400,400],view:-1};return t.call("viewport.image.push",[e])},resetCamera:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;return t.call("viewport.camera.reset",[e])},invalidateCache:e=>t.call("viewport.image.push.invalidate.cache",[e]),setQuality:function(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return t.call("viewport.image.push.quality",[e,n,r])},setSize:function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:400,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:400;return t.call("viewport.image.push.original.size",[e,n,r])},setServerAnimationFPS:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30;return t.call("viewport.image.animation.fps.max",[e])},getServerAnimationFPS:()=>t.call("viewport.image.animation.fps.get",[]),startAnimation:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;return t.call("viewport.image.animation.start",[e])},stopAnimation:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1;return t.call("viewport.image.animation.stop",[e])},updateCamera:function(e,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return t.call("viewport.camera.update",[e!=null?e:-1,n,r,o,i])},updateCameraParameters:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t.call("viewport.camera.update.params",[e,n,r])}}}function _Z(t,e){e.classHierarchy.push("vtkViewStream"),e.imageDecodingPool=[new Image,new Image],e.eventPool=[],e.nextPoolImageIndex=0,e.urlToRevoke=[],e.activeURL=null,e.fps=[],e.lastTime=Date.now(),e.lastImageEvent=null;function n(i){const a=Number(this.dataset.id);t.invokeImageReady(e.eventPool[a])}function r(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:2;for(;e.imageDecodingPool.length<i;)e.imageDecodingPool.push(new Image);for(let a=0;a<e.imageDecodingPool.length;a++)e.imageDecodingPool[a].dataset.id=a,e.imageDecodingPool[a].onload=n}function o(i){e.eventPool[e.nextPoolImageIndex]=i,i.image=e.imageDecodingPool[e.nextPoolImageIndex++],e.nextPoolImageIndex%=e.imageDecodingPool.length,i.image.src=i.url}t.pushCamera=()=>{const i=e.camera.getReferenceByName("focalPoint"),a=e.camera.getReferenceByName("viewUp"),s=e.camera.getReferenceByName("position"),u=e.camera.getParallelProjection(),l=e.camera.getViewAngle(),f=e.camera.getParallelScale();let c=null;return e.useCameraParameters?c=e.protocol.updateCameraParameters(e.viewId,{focalPoint:i,viewUp:a,position:s,parallelProjection:u,viewAngle:l,parallelScale:f},!1):c=e.protocol.updateCamera(e.viewId,i,a,s,!1),e.isAnimating&&setTimeout(t.pushCamera,1e3/e.cameraUpdateRate),c},t.invalidateCache=()=>e.protocol.invalidateCache(e.viewId),t.render=()=>e.protocol.render({view:e.viewId,size:e.size}),t.resetCamera=()=>e.protocol.resetCamera(e.viewId),t.startAnimation=()=>e.protocol.startAnimation(e.viewId),t.stopAnimation=()=>e.protocol.stopAnimation(e.viewId),t.setSize=(i,a)=>{let s=!1;return(e.size[0]!==i||e.size[1]!==a)&&(e.size=[i,a],s=!0),s&&(t.modified(),e.protocol)?e.protocol.setSize(e.viewId,i,a):Promise.resolve(!1)},t.startInteraction=()=>{const i=[e.protocol.setQuality(e.viewId,e.interactiveQuality,e.interactiveRatio)];return e.camera&&(i.push(t.startAnimation()),e.isAnimating=!0,i.push(t.pushCamera())),Promise.all(i)},t.endInteraction=()=>{const i=[];return i.push(e.protocol.setQuality(e.viewId,e.stillQuality,e.stillRatio)),e.camera?(i.push(t.stopAnimation()),e.isAnimating=!1,i.push(t.pushCamera())):i.push(t.render()),Promise.all(i)},t.setViewId=i=>e.viewId===i||!e.protocol?!1:(e.viewId&&e.protocol.unregisterView(e.viewId),e.viewId=i,e.viewId&&e.protocol.registerView(e.viewId).then(a=>{let{viewId:s}=a;e.viewId=s}),!0),t.processMessage=i=>{if(i.id!=e.viewId)return;const a=new Blob([i.image],{type:e.mimeType});if(e.activeURL)for(e.urlToRevoke.push(e.activeURL),e.activeURL=null;e.urlToRevoke.length>60;){const l=e.urlToRevoke.shift();window.URL.revokeObjectURL(l)}e.activeURL=URL.createObjectURL(a);const s=Date.now(),u=Math.floor(1e4/(s-e.lastTime))/10;for(e.fps.push(u),e.lastTime=s,e.lastImageEvent={url:e.activeURL,fps:u,metadata:{size:i.size,id:i.id,memory:i.memsize,workTime:i.workTime}},e.decodeImage?o(e.lastImageEvent):t.invokeImageReady(e.lastImageEvent);e.fps.length>e.fpsWindowSize;)e.fps.shift()},t.delete=V.chain(()=>{for(e.unregisterViewStream(t),t.setViewId(null);e.urlToRevoke.length;)window.URL.revokeObjectURL(e.urlToRevoke.pop())},t.delete),r()}const AZ={cameraUpdateRate:30,decodeImage:!0,fpsWindowSize:250,interactiveQuality:80,interactiveRatio:1,isAnimating:!1,mimeType:"image/jpeg",size:[-1,-1],stillQuality:100,stillRatio:1,useCameraParameters:!1,viewId:null};function oC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,AZ,n),V.obj(t,e),V.event(t,e,"ImageReady"),V.get(t,e,["viewId","size","fps","lastImageEvent"]),V.setGet(t,e,["camera","cameraUpdateRate","decodeImage","fpsWindowSize","interactiveQuality","interactiveRatio","stillQuality","stillRatio","useCameraParameters"]),_Z(t,e),Object.assign(t,e.sharedAPI)}const EZ=V.newInstance(oC,"vtkViewStream");var DZ={newInstance:EZ,extend:oC};function IZ(t,e){e.classHierarchy.push("vtkImageStream");function n(r){const o=r[0];if(!(!o||!o.image))for(let i=0;i<e.viewStreams.length;i++)e.viewStreams[i].processMessage(o)}t.setServerAnimationFPS=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,o=!1;return e.serverAnimationFPS!==r&&(e.serverAnimationFPS=r,o=!0),e.protocol?(o&&t.modified(),e.protocol.setServerAnimationFPS(r)):Promise.resolve(!0)},t.connect=function(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TZ;e.connected||!r||!o||(e.protocol=o(r),e.protocol.subscribeToImageStream(n).promise.then(i=>{e.renderTopicSubscription=i,e.connected=!0}).catch(i=>{e.connected=!1,console.error(i)}))},t.disconnect=()=>{e.protocol&&e.connected&&e.renderTopicSubscription&&(e.protocol.unsubscribeToImageStream(e.renderTopicSubscription),e.renderTopicSubscription=null),e.connected=!1},t.registerViewStream=r=>{e.viewStreams.push(r)},t.unregisterViewStream=r=>{e.viewStreams=e.viewStreams.filter(o=>o!==r)},t.createViewStream=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-1",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[400,400];const{setServerAnimationFPS:i,getServerAnimationFPS:a,unregisterViewStream:s}=t,u=DZ.newInstance({protocol:e.protocol,unregisterViewStream:s,sharedAPI:{setServerAnimationFPS:i,getServerAnimationFPS:a}});return u.setViewId(r),u.setSize(o[0],o[1]),t.registerViewStream(u),u},t.delete=V.chain(()=>{for(;e.viewStreams.length;)e.viewStreams.pop().delete();t.disconnect()},t.delete)}const PZ={viewStreams:[],serverAnimationFPS:-1};function iC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,PZ,n),V.obj(t,e),V.get(t,e,["serverAnimationFPS","protocol"]),IZ(t,e)}const OZ=V.newInstance(iC,"vtkImageStream");var NZ={newInstance:OZ,extend:iC};const RZ={Unknown:0,LeftController:1,RightController:2},MZ={Unknown:0,Trigger:1,TrackPad:2,Grip:3,Thumbstick:4,A:5,B:6,ApplicationMenu:7},kZ={Unknown:0,TouchpadX:1,TouchpadY:2,ThumbstickX:3,ThumbstickY:4};var aC={Device:RZ,Input:MZ,Axis:kZ};const{Device:Hc,Input:Wi}=aC,{vtkWarningMacro:$c,vtkErrorMacro:Kc,normalizeWheel:LZ,vtkOnceErrorMacro:FZ}=V,$a={ctrlKey:!1,altKey:!1,shiftKey:!1},jp={"xr-standard":[Wi.Trigger,Wi.Grip,Wi.TrackPad,Wi.Thumbstick,Wi.A,Wi.B]},$g=["StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"];function hl(t){t.cancelable&&t.preventDefault()}function qc(t){const e=Object.create(null);return t.forEach(n=>{let{pointerId:r,position:o}=n;e[r]=o}),e}function BZ(t,e){e.classHierarchy.push("vtkRenderWindowInteractor");const n=q({},t),r=new Set,o=new Map;let i=1;t.start=()=>{!e.initialized&&(t.initialize(),!e.initialized)||t.startEventLoop()},t.setRenderWindow=m=>{Kc("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},t.setInteractorStyle=m=>{e.interactorStyle!==m&&(e.interactorStyle!=null&&e.interactorStyle.setInteractor(null),e.interactorStyle=m,e.interactorStyle!=null&&e.interactorStyle.getInteractor()!==t&&e.interactorStyle.setInteractor(t))},t.initialize=()=>{e.initialized=!0,t.enable(),t.render()},t.enable=()=>t.setEnabled(!0),t.disable=()=>t.setEnabled(!1),t.startEventLoop=()=>$c("empty event loop");function a(m,y){e._forcedRenderer||(e.currentRenderer=t.findPokedRenderer(m,y))}t.getCurrentRenderer=()=>(e.currentRenderer||a(0,0),e.currentRenderer);function s(m){const y=e._view.getCanvas(),b=y.getBoundingClientRect(),v=y.width/b.width,g=y.height/b.height,x={x:v*(m.clientX-b.left),y:g*(b.height-m.clientY+b.top),z:0};return(o.size<=1||!e.currentRenderer)&&a(x.x,x.y),x}const u=e._getScreenEventPositionFor||s;function l(m){return{controlKey:m.ctrlKey,altKey:m.altKey,shiftKey:m.shiftKey}}function f(m){const y=l(m);return q({key:m.key,keyCode:m.charCode},y)}function c(m){return m.pointerType||""}const d=()=>{if(e.container===null)return;const{container:m}=e;m.addEventListener("contextmenu",hl),m.addEventListener("wheel",t.handleWheel),m.addEventListener("DOMMouseScroll",t.handleWheel),m.addEventListener("pointerenter",t.handlePointerEnter),m.addEventListener("pointerleave",t.handlePointerLeave),m.addEventListener("pointermove",t.handlePointerMove,{passive:!1}),m.addEventListener("pointerdown",t.handlePointerDown,{passive:!1}),m.addEventListener("pointerup",t.handlePointerUp),m.addEventListener("pointercancel",t.handlePointerCancel),document.addEventListener("keypress",t.handleKeyPress),document.addEventListener("keydown",t.handleKeyDown),document.addEventListener("keyup",t.handleKeyUp),document.addEventListener("pointerlockchange",t.handlePointerLockChange),m.style.touchAction="none",m.style.userSelect="none",m.style.webkitTapHighlightColor="rgba(0,0,0,0)"};t.bindEvents=m=>{m!==null&&n.setContainer(m)&&d()};const p=()=>{clearTimeout(e.moveTimeoutID),clearTimeout(e.wheelTimeoutID),e.moveTimeoutID=0,e.wheelTimeoutID=0,i=1;const{container:m}=e;m&&(m.removeEventListener("contextmenu",hl),m.removeEventListener("wheel",t.handleWheel),m.removeEventListener("DOMMouseScroll",t.handleWheel),m.removeEventListener("pointerenter",t.handlePointerEnter),m.removeEventListener("pointerleave",t.handlePointerLeave),m.removeEventListener("pointermove",t.handlePointerMove,{passive:!1}),m.removeEventListener("pointerdown",t.handlePointerDown,{passive:!1}),m.removeEventListener("pointerup",t.handlePointerUp),m.removeEventListener("pointercancel",t.handlePointerCancel)),document.removeEventListener("keypress",t.handleKeyPress),document.removeEventListener("keydown",t.handleKeyDown),document.removeEventListener("keyup",t.handleKeyUp),document.removeEventListener("pointerlockchange",t.handlePointerLockChange),o.clear()};t.unbindEvents=()=>{p(),n.setContainer(null)},t.handleKeyPress=m=>{const y=f(m);t.keyPressEvent(y)},t.handleKeyDown=m=>{const y=f(m);t.keyDownEvent(y)},t.handleKeyUp=m=>{const y=f(m);t.keyUpEvent(y)},t.handlePointerEnter=m=>{const y=Oe(q({},l(m)),{position:u(m),deviceType:c(m)});t.pointerEnterEvent(y),y.deviceType==="mouse"&&t.mouseEnterEvent(y)},t.handlePointerLeave=m=>{const y=Oe(q({},l(m)),{position:u(m),deviceType:c(m)});t.pointerLeaveEvent(y),y.deviceType==="mouse"&&t.mouseLeaveEvent(y)},t.handlePointerDown=m=>{if(!(m.button>2||t.isPointerLocked()))switch(e.preventDefaultOnPointerDown&&hl(m),m.target.hasPointerCapture(m.pointerId)&&m.target.releasePointerCapture(m.pointerId),e.container.setPointerCapture(m.pointerId),o.has(m.pointerId)&&$c("[RenderWindowInteractor] duplicate pointerId detected"),o.set(m.pointerId,{pointerId:m.pointerId,position:u(m)}),m.pointerType){case"pen":case"touch":t.handleTouchStart(m);break;case"mouse":default:t.handleMouseDown(m);break}},t.handlePointerUp=m=>{if(o.has(m.pointerId))switch(e.preventDefaultOnPointerUp&&hl(m),o.delete(m.pointerId),e.container.releasePointerCapture(m.pointerId),m.pointerType){case"pen":case"touch":t.handleTouchEnd(m);break;case"mouse":default:t.handleMouseUp(m);break}},t.handlePointerCancel=m=>{if(o.has(m.pointerId))switch(o.delete(m.pointerId),m.pointerType){case"pen":case"touch":t.handleTouchEnd(m);break;case"mouse":default:t.handleMouseUp(m);break}},t.handlePointerMove=m=>{if(o.has(m.pointerId)){const y=o.get(m.pointerId);y.position=u(m)}switch(m.pointerType){case"pen":case"touch":t.handleTouchMove(m);break;case"mouse":default:t.handleMouseMove(m);break}},t.handleMouseDown=m=>{const y=Oe(q({},l(m)),{position:u(m),deviceType:c(m)});switch(m.button){case 0:t.leftButtonPressEvent(y);break;case 1:t.middleButtonPressEvent(y);break;case 2:t.rightButtonPressEvent(y);break;default:Kc(`Unknown mouse button pressed: ${m.button}`);break}},t.requestPointerLock=()=>{e.container&&e.container.requestPointerLock()},t.exitPointerLock=()=>{var m;return(m=document.exitPointerLock)==null?void 0:m.call(document)},t.isPointerLocked=()=>!!e.container&&document.pointerLockElement===e.container,t.handlePointerLockChange=()=>{t.isPointerLocked()?t.startPointerLockEvent():t.endPointerLockEvent()};function h(){e._view&&e.enabled&&e.enableRender&&(e.inRender=!0,e._view.traverseAllPasses(),e.inRender=!1),t.invokeRenderEvent()}t.requestAnimation=m=>{if(m===void 0){Kc("undefined requester, can not start animating");return}if(r.has(m)){$c("requester is already registered for animating");return}r.add(m),!e.animationRequest&&r.size===1&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.extendAnimation=m=>{const y=Date.now()+m;e._animationExtendedEnd=Math.max(e._animationExtendedEnd,y),!e.animationRequest&&r.size===0&&!e.xrAnimation&&(e._animationStartTime=Date.now(),e._animationFrameCount=0,e.animationRequest=requestAnimationFrame(t.handleAnimation),t.startAnimationEvent())},t.isAnimating=()=>e.xrAnimation||e.animationRequest!==null,t.cancelAnimation=function(m){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!r.has(m)){if(!y){const b=m&&m.getClassName?m.getClassName():m;$c(`${b} did not request an animation`)}return}r.delete(m),e.animationRequest&&r.size===0&&Date.now()>e._animationExtendedEnd&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.switchToXRAnimation=()=>{e.animationRequest&&(cancelAnimationFrame(e.animationRequest),e.animationRequest=null),e.xrAnimation=!0},t.returnFromXRAnimation=()=>{e.xrAnimation=!1,r.size!==0&&(e.recentAnimationFrameRate=10,e.animationRequest=requestAnimationFrame(t.handleAnimation))},t.updateXRGamepads=(m,y,b)=>{m.inputSources.forEach(v=>{const g=v.gripSpace==null?null:y.getPose(v.gripSpace,b),x=v.gamepad,S=v.handedness;if(x){x.index in e.lastGamepadValues||(e.lastGamepadValues[x.index]={left:{buttons:{}},right:{buttons:{}},none:{buttons:{}}});for(let C=0;C<x.buttons.length;++C)C in e.lastGamepadValues[x.index][S].buttons||(e.lastGamepadValues[x.index][S].buttons[C]=!1),e.lastGamepadValues[x.index][S].buttons[C]!==x.buttons[C].pressed&&g!=null&&(t.button3DEvent({gamepad:x,position:g.transform.position,orientation:g.transform.orientation,pressed:x.buttons[C].pressed,device:v.handedness==="left"?Hc.LeftController:Hc.RightController,input:jp[x.mapping]&&jp[x.mapping][C]?jp[x.mapping][C]:Wi.Trigger}),e.lastGamepadValues[x.index][S].buttons[C]=x.buttons[C].pressed),e.lastGamepadValues[x.index][S].buttons[C]&&g!=null&&t.move3DEvent({gamepad:x,position:g.transform.position,orientation:g.transform.orientation,device:v.handedness==="left"?Hc.LeftController:Hc.RightController})}})},t.handleMouseMove=m=>{const y=Oe(q({},l(m)),{position:u(m),deviceType:c(m)});e.moveTimeoutID===0?t.startMouseMoveEvent(y):(t.mouseMoveEvent(y),clearTimeout(e.moveTimeoutID)),e.moveTimeoutID=setTimeout(()=>{t.endMouseMoveEvent(),e.moveTimeoutID=0},200)},t.handleAnimation=()=>{const m=Date.now();e._animationFrameCount++,m-e._animationStartTime>1e3&&e._animationFrameCount>1&&(e.recentAnimationFrameRate=1e3*(e._animationFrameCount-1)/(m-e._animationStartTime),e.lastFrameTime=1/e.recentAnimationFrameRate,t.animationFrameRateUpdateEvent(),e._animationStartTime=m,e._animationFrameCount=1),t.animationEvent(),h(),r.size>0||Date.now()<e._animationExtendedEnd?e.animationRequest=requestAnimationFrame(t.handleAnimation):(cancelAnimationFrame(e.animationRequest),e.animationRequest=null,t.endAnimationEvent(),t.render())},t.handleWheel=m=>{hl(m);const y=Oe(q(q({},LZ(m)),l(m)),{position:u(m),deviceType:c(m)});e.wheelTimeoutID===0&&(Math.abs(y.spinY)>=.3?i=Math.abs(y.spinY):i=1),y.spinY/=i,e.wheelTimeoutID===0?(t.startMouseWheelEvent(y),t.mouseWheelEvent(y)):(t.mouseWheelEvent(y),clearTimeout(e.wheelTimeoutID)),e.mouseScrollDebounceByPass?(t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0):e.wheelTimeoutID=setTimeout(()=>{t.extendAnimation(600),t.endMouseWheelEvent(),e.wheelTimeoutID=0},200)},t.handleMouseUp=m=>{const y=Oe(q({},l(m)),{position:u(m),deviceType:c(m)});switch(m.button){case 0:t.leftButtonReleaseEvent(y);break;case 1:t.middleButtonReleaseEvent(y);break;case 2:t.rightButtonReleaseEvent(y);break;default:Kc(`Unknown mouse button released: ${m.button}`);break}},t.handleTouchStart=m=>{const y=[...o.values()];if(e.recognizeGestures&&y.length>1){const b=qc(o);if(y.length===2){const v=Oe(q({},l($a)),{position:y[0].position,deviceType:c(m)});t.leftButtonReleaseEvent(v)}t.recognizeGesture("TouchStart",b)}else if(y.length===1){const b=Oe(q({},l($a)),{position:u(m),deviceType:c(m)});t.leftButtonPressEvent(b)}},t.handleTouchMove=m=>{const y=[...o.values()];if(e.recognizeGestures&&y.length>1){const b=qc(o);t.recognizeGesture("TouchMove",b)}else if(y.length===1){const b=Oe(q({},l($a)),{position:y[0].position,deviceType:c(m)});t.mouseMoveEvent(b)}},t.handleTouchEnd=m=>{const y=[...o.values()];if(e.recognizeGestures)if(y.length===0){const b=Oe(q({},l($a)),{position:u(m),deviceType:c(m)});t.leftButtonReleaseEvent(b)}else if(y.length===1){const b=qc(o);t.recognizeGesture("TouchEnd",b);const v=Oe(q({},l($a)),{position:y[0].position,deviceType:c(m)});t.leftButtonPressEvent(v)}else{const b=qc(o);t.recognizeGesture("TouchMove",b)}else if(y.length===1){const b=Oe(q({},l($a)),{position:y[0].position,deviceType:c(m)});t.leftButtonReleaseEvent(b)}},t.setView=m=>{e._view!==m&&(e._view=m,e._view.getRenderable().setInteractor(t),t.modified())},t.getFirstRenderer=()=>{var m,y,b;return(b=(y=(m=e._view)==null?void 0:m.getRenderable())==null?void 0:y.getRenderersByReference())==null?void 0:b[0]},t.findPokedRenderer=function(){var m,y;let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e._view)return null;const g=(y=(m=e._view)==null?void 0:m.getRenderable())==null?void 0:y.getRenderers();if(!g||g.length===0)return null;g.sort((T,_)=>T.getLayer()-_.getLayer());let x=null,S=null,C=null,w=g.length;for(;w--;){const T=g[w];if(e._view.isInViewport(b,v,T)&&T.getInteractive()){C=T;break}x===null&&T.getInteractive()&&(x=T),S===null&&e._view.isInViewport(b,v,T)&&(S=T)}return C===null&&(C=x),C===null&&(C=S),C==null&&(C=g[0]),C},t.render=()=>{!t.isAnimating()&&!e.inRender&&h()},$g.forEach(m=>{const y=m.charAt(0).toLowerCase()+m.slice(1);t[`${y}Event`]=b=>{if(!e.enabled)return;if(!t.getCurrentRenderer()){FZ(`
          Can not forward events without a current renderer on the interactor.
        `);return}const v=q({type:m,pokedRenderer:e.currentRenderer,firstRenderer:t.getFirstRenderer()},b);t[`invoke${m}`](v)}}),t.recognizeGesture=(m,y)=>{if(Object.keys(y).length>2)return;if(e.startingEventPositions||(e.startingEventPositions={}),m==="TouchStart"){Object.keys(y).forEach(A=>{e.startingEventPositions[A]=y[A]}),e.currentGesture="Start";return}if(m==="TouchEnd"){e.currentGesture==="Pinch"&&(t.render(),t.endPinchEvent()),e.currentGesture==="Rotate"&&(t.render(),t.endRotateEvent()),e.currentGesture==="Pan"&&(t.render(),t.endPanEvent()),e.currentGesture="Start",e.startingEventPositions={};return}let b=0;const v=[],g=[];Object.keys(y).forEach(A=>{v[b]=y[A],g[b]=e.startingEventPositions[A],b++});const x=Math.sqrt((g[0].x-g[1].x)*(g[0].x-g[1].x)+(g[0].y-g[1].y)*(g[0].y-g[1].y)),S=Math.sqrt((v[0].x-v[1].x)*(v[0].x-v[1].x)+(v[0].y-v[1].y)*(v[0].y-v[1].y));let C=du(Math.atan2(g[1].y-g[0].y,g[1].x-g[0].x)),w=du(Math.atan2(v[1].y-v[0].y,v[1].x-v[0].x)),T=w-C;w=w+180>=360?w-180:w+180,C=C+180>=360?C-180:C+180,Math.abs(w-C)<Math.abs(T)&&(T=w-C);const _=[];if(_[0]=(v[0].x-g[0].x+v[1].x-g[1].x)/2,_[1]=(v[0].y-g[0].y+v[1].y-g[1].y)/2,m==="TouchMove")if(e.currentGesture==="Start"){let A=.01*Math.sqrt(e.container.clientWidth*e.container.clientWidth+e.container.clientHeight*e.container.clientHeight);A<15&&(A=15);const E=Math.abs(S-x),D=S*3.1415926*Math.abs(T)/360,O=Math.sqrt(_[0]*_[0]+_[1]*_[1]);if(E>A&&E>D&&E>O){e.currentGesture="Pinch";const P={scale:1,touches:y};t.startPinchEvent(P)}else if(D>A&&D>O){e.currentGesture="Rotate";const P={rotation:0,touches:y};t.startRotateEvent(P)}else if(O>A){e.currentGesture="Pan";const P={translation:[0,0],touches:y};t.startPanEvent(P)}}else{if(e.currentGesture==="Rotate"){const A={rotation:T,touches:y};t.rotateEvent(A)}if(e.currentGesture==="Pinch"){const A={scale:S/x,touches:y};t.pinchEvent(A)}if(e.currentGesture==="Pan"){const A={translation:_,touches:y};t.panEvent(A)}}},t.handleVisibilityChange=()=>{e._animationStartTime=Date.now(),e._animationFrameCount=0},t.setCurrentRenderer=m=>{e._forcedRenderer=!!m,e.currentRenderer=m},t.setContainer=m=>{p();const y=n.setContainer(m!=null?m:null);return y&&d(),y},t.delete=()=>{for(;r.size;)t.cancelAnimation(r.values().next().value);typeof document.hidden<"u"&&document.removeEventListener("visibilitychange",t.handleVisibilityChange),e.container&&t.setContainer(null),n.delete()},typeof document.hidden<"u"&&document.addEventListener("visibilitychange",t.handleVisibilityChange,!1)}const VZ={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,container:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,recentAnimationFrameRate:10,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},preventDefaultOnPointerDown:!1,preventDefaultOnPointerUp:!1,mouseScrollDebounceByPass:!1};function sC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,VZ,n),V.obj(t,e),e._animationExtendedEnd=0,V.event(t,e,"RenderEvent"),$g.forEach(r=>V.event(t,e,r)),V.get(t,e,["initialized","interactorStyle","lastFrameTime","recentAnimationFrameRate","_view"]),V.setGet(t,e,["container","lightFollowCamera","enabled","enableRender","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker","preventDefaultOnPointerDown","preventDefaultOnPointerUp","mouseScrollDebounceByPass"]),V.moveToProtected(t,e,["view"]),BZ(t,e)}const UZ=V.newInstance(sC,"vtkRenderWindowInteractor");var Id=q({newInstance:UZ,extend:sC,handledEvents:$g},aC);const{vtkErrorMacro:GZ,VOID:zZ}=V;function jZ(t,e,n,r){return t.getRenderWindow().getViews()[0].worldToDisplay(e,n,r,t)}function WZ(t,e,n,r){return t.getRenderWindow().getViews()[0].displayToWorld(e,n,r,t)}const HZ={computeWorldToDisplay:jZ,computeDisplayToWorld:WZ};function $Z(t,e){e.classHierarchy.push("vtkInteractorObserver");const n=q({},t);function r(){for(;e.subscribedEvents.length;)e.subscribedEvents.pop().unsubscribe()}function o(){Id.handledEvents.forEach(i=>{t[`handle${i}`]&&e.subscribedEvents.push(e._interactor[`on${i}`](a=>e.processEvents?t[`handle${i}`](a):zZ,e.priority))})}t.setInteractor=i=>{i!==e._interactor&&(r(),e._interactor=i,i&&e.enabled&&o(),t.modified())},t.setEnabled=i=>{i!==e.enabled&&(r(),i&&(e._interactor?o():GZ(`
          The interactor must be set before subscribing to events
        `)),e.enabled=i,t.modified())},t.computeDisplayToWorld=(i,a,s,u)=>i?e._interactor.getView().displayToWorld(a,s,u,i):null,t.computeWorldToDisplay=(i,a,s,u)=>i?e._interactor.getView().worldToDisplay(a,s,u,i):null,t.setPriority=i=>{n.setPriority(i)&&e._interactor&&(r(),o())}}const KZ={enabled:!0,priority:0,processEvents:!0,subscribedEvents:[]};function lC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,KZ,n),V.obj(t,e),V.event(t,e,"InteractionEvent"),V.event(t,e,"StartInteractionEvent"),V.event(t,e,"EndInteractionEvent"),V.get(t,e,["_interactor","enabled"]),V.setGet(t,e,["priority","processEvents"]),V.moveToProtected(t,e,["interactor"]),$Z(t,e)}const qZ=V.newInstance(lC,"vtkInteractorObserver");var XZ=q({newInstance:qZ,extend:lC},HZ);const YZ={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025};var uC={States:YZ};const{States:Qr}=uC,Wp={Rotate:Qr.IS_ROTATE,Pan:Qr.IS_PAN,Spin:Qr.IS_SPIN,Dolly:Qr.IS_DOLLY,CameraPose:Qr.IS_CAMERA_POSE,WindowLevel:Qr.IS_WINDOW_LEVEL,Slice:Qr.IS_SLICE};function JZ(t,e){e.classHierarchy.push("vtkInteractorStyle"),Object.keys(Wp).forEach(n=>{V.event(t,e,`Start${n}Event`),t[`start${n}`]=()=>{e.state===Qr.IS_NONE&&(e.state=Wp[n],e._interactor.requestAnimation(t),t.invokeStartInteractionEvent({type:"StartInteractionEvent"}),t[`invokeStart${n}Event`]({type:`Start${n}Event`}))},V.event(t,e,`End${n}Event`),t[`end${n}`]=()=>{e.state===Wp[n]&&(e.state=Qr.IS_NONE,e._interactor.cancelAnimation(t),t.invokeEndInteractionEvent({type:"EndInteractionEvent"}),t[`invokeEnd${n}Event`]({type:`End${n}Event`}),e._interactor.render())}}),t.handleKeyPress=n=>{const r=e._interactor;let o=null;switch(n.key){case"r":case"R":n.pokedRenderer.resetCamera(),r.render();break;case"w":case"W":o=n.pokedRenderer.getActors(),o.forEach(i=>{const a=i.getProperty();a.setRepresentationToWireframe&&a.setRepresentationToWireframe()}),r.render();break;case"s":case"S":o=n.pokedRenderer.getActors(),o.forEach(i=>{const a=i.getProperty();a.setRepresentationToSurface&&a.setRepresentationToSurface()}),r.render();break;case"v":case"V":o=n.pokedRenderer.getActors(),o.forEach(i=>{const a=i.getProperty();a.setRepresentationToPoints&&a.setRepresentationToPoints()}),r.render();break}}}const ZZ={state:Qr.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1};function cC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ZZ,n),XZ.extend(t,e,n),JZ(t,e)}const QZ=V.newInstance(cC,"vtkInteractorStyle");var Kg=q({newInstance:QZ,extend:cC},uC);const ml={type:"StartInteractionEvent"},Q3={type:"InteractionEvent"},gl={type:"EndInteractionEvent"};function eQ(t,e){e.classHierarchy.push("vtkInteractorStyleRemoteMouse");function n(r){const{buttonLeft:o,buttonMiddle:i,buttonRight:a}=e,s=r.shiftKey?1:0,u=r.controlKey?1:0,l=r.altKey?1:0,f=r.metaKey?1:0,c=o||i||a?"down":"up",[d,p]=e._interactor.getView().getSizeByReference();let{x:h,y:m}=r.position;return h/=d,m/=p,q({action:c,x:h,y:m,buttonLeft:o,buttonMiddle:i,buttonRight:a,shiftKey:s,altKey:l,ctrlKey:u,metaKey:f},e.remoteEventAddOn)}t.handleLeftButtonPress=r=>{e.previousPosition=r.position,e.buttonLeft=1,t.onButtonDown(1,r)},t.handleMiddleButtonPress=r=>{e.previousPosition=r.position,e.buttonMiddle=1,t.onButtonDown(2,r)},t.handleRightButtonPress=r=>{e.previousPosition=r.position,e.buttonRight=1,t.onButtonDown(3,r)},t.handleLeftButtonRelease=r=>{e.buttonLeft=0,t.onButtonUp(1,r)},t.handleMiddleButtonRelease=r=>{e.buttonMiddle=0,t.onButtonUp(2,r)},t.handleRightButtonRelease=r=>{e.buttonRight=0,t.onButtonUp(3,r)},t.onButtonDown=(r,o)=>{e._interactor.requestAnimation(t.onButtonDown),t.invokeStartInteractionEvent(ml),t.invokeRemoteMouseEvent(n(o))},t.onButtonUp=(r,o)=>{t.invokeRemoteMouseEvent(n(o)),t.invokeEndInteractionEvent(gl),e._interactor.cancelAnimation(t.onButtonDown)},t.handleStartMouseWheel=r=>{e._interactor.requestAnimation(t.handleStartMouseWheel),t.invokeStartInteractionEvent(ml),t.invokeRemoteWheelEvent(Oe(q({type:"StartMouseWheel"},n(r)),{spinY:r.spinY}))},t.handleMouseWheel=r=>{let o=!0;if(e.wheelThrottleDelay){const i=Date.now();o=e.wheelThrottleDelay<i-e.wheelLastThrottleTime,o&&(e.wheelLastThrottleTime=i)}o&&(t.invokeRemoteWheelEvent(Oe(q({type:"MouseWheel"},n(r)),{spinY:r.spinY})),t.invokeInteractionEvent(Q3))},t.handleEndMouseWheel=()=>{t.invokeRemoteWheelEvent(q({type:"EndMouseWheel"},e.remoteEventAddOn)),e._interactor.cancelAnimation(t.handleStartMouseWheel),t.invokeEndInteractionEvent(gl)},t.handleMouseMove=r=>{const o=Date.now();e.throttleDelay<o-e.lastThrottleTime&&(e.sendMouseMove||e.buttonLeft||e.buttonMiddle||e.buttonRight)&&(e.lastThrottleTime=o,t.invokeRemoteMouseEvent(n(r))),t.invokeInteractionEvent(Q3)},t.handleKeyPress=()=>{},t.handleStartPinch=r=>{t.startDolly();const{scale:o}=r;e._interactor.requestAnimation(t.handleStartPinch),t.invokeStartInteractionEvent(ml),t.invokeRemoteGestureEvent(q({type:"StartPinch",scale:o},e.remoteEventAddOn))},t.handlePinch=r=>{const{scale:o}=r;t.invokeRemoteGestureEvent(q({type:"Pinch",scale:o},e.remoteEventAddOn))},t.handleEndPinch=()=>{t.endDolly(),t.invokeRemoteGestureEvent(q({type:"EndPinch"},e.remoteEventAddOn)),e._interactor.cancelAnimation(t.handleStartPinch),t.invokeEndInteractionEvent(gl)},t.handleStartRotate=r=>{t.startRotate();const{rotation:o}=r;e._interactor.requestAnimation(t.handleStartRotate),t.invokeStartInteractionEvent(ml),t.invokeRemoteGestureEvent(q({type:"StartRotate",rotation:o},e.remoteEventAddOn))},t.handleRotate=r=>{const{rotation:o}=r;t.invokeRemoteGestureEvent(q({type:"Rotate",rotation:o},e.remoteEventAddOn))},t.handleEndRotate=()=>{t.endRotate(),t.invokeRemoteGestureEvent(q({type:"EndRotate"},e.remoteEventAddOn)),e._interactor.cancelAnimation(t.handleStartRotate),t.invokeEndInteractionEvent(gl)},t.handleStartPan=r=>{t.startPan();const{translation:o}=r;e._interactor.requestAnimation(t.handleStartPan),t.invokeStartInteractionEvent(ml),t.invokeRemoteGestureEvent(q({type:"StartPan",translation:o},e.remoteEventAddOn))},t.handlePan=r=>{const{translation:o}=r;t.invokeRemoteGestureEvent(q({type:"Pan",translation:o},e.remoteEventAddOn))},t.handleEndPan=()=>{t.endPan(),t.invokeRemoteGestureEvent(q({type:"EndPan"},e.remoteEventAddOn)),e._interactor.cancelAnimation(t.handleStartPan),t.invokeEndInteractionEvent(gl)}}const tQ={buttonLeft:0,buttonMiddle:0,buttonRight:0,sendMouseMove:!1,throttleDelay:33.3,lastThrottleTime:0,wheelThrottleDelay:0,wheelLastThrottleTime:0};function fC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,tQ,n),Kg.extend(t,e,n),V.setGet(t,e,["sendMouseMove","remoteEventAddOn","throttleDelay","wheelThrottleDelay"]),V.event(t,e,"RemoteMouseEvent"),V.event(t,e,"RemoteWheelEvent"),V.event(t,e,"RemoteGestureEvent"),eQ(t,e)}const nQ=V.newInstance(fC,"vtkInteractorStyleRemoteMouse");var rQ={newInstance:nQ,extend:fC};const Pd=NZ.newInstance(),oQ=Pd.connect,iQ=Pd.disconnect;function aQ(t,e){e.classHierarchy.push("vtkRemoteView"),e.canvasView=wZ.newInstance(),e.interactorStyle=rQ.newInstance(),e.interactor=Id.newInstance(),e.interactor.setView(e.canvasView),e.interactor.initialize(),e.interactor.setInteractorStyle(e.interactorStyle),e.interactorStyle.onRemoteMouseEvent(r=>{e.session&&e.rpcMouseEvent&&e.session.call(e.rpcMouseEvent,[r])}),e.interactorStyle.onRemoteWheelEvent(r=>{e.session&&e.rpcWheelEvent&&e.session.call(e.rpcWheelEvent,[r])}),e.interactorStyle.onRemoteGestureEvent(r=>{e.session&&e.rpcGestureEvent&&e.session.call(e.rpcGestureEvent,[r])}),t.delete=V.chain(()=>{e.session=null,e.canvasView&&(e.canvasView.setViewStream(null),e.canvasView.delete()),e.interactor&&e.interactor.delete(),e.viewStream&&e.viewStream.delete()},t.delete),t.setViewStream=r=>{e.viewStream=r,e.canvasView.setViewStream(e.viewStream),e.viewStream.setStillQuality(e.stillQuality),e.viewStream.setStillRatio(e.stillRatio),e.viewStream.setInteractiveQuality(e.interactiveQuality),e.viewStream.setInteractiveRatio(e.interactiveRatio),e.interactor.onStartAnimation(e.viewStream.startInteraction),e.interactor.onEndAnimation(e.viewStream.endInteraction),t.setViewId(r.getViewId())},t.setViewId=r=>{e.viewStream||t.setViewStream(Pd.createViewStream(r)),e.viewStream.setViewId(r),e.interactorStyle.setRemoteEventAddOn({view:r}),t.modified()},t.setContainer=r=>{e.container&&e.interactor.unbindEvents(r),e.container=r,e.canvasView.setContainer(e.container),r&&(e.interactor.bindEvents(r),t.resize())},t.resize=()=>{if(e.container&&e.canvasView){const{width:r,height:o}=e.container.getBoundingClientRect();e.canvasView.setSize(r,o),t.render()}},t.render=()=>{e.viewStream&&e.viewStream.render()},t.resetCamera=()=>{e.viewStream&&e.viewStream.resetCamera()};const n={modified:t.modified};V.set(n,e,["interactiveQuality","interactiveRatio","stillQuality","stillRatio"]),t.setInteractiveQuality=r=>{const o=n.setInteractiveQuality(r);return e.viewStream&&o&&e.viewStream.setInteractiveQuality(e.interactiveQuality),o},t.setInteractiveRatio=r=>{const o=n.setInteractiveRatio(r);return e.viewStream&&o&&e.viewStream.setInteractiveRatio(e.interactiveRatio),o},t.setStillQuality=r=>{const o=n.setStillQuality(r);return e.viewStream&&o&&e.viewStream.setStillQuality(e.stillQuality),o},t.setStillRatio=r=>{const o=n.setStillRatio(r);return e.viewStream&&o&&e.viewStream.setStillRatio(e.stillRatio),o},e.viewStream&&t.setViewStream(e.viewStream)}const sQ={viewId:"-1",interactiveQuality:60,interactiveRatio:1/window.devicePixelRatio,stillQuality:100,stillRatio:1,rpcMouseEvent:"viewport.mouse.interaction",rpcGestureEvent:null,rpcWheelEvent:null};function dC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,sQ,n),V.obj(t,e,n),V.get(t,e,["container","viewStream","canvasView","interactor","interactorStyle","interactiveQuality","interactiveRatio","stillQuality","stillRatio"]),V.setGet(t,e,["session","rpcMouseEvent","rpcGestureEvent","rpcWheelEvent"]),aQ(t,e)}const lQ=V.newInstance(dC,"vtkRemoteView");var uQ={newInstance:lQ,extend:dC,SHARED_IMAGE_STREAM:Pd,connectImageStream:oQ,disconnectImageStream:iQ};function cQ(t,e){e.classHierarchy.push("vtkCompositeMouseManipulator"),t.startInteraction=()=>{},t.endInteraction=()=>{},t.onButtonDown=(n,r,o)=>{},t.onButtonUp=n=>{},t.onMouseMove=(n,r,o)=>{},t.onStartScroll=(n,r,o)=>{},t.onScroll=(n,r,o)=>{},t.onEndScroll=n=>{},t.isDragEnabled=()=>e.dragEnabled,t.isScrollEnabled=()=>e.scrollEnabled}const fQ={button:1,shift:!1,control:!1,alt:!1,dragEnabled:!0,scrollEnabled:!1};function dQ(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,fQ,n),V.setGet(t,e,["button","shift","control","alt"]),V.set(t,e,["dragEnabled","scrollEnabled"]),cQ(t,e)}var Qs={extend:dQ};const pQ=[-2,-1,-2,-1],hQ={position:"absolute",zIndex:1,border:"2px solid #F44336",backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:"4px",boxSizing:"border-box"};function mQ(t,e){Object.keys(e).forEach(n=>{t.style[n]=e[n]})}function gQ(t,e){e.classHierarchy.push("vtkMouseBoxSelectionManipulator");let n=null,r=null,o=null,i=null,a=null,s=!1;function u(){return!o||!i?pQ:[Math.min(o.x,i.x),Math.max(o.x,i.x),Math.min(o.y,i.y),Math.max(o.y,i.y)]}function l(){if(!n||!r)return;const[f,c]=n.getSize(),{width:d,height:p}=r.getBoundingClientRect(),[h,m,y,b]=u();a.style.left=`${d*h/f}px`,a.style.top=`${p-p*b/c}px`,a.style.width=`${d*(m-h)/f}px`,a.style.height=`${p*(b-y)/c}px`}t.onButtonDown=(f,c,d)=>{o=d,e.renderSelection&&(n||(n=f.getView()),!r&&n!=null&&n.getContainer&&(r=n.getContainer()),r||(r=e.container),a||(a=document.createElement("div"),mQ(a,e.selectionStyle)),l(),r&&!s&&(s=!0,r.appendChild(a)))},t.onMouseMove=(f,c,d)=>{o&&d&&(i=d,t.invokeBoxSelectInput({view:n,container:r,selection:u()}),e.renderSelection&&l())},t.onButtonUp=(f,c)=>{!o||!i&&!e.boxChangeOnClick||(i||(i=o),t.invokeBoxSelectChange({view:n,container:r,selection:u()}),s&&(a.parentElement.removeChild(a),s=!1),n=null,r=null,o=null,i=null)}}function vQ(t){return Oe(q({boxChangeOnClick:!1,renderSelection:!0},t),{selectionStyle:q(q({},hQ),t.selectionStyle)})}function pC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vQ(n)),Yt(t,e),Qs.extend(t,e,n),Ms(t,e,"BoxSelectChange"),Ms(t,e,"BoxSelectInput"),en(t,e,["renderSelection","boxChangeOnClick","selectionStyle","container"]),gQ(t,e)}const yQ=Ct(pC,"vtkMouseBoxSelectionManipulator");var hC={newInstance:yQ,extend:pC};const{vtkDebugMacro:Hp}=V,{States:bQ}=Kg,vl={type:"StartInteractionEvent"},Yo={type:"InteractionEvent"},yl={type:"EndInteractionEvent"};function Em(t,e,n,r,o,i){const a=t.getActiveCamera();let s=a.getFocalPoint();s=e.getInteractorStyle().computeWorldToDisplay(t,s[0],s[1],s[2]);const u=s[2],l=e.getInteractorStyle().computeDisplayToWorld(t,n,r,u),f=e.getInteractorStyle().computeDisplayToWorld(t,o,i,u),c=[f[0]-l[0],f[1]-l[1],f[2]-l[2]];s=a.getFocalPoint();const d=a.getPosition();a.setFocalPoint(c[0]+s[0],c[1]+s[1],c[2]+s[2]),a.setPosition(c[0]+d[0],c[1]+d[1],c[2]+d[2])}function xQ(t,e,n,r){const o=n.getActiveCamera();if(o.getParallelProjection()){const i=r.getView(),a=i.getViewportSize(n),s=n.getViewport(),u=i.getSize(),l=a[0],f=a[1],c=l/2,d=f/2,p=e.x-s[0]*u[0],h=e.y-s[1]*u[1];Em(n,r,c,d,p,h),o.setParallelScale(o.getParallelScale()/t),Em(n,r,p,h,c,d)}else{let i=o.getFocalPoint();const a=o.getViewPlaneNormal();i=r.getInteractorStyle().computeWorldToDisplay(n,i[0],i[1],i[2]);const s=r.getInteractorStyle().computeDisplayToWorld(n,e.x,e.y,i[2]);o.setFocalPoint(s[0],s[1],s[2]),o.dolly(t),n.resetCameraClippingRange();const u=o.getPosition();i=o.getFocalPoint();const l=[0,0,0];let f=a[0]*(i[0]-u[0])+a[1]*(i[1]-u[1])+a[2]*(i[2]-u[2]);f/=_e(a[0],2)+_e(a[1],2)+_e(a[2],2),l[0]=u[0]+a[0]*f,l[1]=u[1]+a[1]*f,l[2]=u[2]+a[2]*f,o.setFocalPoint(l[0],l[1],l[2]),n.resetCameraClippingRange()}}function SQ(t,e,n){if(Number.isNaN(n))return;const r=e.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/n):(r.dolly(n),e.resetCameraClippingRange()),t.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}const CQ={dollyToPosition:xQ,translateCamera:Em,dollyByFactor:SQ};function wQ(t,e){e.classHierarchy.push("vtkInteractorStyleManipulator"),e.mouseManipulators=[],e.keyboardManipulators=[],e.vrManipulators=[],e.gestureManipulators=[],e.currentManipulator=null,e.currentWheelManipulator=null,e.centerOfRotation=[0,0,0],e.rotationFactor=1,t.removeAllManipulators=()=>{t.removeAllMouseManipulators(),t.removeAllKeyboardManipulators(),t.removeAllVRManipulators(),t.removeAllGestureManipulators()},t.removeAllMouseManipulators=()=>{e.mouseManipulators=[]},t.removeAllKeyboardManipulators=()=>{e.keyboardManipulators=[]},t.removeAllVRManipulators=()=>{e.vrManipulators=[]},t.removeAllGestureManipulators=()=>{e.gestureManipulators=[]};const n=(o,i)=>{const a=i.indexOf(o);return a===-1?!1:(i.splice(a,1),t.modified(),!0)};t.removeMouseManipulator=o=>n(o,e.mouseManipulators),t.removeKeyboardManipulator=o=>n(o,e.keyboardManipulators),t.removeVRManipulator=o=>n(o,e.vrManipulators),t.removeGestureManipulator=o=>n(o,e.gestureManipulators);const r=(o,i)=>i.indexOf(o)!==-1?!1:(i.push(o),t.modified(),!0);t.addMouseManipulator=o=>r(o,e.mouseManipulators),t.addKeyboardManipulator=o=>r(o,e.keyboardManipulators),t.addVRManipulator=o=>r(o,e.vrManipulators),t.addGestureManipulator=o=>r(o,e.gestureManipulators),t.getNumberOfMouseManipulators=()=>e.mouseManipulators.length,t.getNumberOfKeyboardManipulators=()=>e.keyboardManipulators.length,t.getNumberOfVRManipulators=()=>e.vrManipulators.length,t.getNumberOfGestureManipulators=()=>e.gestureManipulators.length,t.resetCurrentManipulator=()=>{e.currentManipulator=null,e.currentWheelManipulator=null},t.handleLeftButtonPress=o=>{e.previousPosition=o.position,t.onButtonDown(1,o)},t.handleMiddleButtonPress=o=>{e.previousPosition=o.position,t.onButtonDown(2,o)},t.handleRightButtonPress=o=>{e.previousPosition=o.position,t.onButtonDown(3,o)},t.handleButton3D=o=>{o&&(e.currentManipulator=t.findVRManipulator(o.device,o.input,o.pressed),e.currentManipulator?(e.currentManipulator.onButton3D(t,o.pokedRenderer,e.state,o.device,o.input,o.pressed),o.pressed?t.startCameraPose():t.endCameraPose()):Hp("No manipulator found"))},t.handleMove3D=o=>{e.currentManipulator&&e.state===bQ.IS_CAMERA_POSE&&e.currentManipulator.onMove3D(t,o.pokedRenderer,e.state,o)},t.onButtonDown=(o,i)=>{e.currentManipulator||(e.currentManipulator=t.findMouseManipulator(o,i.shiftKey,i.controlKey,i.altKey),e.currentManipulator?(e.currentManipulator.setCenter&&e.currentManipulator.setCenter(e.centerOfRotation),e.currentManipulator.setRotationFactor&&e.currentManipulator.setRotationFactor(e.rotationFactor),e.currentManipulator.startInteraction(),e.currentManipulator.onButtonDown(e._interactor,i.pokedRenderer,i.position),e._interactor.requestAnimation(t.onButtonDown),t.invokeStartInteractionEvent(vl)):Hp("No manipulator found"))},t.findMouseManipulator=(o,i,a,s)=>{let u=null,l=e.mouseManipulators.length;for(;l--;){const f=e.mouseManipulators[l];f&&f.getButton()===o&&f.getShift()===i&&f.getControl()===a&&f.getAlt()===s&&f.isDragEnabled()&&(u=f)}return u},t.findVRManipulator=(o,i)=>{let a=null,s=e.vrManipulators.length;for(;s--;){const u=e.vrManipulators[s];u&&u.getDevice()===o&&u.getInput()===i&&(a=u)}return a},t.handleLeftButtonRelease=()=>{t.onButtonUp(1)},t.handleMiddleButtonRelease=()=>{t.onButtonUp(2)},t.handleRightButtonRelease=()=>{t.onButtonUp(3)},t.onButtonUp=o=>{e.currentManipulator&&e.currentManipulator.getButton&&e.currentManipulator.getButton()===o&&(e.currentManipulator.onButtonUp(e._interactor),e.currentManipulator.endInteraction(),e.currentManipulator=null,e._interactor.cancelAnimation(t.onButtonDown),t.invokeEndInteractionEvent(yl))},t.handleStartMouseWheel=o=>{if(e.currentWheelManipulator)return;let i=null,a=e.mouseManipulators.length;for(;a--;){const s=e.mouseManipulators[a];s&&s.isScrollEnabled()&&s.getShift()===o.shiftKey&&s.getControl()===o.controlKey&&s.getAlt()===o.altKey&&(i=s)}i?(e.currentWheelManipulator=i,e.currentWheelManipulator.onStartScroll(e._interactor,o.pokedRenderer,o.spinY),e.currentWheelManipulator.startInteraction(),e._interactor.requestAnimation(t.handleStartMouseWheel),t.invokeStartInteractionEvent(vl)):Hp("No manipulator found")},t.handleEndMouseWheel=()=>{e.currentWheelManipulator&&e.currentWheelManipulator.onEndScroll&&(e.currentWheelManipulator.onEndScroll(e._interactor),e.currentWheelManipulator.endInteraction(),e.currentWheelManipulator=null,e._interactor.cancelAnimation(t.handleStartMouseWheel),t.invokeEndInteractionEvent(yl))},t.handleMouseWheel=o=>{e.currentWheelManipulator&&e.currentWheelManipulator.onScroll&&(e.currentWheelManipulator.onScroll(e._interactor,o.pokedRenderer,o.spinY,e.cachedMousePosition),t.invokeInteractionEvent(Yo))},t.handleMouseMove=o=>{e.cachedMousePosition=o.position,e.currentManipulator&&e.currentManipulator.onMouseMove&&(e.currentManipulator.onMouseMove(e._interactor,o.pokedRenderer,o.position),t.invokeInteractionEvent(Yo))},t.handleKeyPress=o=>{e.keyboardManipulators.filter(i=>i.onKeyPress).forEach(i=>{i.onKeyPress(e._interactor,o.pokedRenderer,o.key),t.invokeInteractionEvent(Yo)})},t.handleKeyDown=o=>{e.keyboardManipulators.filter(i=>i.onKeyDown).forEach(i=>{i.onKeyDown(e._interactor,o.pokedRenderer,o.key),t.invokeInteractionEvent(Yo)})},t.handleKeyUp=o=>{e.keyboardManipulators.filter(i=>i.onKeyUp).forEach(i=>{i.onKeyUp(e._interactor,o.pokedRenderer,o.key),t.invokeInteractionEvent(Yo)})},t.handleStartPinch=o=>{t.startDolly();let i=e.gestureManipulators.length;for(;i--;){const a=e.gestureManipulators[i];a&&a.isPinchEnabled()&&(a.onStartPinch(e._interactor,o.scale),a.startInteraction())}e._interactor.requestAnimation(t.handleStartPinch),t.invokeStartInteractionEvent(vl)},t.handleEndPinch=()=>{t.endDolly();let o=e.gestureManipulators.length;for(;o--;){const i=e.gestureManipulators[o];i&&i.isPinchEnabled()&&(i.onEndPinch(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPinch),t.invokeEndInteractionEvent(yl)},t.handleStartRotate=o=>{t.startRotate();let i=e.gestureManipulators.length;for(;i--;){const a=e.gestureManipulators[i];a&&a.isRotateEnabled()&&(a.onStartRotate(e._interactor,o.rotation),a.startInteraction())}e._interactor.requestAnimation(t.handleStartRotate),t.invokeStartInteractionEvent(vl)},t.handleEndRotate=()=>{t.endRotate();let o=e.gestureManipulators.length;for(;o--;){const i=e.gestureManipulators[o];i&&i.isRotateEnabled()&&(i.onEndRotate(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartRotate),t.invokeEndInteractionEvent(yl)},t.handleStartPan=o=>{t.startPan();let i=e.gestureManipulators.length;for(;i--;){const a=e.gestureManipulators[i];a&&a.isPanEnabled()&&(a.onStartPan(e._interactor,o.translation),a.startInteraction())}e._interactor.requestAnimation(t.handleStartPan),t.invokeStartInteractionEvent(vl)},t.handleEndPan=()=>{t.endPan();let o=e.gestureManipulators.length;for(;o--;){const i=e.gestureManipulators[o];i&&i.isPanEnabled()&&(i.onEndPan(e._interactor),i.endInteraction())}e._interactor.cancelAnimation(t.handleStartPan),t.invokeEndInteractionEvent(yl)},t.handlePinch=o=>{let i=e.gestureManipulators.length,a=0;for(;i--;){const s=e.gestureManipulators[i];s&&s.isPinchEnabled()&&(s.onPinch(e._interactor,o.pokedRenderer,o.scale),a++)}a&&t.invokeInteractionEvent(Yo)},t.handlePan=o=>{let i=e.gestureManipulators.length,a=0;for(;i--;){const s=e.gestureManipulators[i];s&&s.isPanEnabled()&&(s.onPan(e._interactor,o.pokedRenderer,o.translation),a++)}a&&t.invokeInteractionEvent(Yo)},t.handleRotate=o=>{let i=e.gestureManipulators.length,a=0;for(;i--;){const s=e.gestureManipulators[i];s&&s.isRotateEnabled()&&(s.onRotate(e._interactor,o.pokedRenderer,o.rotation),a++)}a&&t.invokeInteractionEvent(Yo)}}const TQ={cachedMousePosition:null,currentManipulator:null,currentWheelManipulator:null,centerOfRotation:[0,0,0],rotationFactor:1};function mC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,TQ,n),Kg.extend(t,e,n),V.setGet(t,e,["rotationFactor"]),V.get(t,e,["mouseManipulators","keyboardManipulators","vrManipulators","gestureManipulators"]),V.setGetArray(t,e,["centerOfRotation"],3),wQ(t,e)}const _Q=V.newInstance(mC,"vtkInteractorStyleManipulator");var Us=q({newInstance:_Q,extend:mC},CQ);const gC={props:{viewId:{type:String,default:"-1"},wsClient:{type:Object},interactiveRatio:{type:[Number,String]},interactiveQuality:{type:[Number,String]},stillRatio:{type:[Number,String]},stillQuality:{type:[Number,String]},enablePicking:{type:Boolean,default:!1},interactorEvents:{type:Array,default:()=>["EndAnimation"]},boxSelection:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},pickingModes:{type:Array,default:()=>[]}},emits:["onImageCapture","BoxSelection","select","hover","click","StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"],setup(t,{emit:e}){const n=Ae(!1),r=Ae(null),o=We("trame"),i=t.wsClient||(o==null?void 0:o.client);let a=null;if(!i)throw new Error("VtkRemoteView can not be created without a wsClient");const s=i.getImageStream().createViewStream(t.viewId);s.get("protocol").protocol.setQuality(t.viewId,5,.1);const u=uQ.newInstance({rpcWheelEvent:"viewport.mouse.zoom.wheel",viewStream:s});t.interactiveRatio&&u.setInteractiveRatio(Number(t.interactiveRatio)),t.interactiveQuality&&u.setInteractiveQuality(Number(t.interactiveQuality)),t.stillRatio&&u.setStillRatio(Number(t.stillRatio)),t.stillQuality&&u.setStillQuality(Number(t.stillQuality));const l=u.render,f=u.resetCamera,c=u.setInteractiveQuality,d=u.setInteractiveRatio,p=u.setStillQuality,h=u.setStillRatio,m=u.getInteractiveQuality,y=u.getInteractiveRatio,b=u.getStillQuality,v=u.getStillRatio,g=u.getInteractor(),x=[];t.interactorEvents.forEach(D=>{const O=`on${D}`;x.push(g[O](P=>e(D,P)))});const S=Us.newInstance({enabled:t.boxSelection}),C=hC.newInstance({button:1});S.addMouseManipulator(C),x.push(C.onBoxSelectChange(({container:D,selection:O})=>{if(D){const{width:P,height:k}=D.getBoundingClientRect(),U={selection:O,size:[P,k],mode:"remote"};e("BoxSelection",U),t.pickingModes.includes("select")&&e("select",Oe(q({},U),{action:"select"}))}})),S.setInteractor(g);function w(){const D=u.getCanvasView(),[O,P]=D.getSize();D.setSize(O+2,P+2),Gt(u.resize)}const T=()=>vt(this,null,function*(){const D=u.getCanvasView().get("bgImage").bgImage.src,O=yield(yield fetch(D)).blob();return e("onImageCapture",O),O});cn(()=>vt(this,null,function*(){const D=wn(r);u.getCanvasView().setUseBackgroundImage(0),u.setContainer(D),C.setContainer(D),C.setBoxChangeOnClick(t.enablePicking);const O=i.getConnection().getSession();u.setSession(O),u.setViewId(t.viewId),yield Gt();const{width:P,height:k}=D.getBoundingClientRect(),U=P<10||k<10?10:0;u.getCanvasView().setSize(Math.round(P+U),Math.round(k+U)),yield new Promise(H=>{const R=s.onImageReady(({image:B,metadata:M})=>{const[z,$]=M.size;if(z!==B.width||$!==B.height){s.render();return}const J=s.getStillRatio()*Math.round(U+P),Z=s.getStillRatio()*Math.round(U+k);z===J&&$===Z?(R.unsubscribe(),u.getCanvasView().setBackgroundImage(B),H()):s.render()});s.endInteraction()}),u.getCanvasView().setUseBackgroundImage(1),n.value=!0,window.ResizeObserver?(a=new ResizeObserver(u.resize),a.observe(D)):window.addEventListener("resize",u.resize)})),Ht(()=>{for(a?(a.disconnect(),a=null):window.removeEventListener("resize",u.resize);x.length;)x.pop().unsubscribe();S.setEnabled(!1),S.delete(),C.delete(),u.delete()}),xe(()=>t.viewId,D=>{n.value&&(u.setViewId(wn(D)),u.resize())}),xe(()=>t.visible,D=>{wn(D)&&w()}),xe(()=>t.enablePicking,D=>{u.getInteractorStyle().setSendMouseMove(D),C.setBoxChangeOnClick(D)}),xe(()=>t.interactiveRatio,D=>{u.setInteractiveRatio(D)}),xe(()=>t.interactiveQuality,D=>{u.setInteractiveQuality(D)}),xe(()=>t.stillRatio,D=>{u.setStillRatio(D)}),xe(()=>t.stillQuality,D=>{u.setStillQuality(D)}),xe(()=>[t.pickingModes.includes("select"),t.boxSelection],([D,O])=>{S.setEnabled(D||O),u.getInteractorStyle().setEnabled(!D||t.enablePicking)});function _(D){const O=r.value;if(!O)return;const P=O.getBoundingClientRect(),[k,U]=u.getCanvasView().getSize(),H=k/P.width,R=U/P.height;return{position:{x:H*(D.clientX-P.left),y:R*(P.height-D.clientY+P.top),z:0},size:[k,U],scale:[H,R]}}function A(D){t.pickingModes.includes("click")&&e("click",q({mode:"remote",action:"click"},_(D)))}function E(D){t.pickingModes.includes("hover")&&e("hover",q({mode:"remote",action:"hover"},_(D)))}return{connected:n,vtkContainer:r,onClick:A,onMouseMove:E,render:l,resetCamera:f,resize:w,setInteractiveQuality:c,setInteractiveRatio:d,setStillQuality:p,setStillRatio:h,getInteractiveQuality:m,getInteractiveRatio:y,getStillQuality:b,getStillRatio:v,captureImage:T}},template:`
    <div style="position:relative;width:100%;height:100%;z-index:0;" @click="onClick" @mousemove="onMouseMove">
      <div ref="vtkContainer" style="position:absolute;width:100%;height:100%;overflow:hidden;" />
      <slot style="display: none;"></slot>
    </div>
  `},AQ="WebGL",If=Object.create(null);function vC(t,e){If[t]=e}function EQ(){return Object.keys(If)}function yC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return If[t]&&If[t](e)}function DQ(t,e){e.classHierarchy.push("vtkRenderWindow"),t.addRenderer=n=>{t.hasRenderer(n)||(n.setRenderWindow(t),e.renderers.push(n),t.modified())},t.removeRenderer=n=>{e.renderers=e.renderers.filter(r=>r!==n),t.modified()},t.hasRenderer=n=>e.renderers.indexOf(n)!==-1,t.newAPISpecificView=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return yC(n||e.defaultViewAPI,r)},t.addView=n=>{t.hasView(n)||(n.setRenderable(t),e._views.push(n),t.modified())},t.removeView=n=>{e._views=e._views.filter(r=>r!==n),t.modified()},t.hasView=n=>e._views.indexOf(n)!==-1,t.preRender=()=>{e.renderers.forEach(n=>{n.isActiveCameraCreated()||n.resetCamera()})},t.render=()=>{t.preRender(),e.interactor?e.interactor.render():e._views.forEach(n=>n.traverseAllPasses())},t.getStatistics=()=>{const n={propCount:0,invisiblePropCount:0,gpuMemoryMB:0};return e._views.forEach(r=>{n.gpuMemoryMB+=r.getGraphicsMemoryInfo()/1e6}),e.renderers.forEach(r=>{const o=r.getViewProps(),i=e._views[0].getViewNodeFor(r);o.forEach(a=>{if(a.getVisibility()){n.propCount+=1;const s=a.getMapper&&a.getMapper();if(s&&s.getPrimitiveCount){const u=i.getViewNodeFor(s);if(u){n.gpuMemoryMB+=u.getAllocatedGPUMemoryInBytes()/1e6;const l=s.getPrimitiveCount();Object.keys(l).forEach(f=>{n[f]||(n[f]=0),n[f]+=l[f]})}}}else n.invisiblePropCount+=1})}),n.str=Object.keys(n).map(r=>`${r}: ${n[r]}`).join(`
`),n},t.captureImages=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return V.setImmediate(t.render),e._views.map(o=>o.captureNextImage?o.captureNextImage(n,r):void 0).filter(o=>!!o)}}const IQ={defaultViewAPI:AQ,renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1};function bC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,IQ,n),V.obj(t,e),V.setGet(t,e,["interactor","numberOfLayers","_views","defaultViewAPI"]),V.get(t,e,["neverRendered"]),V.getArray(t,e,["renderers"]),V.moveToProtected(t,e,["views"]),V.event(t,e,"completion"),DQ(t,e)}const PQ=V.newInstance(bC,"vtkRenderWindow");var qg={newInstance:PQ,extend:bC,registerViewConstructor:vC,listViewAPIs:EQ,newAPISpecificView:yC};const{vtkDebugMacro:Xc}=V;function OQ(t,e){e.classHierarchy.push("vtkCamera");const n=new Float64Array(3),r=new Float64Array([0,0,-1]),o=new Float64Array([0,1,0]),i=Le(new Float64Array(16)),a=Le(new Float64Array(16)),s=new Float64Array(3),u=new Float64Array(3),l=new Float64Array(3),f=Le(new Float64Array(16)),c=Le(new Float64Array(16)),d=new Float64Array(3),p=new Float64Array(3);function h(){e.viewPlaneNormal[0]=-e.directionOfProjection[0],e.viewPlaneNormal[1]=-e.directionOfProjection[1],e.viewPlaneNormal[2]=-e.directionOfProjection[2]}t.orthogonalizeViewUp=()=>{const m=t.getViewMatrix();e.viewUp[0]=m[4],e.viewUp[1]=m[5],e.viewUp[2]=m[6],t.modified()},t.setPosition=(m,y,b)=>{m===e.position[0]&&y===e.position[1]&&b===e.position[2]||(e.position[0]=m,e.position[1]=y,e.position[2]=b,t.computeDistance(),t.modified())},t.setFocalPoint=(m,y,b)=>{m===e.focalPoint[0]&&y===e.focalPoint[1]&&b===e.focalPoint[2]||(e.focalPoint[0]=m,e.focalPoint[1]=y,e.focalPoint[2]=b,t.computeDistance(),t.modified())},t.setDistance=m=>{if(e.distance===m)return;e.distance=m,e.distance<1e-20&&(e.distance=1e-20,Xc("Distance is set to minimum."));const y=e.directionOfProjection;e.focalPoint[0]=e.position[0]+y[0]*e.distance,e.focalPoint[1]=e.position[1]+y[1]*e.distance,e.focalPoint[2]=e.position[2]+y[2]*e.distance,t.modified()},t.computeDistance=()=>{const m=e.focalPoint[0]-e.position[0],y=e.focalPoint[1]-e.position[1],b=e.focalPoint[2]-e.position[2];if(e.distance=Math.sqrt(m*m+y*y+b*b),e.distance<1e-20){e.distance=1e-20,Xc("Distance is set to minimum.");const v=e.directionOfProjection;e.focalPoint[0]=e.position[0]+v[0]*e.distance,e.focalPoint[1]=e.position[1]+v[1]*e.distance,e.focalPoint[2]=e.position[2]+v[2]*e.distance}e.directionOfProjection[0]=m/e.distance,e.directionOfProjection[1]=y/e.distance,e.directionOfProjection[2]=b/e.distance,h()},t.dolly=m=>{if(m<=0)return;const y=e.distance/m;t.setPosition(e.focalPoint[0]-y*e.directionOfProjection[0],e.focalPoint[1]-y*e.directionOfProjection[1],e.focalPoint[2]-y*e.directionOfProjection[2])},t.roll=m=>{const y=e.position,b=e.focalPoint,v=e.viewUp,g=new Float64Array([v[0],v[1],v[2],0]);Le(f);const x=new Float64Array([b[0]-y[0],b[1]-y[1],b[2]-y[2]]);Cn(f,f,At(m),x),Sc(g,g,f),e.viewUp[0]=g[0],e.viewUp[1]=g[1],e.viewUp[2]=g[2],t.modified()},t.azimuth=m=>{const y=e.focalPoint;Le(c),Ot(c,c,y),Cn(c,c,At(m),e.viewUp),Ot(c,c,[-y[0],-y[1],-y[2]]),Be(d,e.position,c),t.setPosition(d[0],d[1],d[2])},t.yaw=m=>{const y=e.position;Le(c),Ot(c,c,y),Cn(c,c,At(m),e.viewUp),Ot(c,c,[-y[0],-y[1],-y[2]]),Be(p,e.focalPoint,c),t.setFocalPoint(p[0],p[1],p[2])},t.elevation=m=>{const y=e.focalPoint,b=t.getViewMatrix(),v=[-b[0],-b[1],-b[2]];Le(c),Ot(c,c,y),Cn(c,c,At(m),v),Ot(c,c,[-y[0],-y[1],-y[2]]),Be(d,e.position,c),t.setPosition(d[0],d[1],d[2])},t.pitch=m=>{const y=e.position,b=t.getViewMatrix(),v=[b[0],b[1],b[2]];Le(c),Ot(c,c,y),Cn(c,c,At(m),v),Ot(c,c,[-y[0],-y[1],-y[2]]),Be(p,e.focalPoint,c),t.setFocalPoint(...p)},t.zoom=m=>{m<=0||(e.parallelProjection?e.parallelScale/=m:e.viewAngle/=m,t.modified())},t.translate=(m,y,b)=>{const v=[m,y,b];pu(e.position,v,e.position),pu(e.focalPoint,v,e.focalPoint),t.computeDistance(),t.modified()},t.applyTransform=m=>{const y=[...e.viewUp,1],b=[],v=[],g=[];y[0]+=e.position[0],y[1]+=e.position[1],y[2]+=e.position[2],Sc(b,[...e.position,1],m),Sc(v,[...e.focalPoint,1],m),Sc(g,y,m),g[0]-=b[0],g[1]-=b[1],g[2]-=b[2],t.setPosition(...b.slice(0,3)),t.setFocalPoint(...v.slice(0,3)),t.setViewUp(...g.slice(0,3))},t.getThickness=()=>e.clippingRange[1]-e.clippingRange[0],t.setThickness=m=>{let y=m;y<1e-20&&(y=1e-20,Xc("Thickness is set to minimum.")),t.setClippingRange(e.clippingRange[0],e.clippingRange[0]+y)},t.setThicknessFromFocalPoint=m=>{let y=m;y<1e-20&&(y=1e-20,Xc("Thickness is set to minimum.")),t.setClippingRange(e.distance-y/2,e.distance+y/2)},t.setRoll=m=>{},t.getRoll=()=>{},t.setObliqueAngles=(m,y)=>{},t.getOrientation=()=>{},t.getOrientationWXYZ=()=>{},t.getFrustumPlanes=m=>{},t.getCameraLightTransformMatrix=m=>(gn(m,e.cameraLightTransform),m),t.computeCameraLightTransform=()=>{gn(i,t.getViewMatrix()),Jn(i,i),X1(a,[e.distance,e.distance,e.distance]),lt(i,i,a),Le(e.cameraLightTransform),Ot(e.cameraLightTransform,i,[0,0,-1])},t.deepCopy=m=>{},t.physicalOrientationToWorldDirection=m=>{const y=Ly(m[0],m[1],m[2],m[3]),b=wa(),v=Ly(0,0,1,0);return vL(b,y),ky(v,y,v),ky(v,v,b),[v[0],v[1],v[2]]},t.getPhysicalToWorldMatrix=m=>{t.getWorldToPhysicalMatrix(m),Jn(m,m)},t.getWorldToPhysicalMatrix=m=>{Le(m);const y=[3];Kt(e.physicalViewNorth,e.physicalViewUp,y),m[0]=y[0],m[1]=y[1],m[2]=y[2],m[4]=e.physicalViewUp[0],m[5]=e.physicalViewUp[1],m[6]=e.physicalViewUp[2],m[8]=-e.physicalViewNorth[0],m[9]=-e.physicalViewNorth[1],m[10]=-e.physicalViewNorth[2],pt(m,m),xt(s,1/e.physicalScale,1/e.physicalScale,1/e.physicalScale),xi(m,m,s),Ot(m,m,e.physicalTranslation)},t.computeViewParametersFromViewMatrix=m=>{Jn(i,m),Be(s,n,i),t.computeDistance();const y=e.distance;t.setPosition(s[0],s[1],s[2]),Be(u,r,i),ui(u,u,s),Gr(u,u),t.setDirectionOfProjection(u[0],u[1],u[2]),Be(l,o,i),ui(l,l,s),Gr(l,l),t.setViewUp(l[0],l[1],l[2]),t.setDistance(y)},t.computeViewParametersFromPhysicalMatrix=m=>{t.getWorldToPhysicalMatrix(i),lt(i,m,i),t.computeViewParametersFromViewMatrix(i)},t.setViewMatrix=m=>{e.viewMatrix=m,e.viewMatrix&&(gn(i,e.viewMatrix),t.computeViewParametersFromViewMatrix(i),pt(e.viewMatrix,e.viewMatrix))},t.getViewMatrix=()=>{if(e.viewMatrix)return e.viewMatrix;s8(i,e.position,e.focalPoint,e.viewUp),pt(i,i);const m=new Float64Array(16);return gn(m,i),m},t.setProjectionMatrix=m=>{e.projectionMatrix=m},t.getProjectionMatrix=(m,y,b)=>{const v=new Float64Array(16);if(Le(v),e.projectionMatrix){const S=1/e.physicalScale;return xt(s,S,S,S),gn(v,e.projectionMatrix),xi(v,v,s),pt(v,v),v}Le(i);const g=e.clippingRange[1]-e.clippingRange[0],x=[e.clippingRange[0]+(y+1)*g/2,e.clippingRange[0]+(b+1)*g/2];if(e.parallelProjection){const S=e.parallelScale*m,C=e.parallelScale,w=(e.windowCenter[0]-1)*S,T=(e.windowCenter[0]+1)*S,_=(e.windowCenter[1]-1)*C,A=(e.windowCenter[1]+1)*C;a8(i,w,T,_,A,x[0],x[1]),pt(i,i)}else{if(e.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");{const S=Math.tan(At(e.viewAngle)/2);let C,w;e.useHorizontalViewAngle===!0?(C=e.clippingRange[0]*S,w=e.clippingRange[0]*S/m):(C=e.clippingRange[0]*S*m,w=e.clippingRange[0]*S);const T=(e.windowCenter[0]-1)*C,_=(e.windowCenter[0]+1)*C,A=(e.windowCenter[1]-1)*w,E=(e.windowCenter[1]+1)*w,D=x[0],O=x[1];i[0]=2*D/(_-T),i[5]=2*D/(E-A),i[2]=(T+_)/(_-T),i[6]=(A+E)/(E-A),i[10]=-(D+O)/(O-D),i[14]=-1,i[11]=-2*D*O/(O-D),i[15]=0}}return gn(v,i),v},t.getCompositeProjectionMatrix=(m,y,b)=>{const v=t.getViewMatrix(),g=t.getProjectionMatrix(m,y,b);return lt(g,v,g),g},t.setDirectionOfProjection=(m,y,b)=>{if(e.directionOfProjection[0]===m&&e.directionOfProjection[1]===y&&e.directionOfProjection[2]===b)return;e.directionOfProjection[0]=m,e.directionOfProjection[1]=y,e.directionOfProjection[2]=b;const v=e.directionOfProjection;e.focalPoint[0]=e.position[0]+v[0]*e.distance,e.focalPoint[1]=e.position[1]+v[1]*e.distance,e.focalPoint[2]=e.position[2]+v[2]*e.distance,h()},t.setDeviceAngles=(m,y,b,v)=>{const g=[3];Kt(e.physicalViewNorth,e.physicalViewUp,g);const x=Le(new Float64Array(16));Cn(x,x,At(m),e.physicalViewUp),Cn(x,x,At(y),g),Cn(x,x,At(b),e.physicalViewNorth),Cn(x,x,At(-v),e.physicalViewUp);const S=new Float64Array([-e.physicalViewUp[0],-e.physicalViewUp[1],-e.physicalViewUp[2]]),C=new Float64Array(e.physicalViewNorth);Be(S,S,x),Be(C,C,x),t.setDirectionOfProjection(S[0],S[1],S[2]),t.setViewUp(C[0],C[1],C[2]),t.modified()},t.setOrientationWXYZ=(m,y,b,v)=>{const g=Le(new Float64Array(16));if(m!==0&&(y!==0||b!==0||v!==0)){const C=At(m),w=wa();J1(w,[y,b,v],C),Y1(g,w)}const x=new Float64Array(3);Be(x,[0,0,-1],g);const S=new Float64Array(3);Be(S,[0,1,0],g),t.setDirectionOfProjection(...x),t.setViewUp(...S),t.modified()},t.computeClippingRange=m=>{let y=null,b=null;y=e.viewPlaneNormal,b=e.position;const v=-y[0],g=-y[1],x=-y[2],S=-(v*b[0]+g*b[1]+x*b[2]),C=[v*m[0]+g*m[2]+x*m[4]+S,1e-18];for(let w=0;w<2;w++)for(let T=0;T<2;T++)for(let _=0;_<2;_++){const A=v*m[_]+g*m[2+T]+x*m[4+w]+S;C[0]=A<C[0]?A:C[0],C[1]=A>C[1]?A:C[1]}return C}}const NQ={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,cameraLightTransform:q1(),physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]};function xC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,NQ,n),V.obj(t,e),V.get(t,e,["distance"]),V.setGet(t,e,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),V.getArray(t,e,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),V.setGetArray(t,e,["clippingRange","windowCenter"],2),V.setGetArray(t,e,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),OQ(t,e)}const RQ=V.newInstance(xC,"vtkCamera");var Xg={newInstance:RQ,extend:xC};const MQ=["HeadLight","CameraLight","SceneLight"];function kQ(t,e){e.classHierarchy.push("vtkLight");const n=new Float64Array(3);t.getTransformedPosition=()=>(e.transformMatrix?Be(n,e.position,e.transformMatrix):xt(n,e.position[0],e.position[1],e.position[2]),n),t.getTransformedFocalPoint=()=>(e.transformMatrix?Be(n,e.focalPoint,e.transformMatrix):xt(n,e.focalPoint[0],e.focalPoint[1],e.focalPoint[2]),n),t.getDirection=()=>(e.directionMTime<e.mtime&&(My(e.direction,e.focalPoint,e.position),Ft(e.direction),e.directionMTime=e.mtime),e.direction),t.setDirection=r=>{const o=new Float64Array(3);My(o,e.position,r),e.focalPoint=o},t.setDirectionAngle=(r,o)=>{const i=At(r),a=At(o);t.setPosition(Math.cos(i)*Math.sin(a),Math.sin(i),Math.cos(i)*Math.cos(a)),t.setFocalPoint(0,0,0),t.setPositional(0)},t.setLightTypeToHeadLight=()=>{t.setLightType("HeadLight")},t.setLightTypeToCameraLight=()=>{t.setLightType("CameraLight")},t.setLightTypeToSceneLight=()=>{t.setTransformMatrix(null),t.setLightType("SceneLight")},t.lightTypeIsHeadLight=()=>e.lightType==="HeadLight",t.lightTypeIsSceneLight=()=>e.lightType==="SceneLight",t.lightTypeIsCameraLight=()=>e.lightType==="CameraLight"}const LQ={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,coneFalloff:5,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0};function SC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,LQ,n),V.obj(t,e),V.setGet(t,e,["intensity","switch","positional","exponent","coneAngle","coneFalloff","transformMatrix","lightType","shadowAttenuation","attenuationValues"]),V.setGetArray(t,e,["color","position","focalPoint","attenuationValues"],3),kQ(t,e)}const FQ=V.newInstance(SC,"vtkLight");var CC={newInstance:FQ,extend:SC,LIGHT_TYPES:MQ};const{vtkErrorMacro:w0}=V;function BQ(t){return()=>w0(`vtkViewport::${t} - NOT IMPLEMENTED`)}function VQ(t,e){e.classHierarchy.push("vtkViewport"),t.getViewProps=()=>e.props,t.hasViewProp=r=>e.props.includes(r),t.addViewProp=r=>{r&&!t.hasViewProp(r)&&e.props.push(r)},t.removeViewProp=r=>{const o=e.props.filter(i=>i!==r);e.props.length!==o.length&&(e.props=o)},t.removeAllViewProps=()=>{e.props=[]};function n(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.push(r);const i=r.getNestedProps();if(i&&i.length)for(let a=0;a<i.length;a++)n(i[a],o);return o}t.getViewPropsWithNestedProps=()=>{const r=[];for(let o=0;o<e.props.length;o++)n(e.props[o],r);return r},t.addActor2D=t.addViewProp,t.removeActor2D=r=>{t.removeViewProp(r)},t.getActors2D=()=>(e.actors2D=[],e.props.forEach(r=>{e.actors2D=e.actors2D.concat(r.getActors2D())}),e.actors2D),t.displayToView=()=>w0("call displayToView on your view instead"),t.viewToDisplay=()=>w0("callviewtodisplay on your view instead"),t.getSize=()=>w0("call getSize on your View instead"),t.normalizedDisplayToProjection=(r,o,i)=>{const a=t.normalizedDisplayToNormalizedViewport(r,o,i);return t.normalizedViewportToProjection(a[0],a[1],a[2])},t.normalizedDisplayToNormalizedViewport=(r,o,i)=>{const a=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[(r-e.viewport[0])/a[0],(o-e.viewport[1])/a[1],i]},t.normalizedViewportToProjection=(r,o,i)=>[r*2-1,o*2-1,i*2-1],t.projectionToNormalizedDisplay=(r,o,i)=>{const a=t.projectionToNormalizedViewport(r,o,i);return t.normalizedViewportToNormalizedDisplay(a[0],a[1],a[2])},t.normalizedViewportToNormalizedDisplay=(r,o,i)=>{const a=[e.viewport[2]-e.viewport[0],e.viewport[3]-e.viewport[1]];return[r*a[0]+e.viewport[0],o*a[1]+e.viewport[1],i]},t.projectionToNormalizedViewport=(r,o,i)=>[(r+1)*.5,(o+1)*.5,(i+1)*.5],t.PickPropFrom=BQ("PickPropFrom")}const UQ={background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]};function wC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,UQ,n),V.obj(t,e),V.event(t,e,"event"),V.setGetArray(t,e,["viewport"],4),V.setGetArray(t,e,["background","background2"],3),VQ(t,e)}const GQ=V.newInstance(wC,"vtkViewport");var zQ={newInstance:GQ,extend:wC};const{vtkDebugMacro:bl,vtkErrorMacro:ti,vtkWarningMacro:jQ}=Mn;function e5(t){return()=>ti(`vtkRenderer::${t} - NOT IMPLEMENTED`)}function WQ(t,e){e.classHierarchy.push("vtkRenderer");const n={type:"ComputeVisiblePropBoundsEvent",renderer:t},r={type:"ResetCameraClippingRangeEvent",renderer:t},o={type:"ResetCameraEvent",renderer:t};t.updateCamera=()=>(e.activeCamera||(bl("No cameras are on, creating one."),t.getActiveCameraAndResetIfCreated()),e.activeCamera.render(t),!0),t.updateLightsGeometryToFollowCamera=()=>{const i=t.getActiveCameraAndResetIfCreated();e.lights.forEach(a=>{a.lightTypeIsSceneLight()||(a.lightTypeIsHeadLight()?(a.setPositionFrom(i.getPositionByReference()),a.setFocalPointFrom(i.getFocalPointByReference()),a.modified(i.getMTime())):a.lightTypeIsCameraLight()?a.setTransformMatrix(i.getCameraLightTransformMatrix(q1())):ti("light has unknown light type",a.get()))})},t.updateLightGeometry=()=>e.lightFollowCamera?t.updateLightsGeometryToFollowCamera():!0,t.allocateTime=e5("allocateTime"),t.updateGeometry=e5("updateGeometry"),t.getVTKWindow=()=>e._renderWindow,t.setLayer=i=>{bl(t.getClassName(),t,"setting Layer to ",i),e.layer!==i&&(e.layer=i,t.modified()),t.setPreserveColorBuffer(!!i)},t.setActiveCamera=i=>e.activeCamera===i?!1:(e.activeCamera=i,t.modified(),t.invokeEvent({type:"ActiveCameraEvent",camera:i}),!0),t.makeCamera=()=>{const i=Xg.newInstance();return t.invokeEvent({type:"CreateCameraEvent",camera:i}),i},t.getActiveCamera=()=>(e.activeCamera||(e.activeCamera=t.makeCamera()),e.activeCamera),t.getActiveCameraAndResetIfCreated=()=>(e.activeCamera||(t.getActiveCamera(),t.resetCamera()),e.activeCamera),t.getActors=()=>(e.actors=[],e.props.forEach(i=>{e.actors=e.actors.concat(i.getActors())}),e.actors),t.addActor=t.addViewProp,t.removeActor=i=>{e.actors=e.actors.filter(a=>a!==i),t.removeViewProp(i),t.modified()},t.removeAllActors=()=>{t.getActors().forEach(i=>{t.removeViewProp(i)}),e.actors=[],t.modified()},t.getVolumes=()=>(e.volumes=[],e.props.forEach(i=>{e.volumes=e.volumes.concat(i.getVolumes())}),e.volumes),t.addVolume=t.addViewProp,t.removeVolume=i=>{e.volumes=e.volumes.filter(a=>a!==i),t.removeViewProp(i),t.modified()},t.removeAllVolumes=()=>{t.getVolumes().forEach(i=>{t.removeViewProp(i)}),e.volumes=[],t.modified()},t.hasLight=i=>e.lights.includes(i),t.addLight=i=>{i&&!t.hasLight(i)&&(e.lights.push(i),t.modified())},t.removeLight=i=>{e.lights=e.lights.filter(a=>a!==i),t.modified()},t.removeAllLights=()=>{e.lights=[],t.modified()},t.setLightCollection=i=>{e.lights=i,t.modified()},t.makeLight=CC.newInstance,t.createLight=()=>{e.automaticLightCreation&&(e._createdLight&&(t.removeLight(e._createdLight),e._createdLight.delete(),e._createdLight=null),e._createdLight=t.makeLight(),t.addLight(e._createdLight),e._createdLight.setLightTypeToHeadLight(),e._createdLight.setPosition(t.getActiveCamera().getPosition()),e._createdLight.setFocalPoint(t.getActiveCamera().getFocalPoint()))},t.normalizedDisplayToWorld=(i,a,s,u)=>{let l=t.normalizedDisplayToProjection(i,a,s);return l=t.projectionToView(l[0],l[1],l[2],u),t.viewToWorld(l[0],l[1],l[2])},t.worldToNormalizedDisplay=(i,a,s,u)=>{let l=t.worldToView(i,a,s);return l=t.viewToProjection(l[0],l[1],l[2],u),t.projectionToNormalizedDisplay(l[0],l[1],l[2])},t.viewToWorld=(i,a,s)=>{if(e.activeCamera===null)return ti("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];const u=e.activeCamera.getViewMatrix();Jn(u,u),pt(u,u);const l=new Float64Array([i,a,s]);return Be(l,l,u),l},t.projectionToView=(i,a,s,u)=>{if(e.activeCamera===null)return ti("ProjectionToView: no active camera, cannot compute projection to view, returning 0,0,0"),[0,0,0];const l=e.activeCamera.getProjectionMatrix(u,-1,1);Jn(l,l),pt(l,l);const f=new Float64Array([i,a,s]);return Be(f,f,l),f},t.worldToView=(i,a,s)=>{if(e.activeCamera===null)return ti("WorldToView: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];const u=e.activeCamera.getViewMatrix();pt(u,u);const l=new Float64Array([i,a,s]);return Be(l,l,u),l},t.viewToProjection=(i,a,s,u)=>{if(e.activeCamera===null)return ti("ViewToProjection: no active camera, cannot compute view to projection, returning 0,0,0"),[0,0,0];const l=e.activeCamera.getProjectionMatrix(u,-1,1);pt(l,l);const f=new Float64Array([i,a,s]);return Be(f,f,l),f},t.computeVisiblePropBounds=()=>{e.allBounds[0]=et.INIT_BOUNDS[0],e.allBounds[1]=et.INIT_BOUNDS[1],e.allBounds[2]=et.INIT_BOUNDS[2],e.allBounds[3]=et.INIT_BOUNDS[3],e.allBounds[4]=et.INIT_BOUNDS[4],e.allBounds[5]=et.INIT_BOUNDS[5];let i=!0;t.invokeEvent(n);for(let a=0;a<e.props.length;++a){const s=e.props[a];if(s.getVisibility()&&s.getUseBounds()){const u=s.getBounds();u&&x0(u)&&(i=!1,u[0]<e.allBounds[0]&&(e.allBounds[0]=u[0]),u[1]>e.allBounds[1]&&(e.allBounds[1]=u[1]),u[2]<e.allBounds[2]&&(e.allBounds[2]=u[2]),u[3]>e.allBounds[3]&&(e.allBounds[3]=u[3]),u[4]<e.allBounds[4]&&(e.allBounds[4]=u[4]),u[5]>e.allBounds[5]&&(e.allBounds[5]=u[5]))}}return i&&(Js(e.allBounds),bl("Can't compute bounds, no 3D props are visible")),e.allBounds},t.resetCamera=function(){const i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||t.computeVisiblePropBounds(),a=[0,0,0];if(!x0(i))return bl("Cannot reset camera!"),!1;let s=null;if(t.getActiveCamera())s=e.activeCamera.getViewPlaneNormal();else return ti("Trying to reset non-existent camera"),!1;e.activeCamera.setViewAngle(30),a[0]=(i[0]+i[1])/2,a[1]=(i[2]+i[3])/2,a[2]=(i[4]+i[5])/2;let u=i[1]-i[0],l=i[3]-i[2],f=i[5]-i[4];u*=u,l*=l,f*=f;let c=u+l+f;c=c===0?1:c,c=Math.sqrt(c)*.5;const d=At(e.activeCamera.getViewAngle()),p=c,h=c/Math.sin(d*.5),m=e.activeCamera.getViewUp();return Math.abs(Fe(m,s))>.999&&(jQ("Resetting view-up since view plane normal is parallel"),e.activeCamera.setViewUp(-m[2],m[0],m[1])),e.activeCamera.setFocalPoint(a[0],a[1],a[2]),e.activeCamera.setPosition(a[0]+h*s[0],a[1]+h*s[1],a[2]+h*s[2]),t.resetCameraClippingRange(i),e.activeCamera.setParallelScale(p),e.activeCamera.setPhysicalScale(c),e.activeCamera.setPhysicalTranslation(-a[0],-a[1],-a[2]),t.invokeEvent(o),!0},t.resetCameraClippingRange=function(){const i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:null)||t.computeVisiblePropBounds();if(!x0(i))return bl("Cannot reset camera clipping range!"),!1;if(t.getActiveCameraAndResetIfCreated(),!e.activeCamera)return ti("Trying to reset clipping range of non-existent camera"),!1;const a=e.activeCamera.computeClippingRange(i);let s=0;if(e.activeCamera.getParallelProjection())s=.2*e.activeCamera.getParallelScale();else{const u=At(e.activeCamera.getViewAngle());s=.2*Math.tan(u/2)*a[1]}return a[1]-a[0]<s&&(s=s-a[1]+a[0],a[1]+=s/2,a[0]-=s/2),a[0]<0&&(a[0]=0),a[0]=.99*a[0]-(a[1]-a[0])*e.clippingRangeExpansion,a[1]=1.01*a[1]+(a[1]-a[0])*e.clippingRangeExpansion,a[0]=a[0]>=a[1]?.01*a[1]:a[0],e.nearClippingPlaneTolerance||(e.nearClippingPlaneTolerance=.01),a[0]<e.nearClippingPlaneTolerance*a[1]&&(a[0]=e.nearClippingPlaneTolerance*a[1]),e.activeCamera.setClippingRange(a[0],a[1]),t.invokeEvent(r),!1},t.setRenderWindow=i=>{i!==e._renderWindow&&(e._vtkWindow=i,e._renderWindow=i)},t.visibleActorCount=()=>e.props.filter(i=>i.getVisibility()).length,t.visibleVolumeCount=t.visibleActorCount,t.getMTime=()=>{let i=e.mtime;const a=e.activeCamera?e.activeCamera.getMTime():0;a>i&&(i=a);const s=e._createdLight?e._createdLight.getMTime():0;return s>i&&(i=s),i},t.getTransparent=()=>!!e.preserveColorBuffer,t.isActiveCameraCreated=()=>!!e.activeCamera}const HQ={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:Ro(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!1,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,environmentTexture:null,environmentTextureDiffuseStrength:1,environmentTextureSpecularStrength:1,useEnvironmentTextureAsBackground:!1,pass:0};function TC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};for(Object.assign(e,HQ,n),zQ.extend(t,e,n),e.background||(e.background=[0,0,0,1]);e.background.length<3;)e.background.push(0);e.background.length===3&&e.background.push(1),mr(t,e,["_renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),en(t,e,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","environmentTexture","environmentTextureDiffuseStrength","environmentTextureSpecularStrength","useEnvironmentTextureAsBackground","useShadows","pass"]),Vu(t,e,["actors","volumes","lights"]),md(t,e,["background"],4,1),Uu(t,e,["renderWindow"]),WQ(t,e)}const $Q=Ct(TC,"vtkRenderer");var _C={newInstance:$Q,extend:TC};const{vtkErrorMacro:Yc}=V;function KQ(t,e){e.classHierarchy.push("vtkPiecewiseFunction"),t.getSize=()=>e.nodes.length,t.getType=()=>{let n,r=0,o=0;e.nodes.length>0&&(r=e.nodes[0].y);for(let i=1;i<e.nodes.length;i++){if(n=e.nodes[i].y,n!==r)if(n>r)switch(o){case 0:case 1:o=1;break;case 2:default:o=3;break}else switch(o){case 0:case 2:o=2;break;case 1:default:o=3;break}if(r=n,o===3)break}switch(o){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";case 3:default:return"Varied"}},t.getDataPointer=()=>{const n=e.nodes.length;if(e.function=null,n>0){e.function=[];for(let r=0;r<n;r++)e.function[2*r]=e.nodes[r].x,e.function[2*r+1]=e.nodes[r].y}return e.function},t.getFirstNonZeroValue=()=>{if(e.nodes.length===0)return 0;let n=1,r=0,o=0;for(;o<e.nodes.length;o++)if(e.nodes[o].y!==0){n=0;break}return n?r=Number.MAX_VALUE:o>0?r=e.nodes[o-1].x:e.clamping?r=-Number.MAX_VALUE:r=e.nodes[0].x,r},t.getNodeValue=(n,r)=>{const o=e.nodes.length;return n<0||n>=o?(Yc("Index out of range!"),-1):(r[0]=e.nodes[n].x,r[1]=e.nodes[n].y,r[2]=e.nodes[n].midpoint,r[3]=e.nodes[n].sharpness,1)},t.setNodeValue=(n,r)=>{const o=e.nodes.length;if(n<0||n>=o)return Yc("Index out of range!"),-1;const i=e.nodes[n].x;return e.nodes[n].x=r[0],e.nodes[n].y=r[1],e.nodes[n].midpoint=r[2],e.nodes[n].sharpness=r[3],i!==r[0]?t.sortAndUpdateRange():t.modified(),1},t.addPoint=(n,r)=>t.addPointLong(n,r,.5,0),t.addPointLong=(n,r,o,i)=>{if(o<0||o>1)return Yc("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return Yc("Sharpness outside range [0.0, 1.0]"),-1;e.allowDuplicateScalars||t.removePoint(n);const a={x:n,y:r,midpoint:o,sharpness:i};e.nodes.push(a),t.sortAndUpdateRange();let s;for(s=0;s<e.nodes.length&&e.nodes[s].x!==n;s++);return s<e.nodes.length?s:-1},t.setNodes=n=>{e.nodes!==n&&(e.nodes=n,t.sortAndUpdateRange())},t.sortAndUpdateRange=()=>{e.nodes.sort((n,r)=>n.x-r.x),t.updateRange()||t.modified()},t.updateRange=()=>{const n=e.range.slice(),r=e.nodes.length;return r?(e.range[0]=e.nodes[0].x,e.range[1]=e.nodes[r-1].x):(e.range[0]=0,e.range[1]=0),n[0]===e.range[0]&&n[1]===e.range[1]?!1:(t.modified(),!0)},t.removePoint=n=>{let r;for(r=0;r<e.nodes.length&&e.nodes[r].x!==n;r++);if(r>=e.nodes.length)return-1;const o=r;let i=!1;return e.nodes.splice(r,1),(r===0||r===e.nodes.length)&&(i=t.updateRange()),i||t.modified(),o},t.removeAllPoints=()=>{e.nodes=[],t.sortAndUpdateRange()},t.addSegment=(n,r,o,i)=>{t.sortAndUpdateRange();for(let a=0;a<e.nodes.length;)e.nodes[a].x>=n&&e.nodes[a].x<=o?e.nodes.splice(a,1):a++;t.addPoint(n,r,.5,0),t.addPoint(o,i,.5,0)},t.getValue=n=>{const r=[];return t.getTable(n,n,1,r),r[0]},t.adjustRange=n=>{if(n.length<2)return 0;const r=t.getRange();r[0]<n[0]?t.addPoint(n[0],t.getValue(n[0])):t.addPoint(n[0],t.getValue(r[0])),r[1]>n[1]?t.addPoint(n[1],t.getValue(n[1])):t.addPoint(n[1],t.getValue(r[1])),t.sortAndUpdateRange();for(let o=0;o<e.nodes.length;)e.nodes[o].x>=n[0]&&e.nodes[o].x<=n[1]?e.nodes.splice(o,1):++o;return t.sortAndUpdateRange(),1},t.estimateMinNumberOfSamples=(n,r)=>{const o=t.findMinimumXDistance();return Math.ceil((r-n)/o)},t.findMinimumXDistance=()=>{const n=e.nodes.length;if(n<2)return-1;let r=e.nodes[1].x-e.nodes[0].x;for(let o=0;o<n-1;o++){const i=e.nodes[o+1].x-e.nodes[o].x;i<r&&(r=i)}return r},t.getTable=function(n,r,o,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,s,u=0;const l=e.nodes.length;let f=0;l!==0&&(f=e.nodes[l-1].y);let c=0,d=0,p=0,h=0,m=0,y=0,b=0;for(s=0;s<o;s++){const v=a*s;for(o>1?c=n+s/(o-1)*(r-n):c=.5*(n+r);u<l&&c>e.nodes[u].x;)u++,u<l&&(d=e.nodes[u-1].x,p=e.nodes[u].x,h=e.nodes[u-1].y,m=e.nodes[u].y,y=e.nodes[u-1].midpoint,b=e.nodes[u-1].sharpness,y<1e-5&&(y=1e-5),y>.99999&&(y=.99999));if(u>=l)i[v]=e.clamping?f:0;else if(u===0)i[v]=e.clamping?e.nodes[0].y:0;else{let g=(c-d)/(p-d);if(g<y?g=.5*g/y:g=.5+.5*(g-y)/(1-y),b>.99)if(g<.5){i[v]=h;continue}else{i[v]=m;continue}if(b<.01){i[v]=(1-g)*h+g*m;continue}g<.5?g=.5*_e(g*2,1+10*b):g>.5&&(g=1-.5*_e((1-g)*2,1+10*b));const x=g*g,S=x*g,C=2*S-3*x+1,w=-2*S+3*x,T=S-2*x+g,_=S-x,A=m-h,E=(1-b)*A;i[v]=C*h+w*m+T*E+_*E;const D=h<m?h:m,O=h>m?h:m;i[v]=i[v]<D?D:i[v],i[v]=i[v]>O?O:i[v]}}}}const qQ={range:[0,0],clamping:!0,allowDuplicateScalars:!1};function AC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,qQ,n),V.obj(t,e),e.nodes=[],V.setGet(t,e,["allowDuplicateScalars","clamping"]),V.setArray(t,e,["range"],2),V.getArray(t,e,["range"]),KQ(t,e)}const XQ=V.newInstance(AC,"vtkPiecewiseFunction");var Pf={newInstance:XQ,extend:AC};const{InterpolationType:Nl,OpacityMode:YQ}=mS,{vtkErrorMacro:$p}=V,T0=4;function JQ(t,e){e.classHierarchy.push("vtkVolumeProperty"),t.getMTime=()=>{let n=e.mtime,r;for(let o=0;o<T0;o++)e.componentData[o].colorChannels===1?e.componentData[o].grayTransferFunction&&(r=e.componentData[o].grayTransferFunction.getMTime(),n=n>r?n:r):e.componentData[o].colorChannels===3&&e.componentData[o].rGBTransferFunction&&(r=e.componentData[o].rGBTransferFunction.getMTime(),n=n>r?n:r),e.componentData[o].scalarOpacity&&(r=e.componentData[o].scalarOpacity.getMTime(),n=n>r?n:r),e.componentData[o].gradientOpacity&&(e.componentData[o].disableGradientOpacity||(r=e.componentData[o].gradientOpacity.getMTime(),n=n>r?n:r));return n},t.getColorChannels=n=>n<0||n>3?($p("Bad index - must be between 0 and 3"),0):e.componentData[n].colorChannels,t.setGrayTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=!1;return e.componentData[n].grayTransferFunction!==r&&(e.componentData[n].grayTransferFunction=r,o=!0),e.componentData[n].colorChannels!==1&&(e.componentData[n].colorChannels=1,o=!0),o&&t.modified(),o},t.getGrayTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].grayTransferFunction===null&&(e.componentData[n].grayTransferFunction=Pf.newInstance(),e.componentData[n].grayTransferFunction.addPoint(0,0),e.componentData[n].grayTransferFunction.addPoint(1024,1),e.componentData[n].colorChannels!==1&&(e.componentData[n].colorChannels=1),t.modified()),e.componentData[n].grayTransferFunction},t.setRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=!1;return e.componentData[n].rGBTransferFunction!==r&&(e.componentData[n].rGBTransferFunction=r,o=!0),e.componentData[n].colorChannels!==3&&(e.componentData[n].colorChannels=3,o=!0),o&&t.modified(),o},t.getRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].rGBTransferFunction===null&&(e.componentData[n].rGBTransferFunction=Hg.newInstance(),e.componentData[n].rGBTransferFunction.addRGBPoint(0,0,0,0),e.componentData[n].rGBTransferFunction.addRGBPoint(1024,1,1,1),e.componentData[n].colorChannels!==3&&(e.componentData[n].colorChannels=3),t.modified()),e.componentData[n].rGBTransferFunction},t.setScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return e.componentData[n].scalarOpacity!==r?(e.componentData[n].scalarOpacity=r,t.modified(),!0):!1},t.getScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].scalarOpacity===null&&(e.componentData[n].scalarOpacity=Pf.newInstance(),e.componentData[n].scalarOpacity.addPoint(0,1),e.componentData[n].scalarOpacity.addPoint(1024,1),t.modified()),e.componentData[n].scalarOpacity},t.setComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n<0||n>=T0)return $p("Invalid index"),!1;const o=Math.min(1,Math.max(0,r));return e.componentData[n].componentWeight!==o?(e.componentData[n].componentWeight=o,t.modified(),!0):!1},t.getComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return n<0||n>=T0?($p("Invalid index"),0):e.componentData[n].componentWeight},t.setInterpolationTypeToNearest=()=>t.setInterpolationType(Nl.NEAREST),t.setInterpolationTypeToLinear=()=>t.setInterpolationType(Nl.LINEAR),t.setInterpolationTypeToFastLinear=()=>t.setInterpolationType(Nl.FAST_LINEAR),t.getInterpolationTypeAsString=()=>V.enumToString(Nl,e.interpolationType),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach(n=>{const r=V.capitalize(n);t[`set${r}`]=(o,i)=>e.componentData[o][`${n}`]!==i?(e.componentData[o][`${n}`]=i,t.modified(),!0):!1}),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity","opacityMode"].forEach(n=>{const r=V.capitalize(n);t[`get${r}`]=o=>e.componentData[o][`${n}`]})}const ZQ={independentComponents:!0,interpolationType:Nl.FAST_LINEAR,shade:!1,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:[1],labelOutlineOpacity:1};function EC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,ZQ,n),V.obj(t,e),!e.componentData){e.componentData=[];for(let r=0;r<T0;++r)e.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,opacityMode:YQ.FRACTIONAL,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}V.setGet(t,e,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineOpacity"]),V.setGetArray(t,e,["labelOutlineThickness"]),JQ(t,e)}const QQ=V.newInstance(EC,"vtkVolumeProperty");var DC=q({newInstance:QQ,extend:EC},mS);const{vtkDebugMacro:eee}=V;function tee(t,e){e.classHierarchy.push("vtkVolume"),t.getVolumes=()=>t,t.makeProperty=DC.newInstance,t.getProperty=()=>(e.property===null&&(e.property=t.makeProperty()),e.property),t.getBounds=()=>{if(e.mapper===null)return e.bounds;const n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;const r=o=>o[0].map((i,a)=>o.map(s=>s[a]));if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce((o,i)=>o&&i[0]===i[1],!0)||t.getMTime()>e.boundsMTime.getMTime()){eee("Recomputing bounds..."),e.mapperBounds=n.map(a=>a);const o=[];et.getCorners(n,o),t.computeMatrix();const i=new Float64Array(16);pt(i,e.matrix),o.forEach(a=>Be(a,a,i)),e.bounds[0]=e.bounds[2]=e.bounds[4]=Number.MAX_VALUE,e.bounds[1]=e.bounds[3]=e.bounds[5]=-Number.MAX_VALUE,e.bounds=e.bounds.map((a,s)=>s%2===0?o.reduce((u,l)=>u>l[s/2]?l[s/2]:u,a):o.reduce((u,l)=>u<l[(s-1)/2]?l[(s-1)/2]:u,a)),e.boundsMTime.modified()}return e.bounds},t.getMTime=()=>{let n=e.mtime;if(e.property!==null){const r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=()=>{let n=e.mtime;if(e.mapper!==null){let r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}return n}}const nee={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]};function IC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,nee,n),_g.extend(t,e,n),e.boundsMTime={},V.obj(e.boundsMTime),V.set(t,e,["property"]),V.setGet(t,e,["mapper"]),V.getArray(t,e,["bounds"],6),tee(t,e)}const ree=V.newInstance(IC,"vtkVolume");var oee={newInstance:ree,extend:IC};const{BlendMode:ni,FilterMode:Rl}=GH;function iee(t,e,n,r,o){let i=null;return o?(i=o,i.removeAllPoints()):i=Pf.newInstance(),i.addPointLong(-1024,0,1,1),i.addPoint(t,e),i.addPoint(n,r),i}const aee={createRadonTransferFunction:iee};function see(t,e){e.classHierarchy.push("vtkVolumeMapper");const n=q({},t);t.getBounds=()=>{const r=t.getInputData();return r?(e.static||t.update(),e.bounds=r.getBounds()):e.bounds=Ro(),e.bounds},t.update=()=>{t.getInputData()},t.setBlendModeToComposite=()=>{t.setBlendMode(ni.COMPOSITE_BLEND)},t.setBlendModeToMaximumIntensity=()=>{t.setBlendMode(ni.MAXIMUM_INTENSITY_BLEND)},t.setBlendModeToMinimumIntensity=()=>{t.setBlendMode(ni.MINIMUM_INTENSITY_BLEND)},t.setBlendModeToAverageIntensity=()=>{t.setBlendMode(ni.AVERAGE_INTENSITY_BLEND)},t.setBlendModeToAdditiveIntensity=()=>{t.setBlendMode(ni.ADDITIVE_INTENSITY_BLEND)},t.setBlendModeToRadonTransform=()=>{t.setBlendMode(ni.RADON_TRANSFORM_BLEND)},t.getBlendModeAsString=()=>V.enumToString(ni,e.blendMode),t.setAverageIPScalarRange=(r,o)=>{console.warn("setAverageIPScalarRange is deprecated use setIpScalarRange"),t.setIpScalarRange(r,o)},t.getFilterModeAsString=()=>V.enumToString(Rl,e.filterMode),t.setFilterModeToOff=()=>{t.setFilterMode(Rl.OFF)},t.setFilterModeToNormalized=()=>{t.setFilterMode(Rl.NORMALIZED)},t.setFilterModeToRaw=()=>{t.setFilterMode(Rl.RAW)},t.setGlobalIlluminationReach=r=>n.setGlobalIlluminationReach(Fr(r,0,1)),t.setVolumetricScatteringBlending=r=>n.setVolumetricScatteringBlending(Fr(r,0,1)),t.setVolumeShadowSamplingDistFactor=r=>n.setVolumeShadowSamplingDistFactor(r>=1?r:1),t.setAnisotropy=r=>n.setAnisotropy(Fr(r,-.99,.99)),t.setLAOKernelSize=r=>n.setLAOKernelSize(pg(Fr(r,1,32))),t.setLAOKernelRadius=r=>n.setLAOKernelRadius(r>=1?r:1)}const lee={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1e3,autoAdjustSampleDistances:!0,initialInteractionScale:1,interactionSampleDistanceFactor:1,blendMode:ni.COMPOSITE_BLEND,ipScalarRange:[-1e6,1e6],filterMode:Rl.OFF,preferSizeOverAccuracy:!1,computeNormalFromOpacity:!1,volumetricScatteringBlending:0,globalIlluminationReach:0,volumeShadowSamplingDistFactor:5,anisotropy:0,localAmbientOcclusion:!1,LAOKernelSize:15,LAOKernelRadius:7};function PC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,lee,n),Eg.extend(t,e,n),V.setGet(t,e,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","initialInteractionScale","interactionSampleDistanceFactor","blendMode","filterMode","preferSizeOverAccuracy","computeNormalFromOpacity","volumetricScatteringBlending","globalIlluminationReach","volumeShadowSamplingDistFactor","anisotropy","localAmbientOcclusion","LAOKernelSize","LAOKernelRadius"]),V.setGetArray(t,e,["ipScalarRange"],2),V.event(t,e,"lightingActivated"),see(t,e)}const uee=V.newInstance(PC,"vtkVolumeMapper");var cee=q({newInstance:uee,extend:PC},aee);const{InterpolationType:_0}=vH,{vtkErrorMacro:t5}=V,A0=4;function fee(t,e){e.classHierarchy.push("vtkImageProperty"),t.getMTime=()=>{let n=e.mtime,r;for(let o=0;o<A0;o++)e.componentData[o].rGBTransferFunction&&(r=e.componentData[o].rGBTransferFunction.getMTime(),n=n>r?n:r),e.componentData[o].piecewiseFunction&&(r=e.componentData[o].piecewiseFunction.getMTime(),n=n>r?n:r);return n},t.setRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=n,i=r;return Number.isInteger(n)||(i=n,o=0),e.componentData[o].rGBTransferFunction!==i?(e.componentData[o].rGBTransferFunction=i,t.modified(),!0):!1},t.getRGBTransferFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].rGBTransferFunction},t.setPiecewiseFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=n,i=r;return Number.isInteger(n)||(i=n,o=0),e.componentData[o].piecewiseFunction!==i?(e.componentData[o].piecewiseFunction=i,t.modified(),!0):!1},t.getPiecewiseFunction=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e.componentData[n].piecewiseFunction},t.setScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=n,i=r;return Number.isInteger(n)||(i=n,o=0),t.setPiecewiseFunction(o,i)},t.getScalarOpacity=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t.getPiecewiseFunction(n)},t.setComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n<0||n>=A0)return t5("Invalid index"),!1;const o=Math.min(1,Math.max(0,r));return e.componentData[n].componentWeight!==o?(e.componentData[n].componentWeight=o,t.modified(),!0):!1},t.getComponentWeight=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return n<0||n>=A0?(t5("Invalid index"),0):e.componentData[n].componentWeight},t.setInterpolationTypeToNearest=()=>t.setInterpolationType(_0.NEAREST),t.setInterpolationTypeToLinear=()=>t.setInterpolationType(_0.LINEAR),t.getInterpolationTypeAsString=()=>V.enumToString(_0,e.interpolationType)}const dee={independentComponents:!1,interpolationType:_0.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,useLookupTableScalarRange:!1,useLabelOutline:!1,labelOutlineThickness:[1],labelOutlineOpacity:1};function OC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Object.assign(e,dee,n),V.obj(t,e),!e.componentData){e.componentData=[];for(let r=0;r<A0;r++)e.componentData.push({rGBTransferFunction:null,piecewiseFunction:null,componentWeight:1})}V.setGet(t,e,["independentComponents","interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","useLookupTableScalarRange","useLabelOutline","labelOutlineOpacity"]),V.setGetArray(t,e,["labelOutlineThickness"]),fee(t,e)}const pee=V.newInstance(OC,"vtkImageProperty");var NC={newInstance:pee,extend:OC};const{vtkDebugMacro:hee}=V;function mee(t,e){e.classHierarchy.push("vtkImageSlice"),t.getActors=()=>t,t.getImages=()=>t,t.getIsOpaque=()=>{if(e.forceOpaque)return!0;if(e.forceTranslucent)return!1;e.property||t.getProperty();let n=e.property.getOpacity()>=1;return n=n&&(!e.mapper||e.mapper.getIsOpaque()),n},t.hasTranslucentPolygonalGeometry=()=>!1,t.makeProperty=NC.newInstance,t.getProperty=()=>(e.property===null&&(e.property=t.makeProperty()),e.property),t.getBounds=()=>{if(e.mapper===null)return e.bounds;const n=e.mapper.getBounds();if(!n||n.length!==6)return n;if(n[0]>n[1])return e.mapperBounds=n.concat(),e.bounds=[1,-1,1,-1,1,-1],e.boundsMTime.modified(),n;const r=o=>o[0].map((i,a)=>o.map(s=>s[a]));if(!e.mapperBounds||!r([n,e.mapperBounds]).reduce((o,i)=>o&&i[0]===i[1],!0)||t.getMTime()>e.boundsMTime.getMTime()){hee("Recomputing bounds..."),e.mapperBounds=n.map(i=>i),t.computeMatrix();const o=new Float64Array(16);pt(o,e.matrix),et.transformBounds(n,o,e.bounds),e.boundsMTime.modified()}return e.bounds},t.getBoundsForSlice=(n,r)=>{const o=e.mapper.getBoundsForSlice(n,r);if(!et.isValid(o))return o;t.computeMatrix();const i=new Float64Array(16);return pt(i,e.matrix),et.transformBounds(o,i)},t.getMinXBound=()=>t.getBounds()[0],t.getMaxXBound=()=>t.getBounds()[1],t.getMinYBound=()=>t.getBounds()[2],t.getMaxYBound=()=>t.getBounds()[3],t.getMinZBound=()=>t.getBounds()[4],t.getMaxZBound=()=>t.getBounds()[5],t.getMTime=()=>{let n=e.mtime;if(e.property!==null){const r=e.property.getMTime();n=r>n?r:n}return n},t.getRedrawMTime=()=>{let n=e.mtime;if(e.mapper!==null){let r=e.mapper.getMTime();n=r>n?r:n,e.mapper.getInput()!==null&&(e.mapper.getInputAlgorithm().update(),r=e.mapper.getInput().getMTime(),n=r>n?r:n)}if(e.property!==null){let r=e.property.getMTime();n=r>n?r:n,e.property.getRGBTransferFunction()!==null&&(r=e.property.getRGBTransferFunction().getMTime(),n=r>n?r:n)}return n},t.getSupportsSelection=()=>e.mapper?e.mapper.getSupportsSelection():!1}const gee={mapper:null,property:null,bounds:[...et.INIT_BOUNDS]};function RC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gee,n),_g.extend(t,e,n),e.boundsMTime={},V.obj(e.boundsMTime),V.set(t,e,["property"]),V.setGet(t,e,["mapper"]),V.getArray(t,e,["bounds"],6),mee(t,e)}const vee=V.newInstance(RC,"vtkImageSlice");var yee={newInstance:vee,extend:RC};function bee(t,e){e.classHierarchy.push("vtkAbstractImageMapper"),t.getIsOpaque=()=>!0,t.getCurrentImage=()=>null,t.getBoundsForSlice=()=>(V.vtkErrorMacro("vtkAbstractImageMapper.getBoundsForSlice - NOT IMPLEMENTED"),Ro())}const xee={slice:0,customDisplayExtent:[0,0,0,0,0,0],useCustomExtents:!1,backgroundColor:[0,0,0,1]};function See(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xee,n),i7.extend(t,e,n),V.setGet(t,e,["slice","useCustomExtents"]),V.setGetArray(t,e,["customDisplayExtent"],6),V.setGetArray(t,e,["backgroundColor"],4),bee(t,e)}var Cee={extend:See};function MC(t,e,n){const r=n.getCurrentImage(),o=r.getExtent(),i=[o[0],o[2],o[4]],{ijkMode:a}=n.getClosestIJKAxis();let s=n.isA("vtkImageArrayMapper")?n.getSubSlice():n.getSlice();a!==n.getSlicingMode()&&(s=n.getSliceAtPosition(s)),i[a]+=s;const u=[0,0,0];r.indexToWorld(i,u),i[a]+=1;const l=[0,0,0];r.indexToWorld(i,l),l[0]-=u[0],l[1]-=u[1],l[2]-=u[2],Gr(l,l);const f=Ci.intersectWithLine(t,e,u,l);if(f.intersection){const c=f.x,d=[0,0,0];return r.worldToIndex(c,d),{t:f.t,absoluteIJK:d}}return null}function wee(t,e,n){const r=MC(t,e,n);if(r){const o=n.getCurrentImage().getExtent(),i=[Math.round(r.absoluteIJK[0]),Math.round(r.absoluteIJK[1]),Math.round(r.absoluteIJK[2])];return i[0]<o[0]||i[0]>o[1]||i[1]<o[2]||i[1]>o[3]||i[2]<o[4]||i[2]>o[5]?null:{t:r.t,ijk:i}}return null}function Tee(t,e,n){const r=MC(t,e,n);if(r){const o=n.getCurrentImage().getExtent(),i=r.absoluteIJK,a=[Math.floor(i[0]),Math.floor(i[1]),Math.floor(i[2])];if(a[0]<o[0]||a[0]>o[1]-1||a[1]<o[2]||a[1]>o[3]-1||a[2]<o[4]||a[2]>(o[5]?o[5]-1:o[5]))return null;const s=[i[0]-a[0],i[1]-a[1],i[2]-a[2]];return{t:r.t,ijk:a,pCoords:s}}return null}const{staticOffsetAPI:_ee,otherStaticMethods:Aee}=wd,{SlicingMode:ot}=Bg;function Eee(t,e){e.classHierarchy.push("vtkImageMapper"),t.getSliceAtPosition=r=>{const o=t.getCurrentImage();let i;if(r.length===3)i=r;else if(Number.isFinite(r)){const f=o.getBounds();switch(e.slicingMode){case ot.X:i=[r,(f[3]+f[2])/2,(f[5]+f[4])/2];break;case ot.Y:i=[(f[1]+f[0])/2,r,(f[5]+f[4])/2];break;case ot.Z:i=[(f[1]+f[0])/2,(f[3]+f[2])/2,r];break}}const a=[0,0,0];o.worldToIndex(i,a);const s=o.getExtent(),{ijkMode:u}=t.getClosestIJKAxis();let l=0;switch(u){case ot.I:l=Fr(a[0],s[0],s[1]);break;case ot.J:l=Fr(a[1],s[2],s[3]);break;case ot.K:l=Fr(a[2],s[4],s[5]);break;default:return 0}return l},t.setSliceFromCamera=r=>{const o=r.getFocalPoint();switch(e.slicingMode){case ot.I:case ot.J:case ot.K:{const i=t.getSliceAtPosition(o);t.setSlice(i)}break;case ot.X:t.setSlice(o[0]);break;case ot.Y:t.setSlice(o[1]);break;case ot.Z:t.setSlice(o[2]);break}},t.setXSlice=r=>{t.setSlicingMode(ot.X),t.setSlice(r)},t.setYSlice=r=>{t.setSlicingMode(ot.Y),t.setSlice(r)},t.setZSlice=r=>{t.setSlicingMode(ot.Z),t.setSlice(r)},t.setISlice=r=>{t.setSlicingMode(ot.I),t.setSlice(r)},t.setJSlice=r=>{t.setSlicingMode(ot.J),t.setSlice(r)},t.setKSlice=r=>{t.setSlicingMode(ot.K),t.setSlice(r)},t.getSlicingModeNormal=()=>{const r=[0,0,0],o=t.getCurrentImage().getDirection();switch(e.slicingMode){case ot.X:r[0]=1;break;case ot.Y:r[1]=1;break;case ot.Z:r[2]=1;break;case ot.I:y0(o,[1,0,0],r);break;case ot.J:y0(o,[0,1,0],r);break;case ot.K:y0(o,[0,0,1],r);break}return r};function n(){let r;switch(e.slicingMode){case ot.X:r=0;break;case ot.Y:r=1;break;case ot.Z:r=2;break;default:e.closestIJKAxis={ijkMode:e.slicingMode,flip:!1};return}const o=t.getCurrentImage().getDirection(),i=yx(o);let a=0;for(;a<3&&i[r+3*a]===0;++a);const s=i[r+3*a]<0;e.closestIJKAxis={ijkMode:a,flip:s}}t.setSlicingMode=r=>{e.slicingMode!==r&&(e.slicingMode=r,t.getCurrentImage()&&n(),t.modified())},t.getClosestIJKAxis=()=>((e.closestIJKAxis===void 0||e.closestIJKAxis.ijkMode===ot.NONE)&&t.getCurrentImage()&&n(),e.closestIJKAxis),t.getBounds=()=>{const r=t.getCurrentImage();if(!r)return Ro();if(!e.useCustomExtents)return r.getBounds();const o=e.customDisplayExtent.slice(),{ijkMode:i}=t.getClosestIJKAxis();let a=e.slice;switch(i!==e.slicingMode&&(a=t.getSliceAtPosition(e.slice)),i){case ot.I:o[0]=a,o[1]=a;break;case ot.J:o[2]=a,o[3]=a;break;case ot.K:o[4]=a,o[5]=a;break}return r.extentToBounds(o)},t.getBoundsForSlice=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.slice,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const i=t.getCurrentImage();if(!i)return Ro();const a=i.getSpatialExtent(),{ijkMode:s}=t.getClosestIJKAxis();let u=r;switch(s!==e.slicingMode&&(u=t.getSliceAtPosition(r)),s){case ot.I:a[0]=u-o,a[1]=u+o;break;case ot.J:a[2]=u-o,a[3]=u+o;break;case ot.K:a[4]=u-o,a[5]=u+o;break}return i.extentToBounds(a)},t.intersectWithLineForPointPicking=(r,o)=>wee(r,o,t),t.intersectWithLineForCellPicking=(r,o)=>Tee(r,o,t),t.getCurrentImage=()=>t.getInputData()}const Dee={slicingMode:ot.NONE,closestIJKAxis:{ijkMode:ot.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1,preferSizeOverAccuracy:!1};function kC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Dee,n),Cee.extend(t,e,n),V.get(t,e,["slicingMode"]),V.setGet(t,e,["closestIJKAxis","renderToRectangle","sliceAtFocalPoint","preferSizeOverAccuracy"]),wd.implementCoincidentTopologyMethods(t,e),Eee(t,e)}const Iee=V.newInstance(kC,"vtkImageMapper");var Pee=q(q(q({newInstance:Iee,extend:kC},_ee),Aee),Bg);const{vtkErrorMacro:Oee}=V;function Nee(t,e){let n=0;return t.map((r,o)=>o===n?(n+=r+1,r):r+e)}function Jc(t,e,n,r){t.set(Nee(e,n),r)}function Ree(t,e){e.classHierarchy.push("vtkAppendPolyData"),t.requestData=(n,r)=>{const o=t.getNumberOfInputPorts();if(!o){Oee("No input specified.");return}if(o===1){r[0]=n[0];return}const i=bt.newInstance();let a=0,s=0,u=1,l=1,f=0,c=0,d=0,p=0,h=!0,m=!0,y=!0;for(let E=0;E<o;E++){const D=n[E];if(!D)continue;const O=D.getPoints().getNumberOfPoints();a+=O,f+=D.getVerts().getNumberOfValues(),c+=D.getLines().getNumberOfValues(),d+=D.getStrips().getNumberOfValues(),p+=D.getPolys().getNumberOfValues(),O&&(l&&(l=0,s=D.getPoints().getDataType()),u=D.getPoints().getDataType(),s=s>u?s:u);const P=D.getPointData();P?(h=h&&P.getNormals()!==null,m=m&&P.getTCoords()!==null,y=y&&P.getScalars()!==null):(h=!1,m=!1,y=!1)}e.outputPointsPrecision===Aa.SINGLE?s=Ye.FLOAT:e.outputPointsPrecision===Aa.DOUBLE&&(s=Ye.DOUBLE);const b=Fo.newInstance({dataType:s});b.setNumberOfPoints(a);const v=b.getData(),g=new Uint32Array(f),x=new Uint32Array(c),S=new Uint32Array(d),C=new Uint32Array(p);let w=null,T=null,_=null;const A=n[o-1];if(h){const E=A.getPointData().getNormals();w=Ce.newInstance({numberOfComponents:3,numberOfTuples:a,size:3*a,dataType:E.getDataType(),name:E.getName()})}if(m){const E=A.getPointData().getTCoords();T=Ce.newInstance({numberOfComponents:2,numberOfTuples:a,size:2*a,dataType:E.getDataType(),name:E.getName()})}if(y){const E=A.getPointData().getScalars();_=Ce.newInstance({numberOfComponents:E.getNumberOfComponents(),numberOfTuples:a,size:a*E.getNumberOfComponents(),dataType:E.getDataType(),name:E.getName()})}a=0,f=0,c=0,d=0,p=0;for(let E=0;E<o;E++){const D=n[E];v.set(D.getPoints().getData(),a*3),Jc(g,D.getVerts().getData(),a,f),f+=D.getVerts().getNumberOfValues(),Jc(x,D.getLines().getData(),a,c),c+=D.getLines().getNumberOfValues(),Jc(S,D.getStrips().getData(),a,d),d+=D.getStrips().getNumberOfValues(),Jc(C,D.getPolys().getData(),a,p),p+=D.getPolys().getNumberOfValues();const O=D.getPointData();if(h){const P=O.getNormals();w.getData().set(P.getData(),a*3)}if(m){const P=O.getTCoords();T.getData().set(P.getData(),a*2)}if(y){const P=O.getScalars();_.getData().set(P.getData(),a*_.getNumberOfComponents())}a+=D.getPoints().getNumberOfPoints()}i.setPoints(b),i.getVerts().setData(g),i.getLines().setData(x),i.getStrips().setData(S),i.getPolys().setData(C),w&&i.getPointData().setNormals(w),T&&i.getPointData().setTCoords(T),_&&i.getPointData().setScalars(_),r[0]=i}}const Mee={outputPointsPrecision:Aa.DEFAULT};function LC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Mee,n),V.setGet(t,e,["outputPointsPrecision"]),V.obj(t,e),V.algo(t,e,1,1),Ree(t,e)}const kee=V.newInstance(LC,"vtkAppendPolyData");var FC={newInstance:kee,extend:LC};function Lee(t,e){e.classHierarchy.push("vtkArrowSource");function n(r,o){if(e.deleted)return;const i=qK.newInstance({capping:!0});i.setResolution(e.shaftResolution),i.setRadius(e.shaftRadius),i.setHeight(1-e.tipLength),i.setCenter(0,(1-e.tipLength)*.5,0);const a=i.getOutputData(),s=a.getPoints().getData(),u=a.getPointData().getNormals().getData();In.buildFromDegree().rotateZ(-90).apply(s).apply(u);const l=WK.newInstance();l.setResolution(e.tipResolution),l.setHeight(e.tipLength),l.setRadius(e.tipRadius);const f=l.getOutputData(),c=f.getPoints().getData();In.buildFromRadian().translate(1-e.tipLength*.5,0,0).apply(c);const d=FC.newInstance();d.setInputData(a),d.addInputData(f);const p=d.getOutputData(),h=p.getPoints().getData();In.buildFromRadian().translate(-.5+e.tipLength*.5,0,0).apply(h),e.invert?(In.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(-1,-1,-1).apply(h),o[0]=p):(In.buildFromRadian().rotateFromDirections([1,0,0],e.direction).scale(1,1,1).apply(h),o[0]=d.getOutputData())}t.requestData=n}const Fee={tipResolution:6,tipRadius:.1,tipLength:.35,shaftResolution:6,shaftRadius:.03,invert:!1,direction:[1,0,0],pointType:"Float64Array"};function BC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Fee,n),V.obj(t,e),V.setGet(t,e,["tipResolution","tipRadius","tipLength","shaftResolution","shaftRadius","invert"]),V.setGetArray(t,e,["direction"],3),V.algo(t,e,0,1),Lee(t,e)}const Bee=V.newInstance(BC,"vtkArrowSource");var Kp={newInstance:Bee,extend:BC};function qp(t){const e=t.getPoints().getBounds(),n=[-(e[0]+e[1])*.5,-(e[2]+e[3])*.5,-(e[4]+e[5])*.5];In.buildFromDegree().translate(...n).apply(t.getPoints().getData())}function Xp(t,e){const n=t.getPoints().getBounds(),r=[0,0,0];r[e]=-n[e*2],In.buildFromDegree().translate(...r).apply(t.getPoints().getData())}function Yp(t,e,n,r){const o=t.getPoints().getData().length,i=new Uint8Array(o);let a=0;for(;a<o;)i[a++]=e,i[a++]=n,i[a++]=r;t.getPointData().setScalars(Ce.newInstance({name:"color",numberOfComponents:3,values:i}))}function Vee(t,e){e.classHierarchy.push("vtkAxesActor");const n=Lo.newInstance();t.setMapper(n),t.update=()=>{const u=Kp.newInstance(q({direction:[1,0,0]},e.config)).getOutputData();e.config.recenter?qp(u):Xp(u,0),Yp(u,...e.xAxisColor);const l=Kp.newInstance(q({direction:[0,1,0]},e.config)).getOutputData();e.config.recenter?qp(l):Xp(l,1),Yp(l,...e.yAxisColor);const f=Kp.newInstance(q({direction:[0,0,1]},e.config)).getOutputData();e.config.recenter?qp(f):Xp(f,2),Yp(f,...e.zAxisColor);const c=FC.newInstance();c.setInputData(u),c.addInputData(l),c.addInputData(f),n.setInputConnection(c.getOutputPort())},t.update();const r=V.debounce(t.update,0),{setConfig:o,setXAxisColor:i,setYAxisColor:a,setZAxisColor:s}=t;t.setConfig=u=>o(u)?(r(),!0):!1,t.setXAxisColor=u=>i(u)?(r(),!0):!1,t.setYAxisColor=u=>a(u)?(r(),!0):!1,t.setZAxisColor=u=>s(u)?(r(),!0):!1}const Uee={config:{recenter:!0,tipResolution:60,tipRadius:.1,tipLength:.2,shaftResolution:60,shaftRadius:.03,invert:!1},xAxisColor:[255,0,0],yAxisColor:[255,255,0],zAxisColor:[0,128,0]};function VC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Uee,n),ko.extend(t,e,n),V.setGet(t,e,["config"]),V.setGetArray(t,e,["xAxisColor","yAxisColor","zAxisColor"],3,255),Vee(t,e)}const Gee=V.newInstance(VC,"vtkAxesActor");var zee={newInstance:Gee,extend:VC};const UC="resetcamera",Yg="orientation",jee="same",Wee={MODE_RESET_CAMERA:UC,MODE_ORIENTATION:Yg,MODE_SAME:jee};function Hee(t,e){e.classHierarchy.push("vtkCameraSynchronizer");const n=new Float64Array(9),r=new Float64Array(3),o=[];function i(){for(;o.length;)o.pop().unsubscribe();if(!e.srcRenderer||!e.dstRenderer)return;const s=e.srcRenderer.getActiveCamera(),u=e.srcRenderer.getRenderWindow().getInteractor();o.push(s.onModified(()=>{u.isAnimating()||t.update()})),o.push(u.onAnimation(t.update)),o.push(u.onEndAnimation(t.update))}e._srcRendererChanged=i,e._dstRendererChanged=i;function a(s,u,l){return n[0]!==s[0]||n[1]!==s[1]||n[2]!==s[2]||n[3]!==u[0]||n[4]!==u[1]||n[5]!==u[2]||n[6]!==l[0]||n[7]!==l[1]||n[8]!==l[2]?(n[0]=s[0],n[1]=s[1],n[2]=s[2],n[3]=u[0],n[4]=u[1],n[5]=u[2],n[6]=l[0],n[7]=l[1],n[8]=l[2],n):!1}t.update=()=>{if(!e.active||!e.srcRenderer||!e.dstRenderer)return;const s=e.srcRenderer.getActiveCamera(),u=e.dstRenderer.getActiveCamera(),l=s.getReferenceByName("position"),f=s.getReferenceByName("focalPoint"),c=s.getReferenceByName("viewUp"),d=a(l,f,c);d&&(e.mode===Yg?(r[0]=d[0]-d[3],r[1]=d[1]-d[4],r[2]=d[2]-d[5],Ft(r),u.setPosition(e.focalPoint[0]+e.distance*r[0],e.focalPoint[1]+e.distance*r[1],e.focalPoint[2]+e.distance*r[2]),u.setFocalPoint(e.focalPoint[0],e.focalPoint[1],e.focalPoint[2]),u.setViewUp(d[6],d[7],d[8])):(u.setPosition(d[0],d[1],d[2]),u.setFocalPoint(d[3],d[4],d[5]),u.setViewUp(d[6],d[7],d[8])),e.mode===UC&&e.dstRenderer.resetCamera())},t.delete=Ys(()=>t.setSrcRenderer(null),t.delete),i()}const $ee={mode:Yg,focalPoint:[0,0,0],distance:6.8,active:!0};function GC(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,$ee,n),Yt(t,e),en(t,e,["mode","active","srcRenderer","dstRenderer","distance"]),md(t,e,["focalPoint"],3,0),Hee(t,e)}const Kee=Ct(GC,"vtkCameraSynchronizer");var Dm={newInstance:Kee,extend:GC,SynchronizationMode:Wee};const Jp={};class qee{constructor(e,n){this.ctx=e,this.behavior=Dm.newInstance(this.getProperties(n)),this.behavior.update()}getProperties(e){let{actorBounds:n,srcRenderer:r,dstRenderer:o}=e;const i=3.4*Math.max(n[1]-n[0],n[3]-n[2],n[5]-n[4]),a=[.5*(n[0]+n[1]),.5*(n[2]+n[3]),.5*(n[4]+n[5])],s=Dm.SynchronizationMode.MODE_ORIENTATION;return{distance:i,focalPoint:a,mode:s,srcRenderer:this.ctx.getInstance(r),dstRenderer:this.ctx.getInstance(o)}}update(e){this.behavior.set(this.getProperties(e)),this.behavior.update()}delete(){this.behavior.delete()}}const n5={CameraSync:qee};function Xee(t,e,n){const r=t.get("synchronizedViewId").synchronizedViewId;if(!e.behaviors||!r)return;Jp[r]||(Jp[r]={});const o=Jp[r];if(e.behaviors.autoOrientation){const s=t.getRenderers();if(!o.autoOrientationAxes&&s.length===2){let u=null,l=null;for(let f=0;f<s.length;f++){const c=s[f];c.getInteractive()?u=c:l=c}u&&l&&(o.autoOrientationAxes=Dm.newInstance({srcRenderer:u,dstRenderer:l}))}o.autoOrientationAxes&&s.length!==2&&(o.autoOrientationAxes.delete(),delete o.autoOrientationAxes)}const i=Object.keys(e.behaviors),a=Object.keys(o);for(let s=0;s<i.length;s++){const u=i[s];if(o[u])o[u].update(e.behaviors[u]);else{const l=e.behaviors[u];n5[l.type]?o[u]=new n5[l.type](n,l):console.log("No mapping for",l)}}for(let s=0;s<a.length;s++){const u=i[s];e.behaviors[u]||(o[u].delete(),delete o[u])}}var Yee={applyBehaviors:Xee};const Vo={},zC=/instance:\${([^}]+)}/,Jee=t=>`instance:\${${t}}`,bu={},Im=[],Of={},Zee={vtkPoints:Fo,vtkCellArray:wi,vtkDataArray:Ce};function Qee(t,e){return e.map(n=>{const r=zC.exec(n);return r?t.getInstance(r[1]):n})}function jC(t){return t.map(e=>zC.exec(e)).filter(e=>e).map(e=>e[1])}function WC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.dependencies&&t.dependencies.forEach(n=>{e.push(n.id),WC(n,e)}),e}function ete(t){for(;t.length;){const[e,n]=t.shift();e(...n)}}function tte(t,e,n){return r=>{const o=e.registration?e.registration:"addArray",i=e.location?t.getReferenceByName(e.location):t;let a=null;if(e.location?a=t.getReferenceByName(e.location).getArray(e.name):a=t[`get${o.substring(3)}`](),a)return a.getData()!==r&&n.push([a.setData,[r,e.numberOfComponents]]),a;const s=e.vtkClass?e.vtkClass:"vtkDataArray",u=Zee[s].newInstance(Oe(q({},e),{values:r}));return n.push([i[o],[u]]),u}}function Od(t,e,n,r){if(!e)return Promise.reject(new Error("No instance provided."));const o=Vo[t];return o&&o.update?o.update(e,n,r):Promise.reject(new Error(`No updater for ${t}`))}function Jg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Vo[t];return n&&n.build?n.build(e):(console.log("No builder for",t),null)}function nte(t,e,n){Of[t]={key:e,value:n}}function rte(){return Object.keys(Vo)}function HC(){Object.keys(Vo).forEach(t=>{delete Vo[t]})}function ote(t,e,n){return Od("vtkRenderWindow",t,e,n)}function ite(){Object.keys(bu).forEach(t=>{delete bu[t]})}function ate(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length===0)return ite();let r=e;return r.length===1&&Array.isArray(r[0])&&(r=r[0]),r.forEach(o=>{delete bu[o]}),r}function Zg(t){if(t[1].length===1)return Im.indexOf(t[1][0])===-1;let e=!1;for(let n=0;n<t[1].length;n++)e=e||Im.indexOf(t[1][n])===-1;return e}function zt(t,e,n){n.start(),t.set(e.properties),e.dependencies&&e.dependencies.forEach(o=>{const{id:i,type:a}=o;if(Of[a]){const{key:u,value:l}=Of[a];if(!u||o.properties[u]===l){Im.push(Jee(i));return}}let s=n.getInstance(i);s||(s=Jg(a,{managedInstanceId:i}),n.registerInstance(i,s)),Od(a,s,o,n)}),e.calls&&e.calls.filter(Zg).forEach(o=>{t[o[0]].apply(null,Qee(n,o[1]))});const r=[];if(e.arrays){const o=[],i=Object.values(e.arrays).map(a=>(n.start(),n.getArray(a.hash,a.dataType,n).then(tte(t,a,o)).catch(s=>{console.log("Error fetching array",JSON.stringify(a),s)}).finally(n.end)));n.start(),r.push(Promise.all(i).then(()=>(o.length&&t.modified(),ete(o),!0)).catch(a=>{console.error("Error in array handling for state",JSON.stringify(e),a)}).finally(n.end))}return n.end(),Promise.all(r)}function $C(t,e,n){bu[e.id]||zt(t,e,n),bu[e.id]=!0}function ste(t,e,n){zt(t,e,n);const r=new Set;e.dependencies&&e.dependencies.forEach(i=>{const a=n.getInstance(i.id);if(a){const s=WC(i);a.set({flattenedDepIds:s},!0),s.forEach(u=>r.add(u))}});const o=new Set;e.calls&&e.calls.filter(Zg).filter(i=>i[0]==="removeViewProp").forEach(i=>{jC(i[1]).forEach(a=>{const s=n.getInstance(a).get("flattenedDepIds").flattenedDepIds;s&&s.forEach(u=>o.add(u)),o.add(a)})}),[...o].filter(i=>!r.has(i)).forEach(i=>n.unregisterInstance(i))}function lte(t,e,n){e.calls&&e.calls.filter(Zg).filter(r=>r[0]==="removeRenderer").forEach(r=>{jC(r[1]).forEach(o=>{n.getInstance(o).getViewProps().forEach(i=>{const a=i.get("flattenedDepIds").flattenedDepIds;a&&a.forEach(s=>n.unregisterInstance(s)),n.unregisterInstance(n.getInstanceId(i))})})}),t.render(),zt(t,e,n),Yee.applyBehaviors(t,e,n)}function ute(t,e,n){if(n.start(),!e.properties.nodes)t.set(e.properties);else{const r=e.properties.nodes.map(o=>{let[i,a,s,u,l,f]=o;return{x:i,r:a,g:s,b:u,midpoint:l,sharpness:f}});t.set(Oe(q({},e.properties),{nodes:r}),!0)}n.end()}function cte(t,e,n){if(n.start(),!e.properties.nodes)t.set(e.properties);else{const r=e.properties.nodes.map(o=>{let[i,a,s,u]=o;return{x:i,y:a,midpoint:s,sharpness:u}});t.set(Oe(q({},e.properties),{nodes:r}),!0),t.sortAndUpdateRange()}n.end()}function r5(t,e){const n=[],r=t.getNumberOfArrays();for(let o=0;o<r;o++){const i=t.getArray(o).getName();e.has(i)||n.push(i)}for(let o=0;o<n.length;o++)t.removeArray(n[o])}function o5(t){const e=t.name?`_${t.name}`:"";return`${t.hash}_${t.dataType}${e}`}function KC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(e,n,r)=>{r.start();const o=q({},n.properties);n.arrays||(n.arrays={});for(let l=0;l<t.length;l++){const f=t[l];if(n.properties[f]){const c=n.properties[f];c.registration=`set${Xs(f)}`;const d=o5(c);n.arrays[d]=c,delete o[f]}}const i=n.properties.fields||[];for(let l=0;l<i.length;l++){const f=i[l],c=o5(f);n.arrays[c]=f}delete o.fields;const a={pointData:new Set,cellData:new Set,fieldData:new Set};i.forEach(l=>{let{location:f,name:c}=l;a[f].add(c)}),r5(e.getPointData(),a.pointData),r5(e.getCellData(),a.cellData);const s=q({},n);s.properties=o;const u=zt(e,s,r);return r.end(),u}}const fte=KC(["points","polys","verts","lines","strips"]),dte=KC([]);function Qg(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zt;if(!Jg&&!Od){delete Vo[t];return}Vo[t]={build:e,update:n}}const i5={vtkMapper:["vtkOpenGLPolyDataMapper","vtkCompositePolyDataMapper2","vtkDataSetMapper"],vtkProperty:["vtkOpenGLProperty"],vtkRenderer:["vtkOpenGLRenderer"],vtkCamera:["vtkOpenGLCamera"],vtkColorTransferFunction:["vtkPVDiscretizableColorTransferFunction"],vtkActor:["vtkOpenGLActor","vtkPVLODActor"],vtkLight:["vtkOpenGLLight","vtkPVLight"],vtkTexture:["vtkOpenGLTexture"],vtkImageMapper:["vtkOpenGLImageSliceMapper"],vtkVolumeMapper:["vtkFixedPointVolumeRayCastMapper"]},a5={vtkAxesActor:{build:zee.newInstance,update:zt},vtkRenderWindow:{build:qg.newInstance,update:lte},vtkRenderer:{build:_C.newInstance,update:ste},vtkLookupTable:{build:es.newInstance,update:zt},vtkCamera:{build:Xg.newInstance,update:$C},vtkPolyData:{build:bt.newInstance,update:fte},vtkImageData:{build:Ig.newInstance,update:dte},vtkMapper:{build:Lo.newInstance,update:zt},vtkGlyph3DMapper:{build:eC.newInstance,update:zt},vtkProperty:{build:Ma.newInstance,update:zt},vtkActor:{build:ko.newInstance,update:zt},vtkLight:{build:CC.newInstance,update:zt},vtkColorTransferFunction:{build:Hg.newInstance,update:ute},vtkTexture:{build:Mg.newInstance,update:zt},vtkVolume:{build:oee.newInstance,update:zt},vtkVolumeMapper:{build:cee.newInstance,update:zt},vtkVolumeProperty:{build:DC.newInstance,update:zt},vtkImageSlice:{build:yee.newInstance,update:zt},vtkImageMapper:{build:Pee.newInstance,update:zt},vtkImageProperty:{build:NC.newInstance,update:zt},vtkPiecewiseFunction:{build:Pf.newInstance,update:cte},vtkCubeAxesActor:{build:kg.newInstance,update:zt},vtkScalarBarActor:{build:J7.newInstance,update:zt}};function qC(){(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&HC(),Object.keys(a5).forEach(t=>{const e=a5[t];Qg(t,e.build,e.update)})}function e2(){Object.keys(i5).forEach(t=>{i5[t].forEach(e=>{Vo[e]=Vo[t]})})}function pte(){Qg("vtkCamera",Xg.newInstance),e2()}qC();e2();Of.vtkPVLight={};var Pm={build:Jg,update:Od,genericUpdater:zt,oneTimeGenericUpdater:$C,setTypeMapping:Qg,clearTypeMapping:HC,getSupportedTypes:rte,clearOneTimeUpdaters:ate,updateRenderWindow:ote,excludeInstance:nte,setDefaultMapping:qC,applyDefaultAliases:e2,alwaysUpdateCamera:pte};const oa={};function XC(){const t={};let e=null;function n(a){e=a}function r(a,s,u){const l=t[a];return l?(l.mtimes[u.getActiveViewId()]=u.getMTime(),new Promise((f,c)=>{f(l.array)})):e?new Promise((f,c)=>{e(a).then(d=>{let p=d;if(typeof d=="string"&&(p=Da.toArrayBuffer(d)),p instanceof Blob){const h=new FileReader;h.onload=()=>{const m=Ta(s,h.result),y={[u.getActiveViewId()]:u.getMTime()};t[a]={mtimes:y,array:m},f(m)},h.readAsArrayBuffer(p)}else{const h=Ta(s,p),m={[u.getActiveViewId()]:u.getMTime()};t[a]={mtimes:m,array:h},f(h)}},d=>{console.log("Error getting data array:"),console.log(d),c(d)})}):Promise.reject(new Error('No array fetcher found, please use "setArrayFetcher" to provide one'))}function o(){Object.keys(t).forEach(a=>{delete t[a]})}function i(a,s){const u=s.getMTime()-a;Object.keys(t).filter(l=>t[l].mtimes[s.getActiveViewId()]).filter(l=>t[l].mtimes[s.getActiveViewId()]<u).forEach(l=>{delete t[l]})}return{setFetchArrayFunction:n,getArray:r,emptyCachedArrays:o,freeOldArrays:i}}function YC(){const t={};function e(a){return t[a]}function n(a){let s=null;return Object.keys(t).forEach(u=>{a===t[u]&&(s=u)}),s}function r(a,s){t[a]=s,s.set({remoteId:a},!0,!0)}function o(a){delete t[a]}function i(){Object.keys(t).forEach(a=>{delete t[a]})}return{getInstance:e,getInstanceId:n,registerInstance:r,unregisterInstance:o,emptyCachedInstances:i}}function JC(){let t=0;const e={start(){t+=1,e.invokeProgressEvent(t)},end(){t-=1,e.invokeProgressEvent(t),t===0&&e.invokeProgressDone()},resetProgress(){t=0}},n={};return Ms(e,n,"progressEvent"),Ms(e,n,"progressDone"),e}function ZC(){const t={};let e="default";function n(a){return t[a||e]||1}function r(a){const s=a||e;t[s]||(t[s]=1),t[s]+=1}function o(a){e=a}function i(){return e}return{getMTime:n,incrementMTime:r,setActiveViewId:o,getActiveViewId:i}}function t2(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default",e=oa[t];return e||(e=q(q(q(q({},XC()),YC()),JC()),ZC()),oa[t]=e),e}function hte(t,e){oa[t]=e}function mte(t){if(t&&oa[t]&&delete oa[t],!t){const e=Object.keys(oa);for(let n=0;n<e.length;n++)delete oa[e[n]]}}function QC(t,e){let n=-1,r=100;const o=c=>c.get("managedInstanceId").managedInstanceId,i=()=>lu(t,o);function a(){Pm.clearOneTimeUpdaters(i())}function s(c){t.set({synchronizedViewId:c},!0,!0)}function u(){return t.get("synchronizedViewId").synchronizedViewId}function l(c){r=c}function f(c){u()||s(c.id);const d=c.mtime||0;return u()===c.id&&n<d?new Promise((p,h)=>{const m=e.onProgressDone(()=>{m.unsubscribe(),t.render(),p(!0)});n=d,e.setActiveViewId(c.id),e.incrementMTime(),Pm.updateRenderWindow(t,c,e),e.freeOldArrays(r,e)}):Promise.resolve(!1)}return{synchronize:f,setSynchronizedViewId:s,getSynchronizedViewId:u,updateGarbageCollectorThreshold:l,getManagedInstanceIds:i,clearOneTimeUpdaters:a}}function gte(t,e){e.classHierarchy.push("vtkSynchronizableRenderWindow"),e.synchronizerContext||(e.synchronizerContext=t2(e.synchronizerContextName));const n=QC(t,e.synchronizerContext);Object.keys(n).forEach(r=>{t[r]?t[r]=Ys(t[r],n[r]):t[r]=n[r]})}const vte={synchronizerContextName:"default",synchronizerContext:null,synchronizedViewId:null};function ew(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,vte,n),qg.extend(t,e),mr(t,e,["synchronizerContext"]),gte(t,e)}const yte=Ct(ew,"vtkSynchronizableRenderWindow");function bte(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default";const n=QC(t,t2(e));return Oe(q(q({},n),t),{delete:Ys(t.delete,n.delete)})}var s5={newInstance:yte,extend:ew,getSynchronizerContext:t2,setSynchronizerContext:hte,clearSynchronizerContext:mte,decorate:bte,createInstanceMap:YC,createArrayHandler:XC,createProgressHandler:JC,createSceneMtimeHandler:ZC,vtkObjectManager:Pm};function xte(t,e){e.classHierarchy.push("vtkRenderPass"),t.getOperation=()=>e.currentOperation,t.setCurrentOperation=n=>{e.currentOperation=n,e.currentTraverseOperation=`traverse${V.capitalize(e.currentOperation)}`},t.getTraverseOperation=()=>e.currentTraverseOperation,t.traverse=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e.deleted||(e._currentParent=r,e.preDelegateOperations.forEach(o=>{t.setCurrentOperation(o),n.traverse(t)}),e.delegates.forEach(o=>{o.traverse(n,t)}),e.postDelegateOperations.forEach(o=>{t.setCurrentOperation(o),n.traverse(t)}))}}const Ste={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null};function tw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ste,n),V.obj(t,e),V.get(t,e,["currentOperation"]),V.setGet(t,e,["delegates","_currentParent","preDelegateOperations","postDelegateOperations"]),V.moveToProtected(t,e,["currentParent"]),xte(t,e)}const Cte=V.newInstance(tw,"vtkRenderPass");var n2={newInstance:Cte,extend:tw};const{Representation:wte}=Ma,{vtkErrorMacro:l5}=V;function Tte(t){const e=ne.substitute(t.Fragment,"//VTK::RenderPassFragmentShader::Impl",`
      float weight = gl_FragData[0].a * pow(max(1.1 - gl_FragCoord.z, 0.0), 2.0);
      gl_FragData[0] = vec4(gl_FragData[0].rgb*weight, gl_FragData[0].a);
      gl_FragData[1].r = weight;
    `,!1);t.Fragment=e.result}const _te=`//VTK::System::Dec

in vec2 tcoord;

uniform sampler2D translucentRTexture;
uniform sampler2D translucentRGBATexture;

// the output of this shader
//VTK::Output::Dec

void main()
{
  vec4 t1Color = texture(translucentRGBATexture, tcoord);
  float t2Color = texture(translucentRTexture, tcoord).r;
  gl_FragData[0] = vec4(t1Color.rgb/max(t2Color,0.01), 1.0 - t1Color.a);
}
`;function Ate(t,e){e.classHierarchy.push("vtkOpenGLOrderIndependentTranslucentPass"),t.createVertexBuffer=()=>{const n=new Float32Array([-1,-1,-1,1,-1,-1,-1,1,-1,1,1,-1]),r=new Float32Array([0,0,1,0,0,1,1,1]),o=new Uint16Array([4,0,1,3,2]),i=Ce.newInstance({numberOfComponents:3,values:n});i.setName("points");const a=Ce.newInstance({numberOfComponents:2,values:r});a.setName("tcoords");const s=Ce.newInstance({numberOfComponents:1,values:o});e.tris.getCABO().createVBO(s,"polys",wte.SURFACE,{points:i,tcoords:a,cellOffset:0}),e.VBOBuildTime.modified()},t.createFramebuffer=n=>{const r=n.getSize(),o=n.getContext();e.framebuffer=Ea.newInstance(),e.framebuffer.setOpenGLRenderWindow(n),e.framebuffer.create(...r),e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind(),e.translucentRGBATexture=Xe.newInstance(),e.translucentRGBATexture.setInternalFormat(o.RGBA16F),e.translucentRGBATexture.setFormat(o.RGBA),e.translucentRGBATexture.setOpenGLDataType(o.HALF_FLOAT),e.translucentRGBATexture.setOpenGLRenderWindow(n),e.translucentRGBATexture.create2DFromRaw(r[0],r[1],4,"Float32Array",null),e.translucentRTexture=Xe.newInstance(),e.translucentRTexture.setInternalFormat(o.R16F),e.translucentRTexture.setFormat(o.RED),e.translucentRTexture.setOpenGLDataType(o.HALF_FLOAT),e.translucentRTexture.setOpenGLRenderWindow(n),e.translucentRTexture.create2DFromRaw(r[0],r[1],1,"Float32Array",null),e.translucentZTexture=Xe.newInstance(),e.translucentZTexture.setOpenGLRenderWindow(n),e.translucentZTexture.createDepthFromRaw(r[0],r[1],"Float32Array",null),e.framebuffer.setColorBuffer(e.translucentRGBATexture,0),e.framebuffer.setColorBuffer(e.translucentRTexture,1),e.framebuffer.setDepthBuffer(e.translucentZTexture)},t.createCopyShader=n=>{e.copyShader=n.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","attribute vec2 tcoordTC;","varying vec2 tcoord;","void main() { tcoord = tcoordTC; gl_Position = vertexDC; }"].join(`
`),_te,"")},t.createVBO=n=>{const r=n.getContext();e.tris.setOpenGLRenderWindow(n),t.createVertexBuffer();const o=e.copyShader;e.tris.getCABO().bind(),e.copyVAO.addAttributeArray(o,e.tris.getCABO(),"vertexDC",e.tris.getCABO().getVertexOffset(),e.tris.getCABO().getStride(),r.FLOAT,3,r.FALSE)||l5("Error setting vertexDC in copy shader VAO."),e.copyVAO.addAttributeArray(o,e.tris.getCABO(),"tcoordTC",e.tris.getCABO().getTCoordOffset(),e.tris.getCABO().getStride(),r.FLOAT,2,r.FALSE)||l5("Error setting vertexDC in copy shader VAO.")},t.traverse=(n,r,o)=>{if(e.deleted)return;const i=n.getSize(),a=n.getContext();if(e._supported=!1,r.getSelector()||!a||!n.getWebgl2()||!a.getExtension("EXT_color_buffer_half_float")&&!a.getExtension("EXT_color_buffer_float")){t.setCurrentOperation("translucentPass"),r.traverse(t);return}if(e._supported=!0,e.framebuffer===null)t.createFramebuffer(n);else{const s=e.framebuffer.getSize();s===null||s[0]!==i[0]||s[1]!==i[1]?(e.framebuffer.releaseGraphicsResources(),e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRTexture.releaseGraphicsResources(n),e.translucentZTexture.releaseGraphicsResources(n),t.createFramebuffer(n)):(e.framebuffer.saveCurrentBindingsAndBuffers(),e.framebuffer.bind())}a.drawBuffers([a.COLOR_ATTACHMENT0]),a.clearBufferfv(a.COLOR,0,[0,0,0,0]),a.clearBufferfv(a.DEPTH,0,[1]),a.colorMask(!1,!1,!1,!1),o.getOpaqueActorCount()>0&&(o.setCurrentOperation("opaqueZBufferPass"),r.traverse(o)),a.colorMask(!0,!0,!0,!0),a.drawBuffers([a.COLOR_ATTACHMENT0,a.COLOR_ATTACHMENT1]),a.viewport(0,0,i[0],i[1]),a.scissor(0,0,i[0],i[1]),a.clearBufferfv(a.COLOR,0,[0,0,0,1]),a.clearBufferfv(a.COLOR,1,[0,0,0,0]),a.enable(a.DEPTH_TEST),a.enable(a.BLEND),a.blendFuncSeparate(a.ONE,a.ONE,a.ZERO,a.ONE_MINUS_SRC_ALPHA),t.setCurrentOperation("translucentPass"),r.traverse(t),a.drawBuffers([a.NONE]),e.framebuffer.restorePreviousBindingsAndBuffers(),e.copyShader===null?t.createCopyShader(n):n.getShaderCache().readyShaderProgram(e.copyShader),e.copyVAO||(e.copyVAO=Hu.newInstance(),e.copyVAO.setOpenGLRenderWindow(n)),e.copyVAO.bind(),e.VBOBuildTime.getMTime()<t.getMTime()&&t.createVBO(n),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.depthMask(!1),a.depthFunc(a.ALWAYS),a.viewport(0,0,i[0],i[1]),a.scissor(0,0,i[0],i[1]),e.translucentRGBATexture.activate(),e.copyShader.setUniformi("translucentRGBATexture",e.translucentRGBATexture.getTextureUnit()),e.translucentRTexture.activate(),e.copyShader.setUniformi("translucentRTexture",e.translucentRTexture.getTextureUnit()),a.drawArrays(a.TRIANGLES,0,e.tris.getCABO().getElementCount()),a.depthMask(!0),a.depthFunc(a.LEQUAL),e.translucentRGBATexture.deactivate(),e.translucentRTexture.deactivate()},t.getShaderReplacement=()=>e._supported?Tte:null,t.releaseGraphicsResources=n=>{e.framebuffer&&(e.framebuffer.releaseGraphicsResources(n),e.framebuffer=null),e.translucentRGBATexture&&(e.translucentRGBATexture.releaseGraphicsResources(n),e.translucentRGBATexture=null),e.translucentRTexture&&(e.translucentRTexture.releaseGraphicsResources(n),e.translucentRTexture=null),e.translucentZTexture&&(e.translucentZTexture.releaseGraphicsResources(n),e.translucentZTexture=null),e.copyVAO&&(e.copyVAO.releaseGraphicsResources(n),e.copyVAO=null),e.copyShader&&(e.copyShader.releaseGraphicsResources(n),e.copyShader=null),e.tris&&(e.tris.releaseGraphicsResources(n),e.tris=null),t.modified()}}const Ete={framebuffer:null,copyShader:null,tris:null};function nw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ete,n),n2.extend(t,e,n),e.VBOBuildTime={},V.obj(e.VBOBuildTime,{mtime:0}),e.tris=Tr.newInstance(),V.get(t,e,["framebuffer"]),Ate(t,e)}const Dte=V.newInstance(nw,"vtkOpenGLOrderIndependentTranslucentPass");var Ite={newInstance:Dte,extend:nw};function Pte(t,e){e.classHierarchy.push("vtkForwardPass"),t.traverse=function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e.deleted)return;e._currentParent=r,t.setCurrentOperation("buildPass"),n.traverse(t);const o=n.getRenderable().getNumberOfLayers(),i=n.getChildren();for(let a=0;a<o;a++)for(let s=0;s<i.length;s++){const u=i[s],l=n.getRenderable().getRenderers()[s];if(l.getDraw()&&l.getLayer()===a){if(e.opaqueActorCount=0,e.translucentActorCount=0,e.volumeCount=0,e.overlayActorCount=0,t.setCurrentOperation("queryPass"),u.traverse(t),(e.opaqueActorCount>0||e.translucentActorCount>0)&&e.volumeCount>0||e.depthRequested){const f=n.getFramebufferSize();e.framebuffer===null&&(e.framebuffer=Ea.newInstance()),e.framebuffer.setOpenGLRenderWindow(n),e.framebuffer.saveCurrentBindingsAndBuffers();const c=e.framebuffer.getSize();(c===null||c[0]!==f[0]||c[1]!==f[1])&&(e.framebuffer.create(f[0],f[1]),e.framebuffer.populateFramebuffer()),e.framebuffer.bind(),t.setCurrentOperation("zBufferPass"),u.traverse(t),e.framebuffer.restorePreviousBindingsAndBuffers(),e.depthRequested=!1}t.setCurrentOperation("cameraPass"),u.traverse(t),e.opaqueActorCount>0&&(t.setCurrentOperation("opaquePass"),u.traverse(t)),e.translucentActorCount>0&&(e.translucentPass||(e.translucentPass=Ite.newInstance()),e.translucentPass.traverse(n,u,t)),e.volumeCount>0&&(t.setCurrentOperation("volumePass"),u.traverse(t)),e.overlayActorCount>0&&(t.setCurrentOperation("overlayPass"),u.traverse(t))}}},t.getZBufferTexture=()=>e.framebuffer?e.framebuffer.getColorTexture():null,t.requestDepth=()=>{e.depthRequested=!0},t.incrementOpaqueActorCount=()=>e.opaqueActorCount++,t.incrementTranslucentActorCount=()=>e.translucentActorCount++,t.incrementVolumeCount=()=>e.volumeCount++,t.incrementOverlayActorCount=()=>e.overlayActorCount++}const Ote={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,overlayActorCount:0,framebuffer:null,depthRequested:!1};function rw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ote,n),n2.extend(t,e,n),V.get(t,e,["framebuffer","opaqueActorCount","translucentActorCount","volumeCount"]),Pte(t,e)}const Nte=V.newInstance(rw,"vtkForwardPass");var Rte={newInstance:Nte,extend:rw},Om={},Mte={get exports(){return Om},set exports(t){Om=t}};(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function o(b,v){var g=b[0],x=b[1],S=b[2],C=b[3];g+=(x&S|~x&C)+v[0]-680876936|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&S)+v[1]-389564586|0,C=(C<<12|C>>>20)+g|0,S+=(C&g|~C&x)+v[2]+606105819|0,S=(S<<17|S>>>15)+C|0,x+=(S&C|~S&g)+v[3]-1044525330|0,x=(x<<22|x>>>10)+S|0,g+=(x&S|~x&C)+v[4]-176418897|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&S)+v[5]+1200080426|0,C=(C<<12|C>>>20)+g|0,S+=(C&g|~C&x)+v[6]-1473231341|0,S=(S<<17|S>>>15)+C|0,x+=(S&C|~S&g)+v[7]-45705983|0,x=(x<<22|x>>>10)+S|0,g+=(x&S|~x&C)+v[8]+1770035416|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&S)+v[9]-1958414417|0,C=(C<<12|C>>>20)+g|0,S+=(C&g|~C&x)+v[10]-42063|0,S=(S<<17|S>>>15)+C|0,x+=(S&C|~S&g)+v[11]-1990404162|0,x=(x<<22|x>>>10)+S|0,g+=(x&S|~x&C)+v[12]+1804603682|0,g=(g<<7|g>>>25)+x|0,C+=(g&x|~g&S)+v[13]-40341101|0,C=(C<<12|C>>>20)+g|0,S+=(C&g|~C&x)+v[14]-1502002290|0,S=(S<<17|S>>>15)+C|0,x+=(S&C|~S&g)+v[15]+1236535329|0,x=(x<<22|x>>>10)+S|0,g+=(x&C|S&~C)+v[1]-165796510|0,g=(g<<5|g>>>27)+x|0,C+=(g&S|x&~S)+v[6]-1069501632|0,C=(C<<9|C>>>23)+g|0,S+=(C&x|g&~x)+v[11]+643717713|0,S=(S<<14|S>>>18)+C|0,x+=(S&g|C&~g)+v[0]-373897302|0,x=(x<<20|x>>>12)+S|0,g+=(x&C|S&~C)+v[5]-701558691|0,g=(g<<5|g>>>27)+x|0,C+=(g&S|x&~S)+v[10]+38016083|0,C=(C<<9|C>>>23)+g|0,S+=(C&x|g&~x)+v[15]-660478335|0,S=(S<<14|S>>>18)+C|0,x+=(S&g|C&~g)+v[4]-405537848|0,x=(x<<20|x>>>12)+S|0,g+=(x&C|S&~C)+v[9]+568446438|0,g=(g<<5|g>>>27)+x|0,C+=(g&S|x&~S)+v[14]-1019803690|0,C=(C<<9|C>>>23)+g|0,S+=(C&x|g&~x)+v[3]-187363961|0,S=(S<<14|S>>>18)+C|0,x+=(S&g|C&~g)+v[8]+1163531501|0,x=(x<<20|x>>>12)+S|0,g+=(x&C|S&~C)+v[13]-1444681467|0,g=(g<<5|g>>>27)+x|0,C+=(g&S|x&~S)+v[2]-51403784|0,C=(C<<9|C>>>23)+g|0,S+=(C&x|g&~x)+v[7]+1735328473|0,S=(S<<14|S>>>18)+C|0,x+=(S&g|C&~g)+v[12]-1926607734|0,x=(x<<20|x>>>12)+S|0,g+=(x^S^C)+v[5]-378558|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^S)+v[8]-2022574463|0,C=(C<<11|C>>>21)+g|0,S+=(C^g^x)+v[11]+1839030562|0,S=(S<<16|S>>>16)+C|0,x+=(S^C^g)+v[14]-35309556|0,x=(x<<23|x>>>9)+S|0,g+=(x^S^C)+v[1]-1530992060|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^S)+v[4]+1272893353|0,C=(C<<11|C>>>21)+g|0,S+=(C^g^x)+v[7]-155497632|0,S=(S<<16|S>>>16)+C|0,x+=(S^C^g)+v[10]-1094730640|0,x=(x<<23|x>>>9)+S|0,g+=(x^S^C)+v[13]+681279174|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^S)+v[0]-358537222|0,C=(C<<11|C>>>21)+g|0,S+=(C^g^x)+v[3]-722521979|0,S=(S<<16|S>>>16)+C|0,x+=(S^C^g)+v[6]+76029189|0,x=(x<<23|x>>>9)+S|0,g+=(x^S^C)+v[9]-640364487|0,g=(g<<4|g>>>28)+x|0,C+=(g^x^S)+v[12]-421815835|0,C=(C<<11|C>>>21)+g|0,S+=(C^g^x)+v[15]+530742520|0,S=(S<<16|S>>>16)+C|0,x+=(S^C^g)+v[2]-995338651|0,x=(x<<23|x>>>9)+S|0,g+=(S^(x|~C))+v[0]-198630844|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~S))+v[7]+1126891415|0,C=(C<<10|C>>>22)+g|0,S+=(g^(C|~x))+v[14]-1416354905|0,S=(S<<15|S>>>17)+C|0,x+=(C^(S|~g))+v[5]-57434055|0,x=(x<<21|x>>>11)+S|0,g+=(S^(x|~C))+v[12]+1700485571|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~S))+v[3]-1894986606|0,C=(C<<10|C>>>22)+g|0,S+=(g^(C|~x))+v[10]-1051523|0,S=(S<<15|S>>>17)+C|0,x+=(C^(S|~g))+v[1]-2054922799|0,x=(x<<21|x>>>11)+S|0,g+=(S^(x|~C))+v[8]+1873313359|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~S))+v[15]-30611744|0,C=(C<<10|C>>>22)+g|0,S+=(g^(C|~x))+v[6]-1560198380|0,S=(S<<15|S>>>17)+C|0,x+=(C^(S|~g))+v[13]+1309151649|0,x=(x<<21|x>>>11)+S|0,g+=(S^(x|~C))+v[4]-145523070|0,g=(g<<6|g>>>26)+x|0,C+=(x^(g|~S))+v[11]-1120210379|0,C=(C<<10|C>>>22)+g|0,S+=(g^(C|~x))+v[2]+718787259|0,S=(S<<15|S>>>17)+C|0,x+=(C^(S|~g))+v[9]-343485551|0,x=(x<<21|x>>>11)+S|0,b[0]=g+b[0]|0,b[1]=x+b[1]|0,b[2]=S+b[2]|0,b[3]=C+b[3]|0}function i(b){var v=[],g;for(g=0;g<64;g+=4)v[g>>2]=b.charCodeAt(g)+(b.charCodeAt(g+1)<<8)+(b.charCodeAt(g+2)<<16)+(b.charCodeAt(g+3)<<24);return v}function a(b){var v=[],g;for(g=0;g<64;g+=4)v[g>>2]=b[g]+(b[g+1]<<8)+(b[g+2]<<16)+(b[g+3]<<24);return v}function s(b){var v=b.length,g=[1732584193,-271733879,-1732584194,271733878],x,S,C,w,T,_;for(x=64;x<=v;x+=64)o(g,i(b.substring(x-64,x)));for(b=b.substring(x-64),S=b.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<S;x+=1)C[x>>2]|=b.charCodeAt(x)<<(x%4<<3);if(C[x>>2]|=128<<(x%4<<3),x>55)for(o(g,C),x=0;x<16;x+=1)C[x]=0;return w=v*8,w=w.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(w[2],16),_=parseInt(w[1],16)||0,C[14]=T,C[15]=_,o(g,C),g}function u(b){var v=b.length,g=[1732584193,-271733879,-1732584194,271733878],x,S,C,w,T,_;for(x=64;x<=v;x+=64)o(g,a(b.subarray(x-64,x)));for(b=x-64<v?b.subarray(x-64):new Uint8Array(0),S=b.length,C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<S;x+=1)C[x>>2]|=b[x]<<(x%4<<3);if(C[x>>2]|=128<<(x%4<<3),x>55)for(o(g,C),x=0;x<16;x+=1)C[x]=0;return w=v*8,w=w.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(w[2],16),_=parseInt(w[1],16)||0,C[14]=T,C[15]=_,o(g,C),g}function l(b){var v="",g;for(g=0;g<4;g+=1)v+=r[b>>g*8+4&15]+r[b>>g*8&15];return v}function f(b){var v;for(v=0;v<b.length;v+=1)b[v]=l(b[v]);return b.join("")}f(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function b(v,g){return v=v|0||0,v<0?Math.max(v+g,0):Math.min(v,g)}ArrayBuffer.prototype.slice=function(v,g){var x=this.byteLength,S=b(v,x),C=x,w,T,_,A;return g!==n&&(C=b(g,x)),S>C?new ArrayBuffer(0):(w=C-S,T=new ArrayBuffer(w),_=new Uint8Array(T),A=new Uint8Array(this,S,w),_.set(A),T)}}();function c(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function d(b,v){var g=b.length,x=new ArrayBuffer(g),S=new Uint8Array(x),C;for(C=0;C<g;C+=1)S[C]=b.charCodeAt(C);return v?S:x}function p(b){return String.fromCharCode.apply(null,new Uint8Array(b))}function h(b,v,g){var x=new Uint8Array(b.byteLength+v.byteLength);return x.set(new Uint8Array(b)),x.set(new Uint8Array(v),b.byteLength),x}function m(b){var v=[],g=b.length,x;for(x=0;x<g-1;x+=2)v.push(parseInt(b.substr(x,2),16));return String.fromCharCode.apply(String,v)}function y(){this.reset()}return y.prototype.append=function(b){return this.appendBinary(c(b)),this},y.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var v=this._buff.length,g;for(g=64;g<=v;g+=64)o(this._hash,i(this._buff.substring(g-64,g)));return this._buff=this._buff.substring(g-64),this},y.prototype.end=function(b){var v=this._buff,g=v.length,x,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C;for(x=0;x<g;x+=1)S[x>>2]|=v.charCodeAt(x)<<(x%4<<3);return this._finish(S,g),C=f(this._hash),b&&(C=m(C)),this.reset(),C},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},y.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(b,v){var g=v,x,S,C;if(b[g>>2]|=128<<(g%4<<3),g>55)for(o(this._hash,b),g=0;g<16;g+=1)b[g]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),S=parseInt(x[2],16),C=parseInt(x[1],16)||0,b[14]=S,b[15]=C,o(this._hash,b)},y.hash=function(b,v){return y.hashBinary(c(b),v)},y.hashBinary=function(b,v){var g=s(b),x=f(g);return v?m(x):x},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(b){var v=h(this._buff.buffer,b),g=v.length,x;for(this._length+=b.byteLength,x=64;x<=g;x+=64)o(this._hash,a(v.subarray(x-64,x)));return this._buff=x-64<g?new Uint8Array(v.buffer.slice(x-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(b){var v=this._buff,g=v.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S,C;for(S=0;S<g;S+=1)x[S>>2]|=v[S]<<(S%4<<3);return this._finish(x,g),C=f(this._hash),b&&(C=m(C)),this.reset(),C},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var b=y.prototype.getState.call(this);return b.buff=p(b.buff),b},y.ArrayBuffer.prototype.setState=function(b){return b.buff=d(b.buff,!0),y.prototype.setState.call(this,b)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(b,v){var g=u(new Uint8Array(b)),x=f(g);return v?m(x):x},y})})(Mte);const kte=Om,Lte=["lastShaderProgramBound","context","_openGLRenderWindow"];function Fte(t,e){e.classHierarchy.push("vtkShaderCache"),t.replaceShaderValues=(n,r,o)=>{let i=r;o.length>0&&(i=ne.substitute(i,"VSOut","GSOut").result);const a=e._openGLRenderWindow.getWebgl2();let s=`
`,u=`#version 100
`;a?u=`#version 300 es
#define attribute in
#define textureCube texture
#define texture2D texture
#define textureCubeLod textureLod
#define texture2DLod textureLod
`:(e.context.getExtension("OES_standard_derivatives"),e.context.getExtension("EXT_frag_depth")&&(s=`#extension GL_EXT_frag_depth : enable
`),e.context.getExtension("EXT_shader_texture_lod")&&(s+=`#extension GL_EXT_shader_texture_lod : enable
#define textureCubeLod textureCubeLodEXT
#define texture2DLod texture2DLodEXT`)),i=ne.substitute(i,"//VTK::System::Dec",[`${u}
`,a?"":`#extension GL_OES_standard_derivatives : enable
`,s,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;let l=ne.substitute(n,"//VTK::System::Dec",[`${u}
`,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;if(a){l=ne.substitute(l,"varying","out").result,i=ne.substitute(i,"varying","in").result;let c="",d=0;for(;i.includes(`gl_FragData[${d}]`);)i=ne.substitute(i,`gl_FragData\\[${d}\\]`,`fragOutput${d}`).result,c+=`layout(location = ${d}) out vec4 fragOutput${d};
`,d++;i=ne.substitute(i,"//VTK::Output::Dec",c).result}const f=ne.substitute(o,"//VTK::System::Dec",u).result;return{VSSource:l,FSSource:i,GSSource:f}},t.readyShaderProgramArray=(n,r,o)=>{const i=t.replaceShaderValues(n,r,o),a=t.getShaderProgram(i.VSSource,i.FSSource,i.GSSource);return t.readyShaderProgram(a)},t.readyShaderProgram=n=>!n||!n.getCompiled()&&!n.compileShader()||!t.bindShaderProgram(n)?null:n,t.getShaderProgram=(n,r,o)=>{const i=`${n}${r}${o}`,a=kte.hash(i);if(!(a in e.shaderPrograms)){const s=ne.newInstance();return s.setContext(e.context),s.getVertexShader().setSource(n),s.getFragmentShader().setSource(r),o&&s.getGeometryShader().setSource(o),s.setMd5Hash(a),e.shaderPrograms[a]=s,s}return e.shaderPrograms[a]},t.releaseGraphicsResources=n=>{t.releaseCurrentShaderProgram(),Object.keys(e.shaderPrograms).map(r=>e.shaderPrograms[r]).forEach(r=>r.cleanup()),e.shaderPrograms={}},t.releaseCurrentShaderProgram=()=>{e.lastShaderProgramBound&&(e.lastShaderProgramBound.cleanup(),e.lastShaderProgramBound=null)},t.bindShaderProgram=n=>(e.lastShaderProgramBound===n||(e.lastShaderProgramBound&&e.lastShaderProgramBound.release(),n.bind(),e.lastShaderProgramBound=n),1)}const Bte={lastShaderProgramBound:null,shaderPrograms:null,context:null};function ow(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Bte,n),e.shaderPrograms={},V.obj(t,e),V.setGet(t,e,Lte),V.moveToProtected(t,e,["openGLRenderWindow"]),Fte(t,e)}const Vte=V.newInstance(ow,"vtkShaderCache");var Ute={newInstance:Vte,extend:ow};const{vtkErrorMacro:Gte}=V;function zte(t,e){e.classHierarchy.push("vtkOpenGLTextureUnitManager"),t.deleteTable=()=>{for(let n=0;n<e.numberOfTextureUnits;++n)e.textureUnits[n]===!0&&Gte("some texture units  were not properly released");e.textureUnits=[],e.numberOfTextureUnits=0},t.setContext=n=>{if(e.context!==n){if(e.context!==0&&t.deleteTable(),e.context=n,e.context){e.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(let r=0;r<e.numberOfTextureUnits;++r)e.textureUnits[r]=!1}t.modified()}},t.allocate=()=>{for(let n=0;n<e.numberOfTextureUnits;n++)if(!t.isAllocated(n))return e.textureUnits[n]=!0,n;return-1},t.allocateUnit=n=>t.isAllocated(n)?-1:(e.textureUnits[n]=!0,n),t.isAllocated=n=>e.textureUnits[n],t.free=n=>{e.textureUnits[n]=!1},t.freeAll=()=>{for(let n=0;n<e.numberOfTextureUnits;++n)e.textureUnits[n]=!1}}const jte={context:null,numberOfTextureUnits:0,textureUnits:0};function iw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,jte,n),V.obj(t,e),e.textureUnits=[],V.get(t,e,["numberOfTextureUnits"]),V.setGet(t,e,["context"]),zte(t,e)}const Wte=V.newInstance(iw,"vtkOpenGLTextureUnitManager");var Hte={newInstance:Wte,extend:iw};function $te(t,e){e.classHierarchy.push("vtkRenderWindowViewNode"),t.getViewNodeFactory=()=>null,t.getAspectRatio=()=>e.size[0]/e.size[1],t.getAspectRatioForRenderer=n=>{const r=n.getViewportByReference();return e.size[0]*(r[2]-r[0])/((r[3]-r[1])*e.size[1])},t.isInViewport=(n,r,o)=>{const i=o.getViewportByReference(),a=t.getFramebufferSize();return i[0]*a[0]<=n&&i[2]*a[0]>=n&&i[1]*a[1]<=r&&i[3]*a[1]>=r},t.getViewportSize=n=>{const r=n.getViewportByReference(),o=t.getFramebufferSize();return[(r[2]-r[0])*o[0],(r[3]-r[1])*o[1]]},t.getViewportCenter=n=>{const r=t.getViewportSize(n);return[r[0]*.5,r[1]*.5]},t.displayToNormalizedDisplay=(n,r,o)=>{const i=t.getFramebufferSize();return[n/i[0],r/i[1],o]},t.normalizedDisplayToDisplay=(n,r,o)=>{const i=t.getFramebufferSize();return[n*i[0],r*i[1],o]},t.worldToView=(n,r,o,i)=>i.worldToView(n,r,o),t.viewToWorld=(n,r,o,i)=>i.viewToWorld(n,r,o),t.worldToDisplay=(n,r,o,i)=>{const a=i.worldToView(n,r,o),s=t.getViewportSize(i),u=i.viewToProjection(a[0],a[1],a[2],s[0]/s[1]),l=i.projectionToNormalizedDisplay(u[0],u[1],u[2]);return t.normalizedDisplayToDisplay(l[0],l[1],l[2])},t.displayToWorld=(n,r,o,i)=>{const a=t.displayToNormalizedDisplay(n,r,o),s=i.normalizedDisplayToProjection(a[0],a[1],a[2]),u=t.getViewportSize(i),l=i.projectionToView(s[0],s[1],s[2],u[0]/u[1]);return i.viewToWorld(l[0],l[1],l[2])},t.normalizedDisplayToViewport=(n,r,o,i)=>{let a=i.getViewportByReference();a=t.normalizedDisplayToDisplay(a[0],a[1],0);const s=t.normalizedDisplayToDisplay(n,r,o);return[s[0]-a[0]-.5,s[1]-a[1]-.5,o]},t.viewportToNormalizedViewport=(n,r,o,i)=>{const a=t.getViewportSize(i);return a&&a[0]!==0&&a[1]!==0?[n/(a[0]-1),r/(a[1]-1),o]:[n,r,o]},t.normalizedViewportToViewport=(n,r,o,i)=>{const a=t.getViewportSize(i);return[n*(a[0]-1),r*(a[1]-1),o]},t.displayToLocalDisplay=(n,r,o)=>{const i=t.getFramebufferSize();return[n,i[1]-r-1,o]},t.viewportToNormalizedDisplay=(n,r,o,i)=>{let a=i.getViewportByReference();a=t.normalizedDisplayToDisplay(a[0],a[1],0);const s=n+a[0]+.5,u=r+a[1]+.5;return t.displayToNormalizedDisplay(s,u,o)},t.getComputedDevicePixelRatio=()=>e.size[0]/t.getContainerSize()[0],t.getContainerSize=()=>{V.vtkErrorMacro("not implemented")},t.getPixelData=(n,r,o,i)=>{V.vtkErrorMacro("not implemented")},t.createSelector=()=>{V.vtkErrorMacro("not implemented")}}const Kte={size:void 0,selector:void 0};function aw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Kte,n),e.size||(e.size=[300,300]),V.getArray(t,e,["size"],2),V.get(t,e,["selector"]),bn.extend(t,e,n),$te(t,e)}const qte=V.newInstance(aw,"vtkRenderWindowViewNode");var Xte={newInstance:qte,extend:aw};const Yte="__getUnderlyingContext";function Jte(){const t=new Map,e={apply(o,i,a){return t.has(a[0])?t.get(a[0]):o.apply(i,a)}};function n(o){return{apply(i,a,s){return t.set(o,s[0]),i.apply(a,s)}}}const r=Object.create(null);return r.getParameter=(o,i,a,s)=>new Proxy(s.bind(o),e),r.depthMask=(o,i,a,s)=>new Proxy(s.bind(o),n(o.DEPTH_WRITEMASK)),{get(o,i,a){if(i===Yte)return()=>o;let s=Reflect.get(o,i,o);s instanceof Function&&(s=s.bind(o));const u=r[i];return u?u(o,i,a,s):s}}}const{vtkDebugMacro:u5,vtkErrorMacro:c5}=V,Zte={position:"absolute",top:0,left:0,width:"100%",height:"100%"};function Fn(t,e,n){const r=t.createFramebuffer(),o=t.createTexture();t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,e,2,2,0,e,n,null),t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,o,0);const i=t.checkFramebufferStatus(t.FRAMEBUFFER);return t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindTexture(t.TEXTURE_2D,null),i===t.FRAMEBUFFER_COMPLETE}let Nf=0;const Nd=[];function Qte(){Nf++,Nd.forEach(t=>t(Nf))}function ene(){Nf--,Nd.forEach(t=>t(Nf))}function tne(t){Nd.push(t)}function nne(t){return Nd.pop()}function f5(t){t.preventDefault()}function rne(t,e){e.classHierarchy.push("vtkOpenGLRenderWindow");const n=Jte();t.getViewNodeFactory=()=>e.myFactory,e.canvas.addEventListener("webglcontextlost",f5,!1),e.canvas.addEventListener("webglcontextrestored",t.restoreContext,!1);const r=[0,0];function o(){e.renderable&&(e.size[0]!==r[0]||e.size[1]!==r[1])&&(r[0]=e.size[0],r[1]=e.size[1],e.canvas.setAttribute("width",e.size[0]),e.canvas.setAttribute("height",e.size[1])),e.viewStream&&e.viewStream.setSize(e.size[0],e.size[1]),e.canvas.style.display=e.useOffScreen?"none":"block",e.el&&(e.el.style.cursor=e.cursorVisibility?e.cursor:"none"),e.containerSize=null}t.onModified(o),t.buildPass=l=>{if(l){if(!e.renderable)return;t.prepareNodes(),t.addMissingNodes(e.renderable.getRenderersByReference()),t.removeUnusedNodes(),t.initialize(),e.children.forEach(f=>{f.setOpenGLRenderWindow(t)})}},t.initialize=()=>{if(!e.initialized){e.context=t.get3DContext(),e.textureUnitManager=Hte.newInstance(),e.textureUnitManager.setContext(e.context),e.shaderCache.setContext(e.context);const l=e.context;l.blendFuncSeparate(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA),l.depthFunc(l.LEQUAL),l.enable(l.BLEND),e.initialized=!0}},t.makeCurrent=()=>{e.context.makeCurrent()},t.setContainer=l=>{e.el&&e.el!==l&&(e.canvas.parentNode!==e.el&&c5("Error: canvas parent node does not match container"),e.el.removeChild(e.canvas),e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)),e.el!==l&&(e.el=l,e.el&&(e.el.appendChild(e.canvas),e.useBackgroundImage&&e.el.appendChild(e.bgImage)),t.modified())},t.getContainer=()=>e.el,t.getContainerSize=()=>{if(!e.containerSize&&e.el){const{width:l,height:f}=e.el.getBoundingClientRect();e.containerSize=[l,f]}return e.containerSize||e.size},t.getFramebufferSize=()=>e.activeFramebuffer?e.activeFramebuffer.getSize():e.size,t.getPixelData=(l,f,c,d)=>{const p=new Uint8Array((c-l+1)*(d-f+1)*4);return e.context.readPixels(l,f,c-l+1,d-f+1,e.context.RGBA,e.context.UNSIGNED_BYTE,p),p},t.get3DContext=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,powerPreference:"high-performance"},f=null;const c=typeof WebGL2RenderingContext<"u";return e.webgl2=!1,e.defaultToWebgl2&&c&&(f=e.canvas.getContext("webgl2",l),f&&(e.webgl2=!0,u5("using webgl2"))),f||(u5("using webgl1"),f=e.canvas.getContext("webgl",l)||e.canvas.getContext("experimental-webgl",l)),new Proxy(f,n)},t.restoreContext=()=>{const l=n2.newInstance();l.setCurrentOperation("Release"),l.traverse(t,null)},t.activateTexture=l=>{const f=e._textureResourceIds.get(l);if(f!==void 0){e.context.activeTexture(e.context.TEXTURE0+f);return}const c=t.getTextureUnitManager().allocate();if(c<0){c5("Hardware does not support the number of textures defined.");return}e._textureResourceIds.set(l,c),e.context.activeTexture(e.context.TEXTURE0+c)},t.deactivateTexture=l=>{const f=e._textureResourceIds.get(l);f!==void 0&&(t.getTextureUnitManager().free(f),e._textureResourceIds.delete(l))},t.getTextureUnitForTexture=l=>{const f=e._textureResourceIds.get(l);return f!==void 0?f:-1},t.getDefaultTextureByteSize=function(l){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.webgl2)switch(l){case Ye.CHAR:case Ye.SIGNED_CHAR:case Ye.UNSIGNED_CHAR:return 1;case f:case c:case Ye.UNSIGNED_SHORT:case Ye.SHORT:case Ye.VOID:return 2;default:return 4}return 1},t.getDefaultTextureInternalFormat=function(l,f){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e.webgl2)switch(l){case Ye.UNSIGNED_CHAR:switch(f){case 1:return e.context.R8;case 2:return e.context.RG8;case 3:return e.context.RGB8;case 4:default:return e.context.RGBA8}case(c&&!d&&Ye.UNSIGNED_SHORT):switch(f){case 1:return c.R16_EXT;case 2:return c.RG16_EXT;case 3:return c.RGB16_EXT;case 4:default:return c.RGBA16_EXT}case(c&&!d&&Ye.SHORT):switch(f){case 1:return c.R16_SNORM_EXT;case 2:return c.RG16_SNORM_EXT;case 3:return c.RGB16_SNORM_EXT;case 4:default:return c.RGBA16_SNORM_EXT}case Ye.FLOAT:default:switch(f){case 1:return e.context.R16F;case 2:return e.context.RG16F;case 3:return e.context.RGB16F;case 4:default:return e.context.RGBA16F}}switch(f){case 1:return e.context.LUMINANCE;case 2:return e.context.LUMINANCE_ALPHA;case 3:return e.context.RGB;case 4:default:return e.context.RGBA}},t.setBackgroundImage=l=>{e.bgImage.src=l.src},t.setUseBackgroundImage=l=>{e.useBackgroundImage=l,e.useBackgroundImage&&!e.el.contains(e.bgImage)?e.el.appendChild(e.bgImage):!e.useBackgroundImage&&e.el.contains(e.bgImage)&&e.el.removeChild(e.bgImage)};function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.imageFormat;const f=document.createElement("canvas"),c=f.getContext("2d");f.width=e.canvas.width,f.height=e.canvas.height,c.drawImage(e.canvas,0,0);const d=e.canvas.getBoundingClientRect();e.renderable.getRenderers().forEach(h=>{h.getViewProps().forEach(m=>{if(m.getContainer){const y=m.getContainer().getElementsByTagName("canvas");for(let b=0;b<y.length;b++){const v=y[b],g=v.getBoundingClientRect(),x=g.x-d.x,S=g.y-d.y;c.drawImage(v,x,S)}}})});const p=f.toDataURL(l);f.remove(),t.invokeImageReady(p)}t.captureNextImage=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",{resetCamera:f=!1,size:c=null,scale:d=1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e.deleted)return null;e.imageFormat=l;const p=e.notifyStartCaptureImage;return e.notifyStartCaptureImage=!0,e._screenshot={size:c||d!==1?c||e.size.map(h=>h*d):null},new Promise((h,m)=>{const y=t.onImageReady(b=>{if(e._screenshot.size===null)e.notifyStartCaptureImage=p,y.unsubscribe(),e._screenshot.placeHolder&&(e.size=e._screenshot.originalSize,t.modified(),e._screenshot.cameras&&e._screenshot.cameras.forEach(v=>{let{restoreParamsFn:g,arg:x}=v;return g(x)}),t.traverseAllPasses(),e.el.removeChild(e._screenshot.placeHolder),e._screenshot.placeHolder.remove(),e._screenshot=null),h(b);else{const v=document.createElement("img");if(v.style=Zte,v.src=b,e._screenshot.placeHolder=e.el.appendChild(v),e.canvas.style.display="none",e._screenshot.originalSize=e.size,e.size=e._screenshot.size,e._screenshot.size=null,t.modified(),f){const g=f!==!0;e._screenshot.cameras=e.renderable.getRenderers().map(x=>{const S=x.getActiveCamera(),C=S.get("focalPoint","position","parallelScale");return{resetCameraArgs:g?{renderer:x}:void 0,resetCameraFn:g?f:x.resetCamera,restoreParamsFn:S.set,arg:JSON.parse(JSON.stringify(C))}}),e._screenshot.cameras.forEach(x=>{let{resetCameraFn:S,resetCameraArgs:C}=x;return S(C)})}t.traverseAllPasses()}})})};let a;t.getHardwareMaximumLineWidth=()=>{if(a!=null)return a;const l=t.get3DContext(),f=l.getParameter(l.ALIASED_LINE_WIDTH_RANGE);return a=f[1],f[1]},t.getGLInformations=()=>{if(e._glInformation)return e._glInformation;const l=t.get3DContext(),f=l.getExtension("OES_texture_float"),c=l.getExtension("OES_texture_half_float"),d=l.getExtension("WEBGL_debug_renderer_info"),p=l.getExtension("WEBGL_draw_buffers"),h=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),m=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",l.getParameter(l.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",l.getParameter(l.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",l.getParameter(l.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",l.getParameter(l.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",l.getParameter(l.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",l.getParameter(l.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",l.getParameter(l.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",l.getParameter(l.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",h&&l.getParameter(h.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",l.getParameter(l.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",l.getParameter(l.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",l.getParameter(l.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",l.getParameter(l.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",l.getParameter(l.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",l.getParameter(l.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",l.getParameter(l.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",l.getParameter(l.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",l.getParameter(l.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",l.getParameter(l.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",l.getParameter(l.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",l.getParameter(l.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",l.getParameter(l.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[f&&Fn(l,l.RGBA,l.UNSIGNED_BYTE)?"RGBA":"",f&&Fn(l,l.RGB,l.UNSIGNED_BYTE)?"RGB":"",f&&Fn(l,l.LUMINANCE,l.UNSIGNED_BYTE)?"LUMINANCE":"",f&&Fn(l,l.ALPHA,l.UNSIGNED_BYTE)?"ALPHA":"",f&&Fn(l,l.LUMINANCE_ALPHA,l.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[c&&Fn(l,l.RGBA,c.HALF_FLOAT_OES)?"RGBA":"",c&&Fn(l,l.RGB,c.HALF_FLOAT_OES)?"RGB":"",c&&Fn(l,l.LUMINANCE,c.HALF_FLOAT_OES)?"LUMINANCE":"",c&&Fn(l,l.ALPHA,c.HALF_FLOAT_OES)?"ALPHA":"",c&&Fn(l,l.LUMINANCE_ALPHA,c.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[f&&Fn(l,l.RGBA,l.FLOAT)?"RGBA":"",f&&Fn(l,l.RGB,l.FLOAT)?"RGB":"",f&&Fn(l,l.LUMINANCE,l.FLOAT)?"LUMINANCE":"",f&&Fn(l,l.ALPHA,l.FLOAT)?"ALPHA":"",f&&Fn(l,l.LUMINANCE_ALPHA,l.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",p?l.getParameter(p.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.HIGH_FLOAT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.MEDIUM_FLOAT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.LOW_FLOAT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_FLOAT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.LOW_FLOAT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.HIGH_INT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.HIGH_INT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.MEDIUM_INT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.LOW_INT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.LOW_INT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.VERTEX_SHADER,l.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_INT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_INT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_INT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.LOW_INT).precision," (-2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.LOW_INT).rangeMin,"</sup> - 2<sup>",l.getShaderPrecisionFormat(l.FRAGMENT_SHADER,l.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",l.getSupportedExtensions().join("<br/>					    ")],["WebGL Renderer","RENDERER",l.getParameter(l.RENDERER)],["WebGL Vendor","VENDOR",l.getParameter(l.VENDOR)],["WebGL Version","VERSION",l.getParameter(l.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",l.getParameter(l.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",d&&l.getParameter(d.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",d&&l.getParameter(d.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",e.webgl2?2:1]],y={};for(;m.length;){const[b,v,g]=m.pop();v&&(y[v]={label:b,value:g})}return e._glInformation=y,y},t.traverseAllPasses=()=>{if(e.renderPasses)for(let l=0;l<e.renderPasses.length;++l)e.renderPasses[l].traverse(t,null);e.notifyStartCaptureImage&&i()},t.disableCullFace=()=>{e.cullFaceEnabled&&(e.context.disable(e.context.CULL_FACE),e.cullFaceEnabled=!1)},t.enableCullFace=()=>{e.cullFaceEnabled||(e.context.enable(e.context.CULL_FACE),e.cullFaceEnabled=!0)},t.setViewStream=l=>{if(e.viewStream===l)return!1;if(e.subscription&&(e.subscription.unsubscribe(),e.subscription=null),e.viewStream=l,e.viewStream){const f=e.renderable.getRenderers()[0];f.getBackgroundByReference()[3]=0,t.setUseBackgroundImage(!0),e.subscription=e.viewStream.onImageReady(c=>t.setBackgroundImage(c.image)),e.viewStream.setSize(e.size[0],e.size[1]),e.viewStream.invalidateCache(),e.viewStream.render(),t.modified()}return!0},t.createSelector=()=>{const l=Ku.newInstance();return l.setOpenGLRenderWindow(t),l};function s(){e.canvas.removeEventListener("webglcontextlost",f5),e.canvas.removeEventListener("webglcontextrestored",t.restoreContext)}t.delete=V.chain(s,t.delete,t.setViewStream,ene),t.setActiveFramebuffer=l=>{e.activeFramebuffer=l};const u=t.setSize;t.setSize=(l,f)=>{const c=u(l,f);return c&&t.invokeWindowResizeEvent({width:l,height:f}),c},t.getGraphicsResourceForObject=l=>{if(!l)return null;const f=e._graphicsResources.get(l),c=e._graphicsResourceHash.get(l);return{vtkObj:f,hash:c}},t.setGraphicsResourceForObject=(l,f,c)=>{l&&(e._graphicsResources.set(l,f),e._graphicsResourceHash.set(l,c))},t.getGraphicsMemoryInfo=()=>{let l=0;return e._graphicsResources.forEach((f,c)=>{l+=f.getAllocatedGPUMemoryInBytes()}),l},t.releaseGraphicsResourcesForObject=l=>{var f;return l?((f=e._graphicsResources.get(l))==null||f.releaseGraphicsResources(t),e._graphicsResources.delete(l)&&e._graphicsResourceHash.delete(l)):!1},t.releaseGraphicsResources=()=>{e.shaderCache!==null&&e.shaderCache.releaseGraphicsResources(t),e._graphicsResources.forEach((l,f)=>{l.releaseGraphicsResources(t)}),e._graphicsResources.clear(),e._graphicsResourceHash.clear(),e.textureUnitManager!==null&&e.textureUnitManager.freeAll(),e.renderable.getRenderersByReference().forEach(l=>{const f=t.getViewNodeFor(l);f==null||f.releaseGraphicsResources()})}}const one={cullFaceEnabled:!1,shaderCache:null,initialized:!1,context:null,canvas:null,cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,containerSize:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,activeFramebuffer:null,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1};function sw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,one,n),Xte.extend(t,e,n),e.canvas=document.createElement("canvas"),e.canvas.style.width="100%",Qte(),e.selector||(e.selector=Ku.newInstance(),e.selector.setOpenGLRenderWindow(t)),e.bgImage=new Image,e.bgImage.style.position="absolute",e.bgImage.style.left="0",e.bgImage.style.top="0",e.bgImage.style.width="100%",e.bgImage.style.height="100%",e.bgImage.style.zIndex="-1",e._textureResourceIds=new Map,e._graphicsResources=new Map,e._graphicsResourceHash=new Map,e._glInformation=null,e.myFactory=NF.newInstance(),e.myFactory.registerOverride("vtkRenderWindow",r2),e.shaderCache=Ute.newInstance(),e.shaderCache.setOpenGLRenderWindow(t),e.renderPasses[0]=Rte.newInstance(),V.event(t,e,"imageReady"),V.get(t,e,["shaderCache","textureUnitManager","webgl2","useBackgroundImage","activeFramebuffer"]),V.setGet(t,e,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","useOffScreen"]),V.setGetArray(t,e,["size"],2),V.event(t,e,"windowResizeEvent"),rne(t,e)}const r2=V.newInstance(sw,"vtkOpenGLRenderWindow");vC("WebGL",r2);var lw={newInstance:r2,extend:sw,pushMonitorGLContextCount:tne,popMonitorGLContextCount:nne};function ine(t,e){e.classHierarchy.push("vtkCompositeCameraManipulator"),t.computeDisplayCenter=(n,r)=>{const o=n.computeWorldToDisplay(r,e.center[0],e.center[1],e.center[2]);e.displayCenter[0]=o[0],e.displayCenter[1]=o[1]}}const ane={center:[0,0,0],rotationFactor:1,displayCenter:[0,0]};function sne(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,ane,n),V.setGet(t,e,["rotationFactor"]),V.setGetArray(t,e,["displayCenter"],2),V.setGetArray(t,e,["center"],3),ine(t,e)}var el={extend:sne};function lne(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRotateManipulator");const n=new Float64Array(3),r=new Float64Array(3),o=new Float64Array(3),i=new Float64Array(16),a=new Float64Array(3),s=new Float64Array(3),u=new Float64Array(3);t.onButtonDown=(l,f,c)=>{e.previousPosition=c},t.onMouseMove=(l,f,c)=>{if(!c)return;const d=f.getActiveCamera(),p=d.getPosition(),h=d.getFocalPoint();Le(i);const{center:m,rotationFactor:y}=e;e.useFocalPointAsCenterOfRotation&&(m[0]=h[0],m[1]=h[1],m[2]=h[2]);const b=e.previousPosition.x-c.x,v=e.previousPosition.y-c.y,g=l.getView().getViewportSize(f),x=d.getViewUp();if(e.useWorldUpVec){const S=new Float64Array(3);lL(S,e.worldUpVec),hg(S,Fe(p,e.worldUpVec)/Fe(e.worldUpVec,e.worldUpVec)),pu(m,S,S),Ot(i,i,S),Cn(i,i,At(360*b/g[0]*y),e.worldUpVec),S[0]=-S[0],S[1]=-S[1],S[2]=-S[2],Ot(i,i,S),Ot(i,i,m)}else Ot(i,i,m),Cn(i,i,At(360*b/g[0]*y),x);Kt(d.getDirectionOfProjection(),x,a),Cn(i,i,At(-360*v/g[1]*y),a),s[0]=-m[0],s[1]=-m[1],s[2]=-m[2],Ot(i,i,s),Be(n,p,i),Be(r,h,i),u[0]=x[0]+p[0],u[1]=x[1]+p[1],u[2]=x[2]+p[2],Be(o,u,i),d.setPosition(n[0],n[1],n[2]),d.setFocalPoint(r[0],r[1],r[2]),d.setViewUp(o[0]-n[0],o[1]-n[1],o[2]-n[2]),d.orthogonalizeViewUp(),f.resetCameraClippingRange(),l.getLightFollowCamera()&&f.updateLightsGeometryToFollowCamera(),e.previousPosition=c}}const une={useWorldUpVec:!1,worldUpVec:[0,1,0],useFocalPointAsCenterOfRotation:!1};function uw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,une,n),V.obj(t,e),Qs.extend(t,e,n),el.extend(t,e,n),V.setGet(t,e,["useWorldUpVec"]),V.setGetArray(t,e,["worldUpVec"],3),V.setGet(t,e,["useFocalPointAsCenterOfRotation"]),lne(t,e)}const cne=V.newInstance(uw,"vtkMouseCameraTrackballRotateManipulator");var cw={newInstance:cne,extend:uw};function fne(t,e){e.classHierarchy.push("vtkMouseCameraTrackballRollManipulator");const n=new Float64Array(3),r=new Float64Array(3),o=new Float64Array(3),i=new Float64Array(16),a=new Float64Array(3),s=new Float64Array(3),u=new Float64Array(3);t.onButtonDown=(l,f,c)=>{e.previousPosition=c},t.onMouseMove=(l,f,c)=>{if(!c)return;const d=f.getActiveCamera(),p=d.getPosition(),h=d.getFocalPoint(),m=d.getViewUp();n[0]=h[0]-p[0],n[1]=h[1]-p[1],n[2]=h[2]-p[2],t.computeDisplayCenter(l.getInteractorStyle(),f);const y=e.previousPosition.x-e.displayCenter[0],b=c.x-e.displayCenter[0],v=e.previousPosition.y-e.displayCenter[1],g=c.y-e.displayCenter[1];if(b===0&&g===0||y===0&&v===0)return;const x=du((y*g-v*b)/(Math.sqrt(y*y+v*v)*Math.sqrt(b*b+g*g))),{center:S}=e;Le(i),o[0]=-S[0],o[1]=-S[1],o[2]=-S[2],Ot(i,i,S),Cn(i,i,At(x),n),Ot(i,i,o),Be(a,p,i),Be(s,h,i),r[0]=m[0]+p[0],r[1]=m[1]+p[1],r[2]=m[2]+p[2],Be(u,r,i),d.setPosition(a[0],a[1],a[2]),d.setFocalPoint(s[0],s[1],s[2]),d.setViewUp(u[0]-a[0],u[1]-a[1],u[2]-a[2]),d.orthogonalizeViewUp(),f.resetCameraClippingRange(),l.getLightFollowCamera()&&f.updateLightsGeometryToFollowCamera(),e.previousPosition=c}}const dne={};function fw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,dne,n),V.obj(t,e),el.extend(t,e,n),Qs.extend(t,e,n),fne(t,e)}const pne=V.newInstance(fw,"vtkMouseCameraTrackballRollManipulator");var dw={newInstance:pne,extend:fw};function hne(t,e){return t<e?e:t}function d5(t){return t*t}function mne(t,e){e.classHierarchy.push("vtkMouseCameraTrackballMultiRotateManipulator");const n=cw.newInstance(),r=dw.newInstance();let o=null;t.onButtonDown=(i,a,s)=>{const u=i.getView().getViewportSize(a),l=[.5*u[0],.5*u[1]],f=.9*hne(l[0],l[1]),c=d5(l[0]-s.x)+d5(l[1]-s.y);f*f>c?o=n:o=r,o.setButton(t.getButton()),o.setShift(t.getShift()),o.setControl(t.getControl()),o.setCenter(t.getCenter()),o.onButtonDown(i,s)},t.onButtonUp=i=>{o&&o.onButtonUp(i)},t.onMouseMove=(i,a,s)=>{o&&o.onMouseMove(i,a,s)}}const gne={};function pw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,gne,n),V.obj(t,e),Qs.extend(t,e,n),el.extend(t,e,n),mne(t,e)}const vne=V.newInstance(pw,"vtkMouseCameraTrackballMultiRotateManipulator");var yne={newInstance:vne,extend:pw};function bne(t,e){e.classHierarchy.push("vtkMouseCameraTrackballPanManipulator"),t.onButtonDown=(n,r,o)=>{e.previousPosition=o},t.onMouseMove=(n,r,o)=>{if(!o)return;const i=o,a=e.previousPosition;e.previousPosition=o;const s=r.getActiveCamera(),u=s.getPosition(),l=s.getFocalPoint();if(s.getParallelProjection()){s.orthogonalizeViewUp();const f=s.getViewUp(),c=s.getViewPlaneNormal(),d=[0,0,0];Kt(c,f,d);const p=n.getView().getViewportSize(r)[1];let h=(i.x-a.x)/p,m=(a.y-i.y)/p;const y=s.getParallelScale();h*=y*2,m*=y*2;let b=d[0]*h+f[0]*m;u[0]+=b,l[0]+=b,b=d[1]*h+f[1]*m,u[1]+=b,l[1]+=b,b=d[2]*h+f[2]*m,u[2]+=b,l[2]+=b,s.setPosition(u[0],u[1],u[2]),s.setFocalPoint(l[0],l[1],l[2])}else{const{center:f}=e,c=n.getInteractorStyle(),d=c.computeWorldToDisplay(r,f[0],f[1],f[2])[2],p=c.computeDisplayToWorld(r,i.x,i.y,d),h=c.computeDisplayToWorld(r,a.x,a.y,d),m=[u[0]+(h[0]-p[0]),u[1]+(h[1]-p[1]),u[2]+(h[2]-p[2])],y=[l[0]+(h[0]-p[0]),l[1]+(h[1]-p[1]),l[2]+(h[2]-p[2])];s.setPosition(m[0],m[1],m[2]),s.setFocalPoint(y[0],y[1],y[2])}r.resetCameraClippingRange(),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}const xne={};function hw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,xne,n),V.obj(t,e),el.extend(t,e,n),Qs.extend(t,e,n),bne(t,e)}const Sne=V.newInstance(hw,"vtkMouseCameraTrackballPanManipulator");var Cne={newInstance:Sne,extend:hw};function wne(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomManipulator"),t.onButtonDown=(n,r,o)=>{e.previousPosition=o;const i=n.getView().getViewportSize(r),a=r.getActiveCamera(),s=e.flipDirection?-1:1;if(a.getParallelProjection())e.zoomScale=1.5/i[1]*s;else{const u=a.getClippingRange();e.zoomScale=1.5*(u[1]/i[1])*s}},t.onMouseMove=(n,r,o)=>{if(!o)return;const i=e.previousPosition.y-o.y,a=r.getActiveCamera();if(a.getParallelProjection()){const s=i*e.zoomScale;a.setParallelScale((1-s)*a.getParallelScale())}else{const s=a.getPosition(),u=a.getFocalPoint(),l=a.getDirectionOfProjection(),f=i*e.zoomScale;let c=f*l[0];s[0]+=c,u[0]+=c,c=f*l[1],s[1]+=c,u[1]+=c,c=f*l[2],s[2]+=c,u[2]+=c,a.getFreezeFocalPoint()||a.setFocalPoint(u[0],u[1],u[2]),a.setPosition(s[0],s[1],s[2]),r.resetCameraClippingRange()}n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),e.previousPosition=o},t.onScroll=(n,r,o)=>{if(!o)return;const i=r.getActiveCamera(),a=1-o/10;i.getParallelProjection()?i.setParallelScale(i.getParallelScale()/a):(i.dolly(a),r.resetCameraClippingRange()),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera()}}const Tne={zoomScale:0,flipDirection:!1};function mw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Tne,n),V.obj(t,e),Qs.extend(t,e,n),el.extend(t,e,n),V.setGet(t,e,["flipDirection"]),wne(t,e)}const _ne=V.newInstance(mw,"vtkMouseCameraTrackballZoomManipulator");var gw={newInstance:_ne,extend:mw};function Ane(t,e){e.classHierarchy.push("vtkMouseCameraTrackballZoomToMouseManipulator");const n=t.onButtonDown;t.onButtonDown=(r,o,i)=>{n(r,o,i),e.zoomPosition=i},t.onMouseMove=(r,o,i)=>{if(!i)return;const a=(e.previousPosition.y-i.y)*e.zoomScale;Us.dollyToPosition(1-a,e.zoomPosition,o,r),r.getLightFollowCamera()&&o.updateLightsGeometryToFollowCamera(),e.previousPosition=i},t.onScroll=(r,o,i,a)=>{if(!i||!a)return;const s=1-i*.1;Us.dollyToPosition(s,a,o,r),r.getLightFollowCamera()&&o.updateLightsGeometryToFollowCamera()}}const Ene={zoomPosition:null};function vw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,Ene,n),gw.extend(t,e,n),Ane(t,e)}const Dne=V.newInstance(vw,"vtkMouseCameraTrackballZoomToMouseManipulator");var Ine={newInstance:Dne,extend:vw};function Pne(t,e){e.classHierarchy.push("vtkCompositeGestureManipulator"),t.startInteraction=()=>{},t.endInteraction=()=>{},t.onStartPinch=(n,r)=>{},t.onStartRotate=(n,r)=>{},t.onStartPan=(n,r)=>{},t.onPinch=(n,r,o)=>{},t.onRotate=(n,r,o)=>{},t.onPan=(n,r,o)=>{},t.onEndPinch=n=>{},t.onEndRotate=n=>{},t.onEndPan=n=>{},t.isPinchEnabled=()=>e.pinchEnabled,t.isPanEnabled=()=>e.panEnabled,t.isRotateEnabled=()=>e.rotateEnabled}const One={pinchEnabled:!0,panEnabled:!0,rotateEnabled:!0};function Nne(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,One,n),V.set(t,e,["pinchEnabled","panEnabled","rotateEnabled"]),V.setGet(t,e,["interactorStyle"]),Pne(t,e)}var Rne={extend:Nne};function Mne(t,e){e.classHierarchy.push("vtkGestureCameraManipulator"),t.onStartPinch=(n,r)=>{e.previousScale=r},t.onStartRotate=(n,r)=>{e.previousRotation=r},t.onStartPan=(n,r)=>{e.previousTranslation=r},t.onPinch=(n,r,o)=>{Us.dollyByFactor(n,r,o/e.previousScale),e.previousScale=o},t.onPan=(n,r,o)=>{const i=r.getActiveCamera(),a=n.getInteractorStyle();let s=i.getFocalPoint();s=a.computeWorldToDisplay(r,s[0],s[1],s[2]);const u=s[2],l=o,f=e.previousTranslation,c=a.computeDisplayToWorld(r,s[0]+l[0]-f[0],s[1]+l[1]-f[1],u),d=a.computeDisplayToWorld(r,s[0],s[1],u),p=[];p[0]=d[0]-c[0],p[1]=d[1]-c[1],p[2]=d[2]-c[2],s=i.getFocalPoint();const h=i.getPosition();i.setFocalPoint(p[0]+s[0],p[1]+s[1],p[2]+s[2]),i.setPosition(p[0]+h[0],p[1]+h[1],p[2]+h[2]),n.getLightFollowCamera()&&r.updateLightsGeometryToFollowCamera(),i.orthogonalizeViewUp(),e.previousTranslation=o},t.onRotate=(n,r,o)=>{const i=r.getActiveCamera();i.roll(o-e.previousRotation),i.orthogonalizeViewUp(),e.previousRotation=o}}const kne={};function yw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.assign(e,kne,n),V.obj(t,e),Rne.extend(t,e,n),el.extend(t,e,n),Mne(t,e)}const Lne=V.newInstance(yw,"vtkGestureCameraManipulator");var Fne={newInstance:Lne,extend:yw};const bw=["focalPoint","parallelProjection","parallelScale","position","viewAngle","viewUp"],Bne={None:null,Pan:Cne,Zoom:gw,Roll:dw,Rotate:cw,MultiRotate:yne,ZoomToMouse:Ine,Select:hC};function xw(t,e,n){t.removeAllMouseManipulators(),e.forEach(r=>{const o=Bne[r.action];if(o){const{button:i,shift:a,control:s,alt:u,scrollEnabled:l,dragEnabled:f}=r,c=o.newInstance();c.setButton(i),c.setShift(!!a),c.setControl(!!s),c.setAlt(!!u),l!==void 0&&c.setScrollEnabled(l),f!==void 0&&c.setDragEnabled(f),t.addMouseManipulator(c),c.onBoxSelectChange&&n&&c.onBoxSelectChange(n)}}),t.addGestureManipulator(Fne.newInstance())}class Vne{constructor(e){this.readyRef=e,this.count=0,this.start=()=>{this.count++,this.readyRef.value&&(this.readyRef.value=!1)},this.stop=()=>{this.count--,this.count===0&&(this.readyRef.value=!0)},this.reset=()=>this.count=0}wrap(e){return vt(this,null,function*(){this.start();try{yield e}finally{setTimeout(this.stop,1)}return e})}}class Une{constructor(e,n,r,o,i){this.vueCtx=i,this.pickingModes=n,this.container=null,this.rwId=0,this.mtime=0,this.busy=new Vne(i.ready),this.renderer=null,this.activeCamera=null,this.subscriptions=[],this.ctx=s5.getSynchronizerContext(e),this.ctx.setFetchArrayFunction((u,l=!0)=>(this.render(),this.busy.wrap(r(u,l)))),this.renderWindow=s5.newInstance({synchronizerContext:this.ctx}),this.openglRenderWindow=lw.newInstance({cursor:"default"}),this.renderWindow.addView(this.openglRenderWindow),this.interactor=Id.newInstance(),this.interactor.setView(this.openglRenderWindow),this.interactor.initialize(),o.forEach(u=>{const l=`on${u}`;this.subscriptions.push(this.interactor[l](f=>this.vueCtx.emit(u,f)))}),this.style=Us.newInstance(),this.interactor.setInteractorStyle(this.style),this.render=Io(()=>{this.renderer&&this.renderer.resetCameraClippingRange(),this.renderWindow.render()},0),this.selector=Ku.newInstance({captureZValues:!0}),this.selector.setFieldAssociation(Dg.FIELD_ASSOCIATION_POINTS);const a=({x:u,y:l})=>{if(!this.pickingModes.includes("click"))return;const f=this.pick(u,l,u,l);this.vueCtx.emit("click",f[0])};this.debouncedHover=Io(({x:u,y:l})=>{if(!this.pickingModes.includes("hover"))return;const f=this.pick(u,l,u,l);this.lastSelection.length===0&&f.length===0||(this.lastSelection=f,this.vueCtx.emit("hover",f[0]))},10);const s=({selection:u})=>{if(!this.pickingModes.includes("select"))return;const[l,f,c,d]=u,p=this.pick(l,c,f,d);this.vueCtx.emit("select",p)};this.onClick=u=>a(this.getScreenEventPositionFor(u)),this.onMouseMove=u=>this.debouncedHover(this.getScreenEventPositionFor(u)),this.lastSelection=[],this.onBoxSelectChange=s}setContainer(e){this.container=e,this.openglRenderWindow.setContainer(e),this.interactor.bindEvents(e),this.resize(),this.resetCamera()}setSynchronizedViewId(e){const n=this.renderWindow.getRenderersByReference();for(;n.length;)n.pop();this.renderWindow.setSynchronizedViewId(e),this.rwId=e}updateViewState(e){return vt(this,null,function*(){this.renderWindow.getInteractor().setEnableRender(!1),this.vueCtx.emit("beforeSceneLoaded"),this.mtime=Math.max(this.mtime,e.mtime)+1,this.busy.reset(),this.busy.start(),e.mtime=this.mtime;const n=this.renderWindow.synchronize(e);n&&(this.renderWindow.getRenderersByReference().length&&([this.renderer]=this.renderWindow.getRenderersByReference(),this.activeCamera=this.renderer.getActiveCamera()),e.extra&&e.extra.camera&&this.activeCamera&&this.ctx.registerInstance(e.extra.camera,this.activeCamera)),(yield n)&&(e.extra&&(e.extra.camera&&(this.remoteCamera=this.ctx.getInstance(e.extra.camera),this.remoteCamera&&this.style.setCenterOfRotation(this.remoteCamera.getFocalPoint())),e.extra.centerOfRotation&&this.style.setCenterOfRotation(e.extra.centerOfRotation),e.extra.resetCamera&&this.resetCamera()),this.vueCtx.nextTick(this.render),this.vueCtx.emit("viewStateChange",e),this.busy.stop(),this.vueCtx.emit("afterSceneLoaded"),this.renderWindow.getInteractor().setEnableRender(!0))})}resize(){if(this.container){const e=window.devicePixelRatio||1,{width:n,height:r}=this.container.getBoundingClientRect();this.openglRenderWindow.setSize(Math.floor(Math.max(n*e,10)),Math.floor(Math.max(r*e,10))),this.vueCtx.nextTick(this.render),this.vueCtx.emit("resize")}}resetCamera(){this.renderer&&(this.renderer.resetCamera(),this.style.setCenterOfRotation(this.renderer.getActiveCamera().getFocalPoint()),this.vueCtx.nextTick(this.render),this.vueCtx.emit("resetCamera"))}getCamera(){const e=this.style.getCenterOfRotation();return this.activeCamera=this.interactor.getCurrentRenderer().getActiveCamera(),q({centerOfRotation:e},this.activeCamera.get("position","focalPoint","viewUp","parallelProjection","parallelScale","viewAngle"))}setCamera(e){if(this.activeCamera){const n={};bw.forEach(r=>{e[r]&&(n[r]=e[r])}),this.activeCamera.set(n),e.centerOfRotation&&this.style.setCenterOfRotation(e.centerOfRotation),this.vueCtx.nextTick(this.render)}}updateStyle(e,n){xw(this.style,e,n)}captureImage(e,n){return this.renderWindow.captureImages(e,n)[0]}getScreenEventPositionFor(e){if(!this.container)return;const n=this.container.getBoundingClientRect(),[r,o]=this.openglRenderWindow.getSize(),i=r/n.width,a=o/n.height;return{x:i*(e.clientX-n.left),y:a*(n.height-e.clientY+n.top),z:0}}pick(e,n,r,o){if(this.selector.attach(this.openglRenderWindow,this.renderer),!!this.renderer){if(this.selector.setArea(e,n,r,o),this.previousSelectedData=null,this.selector.captureBuffers()){if(this.selections=this.selector.generateSelection(e,n,r,o)||[],e!==r||n!==o){const a=[Array.from(this.openglRenderWindow.displayToWorld(e,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,n,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,o,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,o,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,n,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,o,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,o,1,this.renderer))],s=[];return this.selections.forEach(u=>{const{prop:l}=u.getProperties(),{remoteId:f}=l.get("remoteId");f&&s.push(f)}),{frustrum:a,remoteIds:s}}const i=[Array.from(this.openglRenderWindow.displayToWorld(e,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,n,1,this.renderer))];return this.selections.map(a=>{const{prop:s,compositeID:u,displayPosition:l}=a.getProperties();return Oe(q({mode:"local",worldPosition:Array.from(this.openglRenderWindow.displayToWorld(l[0],l[1],l[2],this.renderer)),displayPosition:l,compositeID:u},s.get("remoteId")),{ray:i})})}return[]}}beforeDelete(){for(this.render.cancel();this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.interactor.unbindEvents(),this.openglRenderWindow.setContainer(null),this.renderWindow.removeRenderer(this.renderer),this.renderWindow.removeView(this.openglRenderWindow),this.interactor.delete(),this.interactor=null,this.renderer=null,this.renderWindow.delete(),this.renderWindow=null,this.openglRenderWindow.delete(),this.openglRenderWindow=null}}function Sw(t){let e=!1;function n(){e=!0}function r(){e=!1}function o(i){if(e)switch(i.code){case"KeyR":t.resetCamera();break}}return{onEnter:n,onLeave:r,onKeyUp:o}}class Gne{constructor(e,n,r,o,i){this.vueCtx=i,this.pickingModes=n,this.renderWindow=qg.newInstance(),this.renderer=_C.newInstance({background:e}),this.renderWindow.addRenderer(this.renderer),this.activeCamera=this.renderer.getActiveCamera(),this.activeCamera.set(this.camera),this.openglRenderWindow=lw.newInstance({cursor:"default"}),this.renderWindow.addView(this.openglRenderWindow),this.interactor=Id.newInstance(),this.interactor.setView(this.openglRenderWindow),this.interactor.initialize(),this.subscriptions=[],o.forEach(l=>{const f=`on${l}`;this.subscriptions.push(this.interactor[f](c=>this.vueCtx.emit(l,c)))}),this.style=Us.newInstance(),this.interactor.setInteractorStyle(this.style),this.selector=Ku.newInstance({captureZValues:!0}),this.selector.setFieldAssociation(Dg.FIELD_ASSOCIATION_POINTS),this.selector.attach(this.openglRenderWindow,this.renderer),this.render=Io(()=>{this.renderer.resetCameraClippingRange(),this.renderWindow.render()},1),this.cubeAxes=kg.newInstance({dataBounds:[-1,1,-1,1,-1,1],visibility:!1}),this.cubeAxes.setVisibility(!1),this.cubeAxes.getActors().forEach(({setVisibility:l})=>l(!1)),this.cubeAxes.setCamera(this.activeCamera),this.renderer.addActor(this.cubeAxes);const a=et.newInstance({bounds:[0,0,0,0,0,0]});this.updateCubeBounds=()=>{a.reset();const{props:l}=this.renderer.get("props");for(let f=0;f<l.length;f++){const c=l[f];c.getVisibility()&&c.getUseBounds()&&c!==this.cubeAxes&&a.addBounds(...c.getBounds())}this.cubeAxes.setDataBounds(a.getBounds())},this.debouncedCubeBounds=Io(this.updateCubeBounds,50),this.subscriptions=[],this.subscriptions.push(this.renderer.onEvent(({type:l,renderer:f})=>{f&&l==="ComputeVisiblePropBoundsEvent"&&this.debouncedCubeBounds()}));const s=({x:l,y:f})=>{if(!this.pickingModes.includes("click"))return;const c=this.pick(l,f,l,f);this.vueCtx.emit("click",c[0])};this.debouncedHover=Io(({x:l,y:f})=>{if(!this.pickingModes.includes("hover"))return;const c=this.pick(l,f,l,f);this.lastSelection.length===0&&c.length===0||(this.lastSelection=c,this.vueCtx.emit("hover",c[0]))},10);const u=({selection:l})=>{if(!this.pickingModes.includes("select"))return;const[f,c,d,p]=l,h=this.pick(f,d,c,p);this.vueCtx.emit("select",h)};this.onClick=l=>s(this.getScreenEventPositionFor(l)),this.onMouseMove=l=>this.debouncedHover(this.getScreenEventPositionFor(l)),this.lastSelection=[],this.onBoxSelectChange=u,this.updateStyle(r)}setContainer(e){this.container=e,this.openglRenderWindow.setContainer(e),this.interactor.bindEvents(e),this.resize(),this.resetCamera(),this.resetCameraTimeout=setTimeout(()=>this.resetCamera(),100)}resize(){if(this.container){const e=window.devicePixelRatio||1,{width:n,height:r}=this.container.getBoundingClientRect();this.openglRenderWindow.setSize(Math.floor(Math.max(n*e,10)),Math.floor(Math.max(r*e,10))),this.vueCtx.nextTick(this.render),this.vueCtx.emit("resize")}}resetCamera(){this.renderer&&(this.renderer.resetCamera(),this.style.setCenterOfRotation(this.renderer.getActiveCamera().getFocalPoint()),this.vueCtx.nextTick(this.render),this.vueCtx.emit("resetCamera"))}getCamera(){const e=this.style.getCenterOfRotation();return this.activeCamera=this.interactor.getCurrentRenderer().getActiveCamera(),q({centerOfRotation:e},this.activeCamera.get("position","focalPoint","viewUp","parallelProjection","parallelScale","viewAngle"))}setCamera(e){if(this.activeCamera){const n={};bw.forEach(r=>{e[r]&&(n[r]=e[r])}),this.activeCamera.set(n),e.centerOfRotation&&this.style.setCenterOfRotation(e.centerOfRotation),this.vueCtx.nextTick(this.render)}}updateStyle(e){xw(this.style,e,this.onBoxSelectChange)}getScreenEventPositionFor(e){if(!this.container)return;const n=this.container.getBoundingClientRect(),[r,o]=this.openglRenderWindow.getSize(),i=r/n.width,a=o/n.height;return{x:i*(e.clientX-n.left),y:a*(n.height-e.clientY+n.top),z:0}}pick(e,n,r,o){if(this.selector.setArea(e,n,r,o),this.previousSelectedData=null,this.selector.captureBuffers()){if(this.selections=this.selector.generateSelection(e,n,r,o)||[],e!==r||n!==o){const a=[Array.from(this.openglRenderWindow.displayToWorld(e,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,n,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,o,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,o,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,n,1,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,o,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(r,o,1,this.renderer))],s=[];return this.selections.forEach(u=>{const{prop:l}=u.getProperties(),{representationId:f}=l.get("representationId");f&&s.push(f)}),{frustrum:a,representationIds:s}}const i=[Array.from(this.openglRenderWindow.displayToWorld(e,n,0,this.renderer)),Array.from(this.openglRenderWindow.displayToWorld(e,n,1,this.renderer))];return this.selections.map(a=>{const{prop:s,compositeID:u,displayPosition:l}=a.getProperties();return Oe(q({worldPosition:Array.from(this.openglRenderWindow.displayToWorld(l[0],l[1],l[2],this.renderer)),displayPosition:l,compositeID:u},s.get("representationId")),{ray:i})})}return[]}beforeDelete(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.debouncedCubeBounds&&this.debouncedCubeBounds.cancel(),this.debouncedHover&&this.debouncedHover.cancel(),this.render&&this.render.cancel(),clearTimeout(this.resetCameraTimeout),this.interactor.unbindEvents(),this.openglRenderWindow.setContainer(null),this.renderWindow.removeRenderer(this.renderer),this.renderWindow.removeView(this.openglRenderWindow),this.interactor.delete(),this.interactor=null,this.renderer.delete(),this.renderer=null,this.renderWindow.delete(),this.renderWindow=null,this.openglRenderWindow.delete(),this.openglRenderWindow=null}}const Nm={props:{camera:{type:Object,default:null},interactorEvents:{type:Array,default:()=>["EndAnimation"]},interactorSettings:{type:Array,default:()=>[{button:1,action:"Rotate"},{button:2,action:"Pan"},{button:3,action:"Zoom",scrollEnabled:!0},{button:1,action:"Pan",alt:!0},{button:1,action:"Zoom",control:!0},{button:1,action:"Select",shift:!0},{button:1,action:"Roll",alt:!0,shift:!0}]},wsClient:{type:Object},contextName:{type:String,default:"LocalRenderingContext"},viewState:{type:Object},boxSelection:{type:Boolean,default:!1},pickingModes:{type:Array,default:()=>[]}},emits:["resetCamera","beforeSceneLoaded","afterSceneLoaded","viewStateChange","onReady","resize","onImageCapture","BoxSelection","select","hover","click","StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"],setup(t,{emit:e}){var n,r,o,i,a,s;const u=We("trame"),l=Ae(!1),f=Ae(null);let c=!1;const d=re(()=>t.wsClient||(u==null?void 0:u.client));let p=()=>Promise.resolve(null);const h=(r=(n=d.value)==null?void 0:n.getConnection())==null?void 0:r.getSession();h&&(p=(P,k)=>h.call("viewport.geometry.array.get",[P,k])),(i=(o=d.value.getRemote())==null?void 0:o.SyncView)!=null&&i.getArray&&(p=(s=(a=d.value.getRemote())==null?void 0:a.SyncView)==null?void 0:s.getArray);const m=new Une(t.contextName,t.pickingModes,p,t.interactorEvents,{emit:e,nextTick:Gt,ready:l});m.updateStyle(t.interactorSettings,x);const{onEnter:y,onLeave:b,onKeyUp:v}=Sw(m),g=new ResizeObserver(()=>m.resize());function x({container:P,selection:k}){if(t.pickingModes.includes("select")){m.onBoxSelectChange({selection:k});return}!t.boxSelection||!P||e("BoxSelection",{selection:k,mode:"local",size:m.openglRenderWindow.getSize(),camera:m.getCamera()})}xe(l,P=>{e("onReady",P)}),xe(()=>t.interactorSettings,()=>m.updateStyle(t.interactorSettings,x)),xe(()=>t.pickingModes,()=>{m.pickingModes=t.pickingModes}),xe(()=>t.viewState,({id:P})=>{P===c&&(c=!1,m.updateViewState(t.viewState))});let S=null;cn(()=>{const P=f.value;m.setContainer(P),g.observe(P),document.addEventListener("keyup",v),t.viewState&&(m.rwId=t.viewState.id,m.updateViewState(t.viewState)),S=d.value.getConnection().getSession().subscribe("trame.vtk.delta",([k])=>{k.id===m.rwId&&m.updateViewState(k)})}),Ht(()=>{m.beforeDelete(),S&&d.value&&(d.value.getConnection().getSession().unsubscribe(S),S=null),document.removeEventListener("keyup",v),g.disconnect()}),Pt("view",m);const C=(...U)=>vt(this,[...U],function*(P="image/png",k={}){const H=yield m.captureImage(P,k),R=yield(yield fetch(H)).blob();return e("onImageCapture",R),R}),w=()=>m.resetCamera(),T=()=>m.getCamera(),_=P=>m.setCamera(P),A=P=>{c=P,typeof t.viewState.id=="number"&&(c=Number(c)),m.setSynchronizedViewId(c)},E=()=>m.resize(),{onClick:D,onMouseMove:O}=m;return{vtkContainer:f,onEnter:y,onLeave:b,onClick:D,onMouseMove:O,resetCamera:w,getCamera:T,setCamera:_,setSynchronizedViewId:A,resize:E,captureImage:C}},template:`
        <div
            style="position:relative;width:100%;height:100%;"
            @mouseenter="onEnter"
            @mouseleave="onLeave"
            @click="onClick"
            @mousemove="onMouseMove"
        >
            <div
              ref="vtkContainer"
              style="position:absolute;width:100%;height:100%;overflow:hidden;"
            />
            <slot style="display: none;"></slot>
        </div>
    `},p5={position:"absolute !important",left:"-20000px"},h5={position:"absolute !important",left:0},zne={components:{VtkRemoteView:gC,VtkSyncView:Nm},emits:["resetCamera","beforeSceneLoaded","afterSceneLoaded","viewStateChange","onReady","resize","onLocalImageCapture","onRemoteImageCapture","BoxSelection","click","hover","select","StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"],props:{mode:{type:String,default:"local"},disableAutoSwitch:{type:Boolean,default:!1},namespace:{type:String,default:""},refPrefix:{type:String,default:"refName"},viewId:{type:String,default:"-1"},wsClient:{type:Object},interactiveRatio:{type:[Number,String]},interactiveQuality:{type:[Number,String]},stillRatio:{type:[Number,String]},stillQuality:{type:[Number,String]},camera:{type:Object,default:null},interactorEvents:{type:Array,default:()=>["EndAnimation"]},interactorSettings:{type:Array,default:()=>[{button:1,action:"Rotate"},{button:2,action:"Pan"},{button:3,action:"Zoom",scrollEnabled:!0},{button:1,action:"Pan",shift:!0},{button:1,action:"Zoom",alt:!0},{button:1,action:"Zoom",control:!0},{button:1,action:"Roll",alt:!0,shift:!0}]},contextName:{type:String,default:"LocalRenderingContext"},enablePicking:{type:Boolean,default:!1},boxSelection:{type:Boolean,default:!1},viewState:{type:Object},pickingModes:{type:Array,default:()=>[]}},setup(t,{emit:e}){const n=We("trame"),r=Ae(!1),o=Ae(null),i=Ae(null),a=re(()=>t.disableAutoSwitch||r.value),s=re(()=>t.mode==="local"&&a.value),u=re(()=>t.mode==="remote"||!a.value),l=re(()=>s.value?h5:p5),f=re(()=>u.value?h5:p5),c=re(()=>t.namespace?`${t.namespace}Camera`:"camera");function d(){return t.mode==="local"&&a.value?o.value.resetCamera():i.value.resetCamera()}function p(){return o.value.getCamera()}function h(x){return o.value.setCamera(x)}function m(){return vt(this,arguments,function*(x="image/png",S={}){o.value.captureImage(x,S),i.value.captureImage()})}function y(){o.value.resize(),i.value.resize()}xe(()=>t.viewId,x=>o.value.setSynchronizedViewId(x));function b(x,S=[],C={}){return n.trigger(x,S,C)}function v(x){r.value=x}const{pickingModes:g}=Go(t);return{computedLocalRenderingReady:a,onReady:v,localViewRef:o,remoteViewRef:i,trigger:b,getCamera:p,setCamera:h,resize:y,resetCamera:d,cameraKey:c,localStyle:l,remoteStyle:f,emit:e,captureImage:m,pickingModes:g}},template:`
        <div style="position:relative;width:100%;height:100%;z-index:0;">
          <vtk-sync-view
            ref="localViewRef"

            :pickingModes="pickingModes"

            :viewId="viewId"
            :wsClient="wsClient"
            :style="localStyle"

            :camera="camera"
            :interactorEvents="interactorEvents"
            :interactorSettings="interactorSettings"
            :contextName="contextName"
            :boxSelection="boxSelection"

            :viewState="viewState"

            @resetCamera="trigger(cameraKey, [getCamera()])"
            @beforeSceneLoaded="onReady(false)"
            @onReady="onReady($event)"

            @onImageCapture="emit('onLocalImageCapture', $event)"

            @BoxSelection="emit('BoxSelection', $event)"
            @StartAnimation="emit('StartAnimation', $event)"
            @Animation="emit('Animation', $event)"
            @EndAnimation="trigger(cameraKey, [getCamera()]); emit('EndAnimation', $event)"
            @MouseEnter="emit('MouseEnter', $event)"
            @MouseLeave="emit('MouseLeave', $event)"
            @StartMouseMove="emit('StartMouseMove', $event)"
            @MouseMove="emit('MouseMove', $event)"
            @EndMouseMove="emit('EndMouseMove', $event)"
            @LeftButtonPress="emit('LeftButtonPress', $event)"
            @LeftButtonRelease="emit('LeftButtonRelease', $event)"
            @MiddleButtonPress="emit('MiddleButtonPress', $event)"
            @MiddleButtonRelease="emit('MiddleButtonRelease', $event)"
            @RightButtonPress="emit('RightButtonPress', $event)"
            @RightButtonRelease="emit('RightButtonRelease', $event)"
            @KeyPress="emit('KeyPress', $event)"
            @KeyDown="emit('KeyDown', $event)"
            @KeyUp="emit('KeyUp', $event)"
            @StartMouseWheel="emit('StartMouseWheel', $event)"
            @MouseWheel="emit('MouseWheel', $event)"
            @EndMouseWheel="emit('EndMouseWheel', $event)"
            @StartPinch="emit('StartPinch', $event)"
            @Pinch="emit('Pinch', $event)"
            @EndPinch="emit('EndPinch', $event)"
            @StartPan="emit('StartPan', $event)"
            @Pan="emit('Pan', $event)"
            @EndPan="emit('EndPan', $event)"
            @StartRotate="emit('StartRotate', $event)"
            @Rotate="emit('Rotate', $event)"
            @EndRotate="emit('EndRotate', $event)"
            @Button3D="emit('Button3D', $event)"
            @Move3D="emit('Move3D', $event)"
            @StartPointerLock="emit('StartPointerLock', $event)"
            @EndPointerLock="emit('EndPointerLock', $event)"
            @StartInteraction="emit('StartInteraction', $event)"
            @Interaction="emit('Interaction', $event)"
            @EndInteraction="emit('EndInteraction', $event)"

            @click="emit('click', $event)"
            @hover="emit('hover', $event)"
            @select="emit('select', $event)"
          >
            <slot></slot>
          </vtk-sync-view>
          <vtk-remote-view
            ref="remoteViewRef"

            :pickingModes="pickingModes"

            :viewId="viewId"
            :wsClient="wsClient"
            :style="remoteStyle"
            :visible="mode === 'remote' || !computedLocalRenderingReady"

            @onImageCapture="emit('onRemoteImageCapture', $event)"

            @onEndAnimation="trigger(cameraKey)"

            :interactiveRatio="interactiveRatio"
            :interactiveQuality="interactiveQuality"
            :stillRatio="stillRatio"
            :stillQuality="stillQuality"
            :boxSelection="boxSelection"
            :enablePicking="enablePicking"

            @BoxSelection="emit('BoxSelection', $event)"

            @click="emit('click', $event)"
            @hover="emit('hover', $event)"
            @select="emit('select', $event)"
          />
        </div>
  `},jne={props:{background:{type:Array,default:()=>[.2,.3,.4]},camera:{type:Object,default:null},interactorEvents:{type:Array,default:()=>["EndAnimation"]},interactorSettings:{type:Array,default:()=>[{button:1,action:"Rotate"},{button:2,action:"Pan"},{button:3,action:"Zoom",scrollEnabled:!0},{button:1,action:"Pan",alt:!0},{button:1,action:"Zoom",control:!0},{button:1,action:"Select",shift:!0},{button:1,action:"Roll",alt:!0,shift:!0}]},pickingModes:{type:Array,default:()=>[]},showCubeAxes:{type:Boolean,default:!1},cubeAxesStyle:{type:Object,default:()=>({})}},emits:["resize","resetCamera","BoxSelection","StartAnimation","Animation","EndAnimation","PointerEnter","PointerLeave","MouseEnter","MouseLeave","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartPointerLock","EndPointerLock","StartInteraction","Interaction","EndInteraction","AnimationFrameRateUpdate"],setup(t,{emit:e}){const n=Ae(null),r=new Gne(t.background,t.pickingModes,t.interactorSettings,t.interactorEvents,{emit:e,nextTick:Gt}),{onEnter:o,onLeave:i,onKeyUp:a}=Sw(r),s=new ResizeObserver(()=>r.resize());cn(()=>{const f=n.value;r.setContainer(f),s.observe(f),document.addEventListener("keyup",a)}),Ht(()=>{r.beforeDelete(),document.removeEventListener("keyup",a),s.disconnect()}),xe(()=>t.interactorSettings,()=>r.updateStyle(t.interactorSettings)),xe(()=>t.pickingModes,()=>r.pickingModes=t.pickingModes),Pt("view",r);const{onClick:u,onMouseMove:l}=r;return{vtkContainer:n,onEnter:o,onLeave:i,onClick:u,onMouseMove:l,resetCamera:()=>r.resetCamera(),getCamera:()=>r.getCamera(),setCamera:f=>r.setCamera(f)}},template:`
        <div
          style="position:relative;width:100%;height:100%;"
          @mouseenter="onEnter"
          @mouseleave="onLeave"
          @click="onClick"
          @mousemove="onMouseMove"
        >
          <div
            ref="vtkContainer"
            style="position:absolute;width:100%;height:100%;overflow:hidden;"
          />
          <slot style="display: none;"></slot>
        </div>
      `},m5={VtkAlgorithm:UJ,VtkCalculator:HJ,VtkCellData:WS,VtkDataArray:$S,VtkFieldData:KJ,VtkGeometryRepresentation:lZ,VtkGlyphRepresentation:mZ,VtkMesh:vZ,VtkPointData:nC,VtkPolydata:tC,VtkReader:yZ,VtkRemoteLocalView:zne,VtkRemoteView:gC,VtkSyncView:Nm,VtkLocalView:Nm,VtkView:jne};function Wne(){return Wg.rgbPresetNames}function Cw(t){return t.split("_").map(e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`).join(" ")}function ww(t){return t.map(e=>({text:Cw(e),value:e}))}function Hne(){return ww(Wg.rgbPresetNames)}const g5={vtkColorPresetNames:Wne,vtkLabel:Cw,ListToItem:ww,vtkColorPresetItems:Hne};function $ne(t){var e,n;Object.keys(m5).forEach(r=>{t.component(r,m5[r])}),(n=(e=window==null?void 0:window.trame)==null?void 0:e.utils)!=null&&n.vtk&&Object.keys(g5).forEach(r=>{window.trame.utils.vtk[r]=g5[r]})}const Kne=(t,e)=>{const n=t.__vccOpts||t;for(const[r,o]of e)n[r]=o;return n},qne=Ie({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function gr(t,e,n){return Qe()({name:t,props:qne({mode:n,origin:e}),setup(r,o){let{slots:i}=o;const a={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:u,offsetLeft:l,offsetWidth:f,offsetHeight:c}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${u}px`,s.style.left=`${l}px`,s.style.width=`${f}px`,s.style.height=`${c}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:u,top:l,left:f,width:c,height:d}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=u||"",s.style.top=l||"",s.style.left=f||"",s.style.width=c||"",s.style.height=d||""}}};return()=>{const s=r.group?ed:so;return Na(s,q(q({name:r.disabled?"":t,css:!r.disabled},r.group?void 0:{mode:r.mode}),r.disabled?{}:a),i.default)}}})}function Tw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Qe()({name:t,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,o){let{slots:i}=o;const a=r.group?ed:so;return()=>Na(a,q({name:r.disabled?"":t,css:!r.disabled},r.disabled?{}:e),i.default)}})}function _w(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=It(`offset-${n}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[n]:a.style[n]}},onEnter(a){const s=a._initialStyle;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const u=`${a[r]}px`;a.style[n]="0",a.offsetHeight,a.style.transition=s.transition,t&&a._parent&&a._parent.classList.add(t),requestAnimationFrame(()=>{a.style[n]=u})},onAfterEnter:i,onEnterCancelled:i,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[n]:a.style[n]},a.style.overflow="hidden",a.style[n]=`${a[r]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[n]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(a){t&&a._parent&&a._parent.classList.remove(t),i(a)}function i(a){const s=a._initialStyle[n];a.style.overflow=a._initialStyle.overflow,s!=null&&(a.style[n]=s),delete a._initialStyle}}const Xne=Ie({target:[Object,Array]},"v-dialog-transition"),Aw=Qe()({name:"VDialogTransition",props:Xne(),setup(t,e){let{slots:n}=e;const r={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},onEnter(i,a){return vt(this,null,function*(){var p;yield new Promise(h=>requestAnimationFrame(h)),yield new Promise(h=>requestAnimationFrame(h)),i.style.visibility="";const{x:s,y:u,sx:l,sy:f,speed:c}=y5(t.target,i),d=Za(i,[{transform:`translate(${s}px, ${u}px) scale(${l}, ${f})`,opacity:0},{}],{duration:225*c,easing:EP});(p=v5(i))==null||p.forEach(h=>{Za(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*c,easing:tf})}),d.finished.then(()=>a())})},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},onLeave(i,a){return vt(this,null,function*(){var p;yield new Promise(h=>requestAnimationFrame(h));const{x:s,y:u,sx:l,sy:f,speed:c}=y5(t.target,i);Za(i,[{},{transform:`translate(${s}px, ${u}px) scale(${l}, ${f})`,opacity:0}],{duration:125*c,easing:DP}).finished.then(()=>a()),(p=v5(i))==null||p.forEach(h=>{Za(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*c,easing:tf})})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>t.target?Q(so,tt({name:"dialog-transition"},r,{css:!1}),n):Q(so,{name:"dialog-transition"},n)}});function v5(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function y5(t,e){const n=L6(t),r=k1(e),[o,i]=getComputedStyle(e).transformOrigin.split(" ").map(b=>parseFloat(b)),[a,s]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=n.left+n.width/2;a==="left"||s==="left"?u-=n.width/2:(a==="right"||s==="right")&&(u+=n.width/2);let l=n.top+n.height/2;a==="top"||s==="top"?l-=n.height/2:(a==="bottom"||s==="bottom")&&(l+=n.height/2);const f=n.width/r.width,c=n.height/r.height,d=Math.max(1,f,c),p=f/d||0,h=c/d||0,m=r.width*r.height/(window.innerWidth*window.innerHeight),y=m>.12?Math.min(1.5,(m-.12)*10+1):1;return{x:u-(o+r.left),y:l-(i+r.top),sx:p,sy:h,speed:y}}gr("fab-transition","center center","out-in");gr("dialog-bottom-transition");gr("dialog-top-transition");const b5=gr("fade-transition"),Yne=gr("scale-transition");gr("scroll-x-transition");gr("scroll-x-reverse-transition");gr("scroll-y-transition");gr("scroll-y-reverse-transition");gr("slide-x-transition");gr("slide-x-reverse-transition");const Ew=gr("slide-y-transition");gr("slide-y-reverse-transition");const Jne=Tw("expand-transition",_w()),Dw=Tw("expand-x-transition",_w("",!0)),Zne=Ie({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Br=Qe(!1)({name:"VDefaultsProvider",props:Zne(),setup(t,e){let{slots:n}=e;const{defaults:r,disabled:o,reset:i,root:a,scoped:s}=Go(t);return id(r,{reset:i,root:a,scoped:s,disabled:o}),()=>{var u;return(u=n.default)==null?void 0:u.call(n)}}});function o2(t){return M1(()=>{const e=[],n={};if(t.value.background)if(Fh(t.value.background)){if(n.backgroundColor=t.value.background,!t.value.text&&hP(t.value.background)){const r=ro(t.value.background);if(r.a==null||r.a===1){const o=G6(r);n.color=o,n.caretColor=o}}}else e.push(`bg-${t.value.background}`);return t.value.text&&(Fh(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Di(t,e){const n=re(()=>({text:Ut(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:o}=o2(n);return{textColorClasses:r,textColorStyles:o}}function io(t,e){const n=re(()=>({background:Ut(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:o}=o2(n);return{backgroundColorClasses:r,backgroundColorStyles:o}}const Qne=["x-small","small","default","large","x-large"],i2=Ie({size:{type:[String,Number],default:"default"}},"size");function a2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();return M1(()=>{let n,r;return Y0(Qne,t.size)?n=`${e}--size-${t.size}`:t.size&&(r={width:je(t.size),height:je(t.size)}),{sizeClasses:n,sizeStyles:r}})}const qr=Ie({tag:{type:String,default:"div"}},"tag"),ere=Ie(q(q(q(q({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Vt},Tt()),i2()),qr({tag:"i"})),hr()),"VIcon"),lr=Qe()({name:"VIcon",props:ere(),setup(t,e){let{attrs:n,slots:r}=e;const o=Ae(),{themeClasses:i}=Kr(t),{iconData:a}=kO(re(()=>o.value||t.icon)),{sizeClasses:s}=a2(t),{textColorClasses:u,textColorStyles:l}=Di(Me(t,"color"));return mt(()=>{var d,p;const f=(d=r.default)==null?void 0:d.call(r);f&&(o.value=(p=P6(f).filter(h=>h.type===Eo&&h.children&&typeof h.children=="string")[0])==null?void 0:p.children);const c=!!(n.onClick||n.onClickOnce);return Q(a.value.component,{tag:t.tag,icon:a.value.icon,class:["v-icon","notranslate",i.value,s.value,u.value,{"v-icon--clickable":c,"v-icon--disabled":t.disabled,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[s.value?void 0:{fontSize:je(t.size),height:je(t.size),width:je(t.size)},l.value,t.style],role:c?"button":void 0,"aria-hidden":!c,tabindex:c?t.disabled?-1:0:void 0},{default:()=>[f]})}),{}}}),tl=Ie({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function nl(t){return{dimensionStyles:re(()=>{const n={},r=je(t.height),o=je(t.maxHeight),i=je(t.maxWidth),a=je(t.minHeight),s=je(t.minWidth),u=je(t.width);return r!=null&&(n.height=r),o!=null&&(n.maxHeight=o),i!=null&&(n.maxWidth=i),a!=null&&(n.minHeight=a),s!=null&&(n.minWidth=s),u!=null&&(n.width=u),n})}}function tre(t){return{aspectStyles:re(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const Iw=Ie(q(q({aspectRatio:[String,Number],contentClass:null,inline:Boolean},Tt()),tl()),"VResponsive"),x5=Qe()({name:"VResponsive",props:Iw(),setup(t,e){let{slots:n}=e;const{aspectStyles:r}=tre(t),{dimensionStyles:o}=nl(t);return mt(()=>{var i;return Q("div",{class:["v-responsive",{"v-responsive--inline":t.inline},t.class],style:[o.value,t.style]},[Q("div",{class:"v-responsive__sizer",style:r.value},null),(i=n.additional)==null?void 0:i.call(n),n.default&&Q("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}}),Ii=Ie({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Pi(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();return{roundedClasses:re(()=>{const r=Ut(t)?t.value:t.rounded,o=Ut(t)?t.value:t.tile,i=[];if(r===!0||r==="")i.push(`${e}--rounded`);else if(typeof r=="string"||r===0)for(const a of String(r).split(" "))i.push(`rounded-${a}`);else(o||r===!1)&&i.push("rounded-0");return i})}}const Xu=Ie({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),fi=(t,e)=>{let{slots:n}=e;const l=t,{transition:r,disabled:o,group:i}=l,a=Ln(l,["transition","disabled","group"]),f=typeof r=="object"?r:{},{component:s=i?ed:so}=f,u=Ln(f,["component"]);return Na(s,tt(typeof r=="string"?{name:o?"":r}:u,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:o,group:i}).filter(c=>{let[d,p]=c;return p!==void 0})),a),n)};function nre(t,e){if(!P1)return;const n=e.modifiers||{},r=e.value,{handler:o,options:i}=typeof r=="object"?r:{handler:r,options:{}},a=new IntersectionObserver(function(){var c;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const l=(c=t._observe)==null?void 0:c[e.instance.$.uid];if(!l)return;const f=s.some(d=>d.isIntersecting);o&&(!n.quiet||l.init)&&(!n.once||f||l.init)&&o(f,s,u),f&&n.once?Pw(t,e):l.init=!0},i);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:a},a.observe(t)}function Pw(t,e){var r;const n=(r=t._observe)==null?void 0:r[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const Ow={mounted:nre,unmounted:Pw},rre=Ie(q(q(q(q({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String},Iw()),Tt()),Ii()),Xu()),"VImg"),ore=Qe()({name:"VImg",directives:{intersect:Ow},props:rre(),emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:r}=e;const{backgroundColorClasses:o,backgroundColorStyles:i}=io(Me(t,"color")),{roundedClasses:a}=Pi(t),s=yn("VImg"),u=Ge(""),l=Ae(),f=Ge(t.eager?"loading":"idle"),c=Ge(),d=Ge(),p=re(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),h=re(()=>p.value.aspect||c.value/d.value||0);xe(()=>t.src,()=>{m(f.value!=="idle")}),xe(h,(D,O)=>{!D&&O&&l.value&&x(l.value)}),Kf(()=>m());function m(D){if(!(t.eager&&D)&&!(P1&&!D&&!t.eager)){if(f.value="loading",p.value.lazySrc){const O=new Image;O.src=p.value.lazySrc,x(O,null)}p.value.src&&Gt(()=>{var O;n("loadstart",((O=l.value)==null?void 0:O.currentSrc)||p.value.src),setTimeout(()=>{var P;if(!s.isUnmounted)if((P=l.value)!=null&&P.complete){if(l.value.naturalWidth||b(),f.value==="error")return;h.value||x(l.value,null),f.value==="loading"&&y()}else h.value||x(l.value),v()})})}}function y(){var D;s.isUnmounted||(v(),x(l.value),f.value="loaded",n("load",((D=l.value)==null?void 0:D.currentSrc)||p.value.src))}function b(){var D;s.isUnmounted||(f.value="error",n("error",((D=l.value)==null?void 0:D.currentSrc)||p.value.src))}function v(){const D=l.value;D&&(u.value=D.currentSrc||D.src)}let g=-1;Ht(()=>{clearTimeout(g)});function x(D){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const P=()=>{if(clearTimeout(g),s.isUnmounted)return;const{naturalHeight:k,naturalWidth:U}=D;k||U?(c.value=U,d.value=k):!D.complete&&f.value==="loading"&&O!=null?g=window.setTimeout(P,O):(D.currentSrc.endsWith(".svg")||D.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,d.value=1)};P()}const S=re(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),C=()=>{var P;if(!p.value.src||f.value==="idle")return null;const D=Q("img",{class:["v-img__img",S.value],style:{objectPosition:t.position},src:p.value.src,srcset:p.value.srcset,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable,sizes:t.sizes,ref:l,onLoad:y,onError:b},null),O=(P=r.sources)==null?void 0:P.call(r);return Q(fi,{transition:t.transition,appear:!0},{default:()=>[Qn(O?Q("picture",{class:"v-img__picture"},[O,D]):D,[[jo,f.value==="loaded"]])]})},w=()=>Q(fi,{transition:t.transition},{default:()=>[p.value.lazySrc&&f.value!=="loaded"&&Q("img",{class:["v-img__img","v-img__img--preload",S.value],style:{objectPosition:t.position},src:p.value.lazySrc,alt:t.alt,crossorigin:t.crossorigin,referrerpolicy:t.referrerpolicy,draggable:t.draggable},null)]}),T=()=>r.placeholder?Q(fi,{transition:t.transition,appear:!0},{default:()=>[(f.value==="loading"||f.value==="error"&&!r.error)&&Q("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,_=()=>r.error?Q(fi,{transition:t.transition,appear:!0},{default:()=>[f.value==="error"&&Q("div",{class:"v-img__error"},[r.error()])]}):null,A=()=>t.gradient?Q("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,E=Ge(!1);{const D=xe(h,O=>{O&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{E.value=!0})}),D())})}return mt(()=>{const D=x5.filterProps(t);return Qn(Q(x5,tt({class:["v-img",{"v-img--booting":!E.value},o.value,a.value,t.class],style:[{width:je(t.width==="auto"?c.value:t.width)},i.value,t.style]},D,{aspectRatio:h.value,"aria-label":t.alt,role:t.alt?"img":void 0}),{additional:()=>Q(Je,null,[Q(C,null,null),Q(w,null,null),Q(A,null,null),Q(T,null,null),Q(_,null,null)]),default:r.default}),[[Ei("intersect"),{handler:m,options:t.options},null,{once:!0}]])}),{currentSrc:u,image:l,state:f,naturalWidth:c,naturalHeight:d}}}),ire=[null,"default","comfortable","compact"],rl=Ie({density:{type:String,default:"default",validator:t=>ire.includes(t)}},"density");function ol(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();return{densityClasses:re(()=>`${e}--density-${t.density}`)}}const are=["elevated","flat","tonal","outlined","text","plain"];function s2(t,e){return Q(Je,null,[t&&Q("span",{key:"overlay",class:`${e}__overlay`},null),Q("span",{key:"underlay",class:`${e}__underlay`},null)])}const Yu=Ie({color:String,variant:{type:String,default:"elevated",validator:t=>are.includes(t)}},"variant");function l2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();const n=re(()=>{const{variant:i}=wn(t);return`${e}--variant-${i}`}),{colorClasses:r,colorStyles:o}=o2(re(()=>{const{variant:i,color:a}=wn(t);return{[["elevated","flat"].includes(i)?"background":"text"]:a}}));return{colorClasses:r,colorStyles:o,variantClasses:n}}const sre=Ie(q(q(q(q(q(q(q({start:Boolean,end:Boolean,icon:Vt,image:String,text:String},Tt()),rl()),Ii()),i2()),qr()),hr()),Yu({variant:"flat"})),"VAvatar"),xu=Qe()({name:"VAvatar",props:sre(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Kr(t),{colorClasses:o,colorStyles:i,variantClasses:a}=l2(t),{densityClasses:s}=ol(t),{roundedClasses:u}=Pi(t),{sizeClasses:l,sizeStyles:f}=a2(t);return mt(()=>Q(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},r.value,o.value,s.value,u.value,l.value,a.value,t.class],style:[i.value,f.value,t.style]},{default:()=>[n.default?Q(Br,{key:"content-defaults",defaults:{VImg:{cover:!0,image:t.image},VIcon:{icon:t.icon}}},{default:()=>[n.default()]}):t.image?Q(ore,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?Q(lr,{key:"icon",icon:t.icon},null):t.text,s2(!1,"v-avatar")]})),{}}}),Nw=Ie({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),lre=Ie({value:null,disabled:Boolean,selectedClass:String},"group-item");function ure(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=yn("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=uo();Pt(Symbol.for(`${e.description}:id`),o);const i=We(e,null);if(!i){if(!n)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const a=Me(t,"value"),s=re(()=>!!(i.disabled.value||t.disabled));i.register({id:o,value:a,disabled:s},r),Ht(()=>{i.unregister(o)});const u=re(()=>i.isSelected(o)),l=re(()=>i.items.value[0].id===o),f=re(()=>i.items.value[i.items.value.length-1].id===o),c=re(()=>u.value&&[i.selectedClass.value,t.selectedClass]);return xe(u,d=>{r.emit("group:selected",{value:d})},{flush:"sync"}),{id:o,isSelected:u,isFirst:l,isLast:f,toggle:()=>i.select(o,!u.value),select:d=>i.select(o,d),selectedClass:c,value:a,disabled:s,group:i}}function Rw(t,e){let n=!1;const r=$r([]),o=Qt(t,"modelValue",[],d=>d==null?[]:Mw(r,cr(d)),d=>{const p=fre(r,d);return t.multiple?p:p[0]}),i=yn("useGroup");function a(d,p){const h=d,m=Symbol.for(`${e.description}:id`),b=wl(m,i==null?void 0:i.vnode).indexOf(p);wn(h.value)==null&&(h.value=b,h.useIndexAsValue=!0),b>-1?r.splice(b,0,h):r.push(h)}function s(d){if(n)return;u();const p=r.findIndex(h=>h.id===d);r.splice(p,1)}function u(){const d=r.find(p=>!p.disabled);d&&t.mandatory==="force"&&!o.value.length&&(o.value=[d.id])}cn(()=>{u()}),Ht(()=>{n=!0}),Ws(()=>{for(let d=0;d<r.length;d++)r[d].useIndexAsValue&&(r[d].value=d)});function l(d,p){const h=r.find(m=>m.id===d);if(!(p&&(h!=null&&h.disabled)))if(t.multiple){const m=o.value.slice(),y=m.findIndex(v=>v===d),b=~y;if(p=p!=null?p:!b,b&&t.mandatory&&m.length<=1||!b&&t.max!=null&&m.length+1>t.max)return;y<0&&p?m.push(d):y>=0&&!p&&m.splice(y,1),o.value=m}else{const m=o.value.includes(d);if(t.mandatory&&m)return;o.value=(p!=null?p:!m)?[d]:[]}}function f(d){if(t.multiple,o.value.length){const p=o.value[0],h=r.findIndex(b=>b.id===p);let m=(h+d)%r.length,y=r[m];for(;y.disabled&&m!==h;)m=(m+d)%r.length,y=r[m];if(y.disabled)return;o.value=[r[m].id]}else{const p=r.find(h=>!h.disabled);p&&(o.value=[p.id])}}const c={register:a,unregister:s,selected:o,select:l,disabled:Me(t,"disabled"),prev:()=>f(r.length-1),next:()=>f(1),isSelected:d=>o.value.includes(d),selectedClass:re(()=>t.selectedClass),items:re(()=>r),getItemIndex:d=>cre(r,d)};return Pt(e,c),c}function cre(t,e){const n=Mw(t,[e]);return n.length?t.findIndex(r=>r.id===n[0]):-1}function Mw(t,e){const n=[];return e.forEach(r=>{const o=t.find(a=>Hs(r,a.value)),i=t[r];(o==null?void 0:o.value)!=null?n.push(o.id):i!=null&&n.push(i.id)}),n}function fre(t,e){const n=[];return e.forEach(r=>{const o=t.findIndex(i=>i.id===r);if(~o){const i=t[o];n.push(i.value!=null?i.value:o)}}),n}function dre(t){let{selectedElement:e,containerElement:n,isRtl:r,isHorizontal:o}=t;const i=Su(o,n),a=kw(o,r,n),s=Su(o,e),u=Lw(o,e),l=s*.4;return a>u?u-l:a+i<u+s?u-i+s+l:a}function pre(t){let{selectedElement:e,containerElement:n,isHorizontal:r}=t;const o=Su(r,n),i=Lw(r,e),a=Su(r,e);return i-o/2+a/2}function S5(t,e){const n=t?"scrollWidth":"scrollHeight";return(e==null?void 0:e[n])||0}function hre(t,e){const n=t?"clientWidth":"clientHeight";return(e==null?void 0:e[n])||0}function kw(t,e,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:o,scrollWidth:i}=n;return t?e?i-o+r:r:n.scrollTop}function Su(t,e){const n=t?"offsetWidth":"offsetHeight";return(e==null?void 0:e[n])||0}function Lw(t,e){const n=t?"offsetLeft":"offsetTop";return(e==null?void 0:e[n])||0}const mre=Symbol.for("vuetify:v-slide-group"),Fw=Ie(q(q(q(q({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:mre},nextIcon:{type:Vt,default:"$next"},prevIcon:{type:Vt,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)}},Tt()),AO({mobile:null})),qr()),Nw({selectedClass:"v-slide-group-item--active"})),"VSlideGroup"),C5=Qe()({name:"VSlideGroup",props:Fw(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:r}=co(),{displayClasses:o,mobile:i}=V1(t),a=Rw(t,t.symbol),s=Ge(!1),u=Ge(0),l=Ge(0),f=Ge(0),c=re(()=>t.direction==="horizontal"),{resizeRef:d,contentRect:p}=sf(),{resizeRef:h,contentRect:m}=sf(),y=IO(),b=re(()=>({container:d.el,duration:200,easing:"easeOutQuart"})),v=re(()=>a.selected.value.length?a.items.value.findIndex(M=>M.id===a.selected.value[0]):-1),g=re(()=>a.selected.value.length?a.items.value.findIndex(M=>M.id===a.selected.value[a.selected.value.length-1]):-1);if(wt){let M=-1;xe(()=>[a.selected.value,p.value,m.value,c.value],()=>{cancelAnimationFrame(M),M=requestAnimationFrame(()=>{if(p.value&&m.value){const z=c.value?"width":"height";l.value=p.value[z],f.value=m.value[z],s.value=l.value+1<f.value}if(v.value>=0&&h.el){const z=h.el.children[g.value];S(z,t.centerActive)}})})}const x=Ge(!1);function S(M,z){let $=0;z?$=pre({containerElement:d.el,isHorizontal:c.value,selectedElement:M}):$=dre({containerElement:d.el,isHorizontal:c.value,isRtl:r.value,selectedElement:M}),C($)}function C(M){if(!wt||!d.el)return;const z=Su(c.value,d.el),$=kw(c.value,r.value,d.el);if(!(S5(c.value,d.el)<=z||Math.abs(M-$)<16)){if(c.value&&r.value&&d.el){const{scrollWidth:Z,offsetWidth:X}=d.el;M=Z-X-M}c.value?y.horizontal(M,b.value):y(M,b.value)}}function w(M){const{scrollTop:z,scrollLeft:$}=M.target;u.value=c.value?$:z}function T(M){if(x.value=!0,!(!s.value||!h.el)){for(const z of M.composedPath())for(const $ of h.el.children)if($===z){S($);return}}}function _(M){x.value=!1}let A=!1;function E(M){var z;!A&&!x.value&&!(M.relatedTarget&&((z=h.el)!=null&&z.contains(M.relatedTarget)))&&P(),A=!1}function D(){A=!0}function O(M){if(!h.el)return;function z($){M.preventDefault(),P($)}c.value?M.key==="ArrowRight"?z(r.value?"prev":"next"):M.key==="ArrowLeft"&&z(r.value?"next":"prev"):M.key==="ArrowDown"?z("next"):M.key==="ArrowUp"&&z("prev"),M.key==="Home"?z("first"):M.key==="End"&&z("last")}function P(M){var $,J;if(!h.el)return;let z;if(!M)z=J0(h.el)[0];else if(M==="next"){if(z=($=h.el.querySelector(":focus"))==null?void 0:$.nextElementSibling,!z)return P("first")}else if(M==="prev"){if(z=(J=h.el.querySelector(":focus"))==null?void 0:J.previousElementSibling,!z)return P("last")}else M==="first"?z=h.el.firstElementChild:M==="last"&&(z=h.el.lastElementChild);z&&z.focus({preventScroll:!0})}function k(M){const z=c.value&&r.value?-1:1,$=(M==="prev"?-z:z)*l.value;let J=u.value+$;if(c.value&&r.value&&d.el){const{scrollWidth:Z,offsetWidth:X}=d.el;J+=Z-X}C(J)}const U=re(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),H=re(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return s.value||Math.abs(u.value)>0;case"mobile":return i.value||s.value||Math.abs(u.value)>0;default:return!i.value&&(s.value||Math.abs(u.value)>0)}}),R=re(()=>Math.abs(u.value)>1),B=re(()=>{if(!d.value)return!1;const M=S5(c.value,d.el),z=hre(c.value,d.el);return M-z-Math.abs(u.value)>1});return mt(()=>Q(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!c.value,"v-slide-group--has-affixes":H.value,"v-slide-group--is-overflowing":s.value},o.value,t.class],style:t.style,tabindex:x.value||a.selected.value.length?-1:0,onFocus:E},{default:()=>{var M,z,$,J,Z;return[H.value&&Q("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!R.value}],onMousedown:D,onClick:()=>R.value&&k("prev")},[(z=(M=n.prev)==null?void 0:M.call(n,U.value))!=null?z:Q(b5,null,{default:()=>[Q(lr,{icon:r.value?t.nextIcon:t.prevIcon},null)]})]),Q("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:w},[Q("div",{ref:h,class:"v-slide-group__content",onFocusin:T,onFocusout:_,onKeydown:O},[($=n.default)==null?void 0:$.call(n,U.value)])]),H.value&&Q("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!B.value}],onMousedown:D,onClick:()=>B.value&&k("next")},[(Z=(J=n.next)==null?void 0:J.call(n,U.value))!=null?Z:Q(b5,null,{default:()=>[Q(lr,{icon:r.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:k,scrollOffset:u,focus:P}}}),Bw=Symbol.for("vuetify:v-chip-group"),gre=Ie(q(q(q(q(q(q({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Hs}},Fw()),Tt()),Nw({selectedClass:"v-chip--selected"})),qr()),hr()),Yu({variant:"tonal"})),"VChipGroup");Qe()({name:"VChipGroup",props:gre(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=Kr(t),{isSelected:o,select:i,next:a,prev:s,selected:u}=Rw(t,Bw);return id({VChip:{color:Me(t,"color"),disabled:Me(t,"disabled"),filter:Me(t,"filter"),variant:Me(t,"variant")}}),mt(()=>{const l=C5.filterProps(t);return Q(C5,tt(l,{class:["v-chip-group",{"v-chip-group--column":t.column},r.value,t.class],style:t.style}),{default:()=>{var f;return[(f=n.default)==null?void 0:f.call(n,{isSelected:o,select:i,next:a,prev:s,selected:u.value})]}})}),{}}});const u2=Ie({border:[Boolean,Number,String]},"border");function c2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();return{borderClasses:re(()=>{const r=Ut(t)?t.value:t.border,o=[];if(r===!0||r==="")o.push(`${e}--border`);else if(typeof r=="string"||r===0)for(const i of String(r).split(" "))o.push(`border-${i}`);return o})}}const Rd=Ie({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function Md(t){return{elevationClasses:re(()=>{const n=Ut(t)?t.value:t.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}function vre(){const t=yn("useRoute");return re(()=>{var e;return(e=t==null?void 0:t.proxy)==null?void 0:e.$route})}function yre(){var t,e;return(e=(t=yn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function Vw(t,e){var l,f;const n=D4("RouterLink"),r=re(()=>!!(t.href||t.to)),o=re(()=>(r==null?void 0:r.value)||kv(e,"click")||kv(t,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:r,isClickable:o,href:Me(t,"href")};const i=re(()=>Oe(q({},t),{to:Me(()=>t.to||"")})),a=n.useLink(i.value),s=re(()=>t.to?a:void 0),u=vre();return{isLink:r,isClickable:o,route:(l=s.value)==null?void 0:l.route,navigate:(f=s.value)==null?void 0:f.navigate,isActive:re(()=>{var c,d,p,h,m;return s.value?t.exact?u.value?((m=s.value.isExactActive)==null?void 0:m.value)&&Hs(s.value.route.value.query,u.value.query):(h=(p=s.value.isExactActive)==null?void 0:p.value)!=null?h:!1:(d=(c=s.value.isActive)==null?void 0:c.value)!=null?d:!1:!1}),href:re(()=>{var c;return t.to?(c=s.value)==null?void 0:c.route.value.href:t.href})}}const Uw=Ie({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Zp=!1;function bre(t,e){let n=!1,r,o;wt&&(Gt(()=>{window.addEventListener("popstate",i),r=t==null?void 0:t.beforeEach((a,s,u)=>{Zp?n?e(u):u():setTimeout(()=>n?e(u):u()),Zp=!0}),o=t==null?void 0:t.afterEach(()=>{Zp=!1})}),jn(()=>{window.removeEventListener("popstate",i),r==null||r(),o==null||o()}));function i(a){var s;(s=a.state)!=null&&s.replaced||(n=!0,setTimeout(()=>n=!1))}}const Rm=Symbol("rippleStop"),xre=80;function w5(t,e){t.style.transform=e,t.style.webkitTransform=e}function Mm(t){return t.constructor.name==="TouchEvent"}function Gw(t){return t.constructor.name==="KeyboardEvent"}const Sre=function(t,e){var c;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;if(!Gw(t)){const d=e.getBoundingClientRect(),p=Mm(t)?t.touches[t.touches.length-1]:t;r=p.clientX-d.left,o=p.clientY-d.top}let i=0,a=.3;(c=e._ripple)!=null&&c.circle?(a=.15,i=e.clientWidth/2,i=n.center?i:i+Math.sqrt(_e(r-i,2)+_e(o-i,2))/4):i=Math.sqrt(_e(e.clientWidth,2)+_e(e.clientHeight,2))/2;const s=`${(e.clientWidth-i*2)/2}px`,u=`${(e.clientHeight-i*2)/2}px`,l=n.center?s:`${r-i}px`,f=n.center?u:`${o-i}px`;return{radius:i,scale:a,x:l,y:f,centerX:s,centerY:u}},Rf={show(t,e){var p;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((p=e==null?void 0:e._ripple)!=null&&p.enabled))return;const r=document.createElement("span"),o=document.createElement("span");r.appendChild(o),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:i,scale:a,x:s,y:u,centerX:l,centerY:f}=Sre(t,e,n),c=`${i*2}px`;o.className="v-ripple__animation",o.style.width=c,o.style.height=c,e.appendChild(r);const d=window.getComputedStyle(e);d&&d.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),w5(o,`translate(${s}, ${u}) scale3d(${a},${a},${a})`),o.dataset.activated=String(performance.now()),setTimeout(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),w5(o,`translate(${l}, ${f}) scale3d(1,1,1)`)},0)},hide(t){var i;if(!((i=t==null?void 0:t._ripple)!=null&&i.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),o=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((s=n.parentNode)==null?void 0:s.parentNode)===t&&t.removeChild(n.parentNode)},300)},o)}};function zw(t){return typeof t=="undefined"||!!t}function Cu(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[Rm])){if(t[Rm]=!0,Mm(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||Gw(t),n._ripple.class&&(e.class=n._ripple.class),Mm(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Rf.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},xre)}else Rf.show(t,n,e)}}function T5(t){t[Rm]=!0}function ar(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{ar(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),Rf.hide(e)}}function jw(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let wu=!1;function Ww(t){!wu&&(t.keyCode===Iv.enter||t.keyCode===Iv.space)&&(wu=!0,Cu(t))}function Hw(t){wu=!1,ar(t)}function $w(t){wu&&(wu=!1,ar(t))}function Kw(t,e,n){var a;const{value:r,modifiers:o}=e,i=zw(r);if(i||Rf.hide(t),t._ripple=(a=t._ripple)!=null?a:{},t._ripple.enabled=i,t._ripple.centered=o.center,t._ripple.circle=o.circle,Mh(r)&&r.class&&(t._ripple.class=r.class),i&&!n){if(o.stop){t.addEventListener("touchstart",T5,{passive:!0}),t.addEventListener("mousedown",T5);return}t.addEventListener("touchstart",Cu,{passive:!0}),t.addEventListener("touchend",ar,{passive:!0}),t.addEventListener("touchmove",jw,{passive:!0}),t.addEventListener("touchcancel",ar),t.addEventListener("mousedown",Cu),t.addEventListener("mouseup",ar),t.addEventListener("mouseleave",ar),t.addEventListener("keydown",Ww),t.addEventListener("keyup",Hw),t.addEventListener("blur",$w),t.addEventListener("dragstart",ar,{passive:!0})}else!i&&n&&qw(t)}function qw(t){t.removeEventListener("mousedown",Cu),t.removeEventListener("touchstart",Cu),t.removeEventListener("touchend",ar),t.removeEventListener("touchmove",jw),t.removeEventListener("touchcancel",ar),t.removeEventListener("mouseup",ar),t.removeEventListener("mouseleave",ar),t.removeEventListener("keydown",Ww),t.removeEventListener("keyup",Hw),t.removeEventListener("dragstart",ar),t.removeEventListener("blur",$w)}function Cre(t,e){Kw(t,e,!1)}function wre(t){delete t._ripple,qw(t)}function Tre(t,e){if(e.value===e.oldValue)return;const n=zw(e.oldValue);Kw(t,e,n)}const kd={mounted:Cre,unmounted:wre,updated:Tre},_re=kd,Are=Ie(q(q(q(q(q(q(q(q(q(q(q({activeClass:String,appendAvatar:String,appendIcon:Vt,closable:Boolean,closeIcon:{type:Vt,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Vt,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Yn(),onClickOnce:Yn()},u2()),Tt()),rl()),Rd()),lre()),Ii()),Uw()),i2()),qr({tag:"span"})),hr()),Yu({variant:"tonal"})),"VChip"),Xw=Qe()({name:"VChip",directives:{Ripple:kd},props:Are(),emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{t:i}=ad(),{borderClasses:a}=c2(t),{colorClasses:s,colorStyles:u,variantClasses:l}=l2(t),{densityClasses:f}=ol(t),{elevationClasses:c}=Md(t),{roundedClasses:d}=Pi(t),{sizeClasses:p}=a2(t),{themeClasses:h}=Kr(t),m=Qt(t,"modelValue"),y=ure(t,Bw,!1),b=Vw(t,n),v=re(()=>t.link!==!1&&b.isLink.value),g=re(()=>!t.disabled&&t.link!==!1&&(!!y||t.link||b.isClickable.value)),x=re(()=>({"aria-label":i(t.closeLabel),onClick(w){w.preventDefault(),w.stopPropagation(),m.value=!1,r("click:close",w)}}));function S(w){var T;r("click",w),g.value&&((T=b.navigate)==null||T.call(b,w),y==null||y.toggle())}function C(w){(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),S(w))}return()=>{const w=b.isLink.value?"a":t.tag,T=!!(t.appendIcon||t.appendAvatar),_=!!(T||o.append),A=!!(o.close||t.closable),E=!!(o.filter||t.filter)&&y,D=!!(t.prependIcon||t.prependAvatar),O=!!(D||o.prepend),P=!y||y.isSelected.value;return m.value&&Qn(Q(w,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":g.value,"v-chip--filter":E,"v-chip--pill":t.pill},h.value,a.value,P?s.value:void 0,f.value,c.value,d.value,p.value,l.value,y==null?void 0:y.selectedClass.value,t.class],style:[P?u.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:b.href.value,tabindex:g.value?0:void 0,onClick:S,onKeydown:g.value&&!v.value&&C},{default:()=>{var k,U;return[s2(g.value,"v-chip"),E&&Q(Dw,{key:"filter"},{default:()=>[Qn(Q("div",{class:"v-chip__filter"},[o.filter?Q(Br,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},o.filter):Q(lr,{key:"filter-icon",icon:t.filterIcon},null)]),[[jo,y.isSelected.value]])]}),O&&Q("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?Q(Br,{key:"prepend-defaults",disabled:!D,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},o.prepend):Q(Je,null,[t.prependIcon&&Q(lr,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&Q(xu,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),Q("div",{class:"v-chip__content","data-no-activator":""},[(U=(k=o.default)==null?void 0:k.call(o,{isSelected:y==null?void 0:y.isSelected.value,selectedClass:y==null?void 0:y.selectedClass.value,select:y==null?void 0:y.select,toggle:y==null?void 0:y.toggle,value:y==null?void 0:y.value.value,disabled:t.disabled}))!=null?U:t.text]),_&&Q("div",{key:"append",class:"v-chip__append"},[o.append?Q(Br,{key:"append-defaults",disabled:!T,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},o.append):Q(Je,null,[t.appendIcon&&Q(lr,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&Q(xu,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),A&&Q("button",tt({key:"close",class:"v-chip__close",type:"button"},x.value),[o.close?Q(Br,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},o.close):Q(lr,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Ei("ripple"),g.value&&t.ripple,null]])}}}),Ere=Ie(q(q({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0}},Tt()),Xu({transition:{component:Ew}})),"VCounter"),Yw=Qe()({name:"VCounter",functional:!0,props:Ere(),setup(t,e){let{slots:n}=e;const r=re(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return mt(()=>Q(fi,{transition:t.transition},{default:()=>[Qn(Q("div",{class:["v-counter",{"text-error":t.max&&!t.disabled&&parseFloat(t.value)>parseFloat(t.max)},t.class],style:t.style},[n.default?n.default({counter:r.value,max:t.max,value:t.value}):r.value]),[[jo,t.active]])]})),{}}}),Dre=Ie(q(q({text:String,onClick:Yn()},Tt()),hr()),"VLabel"),f2=Qe()({name:"VLabel",props:Dre(),setup(t,e){let{slots:n}=e;return mt(()=>{var r;return Q("label",{class:["v-label",{"v-label--clickable":!!t.onClick},t.class],style:t.style,onClick:t.onClick},[t.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),Ire=Ie(q({floating:Boolean},Tt()),"VFieldLabel"),Zc=Qe()({name:"VFieldLabel",props:Ire(),setup(t,e){let{slots:n}=e;return mt(()=>Q(f2,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}});function Jw(t){const{t:e}=ad();function n(r){var u;let{name:o}=r;const i={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],a=t[`onClick:${o}`],s=a&&i?e(`$vuetify.input.${i}`,(u=t.label)!=null?u:""):void 0;return Q(lr,{icon:t[`${o}Icon`],"aria-label":s,onClick:a},null)}return{InputIcon:n}}const d2=Ie({focused:Boolean,"onUpdate:focused":Yn()},"focus");function Ld(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();const n=Qt(t,"focused"),r=re(()=>({[`${e}--focused`]:n.value}));function o(){n.value=!0}function i(){n.value=!1}return{focusClasses:r,isFocused:n,focus:o,blur:i}}function Pre(t,e){const n=Ae(),r=Ge(!1);if(P1){const o=new IntersectionObserver(i=>{r.value=!!i.find(a=>a.isIntersecting)},e);Ht(()=>{o.disconnect()}),xe(n,(i,a)=>{a&&(o.unobserve(a),r.value=!1),i&&o.observe(i)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const _5={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Ore=Ie({location:String},"location");function Nre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=co();return{locationStyles:re(()=>{if(!t.location)return{};const{side:i,align:a}=Lh(t.location.split(" ").length>1?t.location:`${t.location} center`,r.value);function s(l){return n?n(l):0}const u={};return i!=="center"&&(e?u[_5[i]]=`calc(100% - ${s(i)}px)`:u[i]=0),a!=="center"?e?u[_5[a]]=`calc(100% - ${s(a)}px)`:u[a]=0:(i==="center"?u.top=u.left="50%":u[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",u.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),u})}}const Rre=Ie(q(q(q(q(q({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean},Tt()),Ore({location:"top"})),Ii()),qr()),hr()),"VProgressLinear"),Mre=Qe()({name:"VProgressLinear",props:Rre(),emits:{"update:modelValue":t=>!0},setup(t,e){var E;let{slots:n}=e;const r=Qt(t,"modelValue"),{isRtl:o,rtlClasses:i}=co(),{themeClasses:a}=Kr(t),{locationStyles:s}=Nre(t),{textColorClasses:u,textColorStyles:l}=Di(t,"color"),{backgroundColorClasses:f,backgroundColorStyles:c}=io(re(()=>t.bgColor||t.color)),{backgroundColorClasses:d,backgroundColorStyles:p}=io(re(()=>t.bufferColor||t.bgColor||t.color)),{backgroundColorClasses:h,backgroundColorStyles:m}=io(t,"color"),{roundedClasses:y}=Pi(t),{intersectionRef:b,isIntersecting:v}=Pre(),g=re(()=>parseFloat(t.max)),x=re(()=>parseFloat(t.height)),S=re(()=>Ur(parseFloat(t.bufferValue)/g.value*100,0,100)),C=re(()=>Ur(parseFloat(r.value)/g.value*100,0,100)),w=re(()=>o.value!==t.reverse),T=re(()=>t.indeterminate?"fade-transition":"slide-x-transition"),_=wt&&((E=window.matchMedia)==null?void 0:E.call(window,"(forced-colors: active)").matches);function A(D){if(!b.value)return;const{left:O,right:P,width:k}=b.value.getBoundingClientRect(),U=w.value?k-D.clientX+(P-k):D.clientX-O;r.value=Math.round(U/k*g.value)}return mt(()=>Q(t.tag,{ref:b,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&v.value,"v-progress-linear--reverse":w.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},y.value,a.value,i.value,t.class],style:[q({bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?je(x.value):0,"--v-progress-linear-height":je(x.value)},t.absolute?s.value:{}),t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:C.value,onClick:t.clickable&&A},{default:()=>[t.stream&&Q("div",{key:"stream",class:["v-progress-linear__stream",u.value],style:Oe(q({},l.value),{[w.value?"left":"right"]:je(-x.value),borderTop:`${je(x.value/2)} dotted`,opacity:parseFloat(t.bufferOpacity),top:`calc(50% - ${je(x.value/4)})`,width:je(100-S.value,"%"),"--v-progress-linear-stream-to":je(x.value*(w.value?1:-1))})},null),Q("div",{class:["v-progress-linear__background",_?void 0:f.value],style:[c.value,{opacity:parseFloat(t.bgOpacity),width:t.stream?0:void 0}]},null),Q("div",{class:["v-progress-linear__buffer",_?void 0:d.value],style:[p.value,{opacity:parseFloat(t.bufferOpacity),width:je(S.value,"%")}]},null),Q(so,{name:T.value},{default:()=>[t.indeterminate?Q("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(D=>Q("div",{key:D,class:["v-progress-linear__indeterminate",D,_?void 0:h.value],style:m.value},null))]):Q("div",{class:["v-progress-linear__determinate",_?void 0:h.value],style:[m.value,{width:je(C.value,"%")}]},null)]}),n.default&&Q("div",{class:"v-progress-linear__content"},[n.default({value:C.value,buffer:S.value})])]})),{}}}),kre=Ie({loading:[Boolean,String]},"loader");function Lre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo();return{loaderClasses:re(()=>({[`${e}--loading`]:t.loading}))}}function Fre(t,e){var r;let{slots:n}=e;return Q("div",{class:`${t.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:t.color,isActive:t.active}))||Q(Mre,{absolute:t.absolute,active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}const Bre=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],p2=Ie(q(q(q(q({appendInnerIcon:Vt,bgColor:String,clearable:Boolean,clearIcon:{type:Vt,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Vt,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>Bre.includes(t)},"onClick:clear":Yn(),"onClick:appendInner":Yn(),"onClick:prependInner":Yn()},Tt()),kre()),Ii()),hr()),"VField"),h2=Qe()({name:"VField",inheritAttrs:!1,props:q(q({id:String},d2()),p2()),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{themeClasses:i}=Kr(t),{loaderClasses:a}=Lre(t),{focusClasses:s,isFocused:u,focus:l,blur:f}=Ld(t),{InputIcon:c}=Jw(t),{roundedClasses:d}=Pi(t),{rtlClasses:p}=co(),h=re(()=>t.dirty||t.active),m=re(()=>!t.singleLine&&!!(t.label||o.label)),y=uo(),b=re(()=>t.id||`input-${y}`),v=re(()=>`${b.value}-messages`),g=Ae(),x=Ae(),S=Ae(),C=re(()=>["plain","underlined"].includes(t.variant)),{backgroundColorClasses:w,backgroundColorStyles:T}=io(Me(t,"bgColor")),{textColorClasses:_,textColorStyles:A}=Di(re(()=>t.error||t.disabled?void 0:h.value&&u.value?t.color:t.baseColor));xe(h,P=>{if(m.value){const k=g.value.$el,U=x.value.$el;requestAnimationFrame(()=>{const H=k1(k),R=U.getBoundingClientRect(),B=R.x-H.x,M=R.y-H.y-(H.height/2-R.height/2),z=R.width/.75,$=Math.abs(z-H.width)>1?{maxWidth:je(z)}:void 0,J=getComputedStyle(k),Z=getComputedStyle(U),X=parseFloat(J.transitionDuration)*1e3||150,te=parseFloat(Z.getPropertyValue("--v-field-label-scale")),ae=Z.getPropertyValue("color");k.style.visibility="visible",U.style.visibility="hidden",Za(k,q({transform:`translate(${B}px, ${M}px) scale(${te})`,color:ae},$),{duration:X,easing:tf,direction:P?"normal":"reverse"}).finished.then(()=>{k.style.removeProperty("visibility"),U.style.removeProperty("visibility")})})}},{flush:"post"});const E=re(()=>({isActive:h,isFocused:u,controlRef:S,blur:f,focus:l}));function D(P){P.target!==document.activeElement&&P.preventDefault()}function O(P){var k;P.key!=="Enter"&&P.key!==" "||(P.preventDefault(),P.stopPropagation(),(k=t["onClick:clear"])==null||k.call(t,new MouseEvent("click")))}return mt(()=>{var B,M,z,$;const P=t.variant==="outlined",k=!!(o["prepend-inner"]||t.prependInnerIcon),U=!!(t.clearable||o.clear),H=!!(o["append-inner"]||t.appendInnerIcon||U),R=()=>o.label?o.label(Oe(q({},E.value),{label:t.label,props:{for:b.value}})):t.label;return Q("div",tt({class:["v-field",{"v-field--active":h.value,"v-field--appended":H,"v-field--center-affix":(B=t.centerAffix)!=null?B:!C.value,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":k,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!R(),[`v-field--variant-${t.variant}`]:!0},i.value,w.value,s.value,a.value,d.value,p.value,t.class],style:[T.value,t.style],onClick:D},n),[Q("div",{class:"v-field__overlay"},null),Q(Fre,{name:"v-field",active:!!t.loading,color:t.error?"error":typeof t.loading=="string"?t.loading:t.color},{default:o.loader}),k&&Q("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&Q(c,{key:"prepend-icon",name:"prependInner"},null),(M=o["prepend-inner"])==null?void 0:M.call(o,E.value)]),Q("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&m.value&&Q(Zc,{key:"floating-label",ref:x,class:[_.value],floating:!0,for:b.value,style:A.value},{default:()=>[R()]}),Q(Zc,{ref:g,for:b.value},{default:()=>[R()]}),(z=o.default)==null?void 0:z.call(o,Oe(q({},E.value),{props:{id:b.value,class:"v-field__input","aria-describedby":v.value},focus:l,blur:f}))]),U&&Q(Dw,{key:"clear"},{default:()=>[Qn(Q("div",{class:"v-field__clearable",onMousedown:J=>{J.preventDefault(),J.stopPropagation()}},[Q(Br,{defaults:{VIcon:{icon:t.clearIcon}}},{default:()=>[o.clear?o.clear(Oe(q({},E.value),{props:{onKeydown:O,onFocus:l,onBlur:f,onClick:t["onClick:clear"]}})):Q(c,{name:"clear",onKeydown:O,onFocus:l,onBlur:f},null)]})]),[[jo,t.dirty]])]}),H&&Q("div",{key:"append",class:"v-field__append-inner"},[($=o["append-inner"])==null?void 0:$.call(o,E.value),t.appendInnerIcon&&Q(c,{key:"append-icon",name:"appendInner"},null)]),Q("div",{class:["v-field__outline",_.value],style:A.value},[P&&Q(Je,null,[Q("div",{class:"v-field__outline__start"},null),m.value&&Q("div",{class:"v-field__outline__notch"},[Q(Zc,{ref:x,floating:!0,for:b.value},{default:()=>[R()]})]),Q("div",{class:"v-field__outline__end"},null)]),C.value&&m.value&&Q(Zc,{ref:x,floating:!0,for:b.value},{default:()=>[R()]})])])}),{controlRef:S}}});function Zw(t){const e=Object.keys(h2.props).filter(n=>!N1(n)&&n!=="class"&&n!=="style");return D6(t,e)}const Vre=Ie(q(q({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]}},Tt()),Xu({transition:{component:Ew,leaveAbsolute:!0,group:!0}})),"VMessages"),Ure=Qe()({name:"VMessages",props:Vre(),setup(t,e){let{slots:n}=e;const r=re(()=>cr(t.messages)),{textColorClasses:o,textColorStyles:i}=Di(re(()=>t.color));return mt(()=>Q(fi,{transition:t.transition,tag:"div",class:["v-messages",o.value,t.class],style:[i.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&r.value.map((a,s)=>Q("div",{class:"v-messages__message",key:`${s}-${r.value}`},[n.message?n.message({message:a}):a]))]})),{}}}),Gre=Symbol.for("vuetify:form");function Qw(){return We(Gre,null)}const zre=Ie(q({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null},d2()),"validation");function jre(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wo(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:uo();const r=Qt(t,"modelValue"),o=re(()=>t.validationValue===void 0?r.value:t.validationValue),i=Qw(),a=Ae([]),s=Ge(!0),u=re(()=>!!(cr(r.value===""?null:r.value).length||cr(o.value===""?null:o.value).length)),l=re(()=>{var S;return!!((S=t.disabled)!=null?S:i!=null&&i.isDisabled.value)}),f=re(()=>{var S;return!!((S=t.readonly)!=null?S:i!=null&&i.isReadonly.value)}),c=re(()=>{var S;return(S=t.errorMessages)!=null&&S.length?cr(t.errorMessages).concat(a.value).slice(0,Math.max(0,+t.maxErrors)):a.value}),d=re(()=>{var w,T;let S=((w=t.validateOn)!=null?w:i==null?void 0:i.validateOn.value)||"input";S==="lazy"&&(S="input lazy");const C=new Set((T=S==null?void 0:S.split(" "))!=null?T:[]);return{blur:C.has("blur")||C.has("input"),input:C.has("input"),submit:C.has("submit"),lazy:C.has("lazy")}}),p=re(()=>{var S;return t.error||(S=t.errorMessages)!=null&&S.length?!1:t.rules.length?s.value?a.value.length||d.value.lazy?null:!0:!a.value.length:!0}),h=Ge(!1),m=re(()=>({[`${e}--error`]:p.value===!1,[`${e}--dirty`]:u.value,[`${e}--disabled`]:l.value,[`${e}--readonly`]:f.value})),y=yn("validation"),b=re(()=>{var S;return(S=t.name)!=null?S:wn(n)});Kf(()=>{i==null||i.register({id:b.value,vm:y,validate:x,reset:v,resetValidation:g})}),Ht(()=>{i==null||i.unregister(b.value)}),cn(()=>vt(this,null,function*(){d.value.lazy||(yield x(!0)),i==null||i.update(b.value,p.value,c.value)})),Ca(()=>d.value.input,()=>{xe(o,()=>{if(o.value!=null)x();else if(t.focused){const S=xe(()=>t.focused,C=>{C||x(),S()})}})}),Ca(()=>d.value.blur,()=>{xe(()=>t.focused,S=>{S||x()})}),xe([p,c],()=>{i==null||i.update(b.value,p.value,c.value)});function v(){return vt(this,null,function*(){r.value=null,yield Gt(),yield g()})}function g(){return vt(this,null,function*(){s.value=!0,d.value.lazy?a.value=[]:yield x(!0)})}function x(){return vt(this,arguments,function*(){var w;let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const C=[];h.value=!0;for(const T of t.rules){if(C.length>=+((w=t.maxErrors)!=null?w:1))break;const A=yield(typeof T=="function"?T:()=>T)(o.value);if(A!==!0){if(A!==!1&&typeof A!="string"){console.warn(`${A} is not a valid value. Rule functions must return boolean true or a string.`);continue}C.push(A||"")}}return a.value=C,h.value=!1,s.value=S,a.value})}return{errorMessages:c,isDirty:u,isDisabled:l,isReadonly:f,isPristine:s,isValid:p,isValidating:h,reset:v,resetValidation:g,validate:x,validationClasses:m}}const Fd=Ie(q(q(q(q(q({id:String,appendIcon:Vt,centerAffix:{type:Boolean,default:!0},prependIcon:Vt,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":Yn(),"onClick:append":Yn()},Tt()),rl()),HI(tl(),["maxWidth","minWidth","width"])),hr()),zre()),"VInput"),Gs=Qe()({name:"VInput",props:q({},Fd()),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const{densityClasses:i}=ol(t),{dimensionStyles:a}=nl(t),{themeClasses:s}=Kr(t),{rtlClasses:u}=co(),{InputIcon:l}=Jw(t),f=uo(),c=re(()=>t.id||`input-${f}`),d=re(()=>`${c.value}-messages`),{errorMessages:p,isDirty:h,isDisabled:m,isReadonly:y,isPristine:b,isValid:v,isValidating:g,reset:x,resetValidation:S,validate:C,validationClasses:w}=jre(t,"v-input",c),T=re(()=>({id:c,messagesId:d,isDirty:h,isDisabled:m,isReadonly:y,isPristine:b,isValid:v,isValidating:g,reset:x,resetValidation:S,validate:C})),_=re(()=>{var A;return(A=t.errorMessages)!=null&&A.length||!b.value&&p.value.length?p.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages});return mt(()=>{var P,k,U,H;const A=!!(r.prepend||t.prependIcon),E=!!(r.append||t.appendIcon),D=_.value.length>0,O=!t.hideDetails||t.hideDetails==="auto"&&(D||!!r.details);return Q("div",{class:["v-input",`v-input--${t.direction}`,{"v-input--center-affix":t.centerAffix,"v-input--hide-spin-buttons":t.hideSpinButtons},i.value,s.value,u.value,w.value,t.class],style:[a.value,t.style]},[A&&Q("div",{key:"prepend",class:"v-input__prepend"},[(P=r.prepend)==null?void 0:P.call(r,T.value),t.prependIcon&&Q(l,{key:"prepend-icon",name:"prepend"},null)]),r.default&&Q("div",{class:"v-input__control"},[(k=r.default)==null?void 0:k.call(r,T.value)]),E&&Q("div",{key:"append",class:"v-input__append"},[t.appendIcon&&Q(l,{key:"append-icon",name:"append"},null),(U=r.append)==null?void 0:U.call(r,T.value)]),O&&Q("div",{class:"v-input__details"},[Q(Ure,{id:d.value,active:D,messages:_.value},{message:r.message}),(H=r.details)==null?void 0:H.call(r,T.value)])])}),{reset:x,resetValidation:S,validate:C,isValid:v,errorMessages:p}}}),Qp=Symbol("Forwarded refs");function eh(t,e){let n=t;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Bd(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t[Qp]=n,new Proxy(t,{get(o,i){if(Reflect.has(o,i))return Reflect.get(o,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const a of n)if(a.value&&Reflect.has(a.value,i)){const s=Reflect.get(a.value,i);return typeof s=="function"?s.bind(a.value):s}}},has(o,i){if(Reflect.has(o,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,i))return!0;return!1},set(o,i,a){if(Reflect.has(o,i))return Reflect.set(o,i,a);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,i))return Reflect.set(s.value,i,a);return!1},getOwnPropertyDescriptor(o,i){var s,u;const a=Reflect.getOwnPropertyDescriptor(o,i);if(a)return a;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const l of n){if(!l.value)continue;const f=(u=eh(l.value,i))!=null?u:"_"in l.value?eh((s=l.value._)==null?void 0:s.setupState,i):void 0;if(f)return f}for(const l of n){const f=l.value&&l.value[Qp];if(!f)continue;const c=f.slice();for(;c.length;){const d=c.shift(),p=eh(d.value,i);if(p)return p;const h=d.value&&d.value[Qp];h&&c.push(...h)}}}}})}const Wre=Ie(q(Oe(q({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(Number(t))}},Fd({prependIcon:"$file"})),{modelValue:{type:[Array,Object],default:t=>t.multiple?[]:null,validator:t=>cr(t).every(e=>e!=null&&typeof e=="object")}}),p2({clearable:!0})),"VFileInput"),Hre=Qe()({name:"VFileInput",inheritAttrs:!1,props:Wre(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{t:i}=ad(),a=Qt(t,"modelValue",t.modelValue,_=>cr(_),_=>{var A;return t.multiple||Array.isArray(t.modelValue)?_:(A=_[0])!=null?A:null}),{isFocused:s,focus:u,blur:l}=Ld(t),f=re(()=>typeof t.showSize!="boolean"?t.showSize:void 0),c=re(()=>{var _;return((_=a.value)!=null?_:[]).reduce((A,E)=>{let{size:D=0}=E;return A+D},0)}),d=re(()=>Mv(c.value,f.value)),p=re(()=>{var _;return((_=a.value)!=null?_:[]).map(A=>{const{name:E="",size:D=0}=A;return t.showSize?`${E} (${Mv(D,f.value)})`:E})}),h=re(()=>{var A,E;const _=(E=(A=a.value)==null?void 0:A.length)!=null?E:0;return t.showSize?i(t.counterSizeString,_,d.value):i(t.counterString,_)}),m=Ae(),y=Ae(),b=Ae(),v=re(()=>s.value||t.active),g=re(()=>["plain","underlined"].includes(t.variant));function x(){var _;b.value!==document.activeElement&&((_=b.value)==null||_.focus()),s.value||u()}function S(_){var A;(A=b.value)==null||A.click()}function C(_){r("mousedown:control",_)}function w(_){var A;(A=b.value)==null||A.click(),r("click:control",_)}function T(_){_.stopPropagation(),x(),Gt(()=>{a.value=[],N6(t["onClick:clear"],_)})}return xe(a,_=>{(!Array.isArray(_)||!_.length)&&b.value&&(b.value.value="")}),mt(()=>{const _=!!(o.counter||t.counter),A=!!(_||o.details),[E,D]=R1(n),U=Gs.filterProps(t),{modelValue:O}=U,P=Ln(U,["modelValue"]),k=Zw(t);return Q(Gs,tt({ref:m,modelValue:a.value,"onUpdate:modelValue":H=>a.value=H,class:["v-file-input",{"v-file-input--chips":!!t.chips,"v-file-input--hide":t.hideInput,"v-input--plain-underlined":g.value},t.class],style:t.style,"onClick:prepend":S},E,P,{centerAffix:!g.value,focused:s.value}),Oe(q({},o),{default:H=>{let{id:R,isDisabled:B,isDirty:M,isReadonly:z,isValid:$}=H;return Q(h2,tt({ref:y,"prepend-icon":t.prependIcon,onMousedown:C,onClick:w,"onClick:clear":T,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},k,{id:R.value,active:v.value||M.value,dirty:M.value||t.dirty,disabled:B.value,focused:s.value,error:$.value===!1}),Oe(q({},o),{default:J=>{var ue;let{props:te}=J,ae=te,{class:Z}=ae,X=Ln(ae,["class"]);return Q(Je,null,[Q("input",tt({ref:b,type:"file",readonly:z.value,disabled:B.value,multiple:t.multiple,name:t.name,onClick:ie=>{ie.stopPropagation(),z.value&&ie.preventDefault(),x()},onChange:ie=>{var I;if(!ie.target)return;const F=ie.target;a.value=[...(I=F.files)!=null?I:[]]},onFocus:x,onBlur:l},X,D),null),Q("div",{class:Z},[!!((ue=a.value)!=null&&ue.length)&&!t.hideInput&&(o.selection?o.selection({fileNames:p.value,totalBytes:c.value,totalBytesReadable:d.value}):t.chips?p.value.map(ie=>Q(Xw,{key:ie,size:"small",text:ie},null)):p.value.join(", "))])])}}))},details:A?H=>{var R,B;return Q(Je,null,[(R=o.details)==null?void 0:R.call(o,H),_&&Q(Je,null,[Q("span",null,null),Q(Yw,{active:!!((B=a.value)!=null&&B.length),value:h.value,disabled:t.disabled},o.counter)])])}:void 0}))}),Bd({},m,y,b)}}),eT=Symbol.for("vuetify:selection-control-group"),tT=Ie(q(q(q({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Vt,trueIcon:Vt,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Hs}},Tt()),rl()),hr()),"SelectionControlGroup"),$re=Ie(q({},tT({defaultsTarget:"VSelectionControl"})),"VSelectionControlGroup");Qe()({name:"VSelectionControlGroup",props:$re(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Qt(t,"modelValue"),o=uo(),i=re(()=>t.id||`v-selection-control-group-${o}`),a=re(()=>t.name||i.value),s=new Set;return Pt(eT,{modelValue:r,forceUpdate:()=>{s.forEach(u=>u())},onForceUpdate:u=>{s.add(u),jn(()=>{s.delete(u)})}}),id({[t.defaultsTarget]:{color:Me(t,"color"),disabled:Me(t,"disabled"),density:Me(t,"density"),error:Me(t,"error"),inline:Me(t,"inline"),modelValue:r,multiple:re(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),name:a,falseIcon:Me(t,"falseIcon"),trueIcon:Me(t,"trueIcon"),readonly:Me(t,"readonly"),ripple:Me(t,"ripple"),type:Me(t,"type"),valueComparator:Me(t,"valueComparator")}}),mt(()=>{var u;return Q("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":t.inline},t.class],style:t.style,role:t.type==="radio"?"radiogroup":void 0},[(u=n.default)==null?void 0:u.call(n)])}),{}}});const nT=Ie(q(q({label:String,baseColor:String,trueValue:null,falseValue:null,value:null},Tt()),tT()),"VSelectionControl");function Kre(t){const e=We(eT,void 0),{densityClasses:n}=ol(t),r=Qt(t,"modelValue"),o=re(()=>t.trueValue!==void 0?t.trueValue:t.value!==void 0?t.value:!0),i=re(()=>t.falseValue!==void 0?t.falseValue:!1),a=re(()=>!!t.multiple||t.multiple==null&&Array.isArray(r.value)),s=re({get(){const p=e?e.modelValue.value:r.value;return a.value?cr(p).some(h=>t.valueComparator(h,o.value)):t.valueComparator(p,o.value)},set(p){if(t.readonly)return;const h=p?o.value:i.value;let m=h;a.value&&(m=p?[...cr(r.value),h]:cr(r.value).filter(y=>!t.valueComparator(y,o.value))),e?e.modelValue.value=m:r.value=m}}),{textColorClasses:u,textColorStyles:l}=Di(re(()=>{if(!(t.error||t.disabled))return s.value?t.color:t.baseColor})),{backgroundColorClasses:f,backgroundColorStyles:c}=io(re(()=>s.value&&!t.error&&!t.disabled?t.color:t.baseColor)),d=re(()=>s.value?t.trueIcon:t.falseIcon);return{group:e,densityClasses:n,trueValue:o,falseValue:i,model:s,textColorClasses:u,textColorStyles:l,backgroundColorClasses:f,backgroundColorStyles:c,icon:d}}const A5=Qe()({name:"VSelectionControl",directives:{Ripple:kd},inheritAttrs:!1,props:nT(),emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{group:o,densityClasses:i,icon:a,model:s,textColorClasses:u,textColorStyles:l,backgroundColorClasses:f,backgroundColorStyles:c,trueValue:d}=Kre(t),p=uo(),h=Ge(!1),m=Ge(!1),y=Ae(),b=re(()=>t.id||`input-${p}`),v=re(()=>!t.disabled&&!t.readonly);o==null||o.onForceUpdate(()=>{y.value&&(y.value.checked=s.value)});function g(w){v.value&&(h.value=!0,Q0(w.target,":focus-visible")!==!1&&(m.value=!0))}function x(){h.value=!1,m.value=!1}function S(w){w.stopPropagation()}function C(w){if(!v.value){y.value&&(y.value.checked=s.value);return}t.readonly&&o&&Gt(()=>o.forceUpdate()),s.value=w.target.checked}return mt(()=>{var E,D,O;const w=r.label?r.label({label:t.label,props:{for:b.value}}):t.label,[T,_]=R1(n),A=Q("input",tt({ref:y,checked:s.value,disabled:!!t.disabled,id:b.value,onBlur:x,onFocus:g,onInput:C,"aria-disabled":!!t.disabled,"aria-label":t.label,type:t.type,value:d.value,name:t.name,"aria-checked":t.type==="checkbox"?s.value:void 0},_),null);return Q("div",tt({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":t.disabled,"v-selection-control--error":t.error,"v-selection-control--focused":h.value,"v-selection-control--focus-visible":m.value,"v-selection-control--inline":t.inline},i.value,t.class]},T,{style:t.style}),[Q("div",{class:["v-selection-control__wrapper",u.value],style:l.value},[(E=r.default)==null?void 0:E.call(r,{backgroundColorClasses:f,backgroundColorStyles:c}),Qn(Q("div",{class:["v-selection-control__input"]},[(O=(D=r.input)==null?void 0:D.call(r,{model:s,textColorClasses:u,textColorStyles:l,backgroundColorClasses:f,backgroundColorStyles:c,inputNode:A,icon:a.value,props:{onFocus:g,onBlur:x,id:b.value}}))!=null?O:Q(Je,null,[a.value&&Q(lr,{key:"icon",icon:a.value},null),A])]),[[Ei("ripple"),t.ripple&&[!t.disabled&&!t.readonly,null,["center","circle"]]]])]),w&&Q(f2,{for:b.value,onClick:S},{default:()=>[w]})])}),{isFocused:h,input:y}}}),qre=Ie(q({indeterminate:Boolean,indeterminateIcon:{type:Vt,default:"$checkboxIndeterminate"}},nT({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})),"VCheckboxBtn"),Xre=Qe()({name:"VCheckboxBtn",props:qre(),emits:{"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,e){let{slots:n}=e;const r=Qt(t,"indeterminate"),o=Qt(t,"modelValue");function i(u){r.value&&(r.value=!1)}const a=re(()=>r.value?t.indeterminateIcon:t.falseIcon),s=re(()=>r.value?t.indeterminateIcon:t.trueIcon);return mt(()=>{const u=$s(A5.filterProps(t),["modelValue"]);return Q(A5,tt(u,{modelValue:o.value,"onUpdate:modelValue":[l=>o.value=l,i],class:["v-checkbox-btn",t.class],style:t.style,type:"checkbox",falseIcon:a.value,trueIcon:s.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}}),km=Symbol.for("vuetify:list");function rT(){const t=We(km,{hasPrepend:Ge(!1),updateHasPrepend:()=>null}),e={hasPrepend:Ge(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return Pt(km,e),t}function oT(){return We(km,null)}const m2=t=>{const e={activate:n=>{let{id:r,value:o,activated:i}=n;return r=Ue(r),t&&!o&&i.size===1&&i.has(r)||(o?i.add(r):i.delete(r)),i},in:(n,r,o)=>{let i=new Set;if(n!=null)for(const a of cr(n))i=e.activate({id:a,value:!0,activated:new Set(i),children:r,parents:o});return i},out:n=>Array.from(n)};return e},iT=t=>{const e=m2(t);return{activate:r=>{let u=r,{activated:o,id:i}=u,a=Ln(u,["activated","id"]);i=Ue(i);const s=o.has(i)?new Set([i]):new Set;return e.activate(Oe(q({},a),{id:i,activated:s}))},in:(r,o,i)=>{let a=new Set;if(r!=null){const s=cr(r);s.length&&(a=e.in(s.slice(0,1),o,i))}return a},out:(r,o,i)=>e.out(r,o,i)}},Yre=t=>{const e=m2(t);return{activate:r=>{let u=r,{id:o,activated:i,children:a}=u,s=Ln(u,["id","activated","children"]);return o=Ue(o),a.has(o)?i:e.activate(q({id:o,activated:i,children:a},s))},in:e.in,out:e.out}},Jre=t=>{const e=iT(t);return{activate:r=>{let u=r,{id:o,activated:i,children:a}=u,s=Ln(u,["id","activated","children"]);return o=Ue(o),a.has(o)?i:e.activate(q({id:o,activated:i,children:a},s))},in:e.in,out:e.out}},Zre={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){const i=new Set;i.add(e);let a=o.get(e);for(;a!=null;)i.add(a),a=o.get(a);return i}else return r.delete(e),r},select:()=>null},aT={open:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(n){let i=o.get(e);for(r.add(e);i!=null&&i!==e;)r.add(i),i=o.get(i);return r}else r.delete(e);return r},select:()=>null},Qre={open:aT.open,select:t=>{let{id:e,value:n,opened:r,parents:o}=t;if(!n)return r;const i=[];let a=o.get(e);for(;a!=null;)i.push(a),a=o.get(a);return new Set(i)}},g2=t=>{const e={select:n=>{let{id:r,value:o,selected:i}=n;if(r=Ue(r),t&&!o){const a=Array.from(i.entries()).reduce((s,u)=>{let[l,f]=u;return f==="on"&&s.push(l),s},[]);if(a.length===1&&a[0]===r)return i}return i.set(r,o?"on":"off"),i},in:(n,r,o)=>{let i=new Map;for(const a of n||[])i=e.select({id:a,value:!0,selected:new Map(i),children:r,parents:o});return i},out:n=>{const r=[];for(const[o,i]of n.entries())i==="on"&&r.push(o);return r}};return e},sT=t=>{const e=g2(t);return{select:r=>{let u=r,{selected:o,id:i}=u,a=Ln(u,["selected","id"]);i=Ue(i);const s=o.has(i)?new Map([[i,o.get(i)]]):new Map;return e.select(Oe(q({},a),{id:i,selected:s}))},in:(r,o,i)=>{let a=new Map;return r!=null&&r.length&&(a=e.in(r.slice(0,1),o,i)),a},out:(r,o,i)=>e.out(r,o,i)}},eoe=t=>{const e=g2(t);return{select:r=>{let u=r,{id:o,selected:i,children:a}=u,s=Ln(u,["id","selected","children"]);return o=Ue(o),a.has(o)?i:e.select(q({id:o,selected:i,children:a},s))},in:e.in,out:e.out}},toe=t=>{const e=sT(t);return{select:r=>{let u=r,{id:o,selected:i,children:a}=u,s=Ln(u,["id","selected","children"]);return o=Ue(o),a.has(o)?i:e.select(q({id:o,selected:i,children:a},s))},in:e.in,out:e.out}},noe=t=>{const e={select:n=>{let{id:r,value:o,selected:i,children:a,parents:s}=n;r=Ue(r);const u=new Map(i),l=[r];for(;l.length;){const c=l.shift();i.set(c,o?"on":"off"),a.has(c)&&l.push(...a.get(c))}let f=s.get(r);for(;f;){const c=a.get(f),d=c.every(h=>i.get(h)==="on"),p=c.every(h=>!i.has(h)||i.get(h)==="off");i.set(f,d?"on":p?"off":"indeterminate"),f=s.get(f)}return t&&!o&&Array.from(i.entries()).reduce((d,p)=>{let[h,m]=p;return m==="on"&&d.push(h),d},[]).length===0?u:i},in:(n,r,o)=>{let i=new Map;for(const a of n||[])i=e.select({id:a,value:!0,selected:new Map(i),children:r,parents:o});return i},out:(n,r)=>{const o=[];for(const[i,a]of n.entries())a==="on"&&!r.has(i)&&o.push(i);return o}};return e},Tu=Symbol.for("vuetify:nested"),lT={id:Ge(),root:{register:()=>null,unregister:()=>null,parents:Ae(new Map),children:Ae(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Ae(!1),selectable:Ae(!1),opened:Ae(new Set),activated:Ae(new Set),selected:Ae(new Map),selectedValues:Ae([])}},roe=Ie({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),ooe=t=>{let e=!1;const n=Ae(new Map),r=Ae(new Map),o=Qt(t,"opened",t.opened,p=>new Set(p),p=>[...p.values()]),i=re(()=>{if(typeof t.activeStrategy=="object")return t.activeStrategy;if(typeof t.activeStrategy=="function")return t.activeStrategy(t.mandatory);switch(t.activeStrategy){case"leaf":return Yre(t.mandatory);case"single-leaf":return Jre(t.mandatory);case"independent":return m2(t.mandatory);case"single-independent":default:return iT(t.mandatory)}}),a=re(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;if(typeof t.selectStrategy=="function")return t.selectStrategy(t.mandatory);switch(t.selectStrategy){case"single-leaf":return toe(t.mandatory);case"leaf":return eoe(t.mandatory);case"independent":return g2(t.mandatory);case"single-independent":return sT(t.mandatory);case"classic":default:return noe(t.mandatory)}}),s=re(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return Qre;case"single":return Zre;case"multiple":default:return aT}}),u=Qt(t,"activated",t.activated,p=>i.value.in(p,n.value,r.value),p=>i.value.out(p,n.value,r.value)),l=Qt(t,"selected",t.selected,p=>a.value.in(p,n.value,r.value),p=>a.value.out(p,n.value,r.value));Ht(()=>{e=!0});function f(p){const h=[];let m=p;for(;m!=null;)h.unshift(m),m=r.value.get(m);return h}const c=yn("nested"),d={id:Ge(),root:{opened:o,activatable:Me(t,"activatable"),selectable:Me(t,"selectable"),activated:u,selected:l,selectedValues:re(()=>{const p=[];for(const[h,m]of l.value.entries())m==="on"&&p.push(h);return p}),register:(p,h,m)=>{h&&p!==h&&r.value.set(p,h),m&&n.value.set(p,[]),h!=null&&n.value.set(h,[...n.value.get(h)||[],p])},unregister:p=>{var m;if(e)return;n.value.delete(p);const h=r.value.get(p);if(h){const y=(m=n.value.get(h))!=null?m:[];n.value.set(h,y.filter(b=>b!==p))}r.value.delete(p),o.value.delete(p)},open:(p,h,m)=>{c.emit("click:open",{id:p,value:h,path:f(p),event:m});const y=s.value.open({id:p,value:h,opened:new Set(o.value),children:n.value,parents:r.value,event:m});y&&(o.value=y)},openOnSelect:(p,h,m)=>{const y=s.value.select({id:p,value:h,selected:new Map(l.value),opened:new Set(o.value),children:n.value,parents:r.value,event:m});y&&(o.value=y)},select:(p,h,m)=>{c.emit("click:select",{id:p,value:h,path:f(p),event:m});const y=a.value.select({id:p,value:h,selected:new Map(l.value),children:n.value,parents:r.value,event:m});y&&(l.value=y),d.root.openOnSelect(p,h,m)},activate:(p,h,m)=>{if(!t.activatable)return d.root.select(p,!0,m);c.emit("click:activate",{id:p,value:h,path:f(p),event:m});const y=i.value.activate({id:p,value:h,activated:new Set(u.value),children:n.value,parents:r.value,event:m});y&&(u.value=y)},children:n,parents:r}};return Pt(Tu,d),d.root},uT=(t,e)=>{const n=We(Tu,lT),r=Symbol(uo()),o=re(()=>t.value!==void 0?t.value:r),i=Oe(q({},n),{id:o,open:(a,s)=>n.root.open(o.value,a,s),openOnSelect:(a,s)=>n.root.openOnSelect(o.value,a,s),isOpen:re(()=>n.root.opened.value.has(o.value)),parent:re(()=>n.root.parents.value.get(o.value)),activate:(a,s)=>n.root.activate(o.value,a,s),isActivated:re(()=>n.root.activated.value.has(Ue(o.value))),select:(a,s)=>n.root.select(o.value,a,s),isSelected:re(()=>n.root.selected.value.get(Ue(o.value))==="on"),isIndeterminate:re(()=>n.root.selected.value.get(o.value)==="indeterminate"),isLeaf:re(()=>!n.root.children.value.get(o.value)),isGroupActivator:n.isGroupActivator});return!n.isGroupActivator&&n.root.register(o.value,n.id.value,e),Ht(()=>{!n.isGroupActivator&&n.root.unregister(o.value)}),e&&Pt(Tu,i),i},ioe=()=>{const t=We(Tu,lT);Pt(Tu,Oe(q({},t),{isGroupActivator:!0}))};function aoe(){const t=Ge(!1);return cn(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:re(()=>t.value?void 0:{transition:"none !important"}),isBooted:js(t)}}const soe=Ks({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return ioe(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),loe=Ie(q(q({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Vt,default:"$collapse"},expandIcon:{type:Vt,default:"$expand"},prependIcon:Vt,appendIcon:Vt,fluid:Boolean,subgroup:Boolean,title:String,value:null},Tt()),qr()),"VListGroup"),E5=Qe()({name:"VListGroup",props:loe(),setup(t,e){let{slots:n}=e;const{isOpen:r,open:o,id:i}=uT(Me(t,"value"),!0),a=re(()=>`v-list-group--id-${String(i.value)}`),s=oT(),{isBooted:u}=aoe();function l(p){p.stopPropagation(),o(!r.value,p)}const f=re(()=>({onClick:l,class:"v-list-group__header",id:a.value})),c=re(()=>r.value?t.collapseIcon:t.expandIcon),d=re(()=>({VListItem:{active:r.value,activeColor:t.activeColor,baseColor:t.baseColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&c.value,appendIcon:t.appendIcon||!t.subgroup&&c.value,title:t.title,value:t.value}}));return mt(()=>Q(t.tag,{class:["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":r.value},t.class],style:t.style},{default:()=>[n.activator&&Q(Br,{defaults:d.value},{default:()=>[Q(soe,null,{default:()=>[n.activator({props:f.value,isOpen:r.value})]})]}),Q(fi,{transition:{component:Jne},disabled:!u.value},{default:()=>{var p;return[Qn(Q("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(p=n.default)==null?void 0:p.call(n)]),[[jo,r.value]])]}})]})),{isOpen:r}}}),uoe=Ie(q(q({opacity:[Number,String]},Tt()),qr()),"VListItemSubtitle"),coe=Qe()({name:"VListItemSubtitle",props:uoe(),setup(t,e){let{slots:n}=e;return mt(()=>Q(t.tag,{class:["v-list-item-subtitle",t.class],style:[{"--v-list-item-subtitle-opacity":t.opacity},t.style]},n)),{}}}),foe=AP("v-list-item-title"),doe=Ie(q(q(q(q(q(q(q(q(q(q({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Vt,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Vt,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Yn(),onClickOnce:Yn()},u2()),Tt()),rl()),tl()),Rd()),Ii()),Uw()),qr()),hr()),Yu({variant:"text"})),"VListItem"),Mf=Qe()({name:"VListItem",directives:{Ripple:kd},props:doe(),emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:r,emit:o}=e;const i=Vw(t,n),a=re(()=>t.value===void 0?i.href.value:t.value),{activate:s,isActivated:u,select:l,isSelected:f,isIndeterminate:c,isGroupActivator:d,root:p,parent:h,openOnSelect:m}=uT(a,!1),y=oT(),b=re(()=>{var M;return t.active!==!1&&(t.active||((M=i.isActive)==null?void 0:M.value)||(p.activatable.value?u.value:f.value))}),v=re(()=>t.link!==!1&&i.isLink.value),g=re(()=>!t.disabled&&t.link!==!1&&(t.link||i.isClickable.value||!!y&&(p.selectable.value||p.activatable.value||t.value!=null))),x=re(()=>t.rounded||t.nav),S=re(()=>{var M;return(M=t.color)!=null?M:t.activeColor}),C=re(()=>{var M;return{color:b.value&&(M=S.value)!=null?M:t.baseColor,variant:t.variant}});xe(()=>{var M;return(M=i.isActive)==null?void 0:M.value},M=>{M&&h.value!=null&&p.open(h.value,!0),M&&m(M)},{immediate:!0});const{themeClasses:w}=Kr(t),{borderClasses:T}=c2(t),{colorClasses:_,colorStyles:A,variantClasses:E}=l2(C),{densityClasses:D}=ol(t),{dimensionStyles:O}=nl(t),{elevationClasses:P}=Md(t),{roundedClasses:k}=Pi(x),U=re(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),H=re(()=>({isActive:b.value,select:l,isSelected:f.value,isIndeterminate:c.value}));function R(M){var z;o("click",M),g.value&&((z=i.navigate)==null||z.call(i,M),!d&&(p.activatable.value?s(!u.value,M):(p.selectable.value||t.value!=null)&&l(!f.value,M)))}function B(M){(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),R(M))}return mt(()=>{const M=v.value?"a":t.tag,z=r.title||t.title!=null,$=r.subtitle||t.subtitle!=null,J=!!(t.appendAvatar||t.appendIcon),Z=!!(J||r.append),X=!!(t.prependAvatar||t.prependIcon),te=!!(X||r.prepend);return y==null||y.updateHasPrepend(te),t.activeColor&&sP("active-color",["color","base-color"]),Qn(Q(M,{class:["v-list-item",{"v-list-item--active":b.value,"v-list-item--disabled":t.disabled,"v-list-item--link":g.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!te&&(y==null?void 0:y.hasPrepend.value),"v-list-item--slim":t.slim,[`${t.activeClass}`]:t.activeClass&&b.value},w.value,T.value,_.value,D.value,P.value,U.value,k.value,E.value,t.class],style:[A.value,O.value,t.style],href:i.href.value,tabindex:g.value?y?-2:0:void 0,onClick:R,onKeydown:g.value&&!v.value&&B},{default:()=>{var ae;return[s2(g.value||b.value,"v-list-item"),te&&Q("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?Q(Br,{key:"prepend-defaults",disabled:!X,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var ue;return[(ue=r.prepend)==null?void 0:ue.call(r,H.value)]}}):Q(Je,null,[t.prependAvatar&&Q(xu,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&Q(lr,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)]),Q("div",{class:"v-list-item__spacer"},null)]),Q("div",{class:"v-list-item__content","data-no-activator":""},[z&&Q(foe,{key:"title"},{default:()=>{var ue,ie;return[(ie=(ue=r.title)==null?void 0:ue.call(r,{title:t.title}))!=null?ie:t.title]}}),$&&Q(coe,{key:"subtitle"},{default:()=>{var ue,ie;return[(ie=(ue=r.subtitle)==null?void 0:ue.call(r,{subtitle:t.subtitle}))!=null?ie:t.subtitle]}}),(ae=r.default)==null?void 0:ae.call(r,H.value)]),Z&&Q("div",{key:"append",class:"v-list-item__append"},[r.append?Q(Br,{key:"append-defaults",disabled:!J,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var ue;return[(ue=r.append)==null?void 0:ue.call(r,H.value)]}}):Q(Je,null,[t.appendIcon&&Q(lr,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&Q(xu,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)]),Q("div",{class:"v-list-item__spacer"},null)])]}}),[[Ei("ripple"),g.value&&t.ripple]])}),{activate:s,isActivated:u,isGroupActivator:d,isSelected:f,list:y,select:l}}}),poe=Ie(q(q({color:String,inset:Boolean,sticky:Boolean,title:String},Tt()),qr()),"VListSubheader"),hoe=Qe()({name:"VListSubheader",props:poe(),setup(t,e){let{slots:n}=e;const{textColorClasses:r,textColorStyles:o}=Di(Me(t,"color"));return mt(()=>{const i=!!(n.default||t.title);return Q(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},r.value,t.class],style:[{textColorStyles:o},t.style]},{default:()=>{var a,s;return[i&&Q("div",{class:"v-list-subheader__text"},[(s=(a=n.default)==null?void 0:a.call(n))!=null?s:t.title])]}})}),{}}}),moe=Ie(q(q({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean},Tt()),hr()),"VDivider"),goe=Qe()({name:"VDivider",props:moe(),setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:o}=Kr(t),{textColorClasses:i,textColorStyles:a}=Di(Me(t,"color")),s=re(()=>{const u={};return t.length&&(u[t.vertical?"height":"width"]=je(t.length)),t.thickness&&(u[t.vertical?"borderRightWidth":"borderTopWidth"]=je(t.thickness)),u});return mt(()=>{const u=Q("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},o.value,i.value,t.class],style:[s.value,a.value,{"--v-border-opacity":t.opacity},t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?Q("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":t.vertical,"v-divider__wrapper--inset":t.inset}]},[u,Q("div",{class:"v-divider__content"},[r.default()]),u]):u}),{}}}),voe=Ie({items:Array,returnObject:Boolean},"VListChildren"),cT=Qe()({name:"VListChildren",props:voe(),setup(t,e){let{slots:n}=e;return rT(),()=>{var r,o,i;return(i=(r=n.default)==null?void 0:r.call(n))!=null?i:(o=t.items)==null?void 0:o.map(a=>{var p,h,m,y;let{children:s,props:u,type:l,raw:f}=a;if(l==="divider")return(h=(p=n.divider)==null?void 0:p.call(n,{props:u}))!=null?h:Q(goe,u,null);if(l==="subheader")return(y=(m=n.subheader)==null?void 0:m.call(n,{props:u}))!=null?y:Q(hoe,u,null);const c={subtitle:n.subtitle?b=>{var v;return(v=n.subtitle)==null?void 0:v.call(n,Oe(q({},b),{item:f}))}:void 0,prepend:n.prepend?b=>{var v;return(v=n.prepend)==null?void 0:v.call(n,Oe(q({},b),{item:f}))}:void 0,append:n.append?b=>{var v;return(v=n.append)==null?void 0:v.call(n,Oe(q({},b),{item:f}))}:void 0,title:n.title?b=>{var v;return(v=n.title)==null?void 0:v.call(n,Oe(q({},b),{item:f}))}:void 0},d=E5.filterProps(u);return s?Q(E5,tt({value:u==null?void 0:u.value},d),{activator:b=>{let{props:v}=b;const g=Oe(q(q({},u),v),{value:t.returnObject?f:u.value});return n.header?n.header({props:g}):Q(Mf,g,c)},default:()=>Q(cT,{items:s,returnObject:t.returnObject},n)}):n.item?n.item({props:u}):Q(Mf,tt(u,{value:t.returnObject?f:u.value}),c)})}}}),fT=Ie({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:Hs}},"list-items");function Lm(t,e){var s;const n=Co(e,t.itemTitle,e),r=Co(e,t.itemValue,n),o=Co(e,t.itemChildren),i=t.itemProps===!0?typeof e=="object"&&e!=null&&!Array.isArray(e)?"children"in e?$s(e,["children"]):e:void 0:Co(e,t.itemProps),a=q({title:n,value:r},i);return{title:String((s=a.title)!=null?s:""),value:a.value,props:a,children:Array.isArray(o)?dT(t,o):void 0,raw:e}}function dT(t,e){const n=[];for(const r of e)n.push(Lm(t,r));return n}function yoe(t){const e=re(()=>dT(t,t.items)),n=re(()=>e.value.some(i=>i.value===null));function r(i){return n.value||(i=i.filter(a=>a!==null)),i.map(a=>t.returnObject&&typeof a=="string"?Lm(t,a):e.value.find(s=>t.valueComparator(a,s.value))||Lm(t,a))}function o(i){return t.returnObject?i.map(a=>{let{raw:s}=a;return s}):i.map(a=>{let{value:s}=a;return s})}return{items:e,transformIn:r,transformOut:o}}function boe(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function xoe(t,e){const n=Co(e,t.itemType,"item"),r=boe(e)?e:Co(e,t.itemTitle),o=Co(e,t.itemValue,void 0),i=Co(e,t.itemChildren),a=t.itemProps===!0?$s(e,["children"]):Co(e,t.itemProps),s=q({title:r,value:o},a);return{type:n,title:s.title,value:s.value,props:s,children:n==="item"&&i?pT(t,i):void 0,raw:e}}function pT(t,e){const n=[];for(const r of e)n.push(xoe(t,r));return n}function Soe(t){return{items:re(()=>pT(t,t.items))}}const Coe=Ie(q(q(q(q(q(Oe(q(q(q(q(q(q({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Yn(),"onClick:select":Yn(),"onUpdate:opened":Yn()},roe({selectStrategy:"single-leaf",openStrategy:"list"})),u2()),Tt()),rl()),tl()),Rd()),{itemType:{type:String,default:"type"}}),fT()),Ii()),qr()),hr()),Yu({variant:"text"})),"VList"),woe=Qe()({name:"VList",props:Coe(),emits:{"update:selected":t=>!0,"update:activated":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:activate":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:r}=Soe(t),{themeClasses:o}=Kr(t),{backgroundColorClasses:i,backgroundColorStyles:a}=io(Me(t,"bgColor")),{borderClasses:s}=c2(t),{densityClasses:u}=ol(t),{dimensionStyles:l}=nl(t),{elevationClasses:f}=Md(t),{roundedClasses:c}=Pi(t),{children:d,open:p,parents:h,select:m}=ooe(t),y=re(()=>t.lines?`v-list--${t.lines}-line`:void 0),b=Me(t,"activeColor"),v=Me(t,"baseColor"),g=Me(t,"color");rT(),id({VListGroup:{activeColor:b,baseColor:v,color:g,expandIcon:Me(t,"expandIcon"),collapseIcon:Me(t,"collapseIcon")},VListItem:{activeClass:Me(t,"activeClass"),activeColor:b,baseColor:v,color:g,density:Me(t,"density"),disabled:Me(t,"disabled"),lines:Me(t,"lines"),nav:Me(t,"nav"),slim:Me(t,"slim"),variant:Me(t,"variant")}});const x=Ge(!1),S=Ae();function C(D){x.value=!0}function w(D){x.value=!1}function T(D){var O;!x.value&&!(D.relatedTarget&&((O=S.value)!=null&&O.contains(D.relatedTarget)))&&E()}function _(D){const O=D.target;if(!(!S.value||["INPUT","TEXTAREA"].includes(O.tagName))){if(D.key==="ArrowDown")E("next");else if(D.key==="ArrowUp")E("prev");else if(D.key==="Home")E("first");else if(D.key==="End")E("last");else return;D.preventDefault()}}function A(D){x.value=!0}function E(D){if(S.value)return Z0(S.value,D)}return mt(()=>Q(t.tag,{ref:S,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav,"v-list--slim":t.slim},o.value,i.value,s.value,u.value,f.value,y.value,c.value,t.class],style:[a.value,l.value,t.style],tabindex:t.disabled||x.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:C,onFocusout:w,onFocus:T,onKeydown:_,onMousedown:A},{default:()=>[Q(cT,{items:r.value,returnObject:t.returnObject},n)]})),{open:p,select:m,focus:E,children:d,parents:h}}});function th(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Toe(t,e){return{x:t.x-e.x,y:t.y-e.y}}function D5(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:r}=t,o=r==="left"?0:r==="center"?e.width/2:r==="right"?e.width:r,i=n==="top"?0:n==="bottom"?e.height:n;return th({x:o,y:i},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:r}=t,o=n==="left"?0:n==="right"?e.width:n,i=r==="top"?0:r==="center"?e.height/2:r==="bottom"?e.height:r;return th({x:o,y:i},e)}return th({x:e.width/2,y:e.height/2},e)}const hT={static:Eoe,connected:Ioe},_oe=Ie({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in hT},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Aoe(t,e){const n=Ae({}),r=Ae();wt&&Ca(()=>!!(e.isActive.value&&t.locationStrategy),i=>{var a,s;xe(()=>t.locationStrategy,i),jn(()=>{window.removeEventListener("resize",o),r.value=void 0}),window.addEventListener("resize",o,{passive:!0}),typeof t.locationStrategy=="function"?r.value=(a=t.locationStrategy(e,t,n))==null?void 0:a.updateLocation:r.value=(s=hT[t.locationStrategy](e,t,n))==null?void 0:s.updateLocation});function o(i){var a;(a=r.value)==null||a.call(r,i)}return{contentStyles:n,updateLocation:r}}function Eoe(){}function Doe(t,e){e?t.style.removeProperty("left"):t.style.removeProperty("right");const n=k1(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function Ioe(t,e,n){(Array.isArray(t.target.value)||PP(t.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[t.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:i}=M1(()=>{const h=Lh(e.location,t.isRtl.value),m=e.origin==="overlap"?h:e.origin==="auto"?Qd(h):Lh(e.origin,t.isRtl.value);return h.side===m.side&&h.align===ep(m).align?{preferredAnchor:Fv(h),preferredOrigin:Fv(m)}:{preferredAnchor:h,preferredOrigin:m}}),[a,s,u,l]=["minWidth","minHeight","maxWidth","maxHeight"].map(h=>re(()=>{const m=parseFloat(e[h]);return isNaN(m)?1/0:m})),f=re(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const h=e.offset.split(" ").map(parseFloat);return h.length<2&&h.push(0),h}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let c=!1;const d=new ResizeObserver(()=>{c&&p()});xe([t.target,t.contentEl],(h,m)=>{let[y,b]=h,[v,g]=m;v&&!Array.isArray(v)&&d.unobserve(v),y&&!Array.isArray(y)&&d.observe(y),g&&d.unobserve(g),b&&d.observe(b)},{immediate:!0}),jn(()=>{d.disconnect()});function p(){if(c=!1,requestAnimationFrame(()=>c=!0),!t.target.value||!t.contentEl.value)return;const h=L6(t.target.value),m=Doe(t.contentEl.value,t.isRtl.value),y=nf(t.contentEl.value),b=12;y.length||(y.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(m.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),m.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const v=y.reduce((E,D)=>{const O=D.getBoundingClientRect(),P=new da({x:D===document.documentElement?0:O.x,y:D===document.documentElement?0:O.y,width:D.clientWidth,height:D.clientHeight});return E?new da({x:Math.max(E.left,P.left),y:Math.max(E.top,P.top),width:Math.min(E.right,P.right)-Math.max(E.left,P.left),height:Math.min(E.bottom,P.bottom)-Math.max(E.top,P.top)}):P},void 0);v.x+=b,v.y+=b,v.width-=b*2,v.height-=b*2;let g={anchor:o.value,origin:i.value};function x(E){const D=new da(m),O=D5(E.anchor,h),P=D5(E.origin,D);let{x:k,y:U}=Toe(O,P);switch(E.anchor.side){case"top":U-=f.value[0];break;case"bottom":U+=f.value[0];break;case"left":k-=f.value[0];break;case"right":k+=f.value[0];break}switch(E.anchor.align){case"top":U-=f.value[1];break;case"bottom":U+=f.value[1];break;case"left":k-=f.value[1];break;case"right":k+=f.value[1];break}return D.x+=k,D.y+=U,D.width=Math.min(D.width,u.value),D.height=Math.min(D.height,l.value),{overflows:Vv(D,v),x:k,y:U}}let S=0,C=0;const w={x:0,y:0},T={x:!1,y:!1};let _=-1;for(;!(_++>10);){const{x:E,y:D,overflows:O}=x(g);S+=E,C+=D,m.x+=E,m.y+=D;{const P=Bv(g.anchor),k=O.x.before||O.x.after,U=O.y.before||O.y.after;let H=!1;if(["x","y"].forEach(R=>{if(R==="x"&&k&&!T.x||R==="y"&&U&&!T.y){const B={anchor:q({},g.anchor),origin:q({},g.origin)},M=R==="x"?P==="y"?ep:Qd:P==="y"?Qd:ep;B.anchor=M(B.anchor),B.origin=M(B.origin);const{overflows:z}=x(B);(z[R].before<=O[R].before&&z[R].after<=O[R].after||z[R].before+z[R].after<(O[R].before+O[R].after)/2)&&(g=B,H=T[R]=!0)}}),H)continue}O.x.before&&(S+=O.x.before,m.x+=O.x.before),O.x.after&&(S-=O.x.after,m.x-=O.x.after),O.y.before&&(C+=O.y.before,m.y+=O.y.before),O.y.after&&(C-=O.y.after,m.y-=O.y.after);{const P=Vv(m,v);w.x=v.width-P.x.before-P.x.after,w.y=v.height-P.y.before-P.y.after,S+=P.x.before,m.x+=P.x.before,C+=P.y.before,m.y+=P.y.before}break}const A=Bv(g.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${g.anchor.side} ${g.anchor.align}`,transformOrigin:`${g.origin.side} ${g.origin.align}`,top:je(nh(C)),left:t.isRtl.value?void 0:je(nh(S)),right:t.isRtl.value?je(nh(-S)):void 0,minWidth:je(A==="y"?Math.min(a.value,h.width):a.value),maxWidth:je(I5(Ur(w.x,a.value===1/0?0:a.value,u.value))),maxHeight:je(I5(Ur(w.y,s.value===1/0?0:s.value,l.value)))}),{available:w,contentBox:m}}return xe(()=>[o.value,i.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>p()),Gt(()=>{const h=p();if(!h)return;const{available:m,contentBox:y}=h;y.height>m.y&&requestAnimationFrame(()=>{p(),requestAnimationFrame(()=>{p()})})}),{updateLocation:p}}function nh(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function I5(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let Fm=!0;const kf=[];function Poe(t){!Fm||kf.length?(kf.push(t),Bm()):(Fm=!1,t(),Bm())}let P5=-1;function Bm(){cancelAnimationFrame(P5),P5=requestAnimationFrame(()=>{const t=kf.shift();t&&t(),kf.length?Bm():Fm=!0})}const E0={none:null,close:Roe,block:Moe,reposition:koe},Ooe=Ie({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in E0}},"VOverlay-scroll-strategies");function Noe(t,e){if(!wt)return;let n;ao(()=>vt(this,null,function*(){n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=Bf(),yield new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(r=E0[t.scrollStrategy])==null||r.call(E0,e,t,n)}))})),jn(()=>{n==null||n.stop()})}function Roe(t){var n;function e(r){t.isActive.value=!1}mT((n=t.targetEl.value)!=null?n:t.contentEl.value,e)}function Moe(t,e){var a;const n=(a=t.root.value)==null?void 0:a.offsetParent,r=[...new Set([...nf(t.targetEl.value,e.contained?n:void 0),...nf(t.contentEl.value,e.contained?n:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),o=window.innerWidth-document.documentElement.offsetWidth,i=(s=>B1(s)&&s)(n||document.documentElement);i&&t.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((s,u)=>{s.style.setProperty("--v-body-scroll-x",je(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",je(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",je(o)),s.classList.add("v-overlay-scroll-blocked")}),jn(()=>{r.forEach((s,u)=>{const l=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(s.style.getPropertyValue("--v-body-scroll-y")),c=s.style.scrollBehavior;s.style.scrollBehavior="auto",s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-l,s.scrollTop=-f,s.style.scrollBehavior=c}),i&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function koe(t,e,n){let r=!1,o=-1,i=-1;function a(s){Poe(()=>{var f,c;const u=performance.now();(c=(f=t.updateLocation).value)==null||c.call(f,s),r=(performance.now()-u)/(1e3/60)>2})}i=(typeof requestIdleCallback=="undefined"?s=>s():requestIdleCallback)(()=>{n.run(()=>{var s;mT((s=t.targetEl.value)!=null?s:t.contentEl.value,u=>{r?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{a(u)})})):a(u)})})}),jn(()=>{typeof cancelIdleCallback!="undefined"&&cancelIdleCallback(i),cancelAnimationFrame(o)})}function mT(t,e){const n=[document,...nf(t)];n.forEach(r=>{r.addEventListener("scroll",e,{passive:!0})}),jn(()=>{n.forEach(r=>{r.removeEventListener("scroll",e)})})}const Vm=Symbol.for("vuetify:v-menu"),Loe=Ie({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Foe(t,e){let n=()=>{};function r(a){n==null||n();const s=Number(a?t.openDelay:t.closeDelay);return new Promise(u=>{n=XI(s,()=>{e==null||e(a),u(a)})})}function o(){return r(!0)}function i(){return r(!1)}return{clearDelay:n,runOpenDelay:o,runCloseDelay:i}}const Boe=Ie(q({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean},Loe()),"VOverlay-activator");function Voe(t,e){let{isActive:n,isTop:r}=e;const o=yn("useActivator"),i=Ae();let a=!1,s=!1,u=!0;const l=re(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),f=re(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!l.value),{runOpenDelay:c,runCloseDelay:d}=Foe(t,w=>{w===(t.openOnHover&&a||l.value&&s)&&!(t.openOnHover&&n.value&&!r.value)&&(n.value!==w&&(u=!0),n.value=w)}),p=Ae(),h={onClick:w=>{w.stopPropagation(),i.value=w.currentTarget||w.target,n.value||(p.value=[w.clientX,w.clientY]),n.value=!n.value},onMouseenter:w=>{var T;(T=w.sourceCapabilities)!=null&&T.firesTouchEvents||(a=!0,i.value=w.currentTarget||w.target,c())},onMouseleave:w=>{a=!1,d()},onFocus:w=>{Q0(w.target,":focus-visible")!==!1&&(s=!0,w.stopPropagation(),i.value=w.currentTarget||w.target,c())},onBlur:w=>{s=!1,w.stopPropagation(),d()}},m=re(()=>{const w={};return f.value&&(w.onClick=h.onClick),t.openOnHover&&(w.onMouseenter=h.onMouseenter,w.onMouseleave=h.onMouseleave),l.value&&(w.onFocus=h.onFocus,w.onBlur=h.onBlur),w}),y=re(()=>{const w={};if(t.openOnHover&&(w.onMouseenter=()=>{a=!0,c()},w.onMouseleave=()=>{a=!1,d()}),l.value&&(w.onFocusin=()=>{s=!0,c()},w.onFocusout=()=>{s=!1,d()}),t.closeOnContentClick){const T=We(Vm,null);w.onClick=()=>{n.value=!1,T==null||T.closeParents()}}return w}),b=re(()=>{const w={};return t.openOnHover&&(w.onMouseenter=()=>{u&&(a=!0,u=!1,c())},w.onMouseleave=()=>{a=!1,d()}),w});xe(r,w=>{w&&(t.openOnHover&&!a&&(!l.value||!s)||l.value&&!s&&(!t.openOnHover||!a))&&(n.value=!1)}),xe(n,w=>{w||setTimeout(()=>{p.value=void 0})},{flush:"post"});const v=kh();ao(()=>{v.value&&Gt(()=>{i.value=v.el})});const g=kh(),x=re(()=>t.target==="cursor"&&p.value?p.value:g.value?g.el:gT(t.target,o)||i.value),S=re(()=>Array.isArray(x.value)?void 0:x.value);let C;return xe(()=>!!t.activator,w=>{w&&wt?(C=Bf(),C.run(()=>{Uoe(t,o,{activatorEl:i,activatorEvents:m})})):C&&C.stop()},{flush:"post",immediate:!0}),jn(()=>{C==null||C.stop()}),{activatorEl:i,activatorRef:v,target:x,targetEl:S,targetRef:g,activatorEvents:m,contentEvents:y,scrimEvents:b}}function Uoe(t,e,n){let{activatorEl:r,activatorEvents:o}=n;xe(()=>t.activator,(u,l)=>{if(l&&u!==l){const f=s(l);f&&a(f)}u&&Gt(()=>i())},{immediate:!0}),xe(()=>t.activatorProps,()=>{i()}),jn(()=>{a()});function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;u&&ZI(u,tt(o.value,l))}function a(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;u&&QI(u,tt(o.value,l))}function s(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator;const l=gT(u,e);return r.value=(l==null?void 0:l.nodeType)===Node.ELEMENT_NODE?l:void 0,r.value}}function gT(t,e){var r,o;if(!t)return;let n;if(t==="parent"){let i=(o=(r=e==null?void 0:e.proxy)==null?void 0:r.$el)==null?void 0:o.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;n=i}else typeof t=="string"?n=document.querySelector(t):"$el"in t?n=t.$el:n=t;return n}function Goe(){if(!wt)return Ge(!1);const{ssr:t}=V1();if(t){const e=Ge(!1);return cn(()=>{e.value=!0}),e}else return Ge(!0)}const zoe=Ie({eager:Boolean},"lazy");function joe(t,e){const n=Ge(!1),r=re(()=>n.value||t.eager||e.value);xe(e,()=>n.value=!0);function o(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:o}}function vT(){const e=yn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const O5=Symbol.for("vuetify:stack"),xl=$r([]);function Woe(t,e,n){const r=yn("useStack"),o=!n,i=We(O5,void 0),a=$r({activeChildren:new Set});Pt(O5,a);const s=Ge(+e.value);Ca(t,()=>{var c;const f=(c=xl.at(-1))==null?void 0:c[1];s.value=f?f+10:+e.value,o&&xl.push([r.uid,s.value]),i==null||i.activeChildren.add(r.uid),jn(()=>{if(o){const d=Ue(xl).findIndex(p=>p[0]===r.uid);xl.splice(d,1)}i==null||i.activeChildren.delete(r.uid)})});const u=Ge(!0);o&&ao(()=>{var c;const f=((c=xl.at(-1))==null?void 0:c[0])===r.uid;setTimeout(()=>u.value=f)});const l=re(()=>!a.activeChildren.size);return{globalTop:js(u),localTop:l,stackStyles:re(()=>({zIndex:s.value}))}}function Hoe(t){return{teleportTarget:re(()=>{const n=t();if(n===!0||!wt)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let o=r.querySelector(":scope > .v-overlay-container");return o||(o=document.createElement("div"),o.className="v-overlay-container",r.appendChild(o)),o})}}function $oe(){return!0}function yT(t,e,n){if(!t||bT(t,n)===!1)return!1;const r=j6(e);if(typeof ShadowRoot!="undefined"&&r instanceof ShadowRoot&&r.host===t.target)return!1;const o=(typeof n.value=="object"&&n.value.include||(()=>[]))();return o.push(e),!o.some(i=>i==null?void 0:i.contains(t.target))}function bT(t,e){return(typeof e.value=="object"&&e.value.closeConditional||$oe)(t)}function Koe(t,e,n){const r=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&yT(t,e,n)&&setTimeout(()=>{bT(t,n)&&r&&r(t)},0)}function N5(t,e){const n=j6(t);e(document),typeof ShadowRoot!="undefined"&&n instanceof ShadowRoot&&e(n)}const qoe={mounted(t,e){const n=o=>Koe(o,t,e),r=o=>{t._clickOutside.lastMousedownWasOutside=yT(o,t,e)};N5(t,o=>{o.addEventListener("click",n,!0),o.addEventListener("mousedown",r,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!1}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(t,e){t._clickOutside&&(N5(t,n=>{var i;if(!n||!((i=t._clickOutside)!=null&&i[e.instance.$.uid]))return;const{onClick:r,onMousedown:o}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",o,!0)}),delete t._clickOutside[e.instance.$.uid])}};function Xoe(t){const o=t,{modelValue:e,color:n}=o,r=Ln(o,["modelValue","color"]);return Q(so,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&Q("div",tt({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},r),null)]})}const xT=Ie(q(q(q(q(q(q(q(q({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3}},Boe()),Tt()),tl()),zoe()),_oe()),Ooe()),hr()),Xu()),"VOverlay"),R5=Qe()({name:"VOverlay",directives:{ClickOutside:qoe},inheritAttrs:!1,props:q({_disableGlobalStack:Boolean},xT()),emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:r,emit:o}=e;const i=Qt(t,"modelValue"),a=re({get:()=>i.value,set:X=>{X&&t.disabled||(i.value=X)}}),{themeClasses:s}=Kr(t),{rtlClasses:u,isRtl:l}=co(),{hasContent:f,onAfterLeave:c}=joe(t,a),d=io(re(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:p,localTop:h,stackStyles:m}=Woe(a,Me(t,"zIndex"),t._disableGlobalStack),{activatorEl:y,activatorRef:b,target:v,targetEl:g,targetRef:x,activatorEvents:S,contentEvents:C,scrimEvents:w}=Voe(t,{isActive:a,isTop:h}),{teleportTarget:T}=Hoe(()=>{var ae;const X=t.attach||t.contained;if(X)return X;const te=(ae=y==null?void 0:y.value)==null?void 0:ae.getRootNode();return te instanceof ShadowRoot?te:!1}),{dimensionStyles:_}=nl(t),A=Goe(),{scopeId:E}=vT();xe(()=>t.disabled,X=>{X&&(a.value=!1)});const D=Ae(),O=Ae(),P=Ae(),{contentStyles:k,updateLocation:U}=Aoe(t,{isRtl:l,contentEl:P,target:v,isActive:a});Noe(t,{root:D,contentEl:P,targetEl:g,isActive:a,updateLocation:U});function H(X){o("click:outside",X),t.persistent?$():a.value=!1}function R(X){return a.value&&p.value&&(!t.scrim||X.target===O.value)}wt&&xe(a,X=>{X?window.addEventListener("keydown",B):window.removeEventListener("keydown",B)},{immediate:!0}),Ht(()=>{wt&&window.removeEventListener("keydown",B)});function B(X){var te,ae;X.key==="Escape"&&p.value&&(t.persistent?$():(a.value=!1,(te=P.value)!=null&&te.contains(document.activeElement)&&((ae=y.value)==null||ae.focus())))}const M=yre();Ca(()=>t.closeOnBack,()=>{bre(M,X=>{p.value&&a.value?(X(!1),t.persistent?$():a.value=!1):X()})});const z=Ae();xe(()=>a.value&&(t.absolute||t.contained)&&T.value==null,X=>{if(X){const te=W6(D.value);te&&te!==document.scrollingElement&&(z.value=te.scrollTop)}});function $(){t.noClickAnimation||P.value&&Za(P.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:tf})}function J(){o("afterEnter")}function Z(){c(),o("afterLeave")}return mt(()=>{var X;return Q(Je,null,[(X=n.activator)==null?void 0:X.call(n,{isActive:a.value,targetRef:x,props:tt({ref:b},S.value,t.activatorProps)}),A.value&&f.value&&Q(j4,{disabled:!T.value,to:T.value},{default:()=>[Q("div",tt({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":a.value,"v-overlay--contained":t.contained},s.value,u.value,t.class],style:[m.value,{"--v-overlay-opacity":t.opacity,top:je(z.value)},t.style],ref:D},E,r),[Q(Xoe,tt({color:d,modelValue:a.value&&!!t.scrim,ref:O},w.value),null),Q(fi,{appear:!0,persisted:!0,transition:t.transition,target:v.value,onAfterEnter:J,onAfterLeave:Z},{default:()=>{var te;return[Qn(Q("div",tt({ref:P,class:["v-overlay__content",t.contentClass],style:[_.value,k.value]},C.value,t.contentProps),[(te=n.default)==null?void 0:te.call(n,{isActive:a})]),[[jo,a.value],[Ei("click-outside"),{handler:H,closeConditional:R,include:()=>[y.value]}]])]}})])]})])}),{activatorEl:y,scrimEl:O,target:v,animateClick:$,contentEl:P,globalTop:p,localTop:h,updateLocation:U}}}),Yoe=Ie(q({id:String},$s(xT({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:Aw}}),["absolute"])),"VMenu"),Joe=Qe()({name:"VMenu",props:Yoe(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Qt(t,"modelValue"),{scopeId:o}=vT(),i=uo(),a=re(()=>t.id||`v-menu-${i}`),s=Ae(),u=We(Vm,null),l=Ge(0);Pt(Vm,{register(){++l.value},unregister(){--l.value},closeParents(m){setTimeout(()=>{!l.value&&!t.persistent&&(m==null||m&&!YI(m,s.value.contentEl))&&(r.value=!1,u==null||u.closeParents())},40)}});function f(m){return vt(this,null,function*(){var v,g,x;const y=m.relatedTarget,b=m.target;yield Gt(),r.value&&y!==b&&((v=s.value)!=null&&v.contentEl)&&((g=s.value)!=null&&g.globalTop)&&![document,s.value.contentEl].includes(b)&&!s.value.contentEl.contains(b)&&((x=J0(s.value.contentEl)[0])==null||x.focus())})}xe(r,m=>{m?(u==null||u.register(),document.addEventListener("focusin",f,{once:!0})):(u==null||u.unregister(),document.removeEventListener("focusin",f))});function c(m){u==null||u.closeParents(m)}function d(m){var y,b,v;if(!t.disabled)if(m.key==="Tab"||m.key==="Enter"&&!t.closeOnContentClick){if(m.key==="Enter"&&(m.target instanceof HTMLTextAreaElement||m.target instanceof HTMLInputElement&&m.target.closest("form")))return;m.key==="Enter"&&m.preventDefault(),R6(J0((y=s.value)==null?void 0:y.contentEl,!1),m.shiftKey?"prev":"next",x=>x.tabIndex>=0)||(r.value=!1,(v=(b=s.value)==null?void 0:b.activatorEl)==null||v.focus())}else["Enter"," "].includes(m.key)&&t.closeOnContentClick&&(r.value=!1,u==null||u.closeParents())}function p(m){var b;if(t.disabled)return;const y=(b=s.value)==null?void 0:b.contentEl;y&&r.value?m.key==="ArrowDown"?(m.preventDefault(),Z0(y,"next")):m.key==="ArrowUp"&&(m.preventDefault(),Z0(y,"prev")):["ArrowDown","ArrowUp"].includes(m.key)&&(r.value=!0,m.preventDefault(),setTimeout(()=>setTimeout(()=>p(m))))}const h=re(()=>tt({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":a.value,onKeydown:p},t.activatorProps));return mt(()=>{const m=R5.filterProps(t);return Q(R5,tt({ref:s,id:a.value,class:["v-menu",t.class],style:t.style},m,{modelValue:r.value,"onUpdate:modelValue":y=>r.value=y,absolute:!0,activatorProps:h.value,"onClick:outside":c,onKeydown:d},o),{activator:n.activator,default:function(){for(var y=arguments.length,b=new Array(y),v=0;v<y;v++)b[v]=arguments[v];return Q(Br,{root:"VMenu"},{default:()=>{var g;return[(g=n.default)==null?void 0:g.call(n,...b)]}})}})}),Bd({id:a,openChildren:l},s)}}),Zoe=["color","file","time","date","datetime-local","week","month"],ST=Ie(q(q({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object},Fd()),p2()),"VTextField"),M5=Qe()({name:"VTextField",directives:{Intersect:Ow},inheritAttrs:!1,props:ST(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const i=Qt(t,"modelValue"),{isFocused:a,focus:s,blur:u}=Ld(t),l=re(()=>{var C;return typeof t.counterValue=="function"?t.counterValue(i.value):typeof t.counterValue=="number"?t.counterValue:((C=i.value)!=null?C:"").toString().length}),f=re(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter}),c=re(()=>["plain","underlined"].includes(t.variant));function d(C,w){var T,_;!t.autofocus||!C||(_=(T=w[0].target)==null?void 0:T.focus)==null||_.call(T)}const p=Ae(),h=Ae(),m=Ae(),y=re(()=>Zoe.includes(t.type)||t.persistentPlaceholder||a.value||t.active);function b(){var C;m.value!==document.activeElement&&((C=m.value)==null||C.focus()),a.value||s()}function v(C){r("mousedown:control",C),C.target!==m.value&&(b(),C.preventDefault())}function g(C){b(),r("click:control",C)}function x(C){C.stopPropagation(),b(),Gt(()=>{i.value=null,N6(t["onClick:clear"],C)})}function S(C){var T;const w=C.target;if(i.value=w.value,(T=t.modelModifiers)!=null&&T.trim&&["text","search","password","tel","url"].includes(t.type)){const _=[w.selectionStart,w.selectionEnd];Gt(()=>{w.selectionStart=_[0],w.selectionEnd=_[1]})}}return mt(()=>{const C=!!(o.counter||t.counter!==!1&&t.counter!=null),w=!!(C||o.details),[T,_]=R1(n),O=Gs.filterProps(t),{modelValue:A}=O,E=Ln(O,["modelValue"]),D=Zw(t);return Q(Gs,tt({ref:p,modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-input--plain-underlined":c.value},t.class],style:t.style},T,E,{centerAffix:!c.value,focused:a.value}),Oe(q({},o),{default:P=>{let{id:k,isDisabled:U,isDirty:H,isReadonly:R,isValid:B}=P;return Q(h2,tt({ref:h,onMousedown:v,onClick:g,"onClick:clear":x,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:t.role},D,{id:k.value,active:y.value||H.value,dirty:H.value||t.dirty,disabled:U.value,focused:a.value,error:B.value===!1}),Oe(q({},o),{default:M=>{let{props:Z}=M,X=Z,{class:z}=X,$=Ln(X,["class"]);const J=Qn(Q("input",tt({ref:m,value:i.value,onInput:S,autofocus:t.autofocus,readonly:R.value,disabled:U.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:b,onBlur:u},$,_),null),[[Ei("intersect"),{handler:d},null,{once:!0}]]);return Q(Je,null,[t.prefix&&Q("span",{class:"v-text-field__prefix"},[Q("span",{class:"v-text-field__prefix__text"},[t.prefix])]),o.default?Q("div",{class:z,"data-no-activator":""},[o.default(),J]):jr(J,{class:z}),t.suffix&&Q("span",{class:"v-text-field__suffix"},[Q("span",{class:"v-text-field__suffix__text"},[t.suffix])])])}}))},details:w?P=>{var k;return Q(Je,null,[(k=o.details)==null?void 0:k.call(o,P),C&&Q(Je,null,[Q("span",null,null),Q(Yw,{active:t.persistentCounter||a.value,value:l.value,max:f.value,disabled:t.disabled},o.counter)])])}:void 0}))}),Bd({},p,h,m)}}),Qoe=Ie(q({renderless:Boolean},Tt()),"VVirtualScrollItem"),eie=Qe()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Qoe(),emits:{"update:height":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:o}=e;const{resizeRef:i,contentRect:a}=sf(void 0,"border");xe(()=>{var s;return(s=a.value)==null?void 0:s.height},s=>{s!=null&&r("update:height",s)}),mt(()=>{var s,u;return t.renderless?Q(Je,null,[(s=o.default)==null?void 0:s.call(o,{itemRef:i})]):Q("div",tt({ref:i,class:["v-virtual-scroll__item",t.class],style:t.style},n),[(u=o.default)==null?void 0:u.call(o)])})}}),tie=-1,nie=1,rh=100,rie=Ie({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function oie(t,e){const n=V1(),r=Ge(0);ao(()=>{r.value=parseFloat(t.itemHeight||0)});const o=Ge(0),i=Ge(Math.ceil((parseInt(t.height)||n.height.value)/(r.value||16))||1),a=Ge(0),s=Ge(0),u=Ae(),l=Ae();let f=0;const{resizeRef:c,contentRect:d}=sf();ao(()=>{c.value=u.value});const p=re(()=>{var B;return u.value===document.documentElement?n.height.value:((B=d.value)==null?void 0:B.height)||parseInt(t.height)||0}),h=re(()=>!!(u.value&&l.value&&p.value&&r.value));let m=Array.from({length:e.value.length}),y=Array.from({length:e.value.length});const b=Ge(0);let v=-1;function g(B){return m[B]||r.value}const x=KI(()=>{const B=performance.now();y[0]=0;const M=e.value.length;for(let z=1;z<=M-1;z++)y[z]=(y[z-1]||0)+g(z-1);b.value=Math.max(b.value,performance.now()-B)},b),S=xe(h,B=>{B&&(S(),f=l.value.offsetTop,x.immediate(),k(),~v&&Gt(()=>{wt&&window.requestAnimationFrame(()=>{H(v),v=-1})}))});jn(()=>{x.clear()});function C(B,M){const z=m[B],$=r.value;r.value=$?Math.min(r.value,M):M,(z!==M||$!==r.value)&&(m[B]=M,x())}function w(B){return B=Ur(B,0,e.value.length-1),y[B]||0}function T(B){return iie(y,B)}let _=0,A=0,E=0;xe(p,(B,M)=>{M&&(k(),B<M&&requestAnimationFrame(()=>{A=0,k()}))});function D(){if(!u.value||!l.value)return;const B=u.value.scrollTop,M=performance.now();M-E>500?(A=Math.sign(B-_),f=l.value.offsetTop):A=B-_,_=B,E=M,k()}function O(){!u.value||!l.value||(A=0,E=0,k())}let P=-1;function k(){cancelAnimationFrame(P),P=requestAnimationFrame(U)}function U(){if(!u.value||!p.value)return;const B=_-f,M=Math.sign(A),z=Math.max(0,B-rh),$=Ur(T(z),0,e.value.length),J=B+p.value+rh,Z=Ur(T(J)+1,$+1,e.value.length);if((M!==tie||$<o.value)&&(M!==nie||Z>i.value)){const X=w(o.value)-w($),te=w(Z)-w(i.value);Math.max(X,te)>rh?(o.value=$,i.value=Z):($<=0&&(o.value=$),Z>=e.value.length&&(i.value=Z))}a.value=w(o.value),s.value=w(e.value.length)-w(i.value)}function H(B){const M=w(B);!u.value||B&&!M?v=B:u.value.scrollTop=M}const R=re(()=>e.value.slice(o.value,i.value).map((B,M)=>({raw:B,index:M+o.value})));return xe(e,()=>{m=Array.from({length:e.value.length}),y=Array.from({length:e.value.length}),x.immediate(),k()},{deep:!0}),{containerRef:u,markerRef:l,computedItems:R,paddingTop:a,paddingBottom:s,scrollToIndex:H,handleScroll:D,handleScrollend:O,handleItemResize:C}}function iie(t,e){let n=t.length-1,r=0,o=0,i=null,a=-1;if(t[n]<e)return n;for(;r<=n;)if(o=r+n>>1,i=t[o],i>e)n=o-1;else if(i<e)a=o,r=o+1;else return i===e?o:r;return a}const aie=Ie(q(q(q({items:{type:Array,default:()=>[]},renderless:Boolean},rie()),Tt()),tl()),"VVirtualScroll"),sie=Qe()({name:"VVirtualScroll",props:aie(),setup(t,e){let{slots:n}=e;const r=yn("VVirtualScroll"),{dimensionStyles:o}=nl(t),{containerRef:i,markerRef:a,handleScroll:s,handleScrollend:u,handleItemResize:l,scrollToIndex:f,paddingTop:c,paddingBottom:d,computedItems:p}=oie(t,Me(t,"items"));return Ca(()=>t.renderless,()=>{function h(){var b,v;const y=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";i.value===document.documentElement?(document[y]("scroll",s,{passive:!0}),document[y]("scrollend",u)):((b=i.value)==null||b[y]("scroll",s,{passive:!0}),(v=i.value)==null||v[y]("scrollend",u))}cn(()=>{i.value=W6(r.vnode.el,!0),h(!0)}),jn(h)}),mt(()=>{const h=p.value.map(m=>Q(eie,{key:m.index,renderless:t.renderless,"onUpdate:height":y=>l(m.index,y)},{default:y=>{var b;return(b=n.default)==null?void 0:b.call(n,q({item:m.raw,index:m.index},y))}}));return t.renderless?Q(Je,null,[Q("div",{ref:a,class:"v-virtual-scroll__spacer",style:{paddingTop:je(c.value)}},null),h,Q("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:je(d.value)}},null)]):Q("div",{ref:i,class:["v-virtual-scroll",t.class],onScrollPassive:s,onScrollend:u,style:[o.value,t.style]},[Q("div",{ref:a,class:"v-virtual-scroll__container",style:{paddingTop:je(c.value),paddingBottom:je(d.value)}},[h])])}),{scrollToIndex:f}}});function lie(t,e){const n=Ge(!1);let r;function o(s){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}function i(){return vt(this,null,function*(){yield new Promise(s=>requestAnimationFrame(s)),yield new Promise(s=>requestAnimationFrame(s)),yield new Promise(s=>requestAnimationFrame(s)),yield new Promise(s=>{if(n.value){const u=xe(n,()=>{u(),s()})}else s()})})}function a(s){return vt(this,null,function*(){var f,c;if(s.key==="Tab"&&((f=e.value)==null||f.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const u=(c=t.value)==null?void 0:c.$el;if(!u)return;(s.key==="Home"||s.key==="End")&&u.scrollTo({top:s.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),yield i();const l=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const d=u.getBoundingClientRect().top;for(const p of l)if(p.getBoundingClientRect().top>=d){p.focus();break}}else{const d=u.getBoundingClientRect().bottom;for(const p of[...l].reverse())if(p.getBoundingClientRect().bottom<=d){p.focus();break}}})}return{onListScroll:o,onListKeydown:a}}const uie=Ie(q({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Vt,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String},fT({itemChildren:!1})),"Select"),cie=Ie(q(q(q({},uie()),$s(ST({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"])),Xu({transition:{component:Aw}})),"VSelect"),fie=Qe()({name:"VSelect",props:cie(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:menu":t=>!0},setup(t,e){let{slots:n}=e;const{t:r}=ad(),o=Ae(),i=Ae(),a=Ae(),s=Qt(t,"menu"),u=re({get:()=>s.value,set:R=>{var B;s.value&&!R&&((B=i.value)!=null&&B.openChildren)||(s.value=R)}}),{items:l,transformIn:f,transformOut:c}=yoe(t),d=Qt(t,"modelValue",[],R=>f(R===null?[null]:cr(R)),R=>{var M;const B=c(R);return t.multiple?B:(M=B[0])!=null?M:null}),p=re(()=>typeof t.counterValue=="function"?t.counterValue(d.value):typeof t.counterValue=="number"?t.counterValue:d.value.length),h=Qw(),m=re(()=>d.value.map(R=>R.value)),y=Ge(!1),b=re(()=>u.value?t.closeText:t.openText);let v="",g;const x=re(()=>t.hideSelected?l.value.filter(R=>!d.value.some(B=>t.valueComparator(B,R))):l.value),S=re(()=>t.hideNoData&&!x.value.length||t.readonly||(h==null?void 0:h.isReadonly.value)),C=re(()=>{var R;return Oe(q({},t.menuProps),{activatorProps:Oe(q({},((R=t.menuProps)==null?void 0:R.activatorProps)||{}),{"aria-haspopup":"listbox"})})}),w=Ae(),{onListScroll:T,onListKeydown:_}=lie(w,o);function A(R){t.openOnClear&&(u.value=!0)}function E(){S.value||(u.value=!u.value)}function D(R){var J,Z;if(!R.key||t.readonly||h!=null&&h.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(R.key)&&R.preventDefault(),["Enter","ArrowDown"," "].includes(R.key)&&(u.value=!0),["Escape","Tab"].includes(R.key)&&(u.value=!1),R.key==="Home"?(J=w.value)==null||J.focus("first"):R.key==="End"&&((Z=w.value)==null||Z.focus("last"));const B=1e3;function M(X){const te=X.key.length===1,ae=!X.ctrlKey&&!X.metaKey&&!X.altKey;return te&&ae}if(t.multiple||!M(R))return;const z=performance.now();z-g>B&&(v=""),v+=R.key.toLowerCase(),g=z;const $=l.value.find(X=>X.title.toLowerCase().startsWith(v));if($!==void 0){d.value=[$];const X=x.value.indexOf($);wt&&window.requestAnimationFrame(()=>{var te;X>=0&&((te=a.value)==null||te.scrollToIndex(X))})}}function O(R){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!R.props.disabled)if(t.multiple){const M=d.value.findIndex($=>t.valueComparator($.value,R.value)),z=B==null?!~M:B;if(~M){const $=z?[...d.value,R]:[...d.value];$.splice(M,1),d.value=$}else z&&(d.value=[...d.value,R])}else{const M=B!==!1;d.value=M?[R]:[],Gt(()=>{u.value=!1})}}function P(R){var B;(B=w.value)!=null&&B.$el.contains(R.relatedTarget)||(u.value=!1)}function k(){var R;y.value&&((R=o.value)==null||R.focus())}function U(R){y.value=!0}function H(R){if(R==null)d.value=[];else if(Q0(o.value,":autofill")||Q0(o.value,":-webkit-autofill")){const B=l.value.find(M=>M.title===R);B&&O(B)}else o.value&&(o.value.value="")}return xe(u,()=>{if(!t.hideSelected&&u.value&&d.value.length){const R=x.value.findIndex(B=>d.value.some(M=>t.valueComparator(M.value,B.value)));wt&&window.requestAnimationFrame(()=>{var B;R>=0&&((B=a.value)==null||B.scrollToIndex(R))})}}),xe(()=>t.items,(R,B)=>{u.value||y.value&&!B.length&&R.length&&(u.value=!0)}),mt(()=>{const R=!!(t.chips||n.chip),B=!!(!t.hideNoData||x.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),M=d.value.length>0,z=M5.filterProps(t),$=M||!y.value&&t.label&&!t.persistentPlaceholder?void 0:t.placeholder;return Q(M5,tt({ref:o},z,{modelValue:d.value.map(J=>J.props.value).join(", "),"onUpdate:modelValue":H,focused:y.value,"onUpdate:focused":J=>y.value=J,validationValue:d.externalValue,counterValue:p.value,dirty:M,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!t.chips,[`v-select--${t.multiple?"multiple":"single"}`]:!0,"v-select--selected":d.value.length,"v-select--selection-slot":!!n.selection},t.class],style:t.style,inputmode:"none",placeholder:$,"onClick:clear":A,"onMousedown:control":E,onBlur:P,onKeydown:D,"aria-label":r(b.value),title:r(b.value)}),Oe(q({},n),{default:()=>Q(Je,null,[Q(Joe,tt({ref:i,modelValue:u.value,"onUpdate:modelValue":J=>u.value=J,activator:"parent",contentClass:"v-select__content",disabled:S.value,eager:t.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:t.transition,onAfterLeave:k},C.value),{default:()=>{var J;return[B&&Q(woe,tt({ref:w,selected:m.value,selectStrategy:t.multiple?"independent":"single-independent",onMousedown:Z=>Z.preventDefault(),onKeydown:_,onFocusin:U,onScrollPassive:T,tabindex:"-1","aria-live":"polite",color:(J=t.itemColor)!=null?J:t.color},t.listProps),{default:()=>{var Z,X,te,ae;return[(Z=n["prepend-item"])==null?void 0:Z.call(n),!x.value.length&&!t.hideNoData&&((te=(X=n["no-data"])==null?void 0:X.call(n))!=null?te:Q(Mf,{title:r(t.noDataText)},null)),Q(sie,{ref:a,renderless:!0,items:x.value},{default:ue=>{var N,L;let{item:ie,index:F,itemRef:I}=ue;const j=tt(ie.props,{ref:I,key:F,onClick:()=>O(ie,null)});return(L=(N=n.item)==null?void 0:N.call(n,{item:ie,index:F,props:j}))!=null?L:Q(Mf,tt(j,{role:"option"}),{prepend:G=>{let{isSelected:W}=G;return Q(Je,null,[t.multiple&&!t.hideSelected?Q(Xre,{key:ie.value,modelValue:W,ripple:!1,tabindex:"-1"},null):void 0,ie.props.prependAvatar&&Q(xu,{image:ie.props.prependAvatar},null),ie.props.prependIcon&&Q(lr,{icon:ie.props.prependIcon},null)])}})}}),(ae=n["append-item"])==null?void 0:ae.call(n)]}})]}}),d.value.map((J,Z)=>{function X(ie){ie.stopPropagation(),ie.preventDefault(),O(J,!1)}const te={"onClick:close":X,onKeydown(ie){ie.key!=="Enter"&&ie.key!==" "||(ie.preventDefault(),ie.stopPropagation(),X(ie))},onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ae=R?!!n.chip:!!n.selection,ue=ae?M6(R?n.chip({item:J,index:Z,props:te}):n.selection({item:J,index:Z})):void 0;if(!(ae&&!ue))return Q("div",{key:J.value,class:"v-select__selection"},[R?n.chip?Q(Br,{key:"chip-defaults",defaults:{VChip:{closable:t.closableChips,size:"small",text:J.title}}},{default:()=>[ue]}):Q(Xw,tt({key:"chip",closable:t.closableChips,size:"small",text:J.title,disabled:J.props.disabled},te),null):ue!=null?ue:Q("span",{class:"v-select__selection-text"},[J.title,t.multiple&&Z<d.value.length-1&&Q("span",{class:"v-select__selection-comma"},[Zf(",")])])])})]),"append-inner":function(){var te;for(var J=arguments.length,Z=new Array(J),X=0;X<J;X++)Z[X]=arguments[X];return Q(Je,null,[(te=n["append-inner"])==null?void 0:te.call(n,...Z),t.menuIcon?Q(lr,{class:"v-select__menu-icon",icon:t.menuIcon},null):void 0])}}))}),Bd({isFocused:y,menu:u,select:O},o)}}),v2=Symbol.for("vuetify:v-slider");function die(t,e,n){const r=n==="vertical",o=e.getBoundingClientRect(),i="touches"in t?t.touches[0]:t;return r?i.clientY-(o.top+o.height/2):i.clientX-(o.left+o.width/2)}function pie(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const hie=Ie(Oe(q(q({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean},Ii()),Rd({elevation:2})),{ripple:{type:Boolean,default:!0}}),"Slider"),mie=t=>{const e=re(()=>parseFloat(t.min)),n=re(()=>parseFloat(t.max)),r=re(()=>+t.step>0?parseFloat(t.step):0),o=re(()=>Math.max(Ov(r.value),Ov(e.value)));function i(a){if(a=parseFloat(a),r.value<=0)return a;const s=Ur(a,e.value,n.value),u=e.value%r.value,l=Math.round((s-u)/r.value)*r.value+u;return parseFloat(Math.min(l,n.value).toFixed(o.value))}return{min:e,max:n,step:r,decimals:o,roundValue:i}},gie=t=>{let{props:e,steps:n,onSliderStart:r,onSliderMove:o,onSliderEnd:i,getActiveThumb:a}=t;const{isRtl:s}=co(),u=Me(e,"reverse"),l=re(()=>e.direction==="vertical"),f=re(()=>l.value!==u.value),{min:c,max:d,step:p,decimals:h,roundValue:m}=n,y=re(()=>parseInt(e.thumbSize,10)),b=re(()=>parseInt(e.tickSize,10)),v=re(()=>parseInt(e.trackSize,10)),g=re(()=>(d.value-c.value)/p.value),x=Me(e,"disabled"),S=re(()=>{var te;return e.error||e.disabled?void 0:(te=e.thumbColor)!=null?te:e.color}),C=re(()=>{var te;return e.error||e.disabled?void 0:(te=e.trackColor)!=null?te:e.color}),w=re(()=>{var te;return e.error||e.disabled?void 0:(te=e.trackFillColor)!=null?te:e.color}),T=Ge(!1),_=Ge(0),A=Ae(),E=Ae();function D(te){var G;const ae=e.direction==="vertical",ue=ae?"top":"left",ie=ae?"height":"width",F=ae?"clientY":"clientX",{[ue]:I,[ie]:j}=(G=A.value)==null?void 0:G.$el.getBoundingClientRect(),N=pie(te,F);let L=Math.min(Math.max((N-I-_.value)/j,0),1)||0;return(ae?f.value:f.value!==s.value)&&(L=1-L),m(c.value+L*(d.value-c.value))}const O=te=>{i({value:D(te)}),T.value=!1,_.value=0},P=te=>{E.value=a(te),E.value&&(E.value.focus(),T.value=!0,E.value.contains(te.target)?_.value=die(te,E.value,e.direction):(_.value=0,o({value:D(te)})),r({value:D(te)}))},k={passive:!0,capture:!0};function U(te){o({value:D(te)})}function H(te){te.stopPropagation(),te.preventDefault(),O(te),window.removeEventListener("mousemove",U,k),window.removeEventListener("mouseup",H)}function R(te){var ae;O(te),window.removeEventListener("touchmove",U,k),(ae=te.target)==null||ae.removeEventListener("touchend",R)}function B(te){var ae;P(te),window.addEventListener("touchmove",U,k),(ae=te.target)==null||ae.addEventListener("touchend",R,{passive:!1})}function M(te){te.preventDefault(),P(te),window.addEventListener("mousemove",U,k),window.addEventListener("mouseup",H,{passive:!1})}const z=te=>{const ae=(te-c.value)/(d.value-c.value)*100;return Ur(isNaN(ae)?0:ae,0,100)},$=Me(e,"showTicks"),J=re(()=>$.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(te=>({value:te,position:z(te),label:te.toString()})):Object.keys(e.ticks).map(te=>({value:parseFloat(te),position:z(parseFloat(te)),label:e.ticks[te]})):g.value!==1/0?O1(g.value+1).map(te=>{const ae=c.value+te*p.value;return{value:ae,position:z(ae)}}):[]:[]),Z=re(()=>J.value.some(te=>{let{label:ae}=te;return!!ae})),X={activeThumbRef:E,color:Me(e,"color"),decimals:h,disabled:x,direction:Me(e,"direction"),elevation:Me(e,"elevation"),hasLabels:Z,isReversed:u,indexFromEnd:f,min:c,max:d,mousePressed:T,numTicks:g,onSliderMousedown:M,onSliderTouchstart:B,parsedTicks:J,parseMouseMove:D,position:z,readonly:Me(e,"readonly"),rounded:Me(e,"rounded"),roundValue:m,showTicks:$,startOffset:_,step:p,thumbSize:y,thumbColor:S,thumbLabel:Me(e,"thumbLabel"),ticks:Me(e,"ticks"),tickSize:b,trackColor:C,trackContainerRef:A,trackFillColor:w,trackSize:v,vertical:l};return Pt(v2,X),X},vie=Ie(q({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String},Tt()),"VSliderThumb"),yie=Qe()({name:"VSliderThumb",directives:{Ripple:_re},props:vie(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:r}=e;const o=We(v2),{isRtl:i,rtlClasses:a}=co();if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:u,disabled:l,thumbSize:f,thumbLabel:c,direction:d,isReversed:p,vertical:h,readonly:m,elevation:y,mousePressed:b,decimals:v,indexFromEnd:g}=o,x=re(()=>l.value?void 0:y.value),{elevationClasses:S}=Md(x),{textColorClasses:C,textColorStyles:w}=Di(s),{pageup:T,pagedown:_,end:A,home:E,left:D,right:O,down:P,up:k}=WI,U=[T,_,A,E,D,O,P,k],H=re(()=>u.value?[1,2,3]:[1,5,10]);function R(M,z){if(!U.includes(M.key))return;M.preventDefault();const $=u.value||.1,J=(t.max-t.min)/$;if([D,O,P,k].includes(M.key)){const X=(h.value?[i.value?D:O,p.value?P:k]:g.value!==i.value?[D,k]:[O,k]).includes(M.key)?1:-1,te=M.shiftKey?2:M.ctrlKey?1:0;z=z+X*$*H.value[te]}else if(M.key===E)z=t.min;else if(M.key===A)z=t.max;else{const Z=M.key===_?1:-1;z=z-Z*$*(J>100?J/10:10)}return Math.max(t.min,Math.min(t.max,z))}function B(M){const z=R(M,t.modelValue);z!=null&&r("update:modelValue",z)}return mt(()=>{const M=je(g.value?100-t.position:t.position,"%");return Q("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&b.value},t.class,a.value],style:[{"--v-slider-thumb-position":M,"--v-slider-thumb-size":je(f.value)},t.style],role:"slider",tabindex:l.value?-1:0,"aria-label":t.name,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":!!m.value,"aria-orientation":d.value,onKeydown:m.value?void 0:B},[Q("div",{class:["v-slider-thumb__surface",C.value,S.value],style:q({},w.value)},null),Qn(Q("div",{class:["v-slider-thumb__ripple",C.value],style:w.value},null),[[Ei("ripple"),t.ripple,null,{circle:!0,center:!0}]]),Q(Yne,{origin:"bottom center"},{default:()=>{var z,$;return[Qn(Q("div",{class:"v-slider-thumb__label-container"},[Q("div",{class:["v-slider-thumb__label"]},[Q("div",null,[($=(z=n["thumb-label"])==null?void 0:z.call(n,{modelValue:t.modelValue}))!=null?$:t.modelValue.toFixed(u.value?v.value:1)])])]),[[jo,c.value&&t.focused||c.value==="always"]])]}})])}),{}}}),bie=Ie(q({start:{type:Number,required:!0},stop:{type:Number,required:!0}},Tt()),"VSliderTrack"),xie=Qe()({name:"VSliderTrack",props:bie(),emits:{},setup(t,e){let{slots:n}=e;const r=We(v2);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,parsedTicks:i,rounded:a,showTicks:s,tickSize:u,trackColor:l,trackFillColor:f,trackSize:c,vertical:d,min:p,max:h,indexFromEnd:m}=r,{roundedClasses:y}=Pi(a),{backgroundColorClasses:b,backgroundColorStyles:v}=io(f),{backgroundColorClasses:g,backgroundColorStyles:x}=io(l),S=re(()=>`inset-${d.value?"block":"inline"}-${m.value?"end":"start"}`),C=re(()=>d.value?"height":"width"),w=re(()=>({[S.value]:"0%",[C.value]:"100%"})),T=re(()=>t.stop-t.start),_=re(()=>({[S.value]:je(t.start,"%"),[C.value]:je(T.value,"%")})),A=re(()=>s.value?(d.value?i.value.slice().reverse():i.value).map((D,O)=>{var k,U;const P=D.value!==p.value&&D.value!==h.value?je(D.position,"%"):void 0;return Q("div",{key:D.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":D.position>=t.start&&D.position<=t.stop,"v-slider-track__tick--first":D.value===p.value,"v-slider-track__tick--last":D.value===h.value}],style:{[S.value]:P}},[(D.label||n["tick-label"])&&Q("div",{class:"v-slider-track__tick-label"},[(U=(k=n["tick-label"])==null?void 0:k.call(n,{tick:D,index:O}))!=null?U:D.label])])}):[]);return mt(()=>Q("div",{class:["v-slider-track",y.value,t.class],style:[{"--v-slider-track-size":je(c.value),"--v-slider-tick-size":je(u.value)},t.style]},[Q("div",{class:["v-slider-track__background",g.value,{"v-slider-track__background--opacity":!!o.value||!f.value}],style:q(q({},w.value),x.value)},null),Q("div",{class:["v-slider-track__fill",b.value],style:q(q({},_.value),v.value)},null),s.value&&Q("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}]},[A.value])])),{}}}),Sie=Ie(Oe(q(q(q({},d2()),hie()),Fd()),{modelValue:{type:[Number,String],default:0}}),"VSlider"),Cie=Qe()({name:"VSlider",props:Sie(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:r}=e;const o=Ae(),{rtlClasses:i}=co(),a=mie(t),s=Qt(t,"modelValue",void 0,C=>a.roundValue(C==null?a.min.value:C)),{min:u,max:l,mousePressed:f,roundValue:c,onSliderMousedown:d,onSliderTouchstart:p,trackContainerRef:h,position:m,hasLabels:y,readonly:b}=gie({props:t,steps:a,onSliderStart:()=>{r("start",s.value)},onSliderEnd:C=>{let{value:w}=C;const T=c(w);s.value=T,r("end",T)},onSliderMove:C=>{let{value:w}=C;return s.value=c(w)},getActiveThumb:()=>{var C;return(C=o.value)==null?void 0:C.$el}}),{isFocused:v,focus:g,blur:x}=Ld(t),S=re(()=>m(s.value));return mt(()=>{const C=Gs.filterProps(t),w=!!(t.label||n.label||n.prepend);return Q(Gs,tt({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||y.value,"v-slider--focused":v.value,"v-slider--pressed":f.value,"v-slider--disabled":t.disabled},i.value,t.class],style:t.style},C,{focused:v.value}),Oe(q({},n),{prepend:w?T=>{var _,A,E;return Q(Je,null,[(A=(_=n.label)==null?void 0:_.call(n,T))!=null?A:t.label?Q(f2,{id:T.id.value,class:"v-slider__label",text:t.label},null):void 0,(E=n.prepend)==null?void 0:E.call(n,T)])}:void 0,default:T=>{let{id:_,messagesId:A}=T;return Q("div",{class:"v-slider__container",onMousedown:b.value?void 0:d,onTouchstartPassive:b.value?void 0:p},[Q("input",{id:_.value,name:t.name||_.value,disabled:!!t.disabled,readonly:!!t.readonly,tabindex:"-1",value:s.value},null),Q(xie,{ref:h,start:0,stop:S.value},{"tick-label":n["tick-label"]}),Q(yie,{ref:o,"aria-describedby":A.value,focused:v.value,min:u.value,max:l.value,modelValue:s.value,"onUpdate:modelValue":E=>s.value=E,position:S.value,elevation:t.elevation,onFocus:g,onBlur:x,ripple:t.ripple,name:t.name},{"thumb-label":n["thumb-label"]})])}}))}),{}}}),wie={id:"app"},Tie={class:"select-file-container"},_ie={__name:"EditedMyApp",setup(t){console.log("This is my Vue.js code for the client side of the application."),console.log("Before wsClient injection");const e=We("wsClient");console.log("After wsClient injection:",e);const n=Ae(5),r=Ae(null),o=Ae([]),i=Ae(null),a=Ae(null);return e.getRemote().Trame.getState().then(s=>{a.value=s.state.viewId,o.value=s.state.column_options||[],n.value=s.state.bins||5,console.log("Initial bins from server state:",n.value)}),xe(n,(s,u)=>vt(this,null,function*(){console.log("bins changed from",u,"to",s),(yield e.getRemote().Trame.getState()).state.bins!==s?(console.log("Updating state..."),yield e.getRemote().Trame.updateState([{key:"bins",value:s}]),console.log("State updated with new bins value:",s)):console.log("No need to update state. Bins value is the same.")}),{deep:!0}),xe(r,s=>vt(this,null,function*(){if(console.log("File input changed:",s),console.log("Sending file to server..."),s){const u=yield s.arrayBuffer(),l=btoa(new Uint8Array(u).reduce((f,c)=>f+String.fromCharCode(c),""));e.getRemote().Trame.updateState([{key:"file_input",value:{name:s.name,size:s.size,content:l}}])}})),xe(()=>o,(s,u)=>vt(this,null,function*(){const l=yield e.getRemote().Trame.getState();o.value=l.state.column_options||[]}),{deep:!0}),xe(i,s=>{e.getRemote().Trame.updateState([{key:"selected_column",value:s}])}),(s,u)=>{const l=A4("vtk-remote-view");return ws(),sb("div",wie,[a.value?(ws(),Yf(l,{key:0,viewId:a.value,wsClient:wn(e)},null,8,["viewId","wsClient"])):cb("",!0),Jf("div",Tie,[Q(Cie,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=f=>n.value=f),modelModifiers:{number:!0},min:"1",max:"100",step:"1",label:"Number of Bins",class:"slider"},null,8,["modelValue"]),Q(fie,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=f=>i.value=f),items:o.value,label:"Select Column",class:"select"},null,8,["modelValue","items"]),Q(Hre,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=f=>r.value=f),label:"Upload CSV",accept:".csv",class:"file-input"},null,8,["modelValue"])])])}}},Aie=Kne(_ie,[["__scopeId","data-v-267073ab"]]);console.log("vue imported");console.log("vuetify imported");console.log("wslink imported");console.log("vue-vtk-js imported");console.log("EditMyApp.vue imported");const Hl=uk.createClient();console.log("Client created:",Hl);console.log("Client details:",JSON.stringify(Hl,null,2));console.log("Attempting to connect to server...");const Eie={application:"histogram",sessionURL:"ws://localhost:8080/ws"};Hl.connect(Eie).then(()=>{console.log("Connected to server");debugger;console.log("Connection details:",JSON.stringify(Hl.connection,null,2));const t=Fb(Aie),e=t9();t.use(e),$ne(t),t.provide("wsClient",Hl),t.mount("#app")}).catch(t=>{console.error("Failed to connect:",t)});
